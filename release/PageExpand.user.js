// ==UserScript==
// @name           PageExpand
// @version        1.5.31
// @namespace      http://hakuhin.jp/page_expand
// @match          http://*/*
// @match          https://*/*
// @match          ftp://*/*
// @connect        *
// @icon           https://hakuhin.github.io/PageExpand/GreaseMonkey/icon32.png
// @icon64         https://hakuhin.github.io/PageExpand/GreaseMonkey/icon64.png
// @author         hakuhin
// @grant          GM.xmlHttpRequest 
// @grant          GM_xmlhttpRequest
// @grant          GM.getValue
// @grant          GM_getValue
// @grant          GM.setValue
// @grant          GM_setValue
// @grant          GM.deleteValue
// @grant          GM_deleteValue
// @grant          GM.openInTab
// @grant          GM_openInTab
// @grant          GM.registerMenuCommand
// @grant          GM_registerMenuCommand
// @grant          GM_unregisterMenuCommand
// @grant          GM_download
// @downloadURL https://raw.githubusercontent.com/king1x32/compiledUserscripts/release/release/PageExpand.user.js
// @updateURL https://raw.githubusercontent.com/king1x32/compiledUserscripts/release/release/PageExpand.meta.js
// ==/UserScript==
(function(t){function a(){Dr||(Dr=new Ve,t.page_expand_parent&&t.page_expand_parent.attachChild(Dr),Or=Dr.getPageExpandRoot()),jr||(jr=new Rt,mo(Ts)&&l())}function o(){var e;zr||(zr=new It(Ts)),Ur||(Ur=new ht),Vr||(Vr=new xt),Br||(Br=new xt),Gr||(Gr=new gt),Zr||(Zr=new ft),Hr||(Hr=new vt),Wr||(Wr=new vt),$r||($r=new wt,Yr=4294967295,e=null,$r.setStartFunc(function(){null===e&&(e=setInterval(function(){$r.execute(Yr)},1e3/60))}),$r.setEndFunc(function(){null!==e&&(clearInterval(e),e=null)})),qr||(qr=new _),Qr||(Qr=new Z),Xr||(Xr=new Ro),Kr||(Kr=new Ao),Jr||(Jr=new To),es||(es=new yt),ts||(ts=new At),ns||(ns=new st),as||(as=new kt),is||(is=new kt),os||(os=new ga),rs||(rs=new fa),_s||(_s=new so(Ts)),ss||(ss={enable:!1,initialized:!1,node_queue:new Array,work:new Object})}function r(e){try{var t=new RegExp("^(blob|about):","i");if(e.location.href,e.document.URL.match(t))return!0}catch(e){}return!1}function s(){jr&&jr.dispatchEvent("release",null),_s&&(_s.release(),_s=null),cs&&(cs.release(),cs=null),qr&&(qr.release(),qr=null),Qr&&(Qr.release(),Qr=null),rs&&(rs.release(),rs=null),ls&&(ls.release(),ls=null),os&&(os.release(),os=null),is&&(is.release(),is=null),as&&(as.release(),as=null),ts&&(ts.release(),ts=null),ns&&(ns.release(),ns=null),es&&(es.release(),es=null),Jr&&(Jr.release(),Jr=null),Kr&&(Kr.release(),Kr=null),Xr&&(Xr.release(),Xr=null),$r&&($r.release(),$r=null),Gr&&(Gr.release(),Gr=null),Zr&&(Zr.release(),Zr=null),Hr&&(Hr.release(),Hr=null),Wr&&(Wr.release(),Wr=null),Br&&(Br.release(),Br=null),Vr&&(Vr.release(),Vr=null),Ur&&(Ur.release(),Ur=null),Pr&&(Pr.release(),Pr=null),zr&&(zr.release(),zr=null),jr&&(jr.release(),jr=null),Dr&&(Dr.release(),Dr=null,Or=null),Fr&&(Fr.release(),Fr=null),Nr=null,Is=null,Ts=null,Rs=null}function l(){var e,t=function(){e&&(e.release(),e=null),Ts.removeEventListener?Ts.removeEventListener("unload",n):Ts.detachEvent&&Ts.detachEvent("onunload",n)},n=function(){t(),s()};Ts.addEventListener?Ts.addEventListener("unload",n):Ts.attachEvent&&Ts.attachEvent("onunload",n),(e=jr.createEventHandler("release")).setFunction(function(){t()})}function c(){var e,t,n;Ss||(Ss=!0,Vr.setMaxThread(Fr.getLoadThreadMax()),Br.setMaxThread(Fr.getDownloadThreadMax()),ts.setEnableUnload(Fr.getEnableUnloadExpandImage()),ts.setByteSizeMax(Fr.getSizeMoreThenAllowUnloadExpandImage()),as.setMaxUse(Fr.getSoundMaxInlineSound()),is.setMaxUse(Fr.getVideoMaxInlineVideo()),Ur.setOccupancyTime(Fr.getExecuteQueueOccupancyTime()),Ur.setSleepTime(Fr.getExecuteQueueSleepTime()),Fr.enableInputTouch()&&(jr.createEventHandler("release").setFunction(function(){e&&(e.release(),e=null),t&&(t.release(),t=null)}),Pr=new Ct,e=new St(Is),Fr.enableDoubleTouchAssist()&&(t=new Et),n=0,Pr.createEventHandler("update").setFunction(function(a){var i,o,r,s,l,c;a.getEnableTouch()?(o=(i=a.getTouchList()).length,n<=1&&(1==o?(zr.setInputTouch(a),e.setPosition(Pr.getPositionAverage())):2==o&&(r=i[0],s=i[1],r&&s&&(l={x:r.clientX,y:r.clientY},c={x:s.clientX-r.clientX,y:s.clientY-r.clientY},e.setPosition(l),e.addVector(c),t&&t.setShow(l,c))),n=o)):n=0})),function(){function e(e){if($r.getCountTask()){var t=_s.getPositionFromRoot();zr.setMouseEvent({clientX:e.clientX-t.x,clientY:e.clientY-t.y,detail:e.detail,screenX:e.screenX,screenY:e.screenY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,button:e.button})}}var t;_s.existWindowRoot()&&(t=_s.getWindowRoot().document,jr.createEventHandler("release").setFunction(function(){t.removeEventListener?t.removeEventListener("mousemove",e):t.detachEvent&&t.detachEvent("onmousemove",e)}),t.addEventListener?t.addEventListener("mousemove",e):t.attachEvent&&t.attachEvent("onmousemove",e))}(),ii()||$r.createTask().setExecuteFunc(function(){Kr.execute(),Xr.execute()}),vo(Is,function(){var e,t,n,a;Fr.getEnableDebugMode()&&(mo(Ts)||Qr.setVisible(!0)),Fr.getEnableExpandBbs()&&Fr.initializeScriptCallbackExpandBbs(function(e){var t,n,a;for(ss.initialized=!0,ss.enable=e.result,n=(t=ss.node_queue).length,a=0;a<n;a++)Ur.attachForExpandBbs(fe,t[a]);ss.node_queue.length=0}),Is.addEventListener?ii()?((a=oi(function(e){var t,n,a,i,o=e.length;for(t=0;t<o;t++)if(n=e[t].addedNodes)for(i=n.length,a=0;a<i;a++)Ur.attachLastForInsertDomNode(K,n[a])})).observe(Is.documentElement,{subtree:!0,childList:!0}),jr.createEventHandler("release").setFunction(function(){a&&(a.disconnect(),a=null)})):function(){function e(e){Ms&&Ur.attachLastForInsertDomNode(K,e.target)}Is.addEventListener("DOMNodeInserted",e,!1),jr.createEventHandler("release").setFunction(function(){Is.removeEventListener("DOMNodeInserted",e,!1)})}():(e=0,t=[],n=0,$r.createTask().setExecuteFunc(function(){var a,i,o;if(e<=0){for((i=5)>n&&(i=n),a=0;a<i;a++)o=t[n],n-=1,o&&(qe(o)||Ur.attachLastForInsertDomNode(K,o));n<=0&&(t=Co(Is.body,"*"),(n=t.length)>0&&(n-=1),e=60)}else Ur.getCountQueue()<=0&&(e-=1)})),Ur.attachLastForInsertDomNode(K,Is.documentElement),qr.startedAnalyze()}))}function _(){function e(){var e,t,n;a||(a=!0,e=lo(Ts),t=Is.documentElement,n=t.style.display,t.style.display="none",setTimeout(function(){Ur.setOccupancyTime(1e3),Ur.setSleepTime(0),(i=$r.createTask()).setExecuteFunc(function(e){Ur.getCountQueue()<=0&&e.release()}),i.setDestructorFunc(function(){void 0===n?kr(t.style,"display"):yr(t.style,"display",n),co(Ts,e),Ur.setOccupancyTime(Fr.getExecuteQueueOccupancyTime()),Ur.setSleepTime(Fr.getExecuteQueueSleepTime()),a=!1,i=null})},0))}var t,n,a,i,o=this;o.release=function(){i&&(i.release(),i=null)},o.start=function(){t?e():n=!0},o.startedAnalyze=function(){t=!0,n&&(n=!1,e())},t=!1,n=!1,a=!1,i=null}function u(){qr&&qr.start()}function p(){function e(){var e,t,a,N,j,z,P,U,V,B,H,W,G,Z,$,Y,q,Q,X,K,J,ee,te,ne,ae,ie,oe,re,se,le,ce,_e,ue,pe=[{asset:"access_block",func:f},{asset:"replacement_to_element",func:h},{asset:"replacement_to_text",func:x},{asset:"replacement_to_anchor",func:b},{asset:"replacement_to_link",func:v},{asset:"make_link_to_text",func:E},{asset:"expand_short_url",func:k},{asset:"expand_text",func:A},{asset:"expand_image",func:R},{asset:"expand_sound",func:T},{asset:"expand_video",func:I},{asset:"expand_iframe",func:C},{asset:"style_sheet",func:S},{asset:"experimental",func:M}],de=[{asset:"access_block",func:f},{asset:"replacement_to_referer",func:w},{asset:"replacement_to_useragent",func:y}],me=pe.length,ge=de.length;switch(F&&(u=new Mt).setCacheMax(32),(p=new d).importObjectForBackground({enable:!0,standard:n.standard,download:n.download,expand_bbs:null}),N=n.standard,j=new Object,N.filter_type){case"deny":j.filter_allow=!1,j.filter=N.filter_deny;break;case"allow":j.filter_allow=!0,j.filter=N.filter_allow}if(F){for(z=j.filter,P=new Array,U=z.length,e=0;e<U;e++)P[e]=Zi(z[e]);j.filter=P}for(i=j,c=new Object,_=new Object,s=new Object,l=new Object,e=0;e<me;e++){for(W in V=pe[e].asset,B=new Object,H=n[V])(G=H[W]).user?B[G.id]=G.user:G.preset&&(B[G.id]=G.preset);c[V]=B,_[V]=new Object}if(O)for(e=0;e<ge;e++)if(V=de[e].asset,!_[V]){for(W in B=new Object,H=n[V])(G=H[W]).user?B[G.id]=G.user:G.preset&&(B[G.id]=G.preset);c[V]=B,_[V]=new Object,B.wildcard&&(s[V]=B.wildcard)}if(D)for(e=0;e<me;e++)for(W in V=pe[e].asset,Z=pe[e].func,$=c[V],Y=_[V],$)Y[W]=Z($[W]);if(O)for(e=0;e<ge;e++){for(W in V=de[e].asset,Z=de[e].func,$=c[V],Y=_[V],$)Y[W]||(Y[W]=Z($[W]));Y.wildcard&&(l[V]=Y.wildcard)}if(F){for(o=new Array,Q=(q=n.urlmap).length,e=0;e<Q;e++)if((G=q[e]).user?X=G.user:G.preset&&(X=G.preset),X.enable){for((K=new Object).urlmap=X,K.filter=L(X.filter),J=new Object,ee=new Object,t=0;t<me;t++){if((W=X[V=pe[t].asset]).enable)if(te=c[V],ne=_[V],(ae=W.id)&&"object"==typeof ae){for(ie=new Array,oe=new Array,re=ae.length,a=0;a<re;a++)ie.push(te[ae[a]]),oe.push(ne[ae[a]]);J[V]=ie,ee[V]=oe}else J[V]=te[ae],ee[V]=ne[ae];s[V]&&(J[V]?J[V].push(s[V]):J[V]=[s[V]])}if(K.proj_src=J,K.proj_ins=ee,O){for(se=new Object,t=0;t<ge;t++){if((W=X[V=de[t].asset]).enable)if(ne=_[V],(ae=W.id)&&"object"==typeof ae){for(oe=new Array,re=ae.length,a=0;a<re;a++)oe.push(ne[ae[a]]);se[V]=oe}else se[V]=ne[ae];l[V]&&(se[V]?se[V].push(l[V]):se[V]=[l[V]])}(le=new Mt).setCacheMax(64),se.url_cache=le,K.web_request=se}o.push(K)}if(O){for(m=new Object,e=0;e<ge;e++)V=de[e].asset,l[V]&&(m[V]=[l[V]]);(le=new Mt).setCacheMax(128),m.url_cache=le}for(r=new Array,_e=(ce=n.expand_bbs).length,e=0;e<_e;e++)(G=ce[e]).user?ue=G.user:G.preset&&(ue=G.preset),ue.enable&&((K=new Object).expand_bbs=ue,K.filter=L(ue.filter),D&&(K.expand_bbs=g(K.expand_bbs)),r.push(K))}}function t(e){var t,n=i.filter,a=n.length;if(F){for(t=0;t<a;t++)if($i(e,n[t]))return!!i.filter_allow}else for(t=0;t<a;t++)if(Gi(e,n[t]))return!!i.filter_allow;return!i.filter_allow}var n,a,i,o,r,s,l,c,_,u,p,m,F,O,D,j=this;j.loadLocalStorage=function(t){function i(){try{n=W(n=z(n),null),e()}catch(e){return void o()}t({result:!0})}function o(){n=W(null,null),e(),t({result:!0})}n=null,As?(n=As,i()):Ai(a,function(e){if(e.result){try{n=li(e.value)}catch(e){}i()}else o()})},j.saveLocalStorage=function(e){var t=j.exportObject();t=P(t),Ri(a,si(t),function(t){e(t)})},j.removeLocalStorage=function(e){Ti(a,function(t){e(t)})},j.loadSyncStorage=function(t){Ii(a,function(a){if(a.result){var i=null;a.value&&(i=z(i=li(a.value))),n=W(i,null),e(),t({result:!0})}else t(a)})},j.saveSyncStorage=function(e){var t=no(j.getObject());t=P(t),Ci(a,si(t),function(t){e(t)})},j.removeSyncStorage=function(e){Si(a,function(t){e(t)})},j.initialize=function(){n=W(n=null,null),e()},j.importJSON=function(t){n=W(n=li(t),null),e()},j.importObject=function(t){n=W(n=no(t),null),e()},j.exportJSON=function(){return si(n)},j.exportObject=function(){return no(n)},j.getObject=function(){return n},j.getProject=function(e){var a,i,l,_,d,m,g,w,y,L,N,O,j,z,P,U,V,B,H,W,G,Z,$,Y,q,Q;if(!e)return p.getInstance();if(F){if(!(_=u.getObject(e)).project){if((d=new Object).standard=n.standard,d.download=n.download,void 0===_.enable&&(_.enable=t(e)),d.enable=_.enable,d.enable){for(w=r.length,a=0;a<w;a++){for(L=(y=r[a].filter).length,i=0;i<L;i++)if($i(e,y[i])){m=r[a];break}if(m)break}if(_.expand_bbs=m,void 0===(g=_.urlmap)){for(g=null,N=o.length,a=0;a<N;a++){for(L=(y=o[a].filter).length,i=0;i<L;i++)if($i(e,y[i])){g=o[a];break}if(g)break}_.urlmap=g}if(g){for(j in O=D?g.proj_ins:g.proj_src)d[j]=O[j];d.mixed_passive_content=g.urlmap.mixed_passive_content,d.mixed_active_content=g.urlmap.mixed_active_content}m&&(d.expand_bbs=m.expand_bbs),d.current_secure=Boolean(0==e.indexOf("https://"))}_.project=d}return _.project}if((d=new Object).standard=n.standard,d.download=n.download,d.enable=t(e),d.enable){for(P=(z=[{asset:"access_block",func:f},{asset:"replacement_to_element",func:h},{asset:"replacement_to_text",func:x},{asset:"replacement_to_anchor",func:b},{asset:"replacement_to_link",func:v},{asset:"make_link_to_text",func:E},{asset:"expand_short_url",func:k},{asset:"expand_text",func:A},{asset:"expand_image",func:R},{asset:"expand_sound",func:T},{asset:"expand_video",func:I},{asset:"expand_iframe",func:C},{asset:"style_sheet",func:S},{asset:"experimental",func:M}]).length,N=(U=n.urlmap).length,a=0;a<N;a++)if((V=U[a]).user?B=V.user:V.preset&&(B=V.preset),B.enable){if("asterisk"==B.filter.type){for(L=(y=B.filter.asterisk.filter).length,i=0;i<L;i++)if(Gi(e,y[i])){g=B;break}}else if("regexp"==B.filter.type)for(L=(y=B.filter.regexp.filter).length,i=0;i<L;i++)if((H=Xe(y[i]))&&$i(e,[H])){g=B;break}if(g)break}if(g){for(i=0;i<P;i++)if((j=g[W=z[i].asset]).enable)if(G=c[W],(Z=j.id)&&"object"==typeof Z){for($=new Array,Y=Z.length,l=0;l<Y;l++)$.push(G[Z[l]]);s[W]&&$.push(s[W]),d[W]=$}else d[W]=G[Z];d.mixed_passive_content=g.mixed_passive_content,d.mixed_active_content=g.mixed_active_content}for(w=(q=n.expand_bbs).length,a=0;a<w;a++)if((V=q[a]).user?Q=V.user:V.preset&&(Q=V.preset),Q.enable){if((new Object).expand_bbs=Q,"asterisk"==Q.filter.type){for(L=(y=Q.filter.asterisk.filter).length,i=0;i<L;i++)if(Gi(e,y[i])){m=Q;break}}else if("regexp"==Q.filter.type)for(L=(y=Q.filter.regexp.filter).length,i=0;i<L;i++)if((H=Xe(y[i]))&&$i(e,[H])){m=Q;break}if(m)break}d.expand_bbs=m}return 0==e.indexOf("https://")?d.current_secure=!0:d.current_secure=!1,d},j.getWebRequest=function(e,n){var a,i,r,s,l,c,_,p,d,g,f,h,x,b,v,w,y;if(e){if(void 0===(r=(i=u.getObject(e)).urlmap)){for(r=null,c=o.length,s=0;s<c;s++){for(p=(_=o[s].filter).length,l=0;l<p;l++)if($i(e,_[l])){r=o[s];break}if(r)break}i.urlmap=r}r&&(a=r.web_request)}if(a||(i={enable:!0},a=m),!(d=a.url_cache.getObject(n)).web_request){if(g=new Object,void 0===i.enable&&(i.enable=t(e)),i.enable){if(f=a.access_block,h=a.replacement_to_useragent,x=a.replacement_to_referer,f)for(v=f.length,s=0;s<v;s++){for(p=(b=f[s].filter).length,l=0;l<p;l++)if($i(n,b[l])){g.access_block=!0;break}if(g.access_block)break}if(x&&(_=N(x,n))){switch(w=new Object,y=_.send_referer,w.send_referer=y,w.cached=!1,y.type){case"default":w.cached=!0;break;case"link_url":w.referer=n,w.cached=!0;break;case"custom":w.referer=y.custom,w.cached=!0}y.regexp.pattern&&(w.regexp=Xe(y.regexp),void 0!==w.referer&&(w.referer=oo(w.regexp,w.referer,y.replacement))),g.replacement_to_referer=w}h&&(_=N(h,n))&&(g.replacement_to_useragent=_.send_useragent.custom)}d.web_request=g}return(w=d.web_request.replacement_to_referer)&&!w.cached&&("current_url"===(y=w.send_referer).type&&(w.referer=e),w.regexp&&void 0!==w.referer&&(w.referer=oo(w.regexp,w.referer,y.replacement))),d.web_request},j.getLanguage=function(){var e=n.language;return e.auto?Ja():e.code},a="PageExpandProject",F=!1,O=!1,D=!1}function d(){var e,t,n,a=this;a.release=function(){n.release(),n=null,e=null,t=null},a.importJSON=function(e){a.importObject(li(e))},a.importObject=function(n){e=n,function(){var n,a,i,o,r,s,l,c,_,u;for((t=new Object).enable=e.enable,t.current_secure=e.current_secure,t.mixed_passive_content=e.mixed_passive_content,t.mixed_active_content=e.mixed_active_content,t.standard=e.standard,t.download=e.download,a=(n=[{asset:"access_block",func:f},{asset:"replacement_to_element",func:h},{asset:"replacement_to_text",func:x},{asset:"replacement_to_anchor",func:b},{asset:"replacement_to_link",func:v},{asset:"make_link_to_text",func:E},{asset:"expand_short_url",func:k},{asset:"expand_text",func:A},{asset:"expand_image",func:R},{asset:"expand_sound",func:T},{asset:"expand_video",func:I},{asset:"expand_iframe",func:C},{asset:"style_sheet",func:S},{asset:"experimental",func:M},{asset:"expand_bbs",func:g}]).length,i=0;i<a;i++)if(r=n[i].asset,s=n[i].func,(l=e[r])&&"object"==typeof l)if(l.constructor==Array){for(c=l,_=new Array,u=c.length,o=0;o<u;o++)_[o]=s(c[o]);t[r]=_}else t[r]=s(e[r])}()},a.importObjectForBackground=function(n){t={enable:(e=n).enable,standard:e.standard,download:e.download,expand_bbs:e.expand_bbs}},a.getInstance=function(){return t},a.setInstance=function(e){t=e},a.getEnable=function(){return t.enable},a.getEnableDebugMode=function(){return t.standard.enable_debug_mode},a.getEnableOutputLog=function(){return t.standard.enable_output_log},a.getEnableIconAddressBar=function(){return t.standard.enable_icon_address_bar},a.getEnableContextMenu=function(){return t.standard.enable_context_menu},a.getEnableStartup=function(){return t.standard.enable_startup},a.getLoadThreadMax=function(){var e=t.download.load.thread_max;return e<1&&(e=1),e},a.getLoadTimeout=function(){var e=t.download.load.timeout;return e<0&&(e=0),e},a.getLoadCacheModeForMedia=function(){return t.download.load.cache_for_media},a.getDownloadThreadMax=function(){var e=t.download.download.thread_max;return e<1&&(e=1),e},a.getDownloadConflict=function(){return t.download.download.conflict_type},a.getSaveFileDownload=function(e){var n=t.download.download.save_file,a=null;return(a="simple"==n.type?"PageExpand/"+V(n.simple):n.detail)||(a="PageExpand/"+V("url")),B(a,e)},a.getSaveFileBatchDownload=function(e){var n=t.download.batch_download.save_file,a=null;return(a="simple"==n.type?V(n.simple):n.detail)||(a=V("url")),B(a,e)},a.getExecuteQueueOccupancyTime=function(){var e=t.standard.execute_queue.time_occupancy;return e<0&&(e=0),e>5e3&&(e=5e3),e},a.getExecuteQueueSleepTime=function(){var e=t.standard.execute_queue.time_sleep;return e<0&&(e=0),e>1e3&&(e=1e3),e},a.getSecureCurrent=function(){return t.current_secure},a.checkMixedContent=function(e){return!(!t.current_secure||0!=e.indexOf("http://"))},a.fixURL_PassiveContent=function(e){return"unsafe"==t.mixed_passive_content?e:a.checkMixedContent(e)?"https://"+e.slice(7):e},a.fixURL_ActiveContent=function(e){return"unsafe"==t.mixed_active_content?e:a.checkMixedContent(e)?"https://"+e.slice(7):e},a.checkAllowExpandIframeElement=function(){return!0},a.enableInputTouch=function(){return!!Ts.TouchEvent&&t.standard.enable_input_touch},a.enableDoubleTouchAssist=function(){return!!Ts.TouchEvent&&t.standard.enable_double_touch_assist},a.checkAccessBlock=function(e){var n,a,i,o,r,s;if(!t.access_block)return!1;for(s=(r=t.access_block).length,n=0;n<s;n++)for(o=(i=r[n].filter).length,a=0;a<o;a++)if($i(e,i[a]))return!0;return!1},a.getEnableReplacementToElement=function(){return t.replacement_to_element},a.executeScriptReplacementToElement=function(e,n){var a=t.replacement_to_element,i=0,o=a.length,r={element:e.element},s={};!function e(t){var l,c,_,u,p;if(t&&"object"==typeof t)for(l in t)s[l]=t[l];if(o<=i)n(s);else if(c=a[i],i++,p=(_=c.script).length)for(u=0;u<p&&!_[u](r,e);u++);else e({})}({})},a.getEnableReplacementToText=function(){return t.replacement_to_text},a.executeScriptReplacementToText=function(e,n){var a=t.replacement_to_text,i=0,o=a.length,r={text_node:e},s={};!function e(t){var l,c,_,u,p;if(t&&"object"==typeof t)for(l in t)s[l]=t[l];if(o<=i)n(s);else if(c=a[i],i++,p=(_=c.script).length)for(u=0;u<p&&!_[u](r,e);u++);else e({})}({})},a.getEnableReplacementToAnchor=function(){return t.replacement_to_anchor},a.executeScriptReplacementToAnchor=function(e,n,a){var i=t.replacement_to_anchor,o=0,r=i.length,s={anchor_element:e,event_dispatcher:n},l={};!function e(t){var n,c,_,u,p;if(t&&"object"==typeof t)for(n in t)l[n]=t[n];if(r<=o)a(l);else if(c=i[o],o++,p=(_=c.script).length)for(u=0;u<p&&!_[u](s,e);u++);else e({})}({})},a.getEnableReplacementToLink=function(){return t.replacement_to_link},a.getReplacementToLink=function(e){var a,i=new Object;return i.executeScript=function(t){function n(e){e.result?t({result:e,filter:s}):o()}function i(){t({result:{result:!1},filter:s})}function o(){var e,t,c;if(s=a[l],l+=1,s)if(c=(e=s.script).length)for(t=0;t<c&&!e[t](r,n);t++);else o();else i()}var r={anchor_element:e},s=null,l=0;a?o():i()},i.getResult=function(t){function a(e){i.executeScript(function(n){e.setFilter(n.filter),e.setResult(n.result),t(e),e.getCompleted()||(e.setCompleted(),e.getEnableCache()?e.dispatchEvent("complete",e):e.dispatchEvent("execute",e),e.releaseEventDispatcher())})}var o,r=e.href,s=n.getObject(r);s?s.getCompleted()?s.getEnableCache()?t(s):a(s):(s.createEventHandler("execute").setFunction(function(e){a(e)}),s.createEventHandler("complete").setFunction(function(e){t(e)})):((o=new Object).getCompleted=function(){return o.completed},o.setCompleted=function(){o.completed=!0},o.getResult=function(){return o.result},o.setResult=function(e){o.result=e},o.setFilter=function(e){o._filter=e},o.getEnableReflectToAnchor=function(){return!!o._filter&&o._filter.enable_reflect_to_anchor},o.getEnableCache=function(){return!!o._filter&&o._filter.enable_cache},o.releaseEventDispatcher=function(){o.event_dispatcher&&(o.event_dispatcher.release(),o.event_dispatcher=null)},o.createEventHandler=function(e){return o._event_dispatcher.createEventHandler(e)},o.dispatchEvent=function(e,t){o._event_dispatcher.dispatchEvent(e,t)},o.completed=!1,o.result=null,o._event_dispatcher=new Rt,o._filter=null,s=o,n.setObject(r,s),a(s))},a=F(t.replacement_to_link,e.href),i},a.getEnableReplacementToReferer=function(){return t.replacement_to_referer},a.getEnableReplacementToUserAgent=function(){return t.replacement_to_useragent},a.getEnableMakeLinkToText=function(){return t.make_link_to_text},a.executeScriptMakeLinkToText=function(e,n){var a,i={text_node:e},o=t.make_link_to_text.script,r=o.length;if(r)for(a=0;a<r&&!o[a](i,n);a++);else n({})},a.getEnableExpandShortUrl=function(){return t.expand_short_url},a.checkExpandShortUrl=function(e){var n,a,i;if(!t.expand_short_url)return!1;for(i=(n=t.expand_short_url.filter).length,a=0;a<i;a++)if($i(e,n[a]))return!0;return!1},a.getEnableExpandBbs=function(){return!!t.expand_bbs},a.getEnableAnimationPopupBbsResponse=function(){return t.expand_bbs.popup.enable_animation},a.getOriginPopupExpandBbsResponse=function(){return t.expand_bbs.popup.origin_type},a.getStylePositionPopupBbsResponse=function(){return t.expand_bbs.popup.position_type},a.getPercentPopupBbsResponse=function(){return t.expand_bbs.popup.percent},a.getTimeWaitOpenPopupExpandBbsResponse=function(){return t.expand_bbs.popup.time_wait_open},a.getTimeWaitClosePopupExpandBbsResponse=function(){return t.expand_bbs.popup.time_wait_close},a.getStyleSheetExpandBbsPopupResponse=function(){return t.expand_bbs.popup.style_sheet},a.initializeScriptCallbackExpandBbs=function(e){var n,a={work:ss.work},i=t.expand_bbs.script_initialize,o=i.length;for(n=0;n<o&&!i[n](a,e);n++);},a.executeScriptCallbackExpandBbs=function(e,n){var a,i={element:e,work:ss.work},o=t.expand_bbs.script_callback,r=o.length;if(r)for(a=0;a<r&&!o[a](i,n);a++);else n({useful:!1})},a.getEnableExpandText=function(){return t.expand_text},a.getDisableSameInlineText=function(){return!!t.expand_text&&t.expand_text.inline.disable_same_text},a.executeScriptAllowInlineText=function(e,n,a,i){var o,r={anchor_element:e,current_element:e,url:n,content_type:a},s=t.expand_text.inline.script_allow,l=s.length;if(l)for(o=0;o<l&&!s[o](r,i);o++);else i({result:!1})},a.executeScriptInsertInlineText=function(e,n,a,i){var o,r={anchor_element:e,current_element:e,textarea_element:n,event_dispatcher:a},s=t.expand_text.inline.script_insert,l=s.length;if(l)for(o=0;o<l&&!s[o](r,i);o++);else i()},a.getEnableExpandImage=function(){return t.expand_image},a.getDisableSameThumbnailImage=function(){return!!t.expand_image&&t.expand_image.thumbnail.disable_same_image},a.getEnablePopupImage=function(){return!!t.expand_image&&t.expand_image.popup.enable_popup_mouseover},a.getEnableAnimationPopupImage=function(){return!!t.expand_image.popup.enable_animation_scale||!!t.expand_image.popup.enable_animation_alpha},a.getEnableScaleAnimationPopupImage=function(){return t.expand_image.popup.enable_animation_scale},a.getEnableAlphaAnimationPopupImage=function(){return t.expand_image.popup.enable_animation_alpha},a.getEnableThumbnailImage=function(){return!!t.expand_image&&t.expand_image.thumbnail.enable_thumbnail},a.getEnablePopupMouseoverToThumbnailImage=function(){return t.expand_image.thumbnail.enable_popup_mouseover},a.getScalePercentThumbnailImage=function(){return t.expand_image.thumbnail.scale_percent},a.getWidthMinThumbnailImage=function(){return t.expand_image.thumbnail.width_min},a.getWidthMaxThumbnailImage=function(){return t.expand_image.thumbnail.width_max},a.executeScriptAllowThumbnailImage=function(e,n){var a,i={anchor_element:e.element,current_element:e.element,url:e.url,content_type:e.content_type,is_overridden_url:e.is_overridden_url},o=t.expand_image.thumbnail.script_allow,r=o.length;if(r)for(a=0;a<r&&!o[a](i,n);a++);else n({result:!1})},a.executeScriptInsertThumbnailImage=function(e,n,a,i){var o,r={anchor_element:e,current_element:e,image_element:n,event_dispatcher:a},s=t.expand_image.thumbnail.script_insert,l=s.length;if(l)for(o=0;o<l&&!s[o](r,i);o++);else i()},a.getEnablePreLoadThumbnailImage=function(){return"preload"==t.expand_image.thumbnail.load_type},a.getEnablePreLoadPopupImage=function(){return"preload"==t.expand_image.popup.load_type},a.getOriginPopupImage=function(){return t.expand_image.popup.origin_type},a.getStylePositionPopupImage=function(){return t.expand_image.popup.position_type},a.getScalePercentPopupImage=function(){return t.expand_image.popup.scale_percent},a.getTimeWaitOpenPopupImage=function(){return t.expand_image.popup.time_wait_open},a.getTimeWaitClosePopupImage=function(){return t.expand_image.popup.time_wait_close},a.executeScriptAllowPopupImage=function(e,n){var a,i={anchor_element:e.element,current_element:e.element,url:e.url,content_type:e.content_type,is_overridden_url:e.is_overridden_url},o=t.expand_image.popup.script_allow,r=o.length;if(r)for(a=0;a<r&&!o[a](i,n);a++);else n({result:!1})},a.getEnablePopupReducedImage=function(){return!!t.expand_image&&t.expand_image.reduced_image.enable_popup},a.getScaleLessThenAllowPopupReducedImage=function(){return!!t.expand_image&&t.expand_image.reduced_image.popup_allow_slcale_less_then},a.getEnableLoadNotifyExpandImage=function(){return!!t.expand_image&&t.expand_image.load.enable_notify},a.getSourceLoadExpandImage=function(){return t.expand_image?t.expand_image.load.src_type:"blob_url"},a.getDecodeLoadExpandImage=function(){return t.expand_image?t.expand_image.load.decode:"pre-decode"},a.getEnableUnloadExpandImage=function(){return!!t.expand_image&&t.expand_image.load.enable_unload},a.getSizeMoreThenAllowUnloadExpandImage=function(){return!!t.expand_image&&t.expand_image.load.unload_allow_size_more_then},a.getEnableExpandSound=function(){return t.expand_sound},a.getDisableSameInlineSound=function(){return!!t.expand_sound&&t.expand_sound.inline.disable_same_audio},a.getSoundMaxInlineSound=function(){return t.expand_sound?t.expand_sound.inline.sound_max:0},a.executeScriptAllowInlineSound=function(e,n){var a,i={anchor_element:e.element,current_element:e.element,url:e.url,content_type:e.content_type,is_overridden_url:e.is_overridden_url},o=t.expand_sound.inline.script_allow,r=o.length;if(r)for(a=0;a<r&&!o[a](i,n);a++);else n({result:!1})},a.executeScriptInsertInlineSound=function(e,n,a,i){var o,r={anchor_element:e,current_element:e,element:n,event_dispatcher:a},s=t.expand_sound.inline.script_insert,l=s.length;if(l)for(o=0;o<l&&!s[o](r,i);o++);else i()},a.executeScriptAllowAudioElement=function(e,n,a,i){var o,r={anchor_element:e,current_element:e,url:n,content_type:a},s=t.expand_sound.audio_element.script_allow,l=s.length;if(l)for(o=0;o<l&&!s[o](r,i);o++);else i({result:!1})},a.getSourceAudioElement=function(){return t.expand_sound?t.expand_sound.audio_element.src_type:"url"},a.getVisiblePlayerHtml5Soundcloud=function(){return t.expand_sound.soundcloud.visible_player_html5},a.getVisiblePlayerMixcloud=function(){return t.expand_sound.mixcloud.visible_player},a.getEnableExpandVideo=function(){return t.expand_video},a.getDisableSameInlineVideo=function(){return!!t.expand_video&&t.expand_video.inline.disable_same_video},a.getVideoMaxInlineVideo=function(){return t.expand_video?t.expand_video.inline.video_max:0},a.getWidthMaxInlineVideo=function(){var e;return t.expand_video&&(e=t.expand_video.inline.width_max),(e=Number(e)||0)<100&&(e=100),e},a.getHeightMaxInlineVideo=function(){var e;return t.expand_video&&(e=t.expand_video.inline.height_max),(e=Number(e)||0)<100&&(e=100),e},a.executeScriptAllowInlineVideo=function(e,n){var a,i={anchor_element:e.element,current_element:e.element,url:e.url,content_type:e.content_type,is_overridden_url:e.is_overridden_url},o=t.expand_video.inline.script_allow,r=o.length;if(r)for(a=0;a<r&&!o[a](i,n);a++);else n({result:!1})},a.executeScriptInsertInlineVideo=function(e,n,a,i){var o,r={anchor_element:e,current_element:e,element:n,event_dispatcher:a},s=t.expand_video.inline.script_insert,l=s.length;if(l)for(o=0;o<l&&!s[o](r,i);o++);else i()},a.executeScriptAllowVideoElement=function(e,n,a,i){var o,r={anchor_element:e,current_element:e,url:n,content_type:a},s=t.expand_video.video_element.script_allow,l=s.length;if(l)for(o=0;o<l&&!s[o](r,i);o++);else i({result:!1})},a.getSourceVideoElement=function(){return t.expand_video?t.expand_video.video_element.src_type:"url"},a.getVisibleVideoYoutube=function(){return t.expand_video.youtube.visible_video},a.getVisibleVideoNicovideo=function(){return t.expand_video.nicovideo.visible_video},a.getVisibleVideoDailymotion=function(){return t.expand_video.dailymotion.visible_video},a.getVisibleVideoVimeo=function(){return t.expand_video.vimeo.visible_video},a.getStyleSheetExpandTextInline=function(e){var n=t.style_sheet.expand_text;return a.checkMixedContent(e)?n.inline_unsafe:n.inline},a.getStyleSheetExpandImageThumbnail=function(e){var n=t.style_sheet.expand_image;return a.checkMixedContent(e)?n.thumbnail_unsafe:n.thumbnail},a.getStyleSheetExpandImagePopup=function(e){var n=t.style_sheet.expand_image;return a.checkMixedContent(e)?n.popup_unsafe:n.popup},a.getStyleSheetExpandSoundInlineAudioElement=function(e){var n=t.style_sheet.expand_sound.inline.audio_element;return a.checkMixedContent(e)?n.audio_unsafe:n.audio},a.getStyleSheetExpandSoundSoundcloudInlinePlayerHtml5=function(){return t.style_sheet?t.style_sheet.expand_sound.inline.soundcloud.player_html5:""},a.getStyleSheetExpandSoundMixcloudInlinePlayer=function(){return t.style_sheet?t.style_sheet.expand_sound.inline.mixcloud.player:""},a.getStyleSheetExpandVideoInlineVideoElement=function(e){var n=t.style_sheet.expand_video.inline.video_element;return a.checkMixedContent(e)?n.video_unsafe:n.video},a.getStyleSheetExpandVideoYoutubeInlineVideo=function(){return t.style_sheet?t.style_sheet.expand_video.inline.youtube.video:""},a.getStyleSheetExpandVideoNicovideoInlineVideo=function(){return t.style_sheet?t.style_sheet.expand_video.inline.nicovideo.video:""},a.getStyleSheetExpandVideoDailymotionInlineVideo=function(){return t.style_sheet?t.style_sheet.expand_video.inline.dailymotion.video:""},a.getStyleSheetExpandVideoVimeoInlineVideo=function(){return t.style_sheet?t.style_sheet.expand_video.inline.vimeo.video:""},a.getStyleSheetExpandIframeInline=function(e){var n=t.style_sheet.expand_iframe;return a.checkMixedContent(e)?n.inline_unsafe:n.inline},a.getEnableExpandIframe=function(){return t.expand_iframe},a.getDisableSameInlineIframe=function(){return!!t.expand_iframe&&t.expand_iframe.inline.disable_same_iframe},a.executeScriptAllowInlineIframe=function(e,n,a,i){var o,r={anchor_element:e,current_element:e,url:n,content_type:a},s=t.expand_iframe.inline.script_allow,l=s.length;if(l)for(o=0;o<l&&!s[o](r,i);o++);else i({result:!1})},a.executeScriptInsertInlineIframe=function(e,n,a,i){var o,r={anchor_element:e,current_element:e,iframe_element:n,event_dispatcher:a},s=t.expand_iframe.inline.script_insert,l=s.length;if(l)for(o=0;o<l&&!s[o](r,i);o++);else i()},n=new function(){var e,t=this;t.release=function(){e=null},t.getObject=function(t){return e[t]},t.setObject=function(t,n){e[t]=n},e=new Object}}function m(e){return e}function g(e){var t=no(e);return t.script_initialize=it(t.script_initialize),t.script_callback=it(t.script_callback),t}function f(e){return{filter:L(e.filter)}}function h(e){return{script:it(e.script)}}function x(e){return{script:it(e.script)}}function b(e){return{script:it(e.script)}}function v(e){var t,n,a=new Array,i=e.filter,o=i.length;for(t=0;t<o;t++)n=i[t],a[t]={filter:L(n.filter),enable_reflect_to_anchor:n.enable_reflect_to_anchor,enable_cache:n.enable_cache,script:it(n.script)};return{filter:a}}function w(e){var t,n,a=new Array,i=e.filter,o=i.length;for(t=0;t<o;t++)n=i[t],a[t]={filter:L(n.filter),send_referer:n.send_referer};return{filter:a}}function y(e){var t,n,a=new Array,i=e.filter,o=i.length;for(t=0;t<o;t++)n=i[t],a[t]={filter:L(n.filter),send_useragent:n.send_useragent};return{filter:a}}function E(e){return{script:it(e.script)}}function k(e){return{filter:L(e.filter)}}function A(e){var t=no(e);return t.inline.script_allow=it(t.inline.script_allow),t.inline.script_insert=it(t.inline.script_insert),t}function R(e){var t=no(e);return t.thumbnail.script_allow=it(t.thumbnail.script_allow),t.thumbnail.script_insert=it(t.thumbnail.script_insert),t.popup.script_allow=it(t.popup.script_allow),t}function T(e){var t=no(e);return t.inline.script_allow=it(t.inline.script_allow),t.inline.script_insert=it(t.inline.script_insert),t.audio_element.script_allow=it(t.audio_element.script_allow),t}function I(e){var t=no(e);return t.inline.script_allow=it(t.inline.script_allow),t.inline.script_insert=it(t.inline.script_insert),t.video_element.script_allow=it(t.video_element.script_allow),t}function C(e){var t=no(e);return t.inline.script_allow=it(t.inline.script_allow),t.inline.script_insert=it(t.inline.script_insert),t}function S(e){return e}function M(e){return e}function L(e){var t,n,a,i=new Array;switch(e.type){case"asterisk":for(n=(t=e.asterisk.filter).length,a=0;a<n;a++)i[a]=Zi(t[a]);break;case"regexp":for(n=(t=e.regexp.filter).length,a=0;a<n;a++)i[a]=[Xe(t[a])]}return i}function N(e,t){var n,a,i,o,r,s,l,c,_=e.length;for(n=0;n<_;n++)for(s=(o=e[n].filter).length,a=0;a<s;a++)for(c=(l=(r=o[a]).filter).length,i=0;i<c;i++)if($i(t,l[i]))return r;return null}function F(e,t){var n,a,i,o,r,s,l,c,_=new Array,u=e.length;for(n=0;n<u;n++)for(s=(o=e[n].filter).length,a=0;a<s;a++)for(c=(l=(r=o[a]).filter).length,i=0;i<c;i++)if($i(t,l[i])){_.push(r);break}return _}function O(e,t){var n,a,i,o,r;void 0!==t.version&&t.expand_bbs&&(n=W(null,{version:t.version}),a=new Object,i=new Object,o=new Object,r=new Array,function(){var e,n,i=t.expand_bbs,o=i.length;for(e=0;e<o;e++)void 0!==(n=i[e]).id&&(a[n.id]=n,n.user&&r.push(n.id))}(),function(){var e,t,a=n.expand_bbs,o=a.length;for(e=0;e<o;e++)void 0!==(t=a[e]).id&&(i[t.id]=t)}(),function(){var e,t,o,r=n.expand_bbs,s=r.length;for(e=0;e<s;e++)t=r[e],a[t.id]&&(t.user=a[t.id].user);for(o in a)i[o]||r.push(a[o]);n=W(n,null)}(),function(){var e,t,a=n.expand_bbs,i=a.length;for(e=0;e<i;e++)void 0!==(t=a[e]).id&&(o[t.id]=t)}(),function(){var t,n,a,i=e.expand_bbs,s=new Object,l=i.length;for(t=0;t<l;t++)s[(n=i[t]).id]=n;for(t=(l=r.length)-1;t>=0;t--)(n=o[r[t]]).preset?s[n.id].user=n.user:(a=U(e.expand_bbs),i.unshift(n),n.id=a)}())}function D(e,t,n){var a,i,o,r,s;void 0!==t.version&&(a=W(null,{version:t.version}),i=new Object,o=new Object,r=new Object,s=new Object,function(){var e,n,a,o,r,l;for(e in t)if((n=t[e])&&"object"==typeof n&&n.constructor==Array){for(i[e]=new Object,a=new Array,r=n.length,o=0;o<r;o++)void 0!==(l=n[o]).id&&(i[e][l.id]=l,l.user&&a.push(l.id));a.length&&(s[e]=a)}}(),s[n]&&(function(){var e,t,n,i,r;for(e in a)if((t=a[e])&&"object"==typeof t&&t.constructor==Array)for(o[e]=new Object,i=t.length,n=0;n<i;n++)void 0!==(r=t[n]).id&&(o[e][r.id]=r)}(),function(){var e,t,n,r,l,c,_;for(e in a)if((t=a[e])&&"object"==typeof t&&t.constructor==Array){if(!s[e])continue;for(r=t.length,n=0;n<r;n++)l=t[n],i[e][l.id]&&(l.user=i[e][l.id].user);for(_ in c=i[e])o[e][_]||t.push(c[_])}a=W(a,null)}(),function(){var e,t,n,i,o;for(e in a)if((t=a[e])&&"object"==typeof t&&t.constructor==Array)for(r[e]=new Object,i=t.length,n=0;n<i;n++)void 0!==(o=t[n]).id&&(r[e][o.id]=o)}(),function(){var t,a,i,o,l=e[n],c=new Object,_=l.length;for(t=0;t<_;t++)c[(a=l[t]).id]=a;for(t=(_=(i=s[n]).length)-1;t>=0;t--)(a=r[n][i[t]]).preset?c[a.id].user=a.user:(o=U(e[n]),l.unshift(a),a.id=o)}()))}function j(e,t){var n,a;if(void 0!==e.version&&e[t])return n=W(null,{version:e.version}),a=e[t][0],n[t].push(a),n=W(n,null),a.user.filter}function z(e){var t,n,a,i,o,r,s;if(void 0===e.version)return null;for(t in n=W(null,{version:e.version}),a=new Object,n)if((i=n[t])&&"object"==typeof i&&i.constructor==Array)for(a[t]=new Object,r=i.length,o=0;o<r;o++)void 0!==(s=i[o]).id&&(a[t][s.id]=s);for(t in e)if((i=e[t])&&"object"==typeof i&&i.constructor==Array)for(r=i.length,o=0;o<r;o++)void 0!==(s=i[o]).id&&void 0!==a[t][s.id]&&(s.preset=a[t][s.id].preset);return e}function P(e){var t,n,a,i,o;for(t in e)if((n=e[t])&&"object"==typeof n&&n.constructor==Array)for(i=n.length,a=0;a<i;a++)void 0!==(o=n[a]).id&&void 0!==o.preset&&ao(o,"preset");return e}function U(e){var t,n=new Object,a=e.length;for(t=0;t<a;t++)n[e[t].id]=e[t];for(t=0;n["user"+t];)t++;return"user"+t}function V(e){switch(e){case"kebab_url":return"<kebab-url>";case"filename":return"<filename>";case"domain":return"<domain>-<filename>";case"date":return"<year><month><day>/<filename>"}return"<url>"}function B(e,t){function n(e,t){for(var n=String(e),a=n.length;a<t;)n="0"+n,a++;return n}var a,i=Qi(t),o=t.replace(/\//g,"-"),r=new Date,s=n(r.getFullYear(),4),l=n(r.getMonth()+1,2),c=n(r.getDate(),2),_=n(r.getHours(),2),u=n(r.getMinutes(),2),p=n(r.getSeconds(),2),d=n(r.getMilliseconds(),3),m=Math.floor(r.getTime()/1e3);return str=e,str=str.replace(/<url>/gi,t),str=str.replace(/<kebab-url>/gi,o),str=str.replace(/<origin>/gi,i.origin),str=str.replace(/<domain>/gi,i.domain),str=str.replace(/<filename>/gi,i.filename),str=str.replace(/<name>/gi,i.name),str=str.replace(/<ext>/gi,i.ext),str=str.replace(/<query>/gi,i.search),str=str.replace(/<fragment>/gi,i.hash),str=str.replace(/<year>/gi,s),str=str.replace(/<month>/gi,l),str=str.replace(/<day>/gi,c),str=str.replace(/<hour>/gi,_),str=str.replace(/<minute>/gi,u),str=str.replace(/<second>/gi,p),str=str.replace(/<millisecond>/gi,d),str=str.replace(/<unixtime>/gi,m),i.ext&&(a="."+i.ext)!=str.slice(-a.length)&&(str+=a),str}function H(e){var t,n,a=new Array,i=e.split(new RegExp("[/\\\\]+","i")),o=i.length;for(t=0;t<o;t++)(n=i[t])&&(n.match(/^[. ]+$/)||(n=(n=n.replace(/^[. ]*(.*?)[. ]*$/,"$1")).replace(/[":*?<>|~]/g,"-"),a.push(n)));return a.join("/")}function W(e,t){function n(e,t,n){var a,i,o,r,s,l,c=e.length;for(a=0;a<c;a++)if(e[a].id==t){i=e[a];break}if(i){if(i.user){for(l in o=no(i),delete i.user,delete o.preset,(r=o.user).name.standard+=" (BackUp)",s=r.name.locales)s[l]+=" (BackUp)";e.splice(a+1,0,o),o.id=U(e)}}else{if(n){for(a=c-1;a>=0&&e[a].id!=n;a--);a<0&&(a=0)}else a=c;(i=new Object).id=t,e.splice(a,0,i)}return i}function a(e,t){var n,a,i=e.length;for(n=0;n<i;n++)if((a=e[n]).id==t){if(a.preset)return a.preset;break}return null}function i(t,n){var a,i,o,r,s,l,c=e[t];return c?(a=!1,i=!1,o=!{urlmap:!0,expand_bbs:!0}[t],r=function(){var e,t,a=c.length;for(t=0;t<a;t++)if((e=c[t]).id===n)return c.splice(t,1),e;return null}(),r?(s=function(){var n,i,o,s=no(r);for(o in s.user?a=!0:s.user=s.preset,delete r.user,delete s.preset,(n=s.user).name.standard+=" (BackUp)",i=n.name.locales)i[o]+=" (BackUp)";return s.id=U(e[t]),s}(),function(){var a,r,l,c,_,u,p,d;if(o){for(r=(a=e.urlmap).length,l=0;l<r;l++)if((_=a[l].preset)&&(u=_[t]))if(u.id&&"object"==typeof u.id)for(c=(p=u.id).length-1;c>=0;c--)p[c]===n&&(p.splice(c,1),0==p.length&&(u.enable=!1));else u.id===n&&(u.id="",u.enable=!1);for(l=0;l<r;l++)if((d=a[l].user)&&(u=d[t]))if(u.id&&"object"==typeof u.id)for(c=(p=u.id).length-1;c>=0;c--)p[c]===n&&(p[c]=s.id,u.enable=!0,i=!0);else u.id===n&&(u.id=s.id,u.enable=!0,i=!0)}}(),l=!1,!o&&a&&(l=!0),i&&(l=!0),l&&c.push(s),r):null):null}function o(e,t,n){var a,i,o=e.length;if("*"==t)for(i=0;i<o;i++)(a=e[i]).preset&&n(a.preset,a);else for(i=0;i<o;i++)if((a=e[i]).id==t){a.preset&&n(a.preset,a);break}}function r(e,t,n){var a,i,o=e.length;if("*"==t)for(i=0;i<o;i++)(a=e[i]).user&&n(a.user,a);else for(i=0;i<o;i++)if((a=e[i]).id==t){a.user&&n(a.user,a);break}}function s(e,t,n){var a,i,o=e.length;if("*"==t)for(i=0;i<o;i++)(a=e[i]).user&&n(a.user,a),a.preset&&n(a.preset,a);else for(i=0;i<o;i++)if((a=e[i]).id==t){a.user&&n(a.user,a),a.preset&&n(a.preset,a);break}}function l(e,t){var n,a=e.length;for(n=0;n<a;n++)if(e[n].id==t)return n;return-1}function c(t){return e[t]&&"object"==typeof e[t]&&e[t].constructor==Array||(e[t]=new Array),e[t]}function _(){return!!(t&&void 0!==t.version&&e.version>=t.version)}var u,p,d,m,g,f,h,x,b,v,w,y,E,k;if(e||((e=new Object).version=0),_())return e;if(e.version<1&&(e.version=1,e.standard={filter_type:"deny",filter_deny:["*://example.com/*","*://*.example.com/*"],filter_allow:["*://example.com/*","*://*.example.com/*"],enable_debug_mode:!1,enable_icon_address_bar:!0,enable_context_menu:!0,enable_enable_startup:!0,load_thread_max:10,execute_queue:{time_occupancy:5,time_sleep:0}},c("expand_bbs"),s(e.expand_bbs,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.enable||(e.enable=!1),e.script_allow||(e.script_allow=""),e.script_callback||(e.script_callback=""),e.popup||(e.popup=new Object),e.popup.origin_type||(e.popup.origin_type="adsorb_top_down"),e.popup.position_type||(e.popup.position_type="absolute"),e.popup.enable_animation||(e.popup.enable_animation=!1),e.popup.percent||(e.popup.percent=new Object),e.popup.percent.x||(e.popup.percent.x=0),e.popup.percent.y||(e.popup.percent.y=0),e.popup.time_wait_open||(e.popup.time_wait_open=0),e.popup.time_wait_close||(e.popup.time_wait_close=0),e.popup.style_sheet||(e.popup.style_sheet=0)}),(u=n(e.expand_bbs,"2ch",null)).preset={name:{standard:"2ch.net",locales:{ja:"２ちゃんねる掲示板",en:"2ch.net"}},enable:!0,script_allow:"",script_callback:"",popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; border:1px solid #000; background:#FFF; overflow-y:auto; word-wrap:break-word; word-break:break-all;"}},(u=n(e.expand_bbs,"logsoku","2ch")).preset={name:{standard:"logsoku.com",locales:{ja:"ログ速",en:"logsoku.com"}},enable:!0,script_allow:"",script_callback:"",popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; border:1px solid #000; background:#FFF; overflow-y:auto; word-wrap:break-word; word-break:break-all;"}},(u=n(e.expand_bbs,"mimizun","logsoku")).preset={name:{standard:"mimizun.com",locales:{ja:"みみずん検索",en:"mimizun.com"}},enable:!0,script_allow:"",script_callback:"",popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; border:1px solid #000; background:#FFF; overflow-y:auto; word-wrap:break-word; word-break:break-all;"}},(u=n(e.expand_bbs,"2chan","mimizun")).preset={name:{standard:"2chan.net",locales:{ja:"ふたば☆ちゃんねる",en:"2chan.net"}},enable:!0,script_allow:"",script_callback:"",popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; border:1px solid #000; background:#FFF; overflow-y:auto; word-wrap:break-word; word-break:break-all;"}},(u=n(e.expand_bbs,"4chan","2chan")).preset={name:{standard:"4chan.org",locales:{ja:"4chan",en:"4chan.org"}},enable:!0,script_allow:"",script_callback:"",popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; border:1px solid #000; background:#FFF; overflow-y:auto; word-wrap:break-word; word-break:break-all;"}},c("urlmap"),s(e.urlmap,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.enable||(e.enable=!1),e.filter||(e.filter=[]),e.access_block||(e.access_block=new Object),e.access_block.enable||(e.access_block.enable=!1),e.replacement_to_element||(e.replacement_to_element=new Object),e.replacement_to_element.enable||(e.replacement_to_element.enable=!1),e.replacement_to_text||(e.replacement_to_text=new Object),e.replacement_to_text.enable||(e.replacement_to_text.enable=!1),e.replacement_to_link||(e.replacement_to_link=new Object),e.replacement_to_link.enable||(e.replacement_to_link.enable=!1),e.replacement_to_referer||(e.replacement_to_referer=new Object),e.replacement_to_referer.enable||(e.replacement_to_referer.enable=!1),e.replacement_to_useragent||(e.replacement_to_useragent=new Object),e.replacement_to_useragent.enable||(e.replacement_to_useragent.enable=!1),e.make_link_to_text||(e.make_link_to_text=new Object),e.make_link_to_text.enable||(e.make_link_to_text.enable=!1),e.expand_short_url||(e.expand_short_url=new Object),e.expand_short_url.enable||(e.expand_short_url.enable=!1),e.expand_text||(e.expand_text=new Object),e.expand_text.enable||(e.expand_text.enable=!1),e.expand_image||(e.expand_image=new Object),e.expand_image.enable||(e.expand_image.enable=!1),e.expand_sound||(e.expand_sound=new Object),e.expand_sound.enable||(e.expand_sound.enable=!1),e.expand_video||(e.expand_video=new Object),e.expand_video.enable||(e.expand_video.enable=!1),e.expand_iframe||(e.expand_iframe=new Object),e.expand_iframe.enable||(e.expand_iframe.enable=!1),e.style_sheet||(e.style_sheet=new Object),e.style_sheet.enable||(e.style_sheet.enable=!1),e.experimental||(e.experimental=new Object),e.experimental.enable||(e.experimental.enable=!1)}),(u=n(e.urlmap,"default",null)).preset={name:{standard:"Default",locales:{ja:"デフォルト（すべて）",en:"Default"}},enable:!0,filter:["*://*"],access_block:{enable:!1,id:""},replacement_to_element:{enable:!1,id:""},replacement_to_text:{enable:!1,id:""},replacement_to_link:{enable:!1,id:""},replacement_to_referer:{enable:!1,id:""},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"simple"},expand_short_url:{enable:!0,id:"simple"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"popup"},expand_sound:{enable:!1,id:""},expand_video:{enable:!1,id:""},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}},(u=n(e.urlmap,"twitter","default")).preset={name:{standard:"twitter.com",locales:{ja:"ツイッター",en:"twitter.com"}},enable:!0,filter:["*://twitter.com/*"],access_block:{enable:!1,id:""},replacement_to_element:{enable:!1,id:""},replacement_to_text:{enable:!1,id:""},replacement_to_link:{enable:!0,id:"no_referrer"},replacement_to_referer:{enable:!0,id:"replacement_link"},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"simple"},expand_short_url:{enable:!0,id:"detail"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"thumbnail"},expand_sound:{enable:!0,id:"inline"},expand_video:{enable:!0,id:"inline"},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}},(u=n(e.urlmap,"bbs","twitter")).preset={name:{standard:"2ch.net",locales:{ja:"スレッド掲示板",en:"2ch.net"}},enable:!0,filter:["*://2ch.net/*","*://*.2ch.net/*","*://*.machi.to/*","*://machibbs.net/*","*://*.machibbs.net/*","*://*.bbspink.com/*","*://jbbs.livedoor.jp/*","*://logsoku.com/*","*://mimizun.com/log/*/*","*://*.kakiko.com/*","*://*.60.kg/*","*://*.atchs.jp/*"],access_block:{enable:!1,id:""},replacement_to_element:{enable:!1,id:""},replacement_to_text:{enable:!1,id:""},replacement_to_link:{enable:!0,id:"direct_link_bbs"},replacement_to_referer:{enable:!0,id:"replacement_link"},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"detail"},expand_short_url:{enable:!0,id:"detail"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"thumbnail"},expand_sound:{enable:!0,id:"inline"},expand_video:{enable:!0,id:"inline"},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}},(u=n(e.urlmap,"image_bbs","bbs")).preset={name:{standard:"www.4chan.org",locales:{ja:"画像掲示板",en:"www.4chan.org"}},enable:!0,filter:["*://*.4chan.org/*","*://*.2chan.net/*"],access_block:{enable:!1,id:""},replacement_to_element:{enable:!1,id:""},replacement_to_text:{enable:!1,id:""},replacement_to_link:{enable:!0,id:"no_referrer"},replacement_to_referer:{enable:!0,id:"replacement_link"},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"detail"},expand_short_url:{enable:!0,id:"detail"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"popup"},expand_sound:{enable:!0,id:"inline"},expand_video:{enable:!0,id:"inline"},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}},(u=n(e.urlmap,"search","image_bbs")).preset={name:{standard:"Search",locales:{ja:"検索サイト",en:"Search"}},enable:!0,filter:["*://www.google.com/#*q=*","*://www.google.com/search?*","*://www.google.co.jp/#*q=*","*://www.google.co.jp/search?*","*://search.yahoo.com/search*","*://search.yahoo.co.jp/*","*://www.bing.com/search?*q=*","*://topsy.com/s*"],access_block:{enable:!1,id:""},replacement_to_element:{enable:!1,id:""},replacement_to_text:{enable:!1,id:""},replacement_to_link:{enable:!0,id:"direct_link_search"},replacement_to_referer:{enable:!1,id:""},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"simple"},expand_short_url:{enable:!0,id:"simple"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"popup"},expand_sound:{enable:!0,id:"inline"},expand_video:{enable:!0,id:"inline"},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}},(u=n(e.urlmap,"image_search","search")).preset={name:{standard:"Image Search",locales:{ja:"画像検索サイト",en:"Image Search"}},enable:!0,filter:[],access_block:{enable:!1,id:""},replacement_to_element:{enable:!1,id:""},replacement_to_text:{enable:!1,id:""},replacement_to_link:{enable:!0,id:"direct_link_image_search"},replacement_to_referer:{enable:!0,id:"replacement_link"},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"simple"},expand_short_url:{enable:!0,id:"simple"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"popup"},expand_sound:{enable:!1,id:""},expand_video:{enable:!1,id:""},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}},(u=n(e.urlmap,"realtime_search","image_search")).preset={name:{standard:"Real Time Search",locales:{ja:"リアルタイム検索サイト",en:"Real Time Search"}},enable:!0,filter:["*://realtime.search.yahoo.co.jp/*","*://topsy.com/s/*/tweet?*","*://topsy.com/s?*type=tweet*","*://www.bing.com/social/search*","*://*search.naver.jp/realtime?*"],access_block:{enable:!1,id:""},replacement_to_element:{enable:!1,id:""},replacement_to_text:{enable:!1,id:""},replacement_to_link:{enable:!0,id:"direct_link_realtime_search"},replacement_to_referer:{enable:!1,id:""},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"simple"},expand_short_url:{enable:!0,id:"simple"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"thumbnail"},expand_sound:{enable:!0,id:"inline"},expand_video:{enable:!0,id:"inline"},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}},c("access_block"),s(e.access_block,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.filter||(e.filter=[])}),c("replacement_to_element"),s(e.replacement_to_element,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.script||(e.script="")}),(u=n(e.replacement_to_element,"meiryo_font",null)).preset={name:{standard:"Meiryo Font",locales:{ja:"フォントの種類をメイリオに変更",en:"Meiryo Font"}},script:""},c("replacement_to_text"),s(e.replacement_to_text,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.script||(e.script="")}),(u=n(e.replacement_to_text,"alphanumeric_half",null)).preset={name:{standard:"String Convert From AlphanumericHalf To AlphanumericFull",locales:{ja:"英数字記号を半角、カタカナを全角に変更",en:"String Convert From AlphanumericHalf To AlphanumericFull"}},script:""},c("replacement_to_link"),s(e.replacement_to_link,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.script||(e.script="")}),(u=n(e.replacement_to_link,"no_referrer",null)).preset={name:{standard:"No Referer",locales:{ja:"ノーリファラ属性を追加",en:"No Referer"}},script:""},(u=n(e.replacement_to_link,"attach_sns_counter","no_referrer")).preset={name:{standard:"Attach SNS Counter",locales:{ja:"ソーシャルサービスのカウント数を表示",en:"Attach SNS Counter"}},script:""},(u=n(e.replacement_to_link,"direct_link_bbs","attach_sns_counter")).preset={name:{standard:"Direct Link (bbs)",locales:{ja:"直リンクに変更（スレッド掲示板用）",en:"Direct Link (bbs)"}},script:""},(u=n(e.replacement_to_link,"direct_link_search","direct_link_bbs")).preset={name:{standard:"Direct Link (search)",locales:{ja:"直リンクに変更（検索用）",en:"Direct Link (search)"}},script:""},(u=n(e.replacement_to_link,"direct_link_image_search","direct_link_search")).preset={name:{standard:"Direct Link (image search)",locales:{ja:"直リンクに変更（イメージ検索用）",en:"Direct Link (image search)"}},script:""},(u=n(e.replacement_to_link,"direct_link_realtime_search","direct_link_image_search")).preset={name:{standard:"Direct Link (realtime search)",locales:{ja:"直リンクに変更（リアルタイム検索用）",en:"Direct Link (realtime search)"}},script:""},c("replacement_to_referer"),s(e.replacement_to_referer,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.script||(e.script="")}),(u=n(e.replacement_to_referer,"replacement_empty",null)).preset={name:{standard:"Replace Empty",locales:{ja:"空文字列に変更",en:"Replace Empty"}},script:""},(u=n(e.replacement_to_referer,"replacement_link","replacement_empty")).preset={name:{standard:"Replace Link",locales:{ja:"リンク先のURLに変更",en:"Replace Link"}},script:""},c("replacement_to_useragent"),s(e.replacement_to_useragent,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.script||(e.script="")}),(u=n(e.replacement_to_useragent,"iphone_4",null)).preset={name:{standard:"iPhone4",locales:{ja:"iPhone4",en:"iPhone4"}},script:""},(u=n(e.replacement_to_useragent,"android_2_1","iphone_4")).preset={name:{standard:"Android 2.1",locales:{ja:"Android 2.1",en:"Android 2.1"}},script:""},(u=n(e.replacement_to_useragent,"docomo_2_0","android_2_1")).preset={name:{standard:"DoCoMo / 2.0",locales:{ja:"DoCoMo / 2.0",en:"DoCoMo / 2.0"}},script:""},c("make_link_to_text"),s(e.make_link_to_text,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.script||(e.script="")}),(u=n(e.make_link_to_text,"simple",null)).preset={name:{standard:"Simple",locales:{ja:"簡易",en:"Simple"}},script:""},(u=n(e.make_link_to_text,"detail","simple")).preset={name:{standard:"Detail",locales:{ja:"詳細",en:"Detail"}},script:""},c("expand_short_url"),s(e.expand_short_url,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.filter||(e.filter=[])}),(u=n(e.expand_short_url,"simple",null)).preset={name:{standard:"Simple",locales:{ja:"簡易",en:"Simple"}},filter:["http://bit.ly/*","http://j.mp/*","http://goo.gl/*","http://c23.biz/*","http://p.tl/*","http://tinyurl.com/*","http://ow.ly/*","http://t.co/*","http://fb.me/*","http://amzn.to/*","http://youtu.be/*","http://g.co/*","http://r10.to/*","http://s.nikkei.com/*","http://t.asahi.com/*"]},(u=n(e.expand_short_url,"detail","simple")).preset={name:{standard:"Detail",locales:{ja:"詳細",en:"Detail"}},filter:["http://tinyurl.com/*","http://ow.ly/*","http://dlvr.it/*","http://s.nikkei.com/*","http://t.asahi.com/*","http://is.gd/*","http://t.co/*","http://fb.me/*","http://amzn.to/*","http://youtu.be/*","http://tumblr.com/*","http://a.r10.to/*","http://ht.ly/*","http://lnk.ms/*","http://ustre.am/**","http://r10.to/*","http://tou.ch/*","http://po.st/*","http://htn.to/*","http://moi.st/*","http://fc2.in/*","http://a8.net/*","http://p.tl/*","http://itun.es/*","http://flic.kr/*","http://moby.to/*","http://instapaper.com/*","http://icio.us/*","http://dai.ly/*","http://pbckt.com/*","http://nhk.jp/*","http://post.ly/*","http://bit.ly/*","http://goo.gl/*","http://r.sm3.jp/*","http://cot.ag/*","http://mpr.hn/*","http://rss.rssad.jp/*","http://to.ly/*","http://g.co/*","http://fon.gs/*","http://tuna.be/*","http://mysp.ac/*","http://j.mp/*","http://snurl.com/*","http://v.gd/*","http://ux.nu/*","http://qurl.com/*","http://tr.im/*","http://gigaz.in/*","http://3.ly/*","http://artbeat.ly/*","http://sgp.cm/*","http://30m.in/*","http://bt.io/*","http://pic.gd/*","http://twt.mx/*","http://url4.eu/*","http://idek.net/*","http://c23.biz/*"]},c("expand_text"),s(e.expand_text,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.inline||(e.inline=new Object),e.inline.disable_same_text||(e.inline.disable_same_text=!1),e.inline.script_allow||(e.inline.script_allow=""),e.inline.script_insert||(e.inline.script_insert="")}),(u=n(e.expand_text,"inline",null)).preset={name:{standard:"Inline",locales:{ja:"インライン表示",en:"Inline"}},inline:{disable_same_text:!0,script_allow:"",script_insert:""}},c("expand_image"),s(e.expand_image,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.thumbnail||(e.thumbnail=new Object),e.thumbnail.enable_popup_mouseover||(e.thumbnail.enable_popup_mouseover=!1),e.thumbnail.disable_same_image||(e.thumbnail.disable_same_image=!1),e.thumbnail.script_allow||(e.thumbnail.script_allow=""),e.thumbnail.script_insert||(e.thumbnail.script_insert=""),e.popup||(e.popup=new Object),e.popup.origin_type||(e.popup.origin_type="center"),e.popup.position_type||(e.popup.position_type="absolute"),e.popup.time_wait_open||(e.popup.time_wait_open=0),e.popup.time_wait_close||(e.popup.time_wait_close=0),e.popup.enable_animation||(e.popup.enable_animation=!1),e.popup.script_allow||(e.popup.script_allow=""),e.reduced_image||(e.reduced_image=new Object),e.reduced_image.enable_popup||(e.reduced_image.enable_popup=!1),e.reduced_image.popup_allow_slcale_less_then||(e.reduced_image.popup_allow_slcale_less_then=0)}),(u=n(e.expand_image,"thumbnail",null)).preset={name:{standard:"Thumbnail",locales:{ja:"サムネイル表示",en:"Thumbnail"}},thumbnail:{enable_popup_mouseover:!0,disable_same_image:!1,script_allow:"",script_insert:""},popup:{origin_type:"center",position_type:"absolute",time_wait_open:0,time_wait_close:0,enable_animation:!0,script_allow:""},reduced_image:{enable_popup:!0,popup_allow_slcale_less_then:70}},(u=n(e.expand_image,"popup","thumbnail")).preset={name:{standard:"Popup",locales:{ja:"ポップアップ表示",en:"Popup"}},thumbnail:{enable_popup_mouseover:!0,disable_same_image:!1,script_allow:"",script_insert:""},popup:{origin_type:"center",position_type:"absolute",time_wait_open:0,time_wait_close:0,enable_animation:!0,script_allow:""},reduced_image:{enable_popup:!0,popup_allow_slcale_less_then:70}},c("expand_sound"),s(e.expand_sound,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.inline||(e.inline=new Object),e.inline.disable_same_audio||(e.inline.disable_same_audio=!1),e.inline.script_allow||(e.inline.script_allow=""),e.inline.script_insert||(e.inline.script_insert="")}),(u=n(e.expand_sound,"inline",null)).preset={name:{standard:"Inline",locales:{ja:"インライン表示",en:"Inline"}},inline:{disable_same_audio:!0,script_allow:"",script_insert:""}},c("expand_video"),s(e.expand_video,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.inline||(e.inline=new Object),e.inline.disable_same_video||(e.inline.disable_same_video=!1),e.inline.script_allow||(e.inline.script_allow=""),e.inline.script_insert||(e.inline.script_insert=""),e.video_element||(e.video_element=new Object),e.video_element.script_allow||(e.video_element.script_allow=""),e.youtube||(e.youtube=new Object),e.youtube.visible_video||(e.youtube.visible_video=!1),e.nicovideo||(e.nicovideo=new Object),e.nicovideo.visible_video||(e.nicovideo.visible_video=!1),e.nicovideo.visible_thumbnail_video||(e.nicovideo.visible_thumbnail_video=!1),e.nicovideo.visible_thumbnail_mylist||(e.nicovideo.visible_thumbnail_mylist=!1),e.nicovideo.visible_thumbnail_user||(e.nicovideo.visible_thumbnail_user=!1),e.nicovideo.visible_thumbnail_community||(e.nicovideo.visible_thumbnail_community=!1),e.nicovideo.visible_thumbnail_live||(e.nicovideo.visible_thumbnail_live=!1),e.ustream||(e.ustream=new Object),e.ustream.visible_video||(e.ustream.visible_video=!1),e.dailymotion||(e.dailymotion=new Object),e.dailymotion.visible_video||(e.dailymotion.visible_video=!1),e.vimeo||(e.vimeo=new Object),e.vimeo.visible_video||(e.vimeo.visible_video=!1),e.fc2video||(e.fc2video=new Object),e.fc2video.visible_video||(e.fc2video.visible_video=!1)}),(u=n(e.expand_video,"inline",null)).preset={name:{standard:"Inline",locales:{ja:"インライン表示",en:"Inline"}},inline:{disable_same_video:!0,video_max:10,script_allow:"",script_insert:""},video_element:{script_allow:""},youtube:{visible_video:!0},nicovideo:{visible_video:!0,visible_thumbnail_video:!0,visible_thumbnail_mylist:!0,visible_thumbnail_user:!0,visible_thumbnail_community:!0,visible_thumbnail_live:!0},ustream:{visible_video_live:!0,visible_video_record:!0},dailymotion:{visible_video:!0},vimeo:{visible_video:!0},fc2video:{visible_video:!0}},c("expand_iframe"),s(e.expand_iframe,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.inline||(e.inline=new Object),e.inline.disable_same_iframe||(e.inline.disable_same_iframe=!1),e.inline.script_allow||(e.inline.script_allow=""),e.inline.script_insert||(e.inline.script_insert="")}),(u=n(e.expand_iframe,"expand_flash_inline",null)).preset={name:{standard:"Expand Flash Inline",locales:{ja:"Flash のインライン表示",en:"Expand Flash Inline"}},inline:{disable_same_iframe:!0,script_allow:"",script_insert:""}},(u=n(e.expand_iframe,"expand_pdf_inline","expand_flash_inline")).preset={name:{standard:"Expand PDF Inline",locales:{ja:"PDF のインライン表示",en:"Expand PDF Inline"}},inline:{disable_same_iframe:!0,script_allow:"",script_insert:""}},c("style_sheet"),s(e.style_sheet,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.expand_text||(e.expand_text=new Object),e.expand_text.inline||(e.expand_text.inline=""),e.expand_image||(e.expand_image=new Object),e.expand_image.thumbnail||(e.expand_image.thumbnail=""),e.expand_image.popup||(e.expand_image.popup=""),e.expand_sound||(e.expand_sound=new Object),e.expand_sound.inline||(e.expand_sound.inline=""),e.expand_video||(e.expand_video=new Object),e.expand_video.inline||(e.expand_video.inline=new Object);var t=e.expand_video.inline;t.video_element||(t.video_element=new Object),t.video_element.video||(t.video_element.video=""),t.youtube||(t.youtube=new Object),t.youtube.video||(t.youtube.video=""),t.nicovideo||(t.nicovideo=new Object),t.nicovideo.video||(t.nicovideo.video=""),t.nicovideo.thumbnail_video||(t.nicovideo.thumbnail_video=""),t.nicovideo.thumbnail_mylist||(t.nicovideo.thumbnail_mylist=""),t.nicovideo.thumbnail_user||(t.nicovideo.thumbnail_user=""),t.nicovideo.thumbnail_community||(t.nicovideo.thumbnail_community=""),t.nicovideo.thumbnail_live||(t.nicovideo.thumbnail_live=""),t.ustream||(t.ustream=new Object),t.ustream.video_live||(t.ustream.video_live=""),t.ustream.video_record||(t.ustream.video_record=""),t.dailymotion||(t.dailymotion=new Object),t.dailymotion.video||(t.dailymotion.video=""),t.vimeo||(t.vimeo=new Object),t.vimeo.video||(t.vimeo.video=""),t.fc2video||(t.fc2video=new Object),t.fc2video.video||(t.fc2video.video=""),e.expand_iframe||(e.expand_iframe=new Object),e.expand_iframe.inline||(e.expand_iframe.inline="")}),(u=n(e.style_sheet,"simple",null)).preset={name:{standard:"Simple",locales:{ja:"シンプル",en:"Simple"}},expand_text:{inline:"margin:2px 0px 2px 0px;"},expand_image:{thumbnail:"margin:2px 0px 2px 0px; background-color:#FFF; border:1px #000 solid;",popup:"background-color:#FFF; border:1px #000 solid;"},expand_sound:{inline:"margin:2px 0px 2px 0px;"},expand_video:{inline:{video_element:{video:"margin:2px 0px 2px 0px; width:720px; height:405px;"},youtube:{video:"margin:2px 0px 2px 0px; width:720px; height:405px; border:0px;"},nicovideo:{video:"margin:2px 0px 2px 0px; width:674px; height:386px; border:0px;",thumbnail_video:"margin:2px 0px 2px 0px; width:400px; height:180px; border:0px;",thumbnail_mylist:"margin:2px 0px 2px 0px; width:400px; height:180px; border:0px;",thumbnail_user:"margin:2px 0px 2px 0px; width:340px; height:160px; border:0px;",thumbnail_community:"margin:2px 0px 2px 0px; width:340px; height:180px; border:0px;",thumbnail_live:"margin:2px 0px 2px 0px; width:340px; height:180px; border:0px;"},ustream:{video_live:"margin:2px 0px 2px 0px; width:720px; height:405px; border:0px;",video_record:"margin:2px 0px 2px 0px; width:720px; height:405px; border:0px;"},dailymotion:{video:"margin:2px 0px 2px 0px; width:720px; height:405px; border:0px;"},vimeo:{video:"margin:2px 0px 2px 0px; width:720px; height:405px; border:0px;"},fc2video:{video:"margin:2px 0px 2px 0px; width:720px; height:405px; border:0px;"}}},expand_iframe:{inline:"margin:2px 0px 2px 0px; background-color:#FFF; border:1px #000 solid;"}},(u=n(e.style_sheet,"default","simple")).preset={name:{standard:"Default",locales:{ja:"デフォルト",en:"Default"}},expand_text:{inline:"margin:2px 0px 2px 0px; border:1px #000 solid; padding:4px; background-color:#FFF; display:block;"},expand_image:{thumbnail:"margin:2px 0px 2px 0px; border:1px #000 solid; padding:1px; background-color:#FFF;",popup:"margin:0px; border:1px #000 solid; padding:1px; background-color:#FFF;"},expand_sound:{inline:"margin:2px 0px 2px 0px; border:1px #000 solid; padding:1px; background-color:#FFF;"},expand_video:{inline:{video_element:{video:"margin:2px 0px 2px 0px; border:1px #000 solid; background-color:#000; width:720px; height:405px;"},youtube:{video:"margin:2px 0px 2px 0px; border:1px #000 solid; background-color:#000; width:720px; height:405px;"},nicovideo:{video:"margin:2px 0px 2px 0px; border:1px #000 solid; background-color:#000; width:674px; height:386px;",thumbnail_video:"margin:2px 0px 2px 0px; border:1px #000 solid; padding:1px; background-color:#FFF; width:400px; height:180px;",thumbnail_mylist:"margin:2px 0px 2px 0px; border:1px #000 solid; padding:1px; background-color:#FFF; width:400px; height:180px;",thumbnail_user:"margin:2px 0px 2px 0px; border:1px #000 solid; padding:1px; background-color:#FFF; width:340px; height:160px;",thumbnail_community:"margin:2px 0px 2px 0px; border:1px #000 solid; padding:1px; background-color:#FFF; width:340px; height:180px;",thumbnail_live:"margin:2px 0px 2px 0px; border:1px #000 solid; padding:1px; background-color:#FFF; width:340px; height:180px;"},ustream:{video_live:"margin:2px 0px 2px 0px; border:1px #000 solid; background-color:#000; width:720px; height:405px;",video_record:"margin:2px 0px 2px 0px; border:1px #000 solid; background-color:#000; width:720px; height:405px;"},dailymotion:{video:"margin:2px 0px 2px 0px; border:1px #000 solid; background-color:#000; width:720px; height:405px;"},vimeo:{video:"margin:2px 0px 2px 0px; border:1px #000 solid; background-color:#000; width:720px; height:405px;"},fc2video:{video:"margin:2px 0px 2px 0px; border:1px #000 solid; background-color:#000; width:720px; height:405px;"}}},expand_iframe:{inline:"margin:2px 0px 2px 0px; border:1px #000 solid; padding:1px; background-color:#FFF;"}},c("experimental"),s(e.experimental,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object)}),e.language={type:-1}),_())return e;if(e.version<2&&(e.version=2,(u=n(e.expand_bbs,"nicovideo_dictionary","4chan")).preset={name:{standard:"dic.nicovideo.jp",locales:{ja:"ニコニコ大百科",en:"dic.nicovideo.jp"}},enable:!0,script_allow:"",script_callback:"",popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; border:1px solid #000; background:#FFF; overflow-y:auto; word-wrap:break-word; word-break:break-all;"}}),_())return e;if(e.version<3&&(e.version=3,s(e.urlmap,"*",function(e){e.enable_unsecure||(e.enable_unsecure=!1)}),(u=n(e.urlmap,"bbs","bbs")).preset.filter.push("*://unkar.org/r/*/*"),(u=n(e.expand_bbs,"unkar","mimizun")).preset={name:{standard:"unkar.org",locales:{ja:"うんかー",en:"unkar.org"}},enable:!0,script_allow:"",script_callback:"",popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; border:1px solid #000; background:#FFF; overflow-y:auto; word-wrap:break-word; word-break:break-all;"}}),_())return e;if(e.version<4&&(e.version=4,e.standard.enable_output_log=!1,s(e.expand_bbs,"*",function(e){e.filter||(e.filter=new Array),e.script_initialize||(e.script_initialize="")}),o(e.expand_bbs,"*",function(e){void 0!==e.script_allow&&delete e.script_allow}),s(e.expand_bbs,"2ch",function(e){e.filter=[{pattern:"http://.*\\.2ch\\.net/test/read\\.cgi/.*/[0-9]+",flags:{i:!0,g:!1}},{pattern:"http://.*\\.machi\\.to/bbs/read\\.cgi/.*/[0-9]+",flags:{i:!0,g:!1}},{pattern:"http://machibbs\\.net/.*/[0-9]+.html",flags:{i:!0,g:!1}},{pattern:"http://.*\\.machibbs\\.net/.*/[0-9]+.html",flags:{i:!0,g:!1}},{pattern:"http://.*\\.bbspink\\.com/test/read\\.cgi/.*/[0-9]+",flags:{i:!0,g:!1}},{pattern:"http://jbbs\\.livedoor\\.jp/bbs/read.cgi/.*/[0-9]+/[0-9]+",flags:{i:!0,g:!1}},{pattern:"http://.*\\.kakiko\\.com/test/read\\.cgi/.*/[0-9]+",flags:{i:!0,g:!1}},{pattern:"http://.*\\.60\\.kg/test/read\\.cgi/.*/[0-9]+",flags:{i:!0,g:!1}}],e.script_initialize="",e.script_callback=""}),s(e.expand_bbs,"logsoku",function(e){e.filter=[{pattern:"http://logsoku\\.com/thread/.*\\.2ch\\.net/.*/[0-9]+",flags:{i:!0,g:!1}},{pattern:"http://.*\\.atchs\\.jp/test/read\\.cgi/.*/[0-9]+",flags:{i:!0,g:!1}}],e.script_initialize="",e.script_callback=""}),s(e.expand_bbs,"mimizun",function(e){e.filter=[{pattern:"http://mimizun\\.com/log/2ch/.*/[0-9]+",flags:{i:!0,g:!1}},{pattern:"http://mimizun\\.com/log/machi/.*/[0-9]+",flags:{i:!0,g:!1}}],e.script_initialize="",e.script_callback=""}),s(e.expand_bbs,"unkar",function(e){e.filter=[{pattern:"http://unkar\\.org/r/.*/[0-9]+",flags:{i:!0,g:!1}}],e.script_initialize="",e.script_callback=""}),s(e.expand_bbs,"2chan",function(e){e.filter=[{pattern:"http://.*?\\.2chan\\.net/.*/",flags:{i:!0,g:!1}}]}),s(e.expand_bbs,"4chan",function(e){e.filter=[{pattern:"http://boards\\.4chan\\.org/.*/",flags:{i:!0,g:!1}}],e.script_callback=""}),s(e.expand_bbs,"nicovideo_dictionary",function(e){e.filter=[{pattern:"http://dic\\.nicovideo\\.jp/b/a/.+",flags:{i:!0,g:!1}},{pattern:"http://dic\\.nicovideo\\.jp/a/.+",flags:{i:!0,g:!1}}],e.script_initialize="",e.script_callback=""}),s(e.urlmap,"*",function(e){e.replacement_to_anchor=e.replacement_to_link,delete e.replacement_to_link}),e.replacement_to_anchor=e.replacement_to_link,delete e.replacement_to_link,(u=n(e.access_block,"opera_extension",null)).preset={name:{standard:"For Opera Extension",locales:{ja:"Opera 拡張機能用",en:"For Opera Extension"}},filter:[]},(u=n(e.replacement_to_element,"delete_br_tags","meiryo_font")).preset={name:{standard:"Delete BR Tags Continuous",locales:{ja:"連続するBRタグを削除",en:"Delete BR Tags Continuous"}},script:""},(u=n(e.replacement_to_anchor,"disable_popup_image_search","direct_link_realtime_search")).preset={name:{standard:"Disable Popup (image search)",locales:{ja:"ポップアップを無効化（イメージ検索用）",en:"Disable Popup (image search)"}},script:""},i("replacement_to_anchor","direct_link_image_search"),(u=n(e.replacement_to_anchor,"direct_link_twitter","direct_link_realtime_search")).preset={name:{standard:"Direct Link (twitter.com)",locales:{ja:"直リンクに変更（ツイッター用）",en:"Direct Link (twitter.com)"}},script:""},c("replacement_to_link"),(u=n(e.replacement_to_link,"direct_link_image_search",null)).preset={name:{standard:"Direct Link (image search)",locales:{ja:"直リンク（イメージ検索用）",en:"Direct Link (image search)"}},filter:[{name:{standard:"Google",locales:{ja:"Google 画像検索",en:"Google"}},filter:["*://*.google.*/imgres?*","*://*.google.co.*/imgres?*","*://*.google.com.*/imgres?*"],enable_reflect_to_anchor:!1,script:""},{name:{standard:"Yahoo Image Search",locales:{ja:"Yahoo Image Search",en:"Yahoo Image Search"}},filter:["*://images.search.yahoo.com/images/view;*"],enable_reflect_to_anchor:!1,script:""},{name:{standard:"Yahoo! JAPAN",locales:{ja:"Yahoo! JAPAN 画像検索",en:"Yahoo! JAPAN"}},filter:["*://ord.yahoo.co.jp/o/image/*"],enable_reflect_to_anchor:!1,script:""},{name:{standard:"Bing",locales:{ja:"Bing 画像検索",en:"Bing"}},filter:["*://www.bing.com/images/search?*"],enable_reflect_to_anchor:!1,script:""}]},(u=n(e.replacement_to_link,"direct_link_generic","direct_link_image_search")).preset={name:{standard:"Direct Link (generic)",locales:{ja:"直リンク（汎用）",en:"Direct Link (generic)"}},filter:[{name:{standard:'OGP "og:image"',locales:{ja:'OGP "og:image"',en:'OGP "og:image"'}},filter:["*://instagr.am/p/*","*://www.flickr.com/photos/*/*","*://lockerz.com/s/*","*://pics.lockerz.com/s/*"],enable_reflect_to_anchor:!1,script:""},{name:{standard:"Twitpic",locales:{ja:"Twitpic",en:"Twitpic"}},filter:["*://twitpic.com/*"],enable_reflect_to_anchor:!1,script:""},{name:{standard:"Twitter Photo",locales:{ja:"Twitter Photo",en:"Twitter Photo"}},filter:["*://pic.twitter.com/*","*://twitter.com/*/status/*/photo/*"],enable_reflect_to_anchor:!1,script:""},{name:{standard:"Facebook Photo",locales:{ja:"Facebook Photo",en:"Facebook Photo"}},filter:["*://www.facebook.com/photo.php?*"],enable_reflect_to_anchor:!1,script:""},{name:{standard:"Tumblr",locales:{ja:"Tumblr",en:"Tumblr"}},filter:["*://*.tumblr.com/post/*"],enable_reflect_to_anchor:!1,script:""},{name:{standard:"Photozou Photo",locales:{ja:"フォト蔵",en:"Photozou Photo"}},filter:["*://photozou.jp/photo/show/*/*"],enable_reflect_to_anchor:!1,script:""},{name:{standard:"Twipple Photo",locales:{ja:"ついっぷる",en:"Twipple Photo"}},filter:["*://p.twipple.jp/*"],enable_reflect_to_anchor:!1,script:""},{name:{standard:"NICONICO SEIGA (must log in)",locales:{ja:"ニコニコ静画 (ログインが必要)",en:"NICONICO SEIGA (must log in)"}},filter:["*://seiga.nicovideo.jp/seiga/im*","*://nico.ms/im*"],enable_reflect_to_anchor:!1,script:""},{name:{standard:"pixiv (must referer)",locales:{ja:"ピクシブ (リファラが必要)",en:"pixiv (must referer)"}},filter:["*://www.pixiv.net/member_illust.php?*illust_id*"],enable_reflect_to_anchor:!1,script:""}]},s(e.replacement_to_referer,"*",function(e){e.filter||(e.filter=new Array)}),o(e.replacement_to_referer,"*",function(e){void 0!==e.script&&delete e.script}),s(e.replacement_to_referer,"replacement_empty",function(e){e.filter=[{name:{standard:"Empty",locales:{ja:"空文字列",en:"Empty"}},filter:["*://*"],send_referer:{type:"custom",custom:"",regexp:{pattern:"",flags:{i:!1,g:!1}},replacement:""}}]}),(u=n(e.replacement_to_referer,"replacement_link_url","replacement_link")).preset={name:{standard:"Replace Link URL",locales:{ja:"リンク先のURLに変更",en:"Replace Link URL"}},filter:[{name:{standard:"Link URL",locales:{ja:"リンク先のURL",en:"Link URL"}},filter:["*://*"],send_referer:{type:"link_url",custom:"",regexp:{pattern:"",flags:{i:!1,g:!1}},replacement:""}}]},(u=n(e.replacement_to_referer,"replacement_link_directory","replacement_link")).preset={name:{standard:"Replace Link Directory",locales:{ja:"リンク先のカレントディレクトリに変更",en:"Replace Link Directory"}},filter:[{name:{standard:"Link Directory",locales:{ja:"リンク先のディレクトリ",en:"Link Directory"}},filter:["*://*"],send_referer:{type:"link_url",custom:"",regexp:{pattern:"^(http|https|ftp)(:\\/\\/.*\\/).*",flags:{i:!0,g:!1}},replacement:"\\1\\2"}}]},(u=n(e.replacement_to_referer,"replacement_link_domain","replacement_link_directory")).preset={name:{standard:"Replace Link Domain",locales:{ja:"リンク先のドメインに変更",en:"Replace Link Domain"}},filter:[{name:{standard:"Link Domain",locales:{ja:"リンク先のドメイン",en:"Link Domain"}},filter:["*://*"],send_referer:{type:"link_url",custom:"",regexp:{pattern:"^(http|https|ftp)(:\\/\\/.*?\\/).*",flags:{i:!0,g:!1}},replacement:"\\1\\2"}}]},i("replacement_to_referer","replacement_link"),s(e.replacement_to_useragent,"*",function(e){e.filter||(e.filter=new Array)}),o(e.replacement_to_useragent,"*",function(e){void 0!==e.script&&delete e.script}),s(e.replacement_to_useragent,"iphone_4",function(e){e.filter=[{name:{standard:"iPhone4",locales:{ja:"iPhone4",en:"iPhone4"}},filter:["*://*"],send_useragent:{custom:"Mozilla/5.0 (iPhone; U; CPU iPhone OS 4_0 like Mac OS X; en-us) AppleWebKit/532.9 (KHTML, like Gecko) Version/4.0.5 Mobile/8A293 Safari/6531.22.7"}}]}),s(e.replacement_to_useragent,"android_2_1",function(e){e.filter=[{name:{standard:"Android 2.1",locales:{ja:"Android 2.1",en:"Android 2.1"}},filter:["*://*"],send_useragent:{custom:"Mozilla/5.0 (Linux; U; Android 2.1-update1; ja-jp; XXX Build/RA201) AppleWebKit/530.17 (KHTML, like Gecko) Version/4.0 Mobile Safari/530.17"}}]}),s(e.replacement_to_useragent,"docomo_2_0",function(e){e.filter=[{name:{standard:"DoCoMo / 2.0",locales:{ja:"DoCoMo / 2.0",en:"DoCoMo / 2.0"}},filter:["*://*"],send_useragent:{custom:"DoCoMo/2.0 XXX(c100;TB)"}}]}),(u=a(e.expand_short_url,"detail")).filter.splice(7,0,"http://pic.twitter.com/*","http://tmblr.co/*"),(u=n(e.expand_text,"inline",null)).preset.inline.script_allow="",(u=n(e.expand_image,"thumbnail",null)).preset.thumbnail.script_allow="",(u=n(e.expand_image,"popup",null)).preset.popup.script_allow="",(u=n(e.expand_sound,"inline",null)).preset.inline.script_allow="",s(e.expand_video,"*",function(e){e.nicovideo.visible_thumbnail_seiga||(e.nicovideo.visible_thumbnail_seiga=!0),e.liveleak||(e.liveleak=new Object),e.liveleak.visible_video||(e.liveleak.visible_video=!0)}),(u=n(e.expand_video,"inline",null)).preset.video_element.script_allow="",(u=n(e.expand_iframe,"expand_flash_inline",null)).preset.inline.script_allow="",(u=n(e.expand_iframe,"expand_pdf_inline",null)).preset.inline.script_allow="",s(e.style_sheet,"*",function(e){var t=e.expand_video.inline;t.nicovideo.thumbnail_seiga||(t.nicovideo.thumbnail_seiga=""),t.liveleak||(t.liveleak=new Object),t.liveleak.video||(t.liveleak.video="")}),s(e.style_sheet,"default",function(e){e.expand_video.inline.nicovideo.thumbnail_seiga="margin:2px 0px 2px 0px; border:1px #000 solid; padding:1px; background-color:#FFF; width:312px; height:176px;",e.expand_video.inline.liveleak.video="margin:2px 0px 2px 0px; border:1px #000 solid; background-color:#000; width:640px; height:360px;"}),s(e.style_sheet,"simple",function(e){e.expand_video.inline.nicovideo.thumbnail_seiga="margin:2px 0px 2px 0px; width:312px; height:176px; border:0px;",e.expand_video.inline.liveleak.video="margin:2px 0px 2px 0px; width:640px; height:360px; border:0px;"}),s(e.urlmap,"*",function(e){e.replacement_to_link||(e.replacement_to_link=new Object);var t=e.replacement_to_link;t.enable||(t.enable=!1),t.id||(t.id="")}),(p=a(e.urlmap,"twitter")).replacement_to_anchor={enable:!0,id:"direct_link_twitter"},p.replacement_to_link={enable:!0,id:"direct_link_generic"},p.replacement_to_referer={enable:!0,id:"replacement_link_url"},(p=a(e.urlmap,"bbs")).replacement_to_link={enable:!0,id:"direct_link_generic"},p.replacement_to_referer={enable:!0,id:"replacement_link_url"},(p=a(e.urlmap,"image_bbs")).replacement_to_link={enable:!0,id:"direct_link_generic"},p.replacement_to_referer={enable:!0,id:"replacement_link_url"},(u=n(e.urlmap,"image_search",null)).preset.replacement_to_referer={enable:!0,id:"replacement_link_url"},u.preset.replacement_to_anchor={enable:!0,id:"disable_popup_image_search"},u.preset.replacement_to_link={enable:!0,id:"direct_link_image_search"},u.preset.filter=["*://*.google.at/search?*tbm=isch*","*://*.google.be/search?*tbm=isch*","*://*.google.ca/search?*tbm=isch*","*://*.google.ch/search?*tbm=isch*","*://*.google.de/search?*tbm=isch*","*://*.google.es/search?*tbm=isch*","*://*.google.fr/search?*tbm=isch*","*://*.google.it/search?*tbm=isch*","*://*.google.nl/search?*tbm=isch*","*://*.google.no/search?*tbm=isch*","*://*.google.pl/search?*tbm=isch*","*://*.google.ru/search?*tbm=isch*","*://*.google.se/search?*tbm=isch*","*://*.google.co.id/search?*tbm=isch*","*://*.google.co.in/search?*tbm=isch*","*://*.google.co.jp/search?*tbm=isch*","*://*.google.co.th/search?*tbm=isch*","*://*.google.co.uk/search?*tbm=isch*","*://*.google.co.za/search?*tbm=isch*","*://*.google.com/search?*tbm=isch*","*://*.google.com.ar/search?*tbm=isch*","*://*.google.com.au/search?*tbm=isch*","*://*.google.com.br/search?*tbm=isch*","*://*.google.com.mx/search?*tbm=isch*","*://*.google.com.sa/search?*tbm=isch*","*://*.google.com.tr/search?*tbm=isch*","*://*.google.com.tw/search?*tbm=isch*","*://www.google.at/images?*","*://www.google.be/images?*","*://www.google.ca/images?*","*://www.google.ch/images?*","*://www.google.de/images?*","*://www.google.es/images?*","*://www.google.fr/images?*","*://www.google.it/images?*","*://www.google.nl/images?*","*://www.google.no/images?*","*://www.google.pl/images?*","*://www.google.ru/images?*","*://www.google.se/images?*","*://www.google.co.id/images?*","*://www.google.co.in/images?*","*://www.google.co.jp/images?*","*://www.google.co.th/images?*","*://www.google.co.uk/images?*","*://www.google.co.za/images?*","*://www.google.com/images?*","*://www.google.com.ar/images?*","*://www.google.com.au/images?*","*://www.google.com.br/images?*","*://www.google.com.mx/images?*","*://www.google.com.sa/images?*","*://www.google.com.tr/images?*","*://www.google.com.tw/images?*","*://images.search.yahoo.com/search/images*","*://image.search.yahoo.co.jp/search?*","*://www.bing.com/images/search?*"]),_())return e;if(e.version<5&&(e.version=5,(u=n(e.replacement_to_text,"visualize_space_and_tab",null)).preset={name:{standard:"Visualize spaces and tabs",locales:{ja:"空白とタブを可視化",en:"Visualize spaces and tabs"}},script:""},o(e.replacement_to_link,"direct_link_generic",function(e){e.filter[0].filter.splice(0,0,"*://instagram.com/p/*"),e.filter.splice(1,0,{name:{standard:'OGP "twitter:*"',locales:{ja:'OGP "twitter:*"',en:'OGP "twitter:*"'}},filter:[],enable_reflect_to_anchor:!1,script:""})}),o(e.replacement_to_link,"direct_link_image_search",function(e){e.filter[1].filter.push("*://*.images.search.yahoo.com/images/view;*"),e.filter[1].filter.push("*://*.image.search.yahoo.com/images/view;*"),e.filter.splice(3,0,{name:{standard:"yahoo.cn",locales:{ja:"yahoo.cn",en:"yahoo.cn"}},filter:["http://image.yahoo.cn/view?*"],enable_reflect_to_anchor:!1,script:""}),e.filter.push({name:{standard:"Ask.com",locales:{ja:"Ask 画像検索",en:"Ask.com"}},filter:["*://*.ask.com/fr?*"],enable_reflect_to_anchor:!1,script:""}),e.filter.push({name:{standard:"AOL Image Search",locales:{ja:"AOL 画像検索",en:"AOL Image Search"}},filter:["*://search.aol.*/aol/imageDetails?*"],enable_reflect_to_anchor:!1,script:""}),e.filter.push({name:{standard:"goo",locales:{ja:"goo 画像検索",en:"goo"}},filter:["*://*bsearch.goo.ne.jp/image_detail.php?*DOC_ID=*","*://*bsearch.goo.ne.jp/similarity.php?*DOC_ID=*","*://*bsearch.goo.ne.jp/imgdt.php?*DOC_ID=*"],enable_reflect_to_anchor:!1,script:""}),e.filter.push({name:{standard:"Baidu",locales:{ja:"百度",en:"Baidu"}},filter:["http://image.baidu.com/i*"],enable_reflect_to_anchor:!1,script:""}),e.filter.push({name:{standard:"Baidu.jp",locales:{ja:"Baidu.jp",en:"Baidu.jp"}},filter:["http://image.baidu.jp/*baiduimagedetail*di=*"],enable_reflect_to_anchor:!1,script:""}),e.filter.push({name:{standard:"NAVER",locales:{ja:"NAVER 画像検索",en:"NAVER"}},filter:["http://imagesearch.naver.com/search*","http://image.search.naver.com/search*"],enable_reflect_to_anchor:!1,script:""}),e.filter.push({name:{standard:"naver.jp",locales:{ja:"naver.jp",en:"naver.jp"}},filter:["http://*search.naver.jp/image?*","http://image.search.biglobe.ne.jp/search?*"],enable_reflect_to_anchor:!1,script:""})}),(u=n(e.replacement_to_link,"direct_link_wikipedia",null)).preset={name:{standard:"Direct Link (wikipedia.org)",locales:{ja:"直リンク（ウィキペディア用）",en:"Direct Link (wikipedia.org)"}},filter:[{name:{standard:"File:",locales:{ja:"ファイル:",en:"File:"}},filter:["*://*.wikipedia.org/wiki/*:*","*://*.wikipedia.org/w/*:*","*://*.wikimedia.org/wiki/*:*","*://*.wikimedia.org/w/*:*"],enable_reflect_to_anchor:!1,script:""}]},s(e.expand_sound,"*",function(e){e.audio_element||(e.audio_element=new Object),e.audio_element.script_allow="",e.soundcloud||(e.soundcloud=new Object),e.soundcloud.visible_player_flash=!0,e.soundcloud.visible_player_html5=!1,e.mixcloud||(e.mixcloud=new Object),e.mixcloud.visible_player=!0,e.inline.script_allow="",e.inline.script_insert="",e.inline.sound_max=10}),s(e.style_sheet,"*",function(e){var t=new Object;t.audio_element||(t.audio_element=new Object),t.audio_element.audio=e.expand_sound.inline,t.soundcloud||(t.soundcloud=new Object),t.mixcloud||(t.mixcloud=new Object),e.expand_sound.inline=t}),s(e.style_sheet,"default",function(e){e.expand_sound.inline.soundcloud.player_flash="margin:2px 0px 2px 0px; border:1px #000 solid; padding:1px; background-color:#FFF; width:100%;",e.expand_sound.inline.soundcloud.player_html5="margin:2px 0px 2px 0px; border:1px #000 solid; padding:1px; background-color:#FFF; width:100%;",e.expand_sound.inline.mixcloud.player="margin:2px 0px 2px 0px; border:1px #000 solid; padding:1px; background-color:#FFF; width:460px; height:68px;"}),s(e.style_sheet,"simple",function(e){e.expand_sound.inline.soundcloud.player_flash="margin:2px 0px 2px 0px; width:100%; border:0px;",e.expand_sound.inline.soundcloud.player_html5="margin:2px 0px 2px 0px; width:100%; border:0px;",e.expand_sound.inline.mixcloud.player="margin:2px 0px 2px 0px; width:460px; border:0px; height:68px;"}),s(e.urlmap,"*",function(e){e.replacement_to_element.enable?e.replacement_to_element.id=[e.replacement_to_element.id]:e.replacement_to_element.id=[],e.replacement_to_text.enable?e.replacement_to_text.id=[e.replacement_to_text.id]:e.replacement_to_text.id=[],e.replacement_to_anchor.enable?e.replacement_to_anchor.id=[e.replacement_to_anchor.id]:e.replacement_to_anchor.id=[]}),(p=a(e.urlmap,"realtime_search")).replacement_to_anchor.id.push("no_referrer"),p.filter.push("*://search.goo.ne.jp/web.jsp?*from=lside_twitter*"),p.filter.push("*://search.goo.ne.jp/web.jsp?*mode=1*"),p.replacement_to_link={enable:!0,id:"direct_link_generic"},p.expand_short_url={enable:!0,id:"detail"},(p=a(e.urlmap,"search")).replacement_to_anchor.id.push("no_referrer"),(p=a(e.urlmap,"twitter")).replacement_to_anchor.id.push("no_referrer"),(p=a(e.urlmap,"bbs")).replacement_to_anchor.id.push("no_referrer"),(p=a(e.urlmap,"image_search")).replacement_to_anchor.id.push("no_referrer"),p.filter.splice(55,0,"*://*.images.search.yahoo.com/search/images*"),p.filter.splice(56,0,"*://*.image.search.yahoo.com/search/images*"),p.filter.splice(58,0,"*://image.yahoo.cn/s?*"),p.filter.push("*://*.ask.com/pictures?*"),p.filter.push("*://search.aol.com/aol/image?*"),p.filter.push("*://search.aol.jp/aol/image?*"),p.filter.push("*://*bsearch.goo.ne.jp/image.php?*MT=*"),p.filter.push("*://*bsearch.goo.ne.jp/scrimg.php?*MT=*"),p.filter.push("*://*bsearch.goo.ne.jp/similarity.php?*MT=*"),p.filter.push("*://image.baidu.com/*"),p.filter.push("*://image.baidu.jp/*"),p.filter.push("*://image.search.naver.com/*"),p.filter.push("*://*search.naver.jp/image?*"),p.filter.push("*://image.search.biglobe.ne.jp/search?*"),(u=n(e.urlmap,"wikipedia","default")).preset={name:{standard:"Wikipedia",locales:{ja:"ウィキペディア",en:"Wikipedia"}},enable:!0,filter:["*://*.wikipedia.org/*"],enable_unsecure:!1,access_block:{enable:!1,id:""},replacement_to_element:{enable:!1,id:[]},replacement_to_text:{enable:!1,id:[]},replacement_to_anchor:{enable:!0,id:["no_referrer"]},replacement_to_link:{enable:!0,id:"direct_link_wikipedia"},replacement_to_referer:{enable:!1,id:""},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"simple"},expand_short_url:{enable:!0,id:"simple"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"popup"},expand_sound:{enable:!0,id:"inline"},expand_video:{enable:!0,id:"inline"},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}}),_())return e;if(e.version<6&&(e.version=6,o(e.replacement_to_link,"direct_link_image_search",function(e){e.filter.splice(7,0,{name:{standard:"Yandex Images",locales:{ja:"Yandex 画像検索",en:"Yandex Images"}},filter:["http://images.yandex.ru/yandsearch?*","http://images.yandex.com/yandsearch?*"],enable_reflect_to_anchor:!1,script:""})}),(p=a(e.urlmap,"image_search")).filter.splice(63,0,"*://images.yandex.ru/*"),p.filter.splice(64,0,"*://images.yandex.com/*")),_())return e;if(e.version<7&&(e.version=7,s(e.expand_bbs,"logsoku",function(e){e.filter=[{pattern:"http://logsoku\\.com/thread/.*\\.2ch\\.net/.*?/[0-9]+",flags:{i:!0,g:!1}},{pattern:"http://.*?\\.logsoku\\.com/r/.*?/[0-9]+",flags:{i:!0,g:!1}},{pattern:"http://logsoku\\.com/r/.*?/[0-9]+",flags:{i:!0,g:!1}}],e.script_initialize="",e.script_callback=""}),(u=n(e.expand_bbs,"atchs","unkar")).preset={name:{standard:"atchs.jp",locales:{ja:"あっとちゃんねるず",en:"atchs.jp"}},enable:!0,filter:[],script_initialize:"",script_callback:"",popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; border:1px solid #000; background:#FFF; overflow-y:auto; word-wrap:break-word; word-break:break-all;"}},(u=n(e.access_block,"firefox_extension","opera_extension")).preset={name:{standard:"For Firefox Extension",locales:{ja:"Firefox 拡張機能用",en:"For Firefox Extension"}},filter:[]},s(e.replacement_to_referer,"*",function(e){var t,n,a,i=e.filter,o=i.length;for(t=0;t<o;t++)a=(n=i[t].send_referer).replacement.replace(new RegExp("[$]","g"),"$$$$"),n.replacement=a.replace(new RegExp("\\\\\\\\|\\\\[0-9]","g"),function(e){return"\\\\"==e?"\\":"$"+e[1]})}),(u=n(e.replacement_to_referer,"firefox_extension",null)).preset={name:{standard:"For Firefox Extension",locales:{ja:"Firefox 拡張機能用",en:"For Firefox Extension"}},filter:[]},(u=n(e.replacement_to_useragent,"firefox_extension",null)).preset={name:{standard:"For Firefox Extension",locales:{ja:"Firefox 拡張機能用",en:"For Firefox Extension"}},filter:[]},o(e.replacement_to_link,"*",function(e){var t,n=e.filter,a=n.length;for(t=0;t<a;t++)n[t].enable_cache=!0}),(u=a(e.expand_short_url,"simple")).filter[7]="*://t.co/*",(u=a(e.expand_short_url,"detail")).filter[6]="*://t.co/*",(u=n(e.urlmap,"bbs","bbs")).preset.filter.splice(8,0,"*://*.logsoku.com/*")),_())return e;if(e.version<8&&(e.version=8,o(e.replacement_to_link,"direct_link_image_search",function(e){e.filter[12].enable_cache=!1}),s(e.expand_image,"*",function(e){var t=!1;e.popup.enable_animation&&(t=!0),e.popup.enable_animation_scale=t,e.popup.enable_animation_alpha=t,delete e.popup.enable_animation,void 0===e.popup.load_type&&(e.popup.load_type="preload"),void 0===e.thumbnail.load_type&&(e.thumbnail.load_type="preload"),void 0===e.load&&(e.load=new Object),void 0===e.load.enable_notify&&(e.load.enable_notify=!0),void 0===e.load.enable_unload&&(e.load.enable_unload=!1),void 0===e.load.unload_allow_size_more_then&&(e.load.unload_allow_size_more_then=256)})),_())return e;if(e.version<9&&(e.version=9,o(e.replacement_to_link,"direct_link_generic",function(e){var t=e.filter;t[0].filter.push("*://twitter.yfrog.com/*"),t[0].filter.push("*://yfrog.com/*"),t[1].filter.push("*://campl.us/*"),t.splice(6,0,{name:{standard:"giphy.com",locales:{ja:"giphy.com",en:"giphy.com"}},filter:["*://giphy.com/gifs/*","*://giphy.com/embed/*"],enable_reflect_to_anchor:!1,enable_cache:!0,script:""}),t.splice(7,0,{name:{standard:"gyazo.com",locales:{ja:"Gyazo",en:"gyazo.com"}},filter:["*://gyazo.com/*"],enable_reflect_to_anchor:!1,enable_cache:!0,script:""})}),(u=a(e.expand_short_url,"detail")).filter.push("http://gph.is/*")),_())return e;if(e.version<10&&(e.version=10,(p=(u=n(e.expand_bbs,"4chan",null)).preset).name={standard:"4chan.org (Image Boards)",locales:{ja:"4chan (Image Boards)",en:"4chan.org (Image Boards)"}},p.filter=[{pattern:"^(http|https)://boards\\.4chan\\.org/.*/",flags:{i:!0,g:!1}}],p.popup.style_sheet="padding:20px 10px; border:1px solid #000; overflow-y:auto; word-wrap:break-word; word-break:break-all; display:block;",(p=(u=n(e.expand_bbs,"nicovideo_dictionary",null)).preset).filter=[{pattern:"^http://dic\\.nicovideo\\.jp/b/(a|c|i|l|u|v)/.+",flags:{i:!0,g:!1}},{pattern:"^http://dic\\.nicovideo\\.jp/(a|c|i|l|u|v)/.+",flags:{i:!0,g:!1}}],(u=n(e.replacement_to_anchor,"display_url_in_tooltip","attach_sns_counter")).preset={name:{standard:"Display URL in the ToolTip",locales:{ja:"ツールチップにリンク先を表示",en:"Display URL in the ToolTip"}},script:""},o(e.replacement_to_link,"direct_link_generic",function(e){var t=e.filter;t.splice(5,0,{name:{standard:"Google+ Photo",locales:{ja:"Google+ Photo",en:"Google+ Photo"}},filter:["*://plus.google.com/*photos/*/albums/*"],enable_reflect_to_anchor:!1,enable_cache:!0,script:""}),t.splice(6,0,{name:{standard:"Picasa Photo",locales:{ja:"Picasa Photo",en:"Picasa Photo"}},filter:["*://picasaweb.google.com/lh/photo/*","*://picasaweb.google.com/*/*?*#*","*://picasaweb.google.com/*/*#*"],enable_reflect_to_anchor:!1,enable_cache:!0,script:""}),t.splice(12,0,{name:{standard:"Twipple Photo (Direct Link)",locales:{ja:"ついっぷる (直リンク)",en:"Twipple Photo (Direct Link)"}},filter:["*://p.twpl.jp/show/*"],enable_reflect_to_anchor:!1,enable_cache:!0,script:""}),t[14].filter.push("*://touch.pixiv.net/member_illust.php?*illust_id*")}),(u=n(e.expand_image,"image_bbs",null)).preset={name:{standard:"For www.4chan.org",locales:{ja:"画像掲示板用",en:"For www.4chan.org"}},thumbnail:{enable_popup_mouseover:!0,disable_same_image:!1,load_type:"preload",script_allow:"",script_insert:""},popup:{origin_type:"center",position_type:"absolute",time_wait_open:0,time_wait_close:0,enable_animation_scale:!0,enable_animation_alpha:!0,load_type:"preload",script_allow:""},reduced_image:{enable_popup:!0,popup_allow_slcale_less_then:70},load:{enable_notify:!0,enable_unload:!1,unload_allow_size_more_then:256}},o(e.urlmap,"image_bbs",function(e){e.expand_image.id="image_bbs"})),_())return e;if(e.version<11&&(e.version=11,c("replacement_to_element"),s(e.replacement_to_element,"*",function(e){e.name||(e.name=new Object),e.name.standard||(e.name.standard=""),e.name.locales||(e.name.locales=new Object),e.script||(e.script="")}),(u=n(e.replacement_to_element,"assist_image_search",null)).preset={name:{standard:"Assist Expand (image search)",locales:{ja:"展開アシスト（画像検索用）",en:"Assist Expand (image search)"}},script:""},(u=n(e.replacement_to_element,"assist_twitter",null)).preset={name:{standard:"Assist Expand (twitter)",locales:{ja:"展開アシスト（ツイッター用）",en:"Assist Expand (twitter)"}},script:""},(u=n(e.replacement_to_element,"assist_pixiv",null)).preset={name:{standard:"Assist Expand (pixiv)",locales:{ja:"展開アシスト（ピクシブ用）",en:"Assist Expand (pixiv)"}},script:""},(u=n(e.replacement_to_anchor,"direct_link_facebook","direct_link_realtime_search")).preset={name:{standard:"Direct Link (facebook.com)",locales:{ja:"直リンクに変更（フェイスブック用）",en:"Direct Link (facebook.com)"}},script:""},(u=n(e.replacement_to_anchor,"disable_event_facebook","direct_link_twitter")).preset={name:{standard:"Disable Event (facebook)",locales:{ja:"イベントを無効化（フェイスブック用）",en:"Disable Event (facebook)"}},script:""},o(e.replacement_to_link,"direct_link_generic",function(e){var t=e.filter;t[0].filter.push("*://seiga.nicovideo.jp/watch/bk*"),t.splice(13,0,{name:{standard:"blog.fc2.com",locales:{ja:"FC2ブログ Photo",en:"blog.fc2.com"}},filter:["http://*.blog.fc2.com/img/*/"],enable_reflect_to_anchor:!1,enable_cache:!0,script:""}),t.splice(16,0,{name:{standard:"Miiverse",locales:{ja:"Miiverse",en:"Miiverse"}},filter:["*://miiverse.nintendo.net/posts/*"],enable_reflect_to_anchor:!1,enable_cache:!0,script:""})}),o(e.replacement_to_link,"direct_link_image_search",function(e){var t=e.filter;t[12].filter=["http://*search.naver.jp/jthumb?*","http://*search.naver.jp/jdanmi?*"],t[12].enable_cache=!0}),o(e.replacement_to_link,"direct_link_wikipedia",function(e){var t=e.filter;(t=t[0].filter).push("*://*.m.wikipedia.org/wiki/*:*"),t.push("*://*.m.wikipedia.org/w/*:*"),t.push("*://*.m.wikimedia.org/wiki/*:*"),t.push("*://*.m.wikimedia.org/w/*:*")}),(u=a(e.expand_short_url,"simple")).filter.splice(12,3),u.filter.push("http://dlvr.it/*"),u.filter.push("http://is.gd/*"),u.filter.push("http://ht.ly/*"),u.filter.push("http://lnk.ms/*"),u.filter.push("http://po.st/*"),u.filter.push("http://htn.to/*"),u.filter.push("http://r.sm3.jp/*"),u.filter.push("http://cot.ag/*"),u.filter.push("http://to.ly/*"),u.filter.push("http://ux.nu/*"),u.filter.push("http://qurl.com/*"),u.filter.push("http://tr.im/*"),u.filter.push("http://spr.ly/*"),u.filter.push("http://buff.ly/*"),(u=a(e.expand_short_url,"detail")).filter.splice(59,1),u.filter.splice(54,4),u.filter.splice(52,1),u.filter.splice(47,1),u.filter.splice(42,1),u.filter.splice(38,1),u.filter.splice(33,1),u.filter.splice(28,2),u.filter.splice(23,1),u.filter.splice(12,1),u.filter.push("http://spr.ly/*"),u.filter.push("http://buff.ly/*"),u.filter.push("http://amba.to/*"),u.filter.push("http://nico.ms/*"),u.filter.push("http://yhoo.it/*"),u.filter.push("http://shar.es/*"),u.filter.push("http://feedly.com/k/*"),u.filter.push("http://wp.me/*"),u.filter.push("http://migre.me/*"),u.filter.push("http://flip.it/*"),i("expand_image","thumbnail"),i("expand_image","popup"),s(e.expand_image,"*",function(e){e.popup.scale_percent||(e.popup.scale_percent=100)}),(u=n(e.expand_image,"popup_all","image_bbs")).preset={name:{standard:"Popup (all)",locales:{ja:"ポップアップ表示（すべてのリンク）",en:"Popup (all)"}},thumbnail:{enable_popup_mouseover:!0,disable_same_image:!1,load_type:"preload",script_allow:"",script_insert:""},popup:{origin_type:"center",position_type:"absolute",time_wait_open:0,time_wait_close:0,enable_animation_scale:!0,enable_animation_alpha:!0,load_type:"preload",scale_percent:100,script_allow:""},reduced_image:{enable_popup:!0,popup_allow_slcale_less_then:70},load:{enable_notify:!0,enable_unload:!1,unload_allow_size_more_then:256}},(u=n(e.expand_image,"popup_include_image","image_bbs")).preset={name:{standard:"Popup (include image)",locales:{ja:"ポップアップ表示（画像を含むリンク）",en:"Popup (include image)"}},thumbnail:{enable_popup_mouseover:!0,disable_same_image:!1,load_type:"preload",script_allow:"",script_insert:""},popup:{origin_type:"center",position_type:"absolute",time_wait_open:0,time_wait_close:0,enable_animation_scale:!0,enable_animation_alpha:!0,load_type:"preload",scale_percent:100,script_allow:""},reduced_image:{enable_popup:!0,popup_allow_slcale_less_then:70},load:{enable_notify:!0,enable_unload:!1,unload_allow_size_more_then:256}},(u=n(e.expand_image,"thumbnail_all","image_bbs")).preset={name:{standard:"Thumbnail (all)",locales:{ja:"サムネイル表示（すべてのリンク）",en:"Thumbnail (all)"}},thumbnail:{enable_popup_mouseover:!0,disable_same_image:!1,load_type:"preload",script_allow:"",script_insert:""},popup:{origin_type:"center",position_type:"absolute",time_wait_open:0,time_wait_close:0,enable_animation_scale:!0,enable_animation_alpha:!0,load_type:"preload",scale_percent:100,script_allow:""},reduced_image:{enable_popup:!0,popup_allow_slcale_less_then:70},load:{enable_notify:!0,enable_unload:!1,unload_allow_size_more_then:256}},(u=n(e.expand_image,"thumbnail_not_include_image","image_bbs")).preset={name:{standard:"Thumbnail (not include image)",locales:{ja:"サムネイル表示（画像を含まないリンク）",en:"Thumbnail (not include image)"}},thumbnail:{enable_popup_mouseover:!0,disable_same_image:!1,load_type:"preload",script_allow:"",script_insert:""},popup:{origin_type:"center",position_type:"absolute",time_wait_open:0,time_wait_close:0,enable_animation_scale:!0,enable_animation_alpha:!0,load_type:"preload",scale_percent:100,script_allow:""},reduced_image:{enable_popup:!0,popup_allow_slcale_less_then:70},load:{enable_notify:!0,enable_unload:!1,unload_allow_size_more_then:256}},(u=n(e.expand_image,"twitter",null)).preset={name:{standard:"For twitter",locales:{ja:"ツイッター用",en:"For twitter"}},thumbnail:{enable_popup_mouseover:!0,disable_same_image:!1,load_type:"preload",script_allow:"",script_insert:""},popup:{origin_type:"center",position_type:"absolute",time_wait_open:0,time_wait_close:0,enable_animation_scale:!0,enable_animation_alpha:!0,load_type:"preload",scale_percent:100,script_allow:""},reduced_image:{enable_popup:!0,popup_allow_slcale_less_then:70},load:{enable_notify:!0,enable_unload:!1,unload_allow_size_more_then:256}},s(e.urlmap,"*",function(e){void 0===e.enable_mixed_content&&(e.enable_mixed_content=!1)}),(p=a(e.urlmap,"default")).make_link_to_text={enable:!1,id:""},p.expand_image={enable:!0,id:"popup_all"},(p=a(e.urlmap,"search")).expand_image={enable:!0,id:"popup_include_image"},(p=a(e.urlmap,"image_search")).replacement_to_element={enable:!0,id:["assist_image_search"]},p.expand_image={enable:!0,id:"popup_include_image"},(p=a(e.urlmap,"realtime_search")).expand_image={enable:!0,id:"thumbnail_not_include_image"},(p=a(e.urlmap,"bbs")).expand_image={enable:!0,id:"thumbnail_not_include_image"},(p=a(e.urlmap,"twitter")).replacement_to_element={enable:!0,id:["assist_twitter"]},p.expand_image={enable:!0,id:"twitter"},(p=a(e.urlmap,"wikipedia")).expand_image={enable:!0,id:"popup_include_image"},p.filter.push("*://*.m.wikipedia.org/*"),(u=n(e.urlmap,"pixiv","default")).preset={name:{standard:"pixiv",locales:{ja:"ピクシブ",en:"pixiv"}},enable:!0,filter:["http://*.pixiv.net/","http://*.pixiv.net/*"],enable_unsecure:!1,enable_mixed_content:!1,access_block:{enable:!1,id:""},replacement_to_element:{enable:!0,id:["assist_pixiv"]},replacement_to_text:{enable:!1,id:[]},replacement_to_anchor:{enable:!1,id:[]},replacement_to_link:{enable:!0,id:"direct_link_generic"},replacement_to_referer:{enable:!1,id:""},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"simple"},expand_short_url:{enable:!0,id:"detail"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"popup_include_image"},expand_sound:{enable:!1,id:""},expand_video:{enable:!1,id:""},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}},(u=n(e.urlmap,"facebook","twitter")).preset={name:{standard:"Facebook",locales:{ja:"フェイスブック",en:"Facebook"}},enable:!0,filter:["*://www.facebook.com/*"],enable_unsecure:!1,enable_mixed_content:!1,access_block:{enable:!1,id:""},replacement_to_element:{enable:!1,id:[]},replacement_to_text:{enable:!1,id:[]},replacement_to_anchor:{enable:!0,id:["disable_event_facebook","direct_link_facebook","no_referrer"]},replacement_to_link:{enable:!0,id:"direct_link_generic"},replacement_to_referer:{enable:!1,id:""},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"simple"},expand_short_url:{enable:!0,id:"detail"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"popup_include_image"},expand_sound:{enable:!1,id:""},expand_video:{enable:!1,id:""},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}}),_())return e;if(e.version<12&&(e.version=12,s(e.urlmap,"*",function(e){e.access_block.enable?e.access_block.id=[e.access_block.id]:e.access_block.id=[],e.replacement_to_link.enable?e.replacement_to_link.id=[e.replacement_to_link.id]:e.replacement_to_link.id=[],e.replacement_to_referer.enable?e.replacement_to_referer.id=[e.replacement_to_referer.id]:e.replacement_to_referer.id=[],e.replacement_to_useragent.enable?e.replacement_to_useragent.id=[e.replacement_to_useragent.id]:e.replacement_to_useragent.id=[]})),_())return e;if(e.version<13&&(e.version=13,(p=(u=n(e.expand_bbs,"logsoku",null)).preset).filter=[{pattern:"^http://logsoku\\.com/thread/.*\\.2ch\\.net/[^/]+/[0-9]+",flags:{i:!0,g:!1}},{pattern:"^http://[^.]+\\.logsoku\\.com/r/[^/]+/[0-9]+",flags:{i:!0,g:!1}},{pattern:"^http://logsoku\\.com/r/[^/]+/[0-9]+",flags:{i:!0,g:!1}}],(p=(u=n(e.expand_bbs,"mimizun",null)).preset).filter=[{pattern:"^http://mimizun\\.com/log/2ch/[^/]+/[0-9]+",flags:{i:!0,g:!1}},{pattern:"^http://mimizun\\.com/log/machi/[^/]+/[0-9]+",flags:{i:!0,g:!1}}],(p=(u=n(e.expand_bbs,"unkar",null)).preset).filter=[{pattern:"^http://unkar\\.org/r/[^/]+/[0-9]+",flags:{i:!0,g:!1}}],(p=(u=n(e.expand_bbs,"atchs",null)).preset).filter=[{pattern:"^http://[^.]+\\.atchs\\.jp/test/read\\.cgi/[^/]+/[0-9]+",flags:{i:!0,g:!1}}],(u=n(e.urlmap,"chaika","image_bbs")).preset={name:{standard:"chaika",locales:{ja:"chaika",en:"chaika"}},enable:!0,filter:["http://127.0.0.1:*/thread/http://2ch.net/*","http://127.0.0.1:*/thread/http://*.2ch.net/*","http://127.0.0.1:*/thread/http://*.bbspink.com/*","http://127.0.0.1:*/thread/http://jbbs.livedoor.jp/*"],enable_unsecure:!1,enable_mixed_content:!1,access_block:{enable:!1,id:[]},replacement_to_element:{enable:!1,id:[]},replacement_to_text:{enable:!1,id:[]},replacement_to_anchor:{enable:!0,id:["direct_link_bbs","no_referrer"]},replacement_to_link:{enable:!0,id:["direct_link_generic"]},replacement_to_referer:{enable:!0,id:["replacement_link_url"]},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"detail"},expand_short_url:{enable:!0,id:"detail"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"thumbnail_not_include_image"},expand_sound:{enable:!0,id:"inline"},expand_video:{enable:!0,id:"inline"},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}}),_())return e;if(e.version<14&&(e.version=14,d={standard:"Wild Card",locales:{ja:"ワイルドカード",en:"Wild Card"}},i("access_block","firefox_extension"),i("access_block","opera_extension"),(u=n(e.access_block,"wildcard",null)).preset={name:d,filter:[]},i("replacement_to_referer","firefox_extension"),(u=n(e.replacement_to_referer,"wildcard",null)).preset={name:d,filter:[]},i("replacement_to_useragent","firefox_extension"),(u=n(e.replacement_to_useragent,"wildcard",null)).preset={name:d,filter:[]},(u=n(e.replacement_to_element,"assist_image_in_anchor","assist_image_search")).preset={name:{standard:"Assist Expand (image in anchor)",locales:{ja:"展開アシスト（アンカー内画像用）",en:"Assist Expand (image in anchor)"}},script:""},s(e.expand_image,"*",function(e){void 0===e.thumbnail.enable_thumbnail&&(e.thumbnail.enable_thumbnail=!0),void 0===e.popup.enable_popup_mouseover&&(e.popup.enable_popup_mouseover=!0),void 0===e.load.src_type&&(e.load.src_type="mixed_content")}),a(e.expand_image,"popup_all").thumbnail.enable_thumbnail=!1,a(e.expand_image,"popup_include_image").thumbnail.enable_thumbnail=!1,a(e.expand_image,"thumbnail_all").popup.enable_popup_mouseover=!1,a(e.expand_image,"thumbnail_not_include_image").popup.enable_popup_mouseover=!1,(u=n(e.expand_image,"popup_image_in_anchor","thumbnail_all")).preset={name:{standard:"Popup (assist only)",locales:{ja:"ポップアップ表示（アシスト要素のみ）",en:"Popup (assist only)"}},thumbnail:{enable_thumbnail:!1,enable_popup_mouseover:!0,disable_same_image:!1,load_type:"preload",script_allow:"",script_insert:""},popup:{enable_popup_mouseover:!0,origin_type:"center",position_type:"absolute",time_wait_open:0,time_wait_close:0,enable_animation_scale:!0,enable_animation_alpha:!0,load_type:"preload",scale_percent:100,script_allow:""},reduced_image:{enable_popup:!0,popup_allow_slcale_less_then:70},load:{enable_notify:!0,enable_unload:!1,src_type:"mixed_content",unload_allow_size_more_then:256}},(p=(u=n(e.expand_bbs,"2chan",null)).preset).filter=[{pattern:"^http://[^.]+\\.2chan\\.net/[^/]+/res/[0-9]+.htm",flags:{i:!0,g:!1}}],(u=n(e.expand_bbs,"chaika","atchs")).preset={name:{standard:"chaika",locales:{ja:"chaika",en:"chaika"}},enable:!0,filter:[{pattern:"^http://127\\.0\\.0\\.1:[0-9]+/thread/http://[^.]+\\.2ch\\.net/test/read\\.cgi/[^/]+/[0-9]+",flags:{i:!0,g:!1}},{pattern:"^http://127\\.0\\.0\\.1:[0-9]+/thread/http://[^.]+\\.bbspink\\.com/test/read\\.cgi/[^/]+/[0-9]+",flags:{i:!0,g:!1}},{pattern:"^http://127\\.0\\.0\\.1:[0-9]+/thread/http://jbbs\\.shitaraba\\.net/bbs/read.cgi/[^/]+/[0-9]+/[0-9]+",flags:{i:!0,g:!1}}],script_initialize:"",script_callback:"",popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; border:1px solid #000; background:#FFF; overflow-y:auto; word-wrap:break-word; word-break:break-all;"}},o(e.urlmap,"bbs",function(e){e.filter[6]="*://jbbs.shitaraba.net/*"}),o(e.urlmap,"chaika",function(e){e.filter[3]="http://127.0.0.1:*/thread/http://jbbs.shitaraba.net/*"}),o(e.urlmap,"pixiv",function(e){e.replacement_to_element.id.unshift("assist_image_in_anchor"),e.expand_image.id="popup_image_in_anchor"}),e.standard.enable_startup=e.standard.enable_enable_startup,delete e.standard.enable_enable_startup,e.standard.enable_input_touch=!0,e.standard.enable_double_touch_assist=!1),_())return e;if(e.version<15&&(e.version=15,m=function(e){return{type:"asterisk",asterisk:{filter:e},regexp:{filter:[]}}},g=function(e){return{type:"regexp",asterisk:{filter:[]},regexp:{filter:e}}},s(e.expand_bbs,"*",function(e){e.filter=g(e.filter)}),(p=(u=n(e.expand_bbs,"2ch",null)).preset).filter={type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^http://[^.]+\\.2ch\\.net/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}},{pattern:"^http://(|[^.]+\\.)machi\\.to/bbs/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}},{pattern:"^http://(|[^.]+\\.)machibbs\\.net/[^/]+/[^/]*[0-9]+.*$",flags:{i:!0,g:!1}},{pattern:"^http://[^.]+\\.bbspink\\.com/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}},{pattern:"^http://jbbs\\.shitaraba\\.net/bbs/read.cgi/[^/]+/[0-9]+/[0-9]+.*$",flags:{i:!0,g:!1}},{pattern:"^http://[^.]+\\.kakiko\\.com/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}},{pattern:"^http://[^.]+\\.60\\.kg/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}}]}},(p=(u=n(e.expand_bbs,"logsoku",null)).preset).filter={type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^http://logsoku\\.com/thread/.*\\.2ch\\.net/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}},{pattern:"^http://[^.]+\\.logsoku\\.com/r/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}},{pattern:"^http://logsoku\\.com/r/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}}]}},(p=(u=n(e.expand_bbs,"mimizun",null)).preset).filter={type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^http://mimizun\\.com/log/2ch/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}},{pattern:"^http://mimizun\\.com/log/machi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}}]}},(p=(u=n(e.expand_bbs,"unkar",null)).preset).filter={type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^http://unkar\\.org/r/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}}]}},(p=(u=n(e.expand_bbs,"atchs",null)).preset).filter={type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^http://[^.]+\\.atchs\\.jp/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}}]}},(p=(u=n(e.expand_bbs,"chaika",null)).preset).filter={type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^http://127\\.0\\.0\\.1:[0-9]+/thread/http://[^.]+\\.2ch\\.net/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}},{pattern:"^http://127\\.0\\.0\\.1:[0-9]+/thread/http://[^.]+\\.bbspink\\.com/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}},{pattern:"^http://127\\.0\\.0\\.1:[0-9]+/thread/http://jbbs\\.shitaraba\\.net/bbs/read.cgi/[^/]+/[0-9]+/[0-9]+.*$",flags:{i:!0,g:!1}}]}},(p=(u=n(e.expand_bbs,"4chan",null)).preset).filter={type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^(http|https)://boards\\.4chan\\.org/[^/]+/.*$",flags:{i:!0,g:!1}}]}},s(e.access_block,"*",function(e){e.filter=m(e.filter)}),s(e.replacement_to_referer,"*",function(e){var t,n=e.filter,a=n.length;for(t=0;t<a;t++)n[t].filter=m(n[t].filter)}),s(e.replacement_to_useragent,"*",function(e){var t,n=e.filter,a=n.length;for(t=0;t<a;t++)n[t].filter=m(n[t].filter)}),s(e.replacement_to_link,"*",function(e){var t,n=e.filter,a=n.length;for(t=0;t<a;t++)n[t].filter=m(n[t].filter)}),(p=a(e.replacement_to_link,"direct_link_wikipedia")).filter[0].filter={type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^[^:]+://[^.]+\\.(|m\\.)(wikipedia|wikimedia|wiktionary|wikinews|wikiquote|wikibooks|wikisource|wikiversity|wikivoyage|mediawiki)\\.org/(wiki|w).*:.*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://en\\.uncyclopedia\\.co/(wiki|w).*:.*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://ansaikuropedia\\.org/(wiki|w).*:.*",flags:{i:!0,g:!1}}]}},s(e.expand_short_url,"*",function(e){e.filter=m(e.filter)}),s(e.urlmap,"*",function(e){e.filter=m(e.filter)}),(p=a(e.urlmap,"image_search")).filter={type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^[^:]+://[^.]+\\.google\\.(at|be|ca|ch|de|es|fr|it|nl|no|pl|ru|se|co\\.(id|in|jp|th|uk|za)|com|com\\.(ar|au|br|mx|sa|tr|tw))/(search[?].*tbm=isch|images[?]).*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://images\\.search\\.yahoo\\.com/search/images.*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://[^.]+\\.images\\.search\\.yahoo\\.com/search/images.*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://[^.]+\\.image\\.search\\.yahoo\\.com/search/images.*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://image\\.search\\.yahoo\\.co\\.jp/search[?].*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://image\\.yahoo\\.cn/s[?].*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://www\\.bing\\.com/images/search[?].*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://[^.]+\\.ask\\.com/pictures[?].*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://search\\.aol\\.(com|jp)/aol/image[?].*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://images\\.yandex\\.(ru|com)/.*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://bsearch\\.goo\\.ne\\.jp/(image|scrimg|similarity)\\.php[?].*MT=.*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://image\\.baidu\\.com/.*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://image\\.search\\.naver\\.com/.*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://[^.]*search\\.naver\\.jp/image[?].*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://image\\.search\\.biglobe\\.ne\\.jp/search[?].*",flags:{i:!0,g:!1}}]}},(p=a(e.urlmap,"wikipedia")).filter={type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^[^:]+://[^.]+\\.(|m\\.)(wikipedia|wikimedia|wiktionary|wikinews|wikiquote|wikibooks|wikisource|wikiversity|wikivoyage|mediawiki)\\.org/.*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://en\\.uncyclopedia\\.co/.*",flags:{i:!0,g:!1}},{pattern:"^[^:]+://ansaikuropedia\\.org/.*",flags:{i:!0,g:!1}}]}}),_())return e;if(e.version<16&&(e.version=16),_())return e;if(e.version<17&&(e.version=17,e.download=new Object,f=e.download.load=new Object,h=e.download.download=new Object,f.thread_max=e.standard.load_thread_max,f.timeout=0,h.thread_max=2,h.conflict_type="rename",delete e.standard.load_thread_max,(u=n(e.replacement_to_anchor,"auto_download_all","disable_popup_image_search")).preset={name:{standard:"Auto Download (all)",locales:{ja:"自動ダウンロード（すべて）",en:"Auto Download (all)"}},script:""},(u=n(e.replacement_to_anchor,"auto_download_image","disable_popup_image_search")).preset={name:{standard:"Auto Download (image only)",locales:{ja:"自動ダウンロード（画像のみ）",en:"Auto Download (image only)"}},script:""},(u=n(e.replacement_to_anchor,"add_download_list_all","disable_popup_image_search")).preset={name:{standard:"Add the DownloadList (all)",locales:{ja:"ダウンロードリストに登録（すべて）",en:"Add the DownloadList (all)"}},script:""},(u=n(e.replacement_to_anchor,"add_download_list_image","disable_popup_image_search")).preset={name:{standard:"Add the DownloadList (image only)",locales:{ja:"ダウンロードリストに登録（画像のみ）",en:"Add the DownloadList (image only)"}},script:""}),_())return e;if(e.version<18&&(e.version=18,(p=(u=n(e.expand_bbs,"2ch",null)).preset).filter.regexp.filter.push({pattern:"^http://[^.]+\\.2ch\\.sc/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}}),(u=n(e.expand_bbs,"open2ch","atchs")).preset={name:{standard:"open2ch.net",locales:{ja:"おーぷん２ちゃんねる",en:"open2ch.net"}},enable:!0,filter:{type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^http://[^.]+\\.open2ch\\.net/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}},{pattern:"^http://open2ch\\.net/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}}]}},script_initialize:"",script_callback:"",popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; border:1px solid #000; background:#FFF; overflow-y:auto; word-wrap:break-word; word-break:break-all;"}},o(e.urlmap,"bbs",function(e){var t=e.filter.asterisk.filter;t.push("*://open2ch.net/*"),t.push("*://*.open2ch.net/*"),t.push("*://2ch.sc/*"),t.push("*://*.2ch.sc/*")})),_())return e;if(e.version<19&&(e.version=19,(u=n(e.replacement_to_element,"assist_deviant_art","assist_pixiv")).preset={name:{standard:"Assist Expand (deviantART)",locales:{ja:"展開アシスト（deviantART 用）",en:"Assist Expand (deviantART)"}},script:""},(u=n(e.replacement_to_element,"assist_nico_seiga","assist_pixiv")).preset={name:{standard:"Assist Expand (NICONICO SEIGA)",locales:{ja:"展開アシスト（ニコニコ静画用）",en:"Assist Expand (NICONICO SEIGA)"}},script:""},o(e.replacement_to_link,"direct_link_generic",function(e){var t=e.filter;t[0].filter.asterisk.filter.splice(2,5),t[4].filter.asterisk.filter.push("*://www.facebook.com/*/photos/*"),t[5].filter.asterisk.filter.push("*://plus.google.com/*/posts/*"),t.splice(8,0,{name:{standard:"Flickr",locales:{ja:"Flickr",en:"Flickr"}},filter:{type:"asterisk",asterisk:{filter:["*://www.flickr.com/photos/*/*","*://flic.kr/p/*"]},regexp:{filter:[]}},enable_reflect_to_anchor:!1,enable_cache:!0,script:""}),t.splice(9,0,{name:{standard:"yfrog.com",locales:{ja:"yfrog.com",en:"yfrog.com"}},filter:{type:"asterisk",asterisk:{filter:["*://twitter.yfrog.com/*","*://yfrog.com/*"]},regexp:{filter:[]}},enable_reflect_to_anchor:!1,enable_cache:!0,script:""}),t.splice(16,0,{name:{standard:"deviantART",locales:{ja:"deviantART",en:"deviantART"}},filter:{type:"asterisk",asterisk:{filter:["*://*.deviantart.com/art/*"]},regexp:{filter:[]}},enable_reflect_to_anchor:!1,enable_cache:!0,script:""}),t[17].name={standard:"NICONICO SEIGA Illust",locales:{ja:"ニコニコ静画 イラスト",en:"NICONICO SEIGA Illust"}},t.splice(18,0,{name:{standard:"NICONICO SEIGA Illust (Direct Link)",locales:{ja:"ニコニコ静画 イラスト (直リンク)",en:"NICONICO SEIGA Illust (Direct Link)"}},filter:{type:"asterisk",asterisk:{filter:["*://seiga.nicovideo.jp/image/source/*","*://seiga.nicovideo.jp/image/source?id=*"]},regexp:{filter:[]}},enable_reflect_to_anchor:!1,enable_cache:!0,script:""}),t.splice(19,0,{name:{standard:"NICONICO SEIGA Manga",locales:{ja:"ニコニコ静画 漫画",en:"NICONICO SEIGA Manga"}},filter:{type:"asterisk",asterisk:{filter:["*://seiga.nicovideo.jp/watch/mg*","*://nico.ms/mg*"]},regexp:{filter:[]}},enable_reflect_to_anchor:!1,enable_cache:!0,script:""})}),o(e.replacement_to_link,"direct_link_image_search",function(e){var t=e.filter;t.splice(3,1),t.splice(9,1),t[6].filter={type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^http://yandex\\.(ru|com)/images/search[?].*$",flags:{i:!0,g:!1}}]}}}),(p=(u=n(e.expand_bbs,"2ch",null)).preset).filter.regexp.filter.splice(5,0,{pattern:"^http://jbbs\\.shitaraba\\.net/[^/]+/[0-9]+/storage/[0-9]+.*$",flags:{i:!0,g:!1}}),i("expand_bbs","unkar"),(x=(p=a(e.urlmap,"image_search")).filter.regexp.filter).splice(5,1),x[8]={pattern:"^[^:]+://yandex\\.(ru|com)/images/.*",flags:{i:!0,g:!1}},x[9]={pattern:"^[^:]+://(|[^.]+\\.)bsearch\\.goo\\.ne\\.jp/(image|scrimg|similarity)\\.php[?].*MT=.*",flags:{i:!0,g:!1}},x[13]={pattern:"^[^:]+://images\\.search\\.biglobe\\.ne\\.jp/cgi-bin/search[?].*",flags:{i:!0,g:!1}},(p=a(e.urlmap,"facebook")).replacement_to_anchor={enable:!0,id:["disable_event_facebook","direct_link_facebook"]},(u=n(e.urlmap,"deviant_art","pixiv")).preset={name:{standard:"deviantART",locales:{ja:"deviantART",en:"deviantART"}},enable:!0,filter:{type:"asterisk",asterisk:{filter:["*://*.deviantart.com/*"]},regexp:{filter:[]}},enable_unsecure:!1,enable_mixed_content:!1,access_block:{enable:!1,id:[]},replacement_to_element:{enable:!0,id:["assist_deviant_art"]},replacement_to_text:{enable:!1,id:[]},replacement_to_anchor:{enable:!0,id:["no_referrer"]},replacement_to_link:{enable:!0,id:["direct_link_generic"]},replacement_to_referer:{enable:!0,id:["replacement_link_url"]},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"detail"},expand_short_url:{enable:!0,id:"detail"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"popup_image_in_anchor"},expand_sound:{enable:!0,id:"inline"},expand_video:{enable:!0,id:"inline"},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}},(u=n(e.urlmap,"nico_seiga","pixiv")).preset={name:{standard:"niconico seiga",locales:{ja:"ニコニコ静画",en:"niconico seiga"}},enable:!0,filter:{type:"asterisk",asterisk:{filter:["http://seiga.nicovideo.jp/seiga/im*","http://seiga.nicovideo.jp/illust/*","http://seiga.nicovideo.jp/shunga/*"]},regexp:{filter:[]}},enable_unsecure:!1,enable_mixed_content:!1,access_block:{enable:!1,id:[]},replacement_to_element:{enable:!0,id:["assist_nico_seiga"]},replacement_to_text:{enable:!1,id:[]},replacement_to_anchor:{enable:!0,id:["no_referrer"]},replacement_to_link:{enable:!0,id:["direct_link_generic"]},replacement_to_referer:{enable:!0,id:["replacement_link_url"]},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"detail"},expand_short_url:{enable:!0,id:"detail"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"popup_image_in_anchor"},expand_sound:{enable:!0,id:"inline"},expand_video:{enable:!0,id:"inline"},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}},o(e.urlmap,"pixiv",function(e){e.replacement_to_element.id.shift()}),(u=n(e.urlmap,"blog_ja","default")).preset={name:{standard:"Blog",locales:{ja:"ブログ",en:"Blog"}},enable:!0,filter:{type:"asterisk",asterisk:{filter:["*://ameblo.jp/*/*","*://blogs.yahoo.co.jp/*","*://blog.livedoor.jp/*","*://*.blog.jp/*","*://*.doorblog.jp/*","*://*.blog*.fc2.com/*","*://*.exblog.jp/*","*://*.seesaa.net/*","*://*.blogspot.jp/*","*://*.hatenablog.jp/*"]},regexp:{filter:[]}},enable_unsecure:!1,enable_mixed_content:!1,access_block:{enable:!1,id:[]},replacement_to_element:{enable:!0,id:["assist_image_in_anchor"]},replacement_to_text:{enable:!1,id:[]},replacement_to_anchor:{enable:!0,id:["no_referrer"]},replacement_to_link:{enable:!0,id:["direct_link_generic"]},replacement_to_referer:{enable:!0,id:["replacement_link_url"]},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"detail"},expand_short_url:{enable:!0,id:"detail"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"popup_image_in_anchor"},expand_sound:{enable:!1,id:""},expand_video:{enable:!1,id:""},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}}),_())return e;if(e.version<20&&(e.version=20),_())return e;if(e.version<21&&(e.version=21,(u=n(e.expand_bbs,"8chan","4chan")).preset={name:{standard:"8chan.co",locales:{ja:"8chan",en:"8chan.co"}},filter:{type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^(http|https)://([^.]+\\.|)8chan\\.co/[^/]+/.*$",flags:{i:!0,g:!1}},{pattern:"^(http|https)://([^.]+\\.|)8ch\\.net/[^/]+/.*$",flags:{i:!0,g:!1}}]}},enable:!0,script_initialize:"",script_callback:"",popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; margin:0px; border:1px solid #000; overflow-y:auto; word-wrap:break-word; word-break:break-all; display:block;"}},o(e.urlmap,"image_bbs",function(e){var t=e.filter.asterisk.filter;t.push("*://8ch.net/*"),t.push("*://8chan.co/*"),t.push("*://*.8chan.co/*")})),_())return e;if(e.version<22&&(e.version=22,(u=n(e.replacement_to_link,"direct_link_find_image_in_html",null)).preset={name:{standard:"Direct Link (Find an image in HTML)",locales:{ja:"直リンク（HTML 内の画像を検索）",en:"Direct Link (Find an image in HTML)"}},filter:[{name:{standard:"Image of the largest byte",locales:{ja:"最大バイトの画像",en:"Image of the largest byte"}},filter:{type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^(http|https)://.*\\.(bmp|gif|jpg|jpe|jpeg|png)([^#?/]*)([#?].*|$)",flags:{i:!0,g:!1}}]}},enable_reflect_to_anchor:!1,enable_cache:!0,script:""}]}),_())return e;if(e.version<23&&(e.version=23),_())return e;if(e.version<24&&(e.version=24,(u=n(e.replacement_to_referer,"bbs","wildcard")).preset={name:{standard:"For 2ch.net",locales:{ja:"スレッド掲示板用",en:"For 2ch.net"}},filter:[{name:{standard:"shitaraba.net",locales:{ja:"したらば掲示板",en:"shitaraba.net"}},filter:{type:"asterisk",asterisk:{filter:["http://jbbs.shitaraba.net/bbs/write.cgi/*"]},regexp:{filter:[]}},send_referer:{type:"default",custom:"",regexp:{pattern:"",flags:{i:!1,g:!1}},replacement:""}}]},(p=a(e.urlmap,"bbs")).replacement_to_referer.id.unshift("bbs")),_())return e;if(e.version<25&&(e.version=25,(u=n(e.expand_image,"bbs","twitter")).preset={name:{standard:"For 2ch.net",locales:{ja:"スレッド掲示板用",en:"For 2ch.net"}},thumbnail:{enable_thumbnail:!0,enable_popup_mouseover:!0,disable_same_image:!1,load_type:"preload",script_allow:"",script_insert:""},popup:{enable_popup_mouseover:!0,origin_type:"center",position_type:"absolute",time_wait_open:0,time_wait_close:0,enable_animation_scale:!0,enable_animation_alpha:!0,load_type:"preload",scale_percent:100,script_allow:""},reduced_image:{enable_popup:!0,popup_allow_slcale_less_then:70},load:{enable_notify:!0,enable_unload:!1,src_type:"mixed_content",unload_allow_size_more_then:256}},(p=a(e.urlmap,"bbs")).replacement_to_element={enable:!0,id:["assist_image_in_anchor"]},p.expand_image={enable:!0,id:"bbs"}),_())return e;if(e.version<26&&(e.version=26,(u=n(e.replacement_to_element,"assist_reddit","assist_deviant_art")).preset={name:{standard:"Assist Expand (reddit)",locales:{ja:"展開アシスト（reddit 用）",en:"Assist Expand (reddit)"}},script:""},o(e.replacement_to_link,"direct_link_generic",function(e){e.filter[1].filter.asterisk.filter.push("*://imgur.com/*")}),(u=n(e.expand_image,"reddit",null)).preset={name:{standard:"For reddit",locales:{ja:"reddit 用",en:"For reddit"}},thumbnail:{enable_thumbnail:!0,enable_popup_mouseover:!0,disable_same_image:!1,load_type:"preload",script_allow:"",script_insert:""},popup:{enable_popup_mouseover:!0,origin_type:"center",position_type:"absolute",time_wait_open:0,time_wait_close:0,enable_animation_scale:!0,enable_animation_alpha:!0,load_type:"preload",scale_percent:100,script_allow:""},reduced_image:{enable_popup:!0,popup_allow_slcale_less_then:70},load:{enable_notify:!0,enable_unload:!1,src_type:"mixed_content",unload_allow_size_more_then:256}},(u=n(e.expand_sound,"inline_from_assist",null)).preset={name:{standard:"Inline (assist only)",locales:{ja:"インライン表示（アシスト要素のみ）",en:"Inline (assist only)"}},inline:{disable_same_audio:!0,sound_max:10,script_allow:"",script_insert:""},audio_element:{script_allow:""},soundcloud:{visible_player_flash:!0,visible_player_html5:!1},mixcloud:{visible_player:!0}},(u=n(e.expand_video,"inline_from_assist",null)).preset={name:{standard:"Inline (assist only)",locales:{ja:"インライン表示（アシスト要素のみ）",en:"Inline (assist only)"}},inline:{disable_same_video:!0,video_max:10,script_allow:"",script_insert:""},video_element:{script_allow:""},youtube:{visible_video:!0},nicovideo:{visible_video:!0,visible_thumbnail_video:!0,visible_thumbnail_mylist:!0,visible_thumbnail_user:!0,visible_thumbnail_community:!0,visible_thumbnail_live:!0,visible_thumbnail_seiga:!0},ustream:{visible_video_live:!0,visible_video_record:!0},dailymotion:{visible_video:!0},vimeo:{visible_video:!0},fc2video:{visible_video:!0},liveleak:{visible_video:!0}},(u=n(e.urlmap,"reddit","chaika")).preset={name:{standard:"reddit.com",locales:{ja:"reddit.com",en:"reddit.com"}},enable:!0,filter:{type:"asterisk",asterisk:{filter:["*://*.reddit.com/*"]},regexp:{filter:[]}},enable_unsecure:!1,enable_mixed_content:!1,access_block:{enable:!1,id:[]},replacement_to_element:{enable:!0,id:["assist_reddit"]},replacement_to_text:{enable:!1,id:[]},replacement_to_anchor:{enable:!0,id:["no_referrer"]},replacement_to_link:{enable:!0,id:["direct_link_generic"]},replacement_to_referer:{enable:!0,id:["replacement_link_url"]},replacement_to_useragent:{enable:!1,id:""},make_link_to_text:{enable:!0,id:"detail"},expand_short_url:{enable:!0,id:"detail"},expand_text:{enable:!1,id:""},expand_image:{enable:!0,id:"reddit"},expand_sound:{enable:!0,id:"inline_from_assist"},expand_video:{enable:!0,id:"inline_from_assist"},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!0,id:"default"},experimental:{enable:!1,id:""}},(u=n(e.expand_bbs,"reddit","8chan")).preset={name:{standard:"reddit.com",locales:{ja:"reddit.com",en:"reddit.com"}},filter:{type:"asterisk",asterisk:{filter:["*://*.reddit.com/*/*"]},regexp:{filter:[]}},enable:!0,script_initialize:"",script_callback:"",popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; margin:0px; border:1px solid #000; background:#FFF; overflow-y:auto; word-wrap:break-word; word-break:break-all; display:block;"}}),_())return e;if(e.version<27&&(e.version=27,(x=(p=(u=n(e.expand_bbs,"2ch",null)).preset).filter.regexp.filter)[4].pattern="^http://jbbs\\.shitaraba\\.net/bbs/read\\.cgi/[^/]+/[0-9]+/[0-9]+.*$",x[5].pattern="^http://jbbs\\.shitaraba\\.net/bbs/read_archive\\.cgi/[^/]+/[0-9]+/[0-9]+.*$"),_())return e;if(e.version<28&&(e.version=28,(b=e.language).auto=b.type<0,b.code=["ja","en"][b.type]||"en",delete b.type,i("replacement_to_referer","bbs"),(u=n(e.replacement_to_referer,"direct_link_generic","wildcard")).preset={name:{standard:"For Direct Link (generic)",locales:{ja:"直リンク用（汎用）",en:"For Direct Link (generic)"}},filter:[{name:{standard:"pixiv.net",locales:{ja:"pixiv.net",en:"pixiv.net"}},filter:{type:"asterisk",asterisk:{filter:["*://*.pixiv.net/*"]},regexp:{filter:[]}},send_referer:{type:"link_url",custom:"",regexp:{pattern:"",flags:{i:!1,g:!1}},replacement:""}}]},v=function(e){var t,n,a=e.filter.asterisk.filter,i=new RegExp("^(http|https)://(.*)$","i"),o=a.length;for(t=0;t<o;t++)(n=a[t].match(i))&&(a[t]="*://"+n[2])},o(e.expand_short_url,"detail",v),o(e.expand_short_url,"simple",v),i("urlmap","chaika"),(u=a(e.urlmap,"blog_ja")).replacement_to_referer={enable:!0,id:["direct_link_generic"]},(u=a(e.urlmap,"nico_seiga")).replacement_to_referer={enable:!0,id:["direct_link_generic"]},(u=a(e.urlmap,"deviant_art")).replacement_to_referer={enable:!0,id:["direct_link_generic"]},(u=a(e.urlmap,"twitter")).replacement_to_referer={enable:!0,id:["direct_link_generic"]},(u=a(e.urlmap,"facebook")).replacement_to_referer={enable:!0,id:["direct_link_generic"]},(x=(u=a(e.urlmap,"bbs")).filter.asterisk.filter).splice(12,1),x.splice(11,1),x.splice(10,1),u.replacement_to_referer={enable:!0,id:["direct_link_generic"]},(u=a(e.urlmap,"image_bbs")).replacement_to_referer={enable:!0,id:["direct_link_generic"]},(u=a(e.urlmap,"reddit")).replacement_to_referer={enable:!0,id:["direct_link_generic"]},(u=a(e.urlmap,"image_search")).replacement_to_referer={enable:!1,id:[]},(x=(p=(u=n(e.expand_bbs,"2ch",null)).preset).filter.regexp.filter).splice(7,1),x.splice(6,1),(p=(u=n(e.expand_bbs,"logsoku",null)).preset).filter.regexp.filter.splice(0,3,{pattern:"^http://www\\.logsoku\\.com/r/[^/]+/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}}),i("expand_bbs","atchs"),i("expand_bbs","chaika"),(u=n(e.expand_bbs,"2ch_v6","2ch")).preset={name:{standard:"2ch.net (v.06)",locales:{ja:"２ちゃんねる掲示板（v.06）",en:"2ch.net (v.06)"}},filter:{type:"regexp",asterisk:{filter:[]},regexp:{filter:[]}},enable:!0,script_initialize:"",script_callback:"",popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; margin:0px; border:1px solid #000; background:#FFF; overflow-y:auto; word-wrap:break-word; word-break:break-all; display:block;"}}),_())return e;if(e.version<29&&(e.version=29,w={delete_br_tags:{script:"ReplacementToElement_DeleteBrTags"},meiryo_font:{script:"ReplacementToElement_MeiryoFont"},assist_image_in_anchor:{script:"ReplacementToElement_AssistImageInAnchor"},assist_image_search:{script:"ReplacementToElement_AssistImageSearch"},assist_twitter:{script:"ReplacementToElement_AssistTwitter"},assist_reddit:{script:"ReplacementToElement_AssistReddit"},assist_deviant_art:{script:"ReplacementToElement_AssistDeviantArt"},assist_nico_seiga:{script:"ReplacementToElement_AssistNicoSeiga"},assist_pixiv:{script:"ReplacementToElement_AssistPixiv"}},o(e.replacement_to_element,"*",function(e,t){var n=w[t.id];e.script=Je(n.script)}),r(e.replacement_to_element,"*",function(e,t){var n=w[t.id],a=Je(n?n.script:"ReplacementToElement_Default");nt(a,e.script),e.script=a}),w={alphanumeric_half:{script:"ReplacementToText_AlphanumericHalf"},visualize_space_and_tab:{script:"ReplacementToText_VisualizeSpaceAndTab"}},o(e.replacement_to_text,"*",function(e,t){var n=w[t.id];e.script=Je(n.script)}),r(e.replacement_to_text,"*",function(e,t){var n=w[t.id],a=Je(n?n.script:"ReplacementToText_Default");nt(a,e.script),e.script=a}),w={auto_download_all:{script:"ReplacementToAnchor_AutoDownloadAll"},auto_download_image:{script:"ReplacementToAnchor_AutoDownloadImage"},add_download_list_all:{script:"ReplacementToAnchor_AddDownloadListAll"},add_download_list_image:{script:"ReplacementToAnchor_AddDownloadListImage"},disable_popup_image_search:{script:"ReplacementToAnchor_DisablePopupImageSearch"},disable_event_facebook:{script:"ReplacementToAnchor_DisableEventFacebook"},direct_link_twitter:{script:"ReplacementToAnchor_DirectLinkTwitter"},direct_link_facebook:{script:"ReplacementToAnchor_DirectLinkFacebook"},direct_link_realtime_search:{script:"ReplacementToAnchor_DirectLinkRealtimeSearch"},direct_link_search:{script:"ReplacementToAnchor_DirectLinkSearch"},direct_link_bbs:{script:"ReplacementToAnchor_DirectLinkBbs"},display_url_in_tooltip:{script:"ReplacementToAnchor_DisplayUrlInTooltip"},attach_sns_counter:{script:"ReplacementToAnchor_AttachSnsCounter"},no_referrer:{script:"ReplacementToAnchor_NoReferrer"}},o(e.replacement_to_anchor,"*",function(e,t){var n=w[t.id];e.script=Je(n.script)}),r(e.replacement_to_anchor,"*",function(e,t){var n=w[t.id],a=Je(n?n.script:"ReplacementToAnchor_Default");nt(a,e.script),e.script=a}),r(e.replacement_to_link,"*",function(e){var t,n,a,i=e.filter,o=i.length;for(t=0;t<o;t++)n=i[t],nt(a=Je("ReplacementToLink_Default"),n.script),n.script=a}),o(e.replacement_to_link,"direct_link_generic",function(e){var t,n=["ReplacementToLink_DirectLinkGeneric_OgpOgImage","ReplacementToLink_DirectLinkGeneric_OgpTwitter","ReplacementToLink_DirectLinkGeneric_Twitpic","ReplacementToLink_DirectLinkGeneric_TwitterPhoto","ReplacementToLink_DirectLinkGeneric_FacebookPhoto","ReplacementToLink_DirectLinkGeneric_GooglePlusPhoto","ReplacementToLink_DirectLinkGeneric_PicasaPhoto","ReplacementToLink_DirectLinkGeneric_Tumblr","ReplacementToLink_DirectLinkGeneric_Flickr","ReplacementToLink_DirectLinkGeneric_Yfrog","ReplacementToLink_DirectLinkGeneric_Giphy","ReplacementToLink_DirectLinkGeneric_Gyazo","ReplacementToLink_DirectLinkGeneric_PhotozouPhoto","ReplacementToLink_DirectLinkGeneric_Twipple","ReplacementToLink_DirectLinkGeneric_TwippleDirectLink","ReplacementToLink_DirectLinkGeneric_BlogFc2Com","ReplacementToLink_DirectLinkGeneric_DeviantArt","ReplacementToLink_DirectLinkGeneric_NicoSeigaIllust","ReplacementToLink_DirectLinkGeneric_NicoSeigaIllustDirectLink","ReplacementToLink_DirectLinkGeneric_NicoSeigaManga","ReplacementToLink_DirectLinkGeneric_PixivNet","ReplacementToLink_DirectLinkGeneric_Miiverse"],a=e.filter,i=a.length;for(t=0;t<i;t++)a[t].script=Je(n[t])}),o(e.replacement_to_link,"direct_link_image_search",function(e){var t,n=["ReplacementToLink_DirectLinkImageSearch_Google","ReplacementToLink_DirectLinkImageSearch_YahooImageSearch","ReplacementToLink_DirectLinkImageSearch_YahooJapan","ReplacementToLink_DirectLinkImageSearch_Bing","ReplacementToLink_DirectLinkImageSearch_Ask","ReplacementToLink_DirectLinkImageSearch_Aol","ReplacementToLink_DirectLinkImageSearch_Yandex","ReplacementToLink_DirectLinkImageSearch_Goo","ReplacementToLink_DirectLinkImageSearch_Baidu","ReplacementToLink_DirectLinkImageSearch_Naver","ReplacementToLink_DirectLinkImageSearch_NaverJp"],a=e.filter,i=a.length;for(t=0;t<i;t++)a[t].script=Je(n[t])}),o(e.replacement_to_link,"direct_link_wikipedia",function(e){e.filter[0].script=Je("ReplacementToLink_DirectLinkWikipedia")}),o(e.replacement_to_link,"direct_link_find_image_in_html",function(e){e.filter[0].script=Je("ReplacementToLink_DirectLinkFindImageInHTML_ImageOfTheLargestByte")}),w={detail:{script:"MakeLinkToText_Detail"},simple:{script:"MakeLinkToText_Simple"}},o(e.make_link_to_text,"*",function(e,t){var n=w[t.id];e.script=Je(n.script)}),r(e.make_link_to_text,"*",function(e,t){var n=w[t.id],a=Je(n?n.script:"MakeLinkToText_Default");nt(a,e.script),e.script=a}),w={inline:{script_allow:"ExpandText_InlineScriptAllow_Inline",script_insert:"ExpandText_InlineScriptInsert_Inline"}},o(e.expand_text,"*",function(e,t){var n=w[t.id];e.inline.script_allow=Je(n.script_allow),e.inline.script_insert=Je(n.script_insert)}),r(e.expand_text,"*",function(e,t){var n=w[t.id],a=Je(n?n.script_allow:"ExpandText_InlineScriptAllow_Default");nt(a,e.inline.script_allow),e.inline.script_allow=a,nt(a=Je(n?n.script_insert:"ExpandText_InlineScriptInsert_Default"),e.inline.script_insert),e.inline.script_insert=a}),w={popup_all:{thumbnail:{script_allow:"ExpandImage_ThumbnailScriptAllow_PopupAll",script_insert:"ExpandImage_ThumbnailScriptInsert"},popup:{script_allow:"ExpandImage_PopupScriptAllow_PopupAll"}},popup_include_image:{thumbnail:{script_allow:"ExpandImage_ThumbnailScriptAllow_PopupIncludeImage",script_insert:"ExpandImage_ThumbnailScriptInsert"},popup:{script_allow:"ExpandImage_PopupScriptAllow_PopupIncludeImage"}},popup_image_in_anchor:{thumbnail:{script_allow:"ExpandImage_ThumbnailScriptAllow_PopupImageInAnchor",script_insert:"ExpandImage_ThumbnailScriptInsert"},popup:{script_allow:"ExpandImage_PopupScriptAllow_PopupImageInAnchor"}},thumbnail_all:{thumbnail:{script_allow:"ExpandImage_ThumbnailScriptAllow_ThumbnailAll",script_insert:"ExpandImage_ThumbnailScriptInsert"},popup:{script_allow:"ExpandImage_PopupScriptAllow_ThumbnailAll"}},thumbnail_not_include_image:{thumbnail:{script_allow:"ExpandImage_ThumbnailScriptAllow_ThumbnailNotIncludeImage",script_insert:"ExpandImage_ThumbnailScriptInsert"},popup:{script_allow:"ExpandImage_PopupScriptAllow_ThumbnailNotIncludeImage"}},image_bbs:{thumbnail:{script_allow:"ExpandImage_ThumbnailScriptAllow_ImageBbs",script_insert:"ExpandImage_ThumbnailScriptInsert"},popup:{script_allow:"ExpandImage_PopupScriptAllow_ImageBbs"}},bbs:{thumbnail:{script_allow:"ExpandImage_ThumbnailScriptAllow_ThumbnailNotIncludeImage",script_insert:"ExpandImage_ThumbnailScriptInsert"},popup:{script_allow:"ExpandImage_PopupScriptAllow_PopupImageInAnchor"}},twitter:{thumbnail:{script_allow:"ExpandImage_ThumbnailScriptAllow_Twitter",script_insert:"ExpandImage_ThumbnailScriptInsert"},popup:{script_allow:"ExpandImage_PopupScriptAllow_Twitter"}},reddit:{thumbnail:{script_allow:"ExpandImage_ThumbnailScriptAllow_Reddit",script_insert:"ExpandImage_ThumbnailScriptInsert"},popup:{script_allow:"ExpandImage_PopupScriptAllow_Reddit"}}},o(e.expand_image,"*",function(e,t){var n=w[t.id];e.thumbnail.script_allow=Je(n.thumbnail.script_allow),e.thumbnail.script_insert=Je(n.thumbnail.script_insert),e.popup.script_allow=Je(n.popup.script_allow)}),r(e.expand_image,"*",function(e,t){var n=w[t.id],a=Je(n?n.thumbnail.script_allow:"ExpandImage_ThumbnailScriptAllow_Default");nt(a,e.thumbnail.script_allow),e.thumbnail.script_allow=a,nt(a=Je(n?n.thumbnail.script_insert:"ExpandImage_ThumbnailScriptInsert_Default"),e.thumbnail.script_insert),e.thumbnail.script_insert=a,nt(a=Je(n?n.popup.script_allow:"ExpandImage_PopupScriptAllow_Default"),e.popup.script_allow),e.popup.script_allow=a}),s(e.expand_image,"*",function(e){var t=e.thumbnail;t.scale_percent||(t.scale_percent=20),t.width_min||(t.width_min=50),t.width_max||(t.width_max=300)}),w={inline:{inline:{script_allow:"ExpandSound_InlineScriptAllow_Inline",script_insert:"ExpandSound_InlineScriptInsert_Inline"},audio_element:{script_allow:"ExpandSound_AudioElementScriptAllow_Inline"}},inline_from_assist:{inline:{script_allow:"ExpandSound_InlineScriptAllow_InlineFromAssist",script_insert:"ExpandSound_InlineScriptInsert_Inline"},audio_element:{script_allow:"ExpandSound_AudioElementScriptAllow_Inline"}}},o(e.expand_sound,"*",function(e,t){var n=w[t.id];e.inline.script_allow=Je(n.inline.script_allow),e.inline.script_insert=Je(n.inline.script_insert),e.audio_element.script_allow=Je(n.audio_element.script_allow)}),r(e.expand_sound,"*",function(e,t){var n=w[t.id],a=Je(n?n.inline.script_allow:"ExpandSound_InlineScriptAllow_Default");nt(a,e.inline.script_allow),e.inline.script_allow=a,nt(a=Je(n?n.inline.script_insert:"ExpandSound_InlineScriptInsert_Default"),e.inline.script_insert),e.inline.script_insert=a,nt(a=Je(n?n.audio_element.script_allow:"ExpandSound_AudioElementScriptAllow_Default"),e.audio_element.script_allow),e.audio_element.script_allow=a}),w={inline:{inline:{script_allow:"ExpandVideo_InlineScriptAllow_Inline",script_insert:"ExpandVideo_InlineScriptInsert_Inline"},video_element:{script_allow:"ExpandVideo_VideoElementScriptAllow_Inline"}},inline_from_assist:{inline:{script_allow:"ExpandVideo_InlineScriptAllow_InlineFromAssist",script_insert:"ExpandVideo_InlineScriptInsert_Inline"},video_element:{script_allow:"ExpandVideo_VideoElementScriptAllow_Inline"}}},o(e.expand_video,"*",function(e,t){var n=w[t.id];e.inline.script_allow=Je(n.inline.script_allow),e.inline.script_insert=Je(n.inline.script_insert),e.video_element.script_allow=Je(n.video_element.script_allow)}),r(e.expand_video,"*",function(e,t){var n=w[t.id],a=Je(n?n.inline.script_allow:"ExpandVideo_InlineScriptAllow_Default");nt(a,e.inline.script_allow),e.inline.script_allow=a,nt(a=Je(n?n.inline.script_insert:"ExpandVideo_InlineScriptInsert_Default"),e.inline.script_insert),e.inline.script_insert=a,nt(a=Je(n?n.video_element.script_allow:"ExpandVideo_VideoElementScriptAllow_Default"),e.video_element.script_allow),e.video_element.script_allow=a}),w={expand_pdf_inline:{script_allow:"ExpandIframe_InlineScriptAllow_ExpandPdfInline",script_insert:"ExpandIframe_InlineScriptInsert_ExpandPdfInline"},expand_flash_inline:{script_allow:"ExpandIframe_InlineScriptAllow_ExpandFlashInline",script_insert:"ExpandIframe_InlineScriptInsert_ExpandFlashInline"}},o(e.expand_iframe,"*",function(e,t){var n=w[t.id];e.inline.script_allow=Je(n.script_allow),e.inline.script_insert=Je(n.script_insert)}),r(e.expand_iframe,"*",function(e,t){var n=w[t.id],a=Je(n?n.script_allow:"ExpandIframe_InlineScriptAllow_Default");nt(a,e.inline.script_allow),e.inline.script_allow=a,nt(a=Je(n?n.script_insert:"ExpandIframe_InlineScriptInsert_Default"),e.inline.script_insert),e.inline.script_insert=a}),w={nicovideo_dictionary:{script_initialize:"ExpandBbs_ScriptInitialize_NicovideoDictionary",script_callback:"ExpandBbs_ScriptCallback_NicovideoDictionary"},reddit:{script_initialize:"ExpandBbs_ScriptInitialize",script_callback:"ExpandBbs_ScriptCallback_reddit"},"8chan":{script_initialize:"ExpandBbs_ScriptInitialize",script_callback:"ExpandBbs_ScriptCallback_8chan"},"4chan":{script_initialize:"ExpandBbs_ScriptInitialize",script_callback:"ExpandBbs_ScriptCallback_4chan"},"2chan":{script_initialize:"ExpandBbs_ScriptInitialize_2chan",script_callback:"ExpandBbs_ScriptCallback_2chan"},open2ch:{script_initialize:"ExpandBbs_ScriptInitialize_Open2ch",script_callback:"ExpandBbs_ScriptCallback_Open2ch"},mimizun:{script_initialize:"ExpandBbs_ScriptInitialize_Mimizun",script_callback:"ExpandBbs_ScriptCallback_Mimizun"},logsoku:{script_initialize:"ExpandBbs_ScriptInitialize_Logsoku",script_callback:"ExpandBbs_ScriptCallback_Logsoku"},"2ch_v6":{script_initialize:"ExpandBbs_ScriptInitialize_2ch_v6",script_callback:"ExpandBbs_ScriptCallback_2ch_v6"},"2ch":{script_initialize:"ExpandBbs_ScriptInitialize_2ch",script_callback:"ExpandBbs_ScriptCallback_2ch"}},o(e.expand_bbs,"*",function(e,t){var n=w[t.id];e.script_initialize=Je(n.script_initialize),e.script_callback=Je(n.script_callback)}),r(e.expand_bbs,"*",function(e,t){var n=w[t.id],a=Je(n?n.script_initialize:"ExpandBbs_ScriptInitialize_Default");nt(a,e.script_initialize),e.script_initialize=a,nt(a=Je(n?n.script_callback:"ExpandBbs_ScriptCallback_Default"),e.script_callback),e.script_callback=a})),_())return e;if(e.version<30&&(e.version=30,(x=(u=a(e.replacement_to_link,"direct_link_image_search")).filter[8]).filter.asterisk.filter[0]="http://image.baidu.com/search/detail?*"),_())return e;if(e.version<31&&(e.version=31),_())return e;if(e.version<32&&(e.version=32),_())return e;if(e.version<33&&(e.version=33,o(e.replacement_to_link,"direct_link_generic",function(e){var t=e.filter;t[1].filter.asterisk.filter.splice(1,1),t.splice(9,0,{name:{standard:"Imgur",locales:{ja:"Imgur",en:"Imgur"}},filter:{type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"(http|https)://imgur\\.com/[a-zA-Z0-9]+(|[?#].*)$",flags:{i:!0,g:!1}},{pattern:"^(http|https)://i\\.imgur\\.com/[a-zA-Z0-9]+\\.gifv(|[?#].*)$",flags:{i:!0,g:!1}}]}},enable_reflect_to_anchor:!1,enable_cache:!0,script:Je("ReplacementToLink_DirectLinkGeneric_Imgur")})})),_())return e;if(e.version<34&&(e.version=34,(x=(u=n(e.expand_bbs,"2chan",null)).preset.filter.regexp.filter).push({pattern:"^http://(futalog|imgbako)\\.com/[0-9]+\\.htm$",flags:{i:!0,g:!1}},{pattern:"^http://[^.]+\\.ftbucket\\.info/.*/cont/.*$",flags:{i:!0,g:!1}}),o(e.urlmap,"image_bbs",function(e){var t=e.filter.asterisk.filter;t.push("*://futalog.com/*"),t.push("*://imgbako.com/*"),t.push("*://*.ftbucket.info/*")})),_())return e;if(e.version<35&&(e.version=35,x=(u=a(e.replacement_to_referer,"direct_link_generic")).filter[0].filter={type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^(http|https)://i[0-9]+[.]pixiv[.]net/.*[.](bmp|gif|jpg|jpeg|png)$",flags:{i:!0,g:!1}}]}},(u=a(e.urlmap,"pixiv")).replacement_to_referer={enable:!0,id:["direct_link_generic"]},(y=(h=e.download.download).save_file=new Object).type="simple",y.simple="url",y.detail="",(y=(e.download.batch_download=new Object).save_file=new Object).type="simple",y.simple="url",y.detail=""),_())return e;if(e.version<36&&(e.version=36),_())return e;if(e.version<37&&(e.version=37,o(e.expand_sound,"*",function(e){var t=e.soundcloud;delete t.visible_player_flash,t.visible_player_html5=!0}),o(e.style_sheet,"*",function(e){delete e.expand_sound.inline.soundcloud.player_flash}),(x=(u=n(e.expand_bbs,"2chan",null)).preset.filter.regexp.filter)[0].pattern="^(http|https)://[^.]+\\.2chan\\.net/.*/.*"),_())return e;if(e.version<38&&(e.version=38,(x=(p=a(e.urlmap,"image_search")).filter.regexp.filter)[4]={pattern:"^[^:]+://image\\.search\\.yahoo\\.co\\.jp/search.*",flags:{i:!0,g:!1}}),_())return e;if(e.version<39){for(e.version=39,o(e.replacement_to_link,"direct_link_image_search",function(e){var t=e.filter;t.splice(8,3),t.splice(4,2),t[4].filter.regexp.filter[0]={pattern:"^[^:]+://yandex\\.(ru|com)/images/search[?].*img_url=.*$",flags:{i:!0,g:!1}},t[5].filter={type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^[^:]+://search\\.goo\\.ne\\.jp/imageDetail[?].*mode=7.*$",flags:{i:!0,g:!1}}]}}}),s(e.expand_video,"*",function(e){delete e.ustream}),s(e.style_sheet,"*",function(e){delete e.expand_video.inline.ustream}),(x=(p=a(e.urlmap,"search")).filter.asterisk.filter).splice(7,1),(x=(p=a(e.urlmap,"image_search")).filter.regexp.filter).splice(12,1),x.splice(6,1),x[4]={pattern:"^[^:]+://search\\.yahoo\\.co\\.jp/image/search.*",flags:{i:!0,g:!1}},x.splice(7,0,{pattern:"^[^:]+://[^.]+\\.aolsearch\\.com/image[?].*",flags:{i:!0,g:!1}}),x[9]={pattern:"^[^:]+://search\\.goo\\.ne\\.jp/web\\.jsp[?].*mode=7.*",flags:{i:!0,g:!1}},x[11]={pattern:"^[^:]+://search\\.naver\\.com/search\\.naver[?].*where=image.*",flags:{i:!0,g:!1}},(x=(p=a(e.urlmap,"realtime_search")).filter.asterisk.filter).splice(4,1),x.splice(1,5),x[0]="*://search.yahoo.co.jp/realtime/*",function(e,t,n){var a=l(e,"2ch_v6"),i=e[a];e.splice(a,1),e.splice(n,0,i)}(e.expand_bbs,0,l(e.expand_bbs,"2ch")),x=(u=a(e.expand_bbs,"2ch_v6")).filter.regexp.filter=[{pattern:"^(http|https)://[^.]+\\.2ch\\.net/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}},{pattern:"^(http|https)://[^.]+\\.bbspink\\.com/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}}],k=(x=(u=a(e.expand_bbs,"2ch")).filter.regexp.filter).length,E=0;E<k;E++)(v=x[E]).pattern=v.pattern.replace("^http:","^(http|https):");x.splice(3,1)}return _()||(e.version<40&&(e.version=40,(p=a(e.urlmap,"pixiv")).filter.asterisk.filter=["*://*.pixiv.net/","*://*.pixiv.net/*"],(x=(u=a(e.expand_bbs,"2ch")).filter.regexp.filter).splice(0,1),x=(u=a(e.expand_bbs,"2ch_v6")).filter.regexp.filter.push({pattern:"^(http|https)://[^.]+\\.2ch\\.net/[^/]+/kako/[0-9]+.*$",flags:{i:!0,g:!1}})),_()||(e.version<41&&(e.version=41,(u=a(e.replacement_to_referer,"direct_link_generic")).filter[0].filter.regexp.filter.push({pattern:"^(http|https)://i[0-9]*[.]pximg[.]net/.*[.](bmp|gif|jpg|jpeg|png)$",flags:{i:!0,g:!1}})),_()||(e.version<42&&(e.version=42,(u=a(e.urlmap,"bbs")).filter.asterisk.filter.splice(2,0,"*://5ch.net/*","*://*.5ch.net/*"),(x=(u=a(e.expand_bbs,"2ch_v6")).filter.regexp.filter)[0]={pattern:"^(http|https)://[^.]+\\.(2ch|5ch)\\.net/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}},x[2]={pattern:"^(http|https)://[^.]+\\.(2ch|5ch)\\.net/[^/]+/kako/[0-9]+.*$",flags:{i:!0,g:!1}}),_()||(e.version<43&&(e.version=43,(x=(p=a(e.urlmap,"image_search")).filter.regexp.filter).splice(9,4),x.splice(6,2),x.splice(4,1),(x=(u=a(e.replacement_to_link,"direct_link_image_search")).filter).splice(5,1),x.splice(2,1),(x=(u=a(e.replacement_to_link,"direct_link_generic")).filter).splice(2,2),x.splice(2,0,{name:{standard:"pbs.twimg.com (query)",locales:{ja:"pbs.twimg.com (query)",en:"pbs.twimg.com (query)"}},filter:{type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^(http|https)://pbs[.]twimg[.]com[/][^?]+[?].*format=.*$",flags:{i:!0,g:!1}}]}},enable_reflect_to_anchor:!1,enable_cache:!0,script:Je("ReplacementToLink_DirectLinkGeneric_Twimg_Query")}),x.splice(3,0,{name:{standard:"pbs.twimg.com (colon)",locales:{ja:"pbs.twimg.com (colon)",en:"pbs.twimg.com (colon)"}},filter:{type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^(http|https)://pbs[.]twimg[.]com[/][^.]+[.](jpg|png):.*$",flags:{i:!0,g:!1}}]}},enable_reflect_to_anchor:!1,enable_cache:!0,script:Je("ReplacementToLink_DirectLinkGeneric_Twimg_Coron")}),x.splice(4,4),x.splice(6,7),x.splice(11,1)),_()||(e.version<44&&(e.version=44,s(e.expand_video,"*",function(e){delete e.fc2video,delete e.liveleak;var t=e.nicovideo;delete t.visible_thumbnail_video,delete t.visible_thumbnail_mylist,delete t.visible_thumbnail_user,delete t.visible_thumbnail_community,delete t.visible_thumbnail_live,delete t.visible_thumbnail_seiga}),i("expand_iframe","expand_flash_inline"),s(e.style_sheet,"*",function(e){var t,n=e.expand_video.inline;delete n.fc2video,delete n.liveleak,delete(t=n.nicovideo).thumbnail_video,delete t.thumbnail_mylist,delete t.thumbnail_user,delete t.thumbnail_community,delete t.thumbnail_live,delete t.thumbnail_seiga})),_()||(e.version<45&&(e.version=45,(u=a(e.expand_bbs,"nicovideo_dictionary")).filter.regexp.filter=[{pattern:"^https://dic\\.nicovideo\\.jp/b/(a|c|i|l|u|v)/.+",flags:{i:!0,g:!1}},{pattern:"^https://dic\\.nicovideo\\.jp/(a|c|i|l|u|v)/.+",flags:{i:!0,g:!1}}]),_()||(e.version<46&&(e.version=46,s(e.expand_image,"*",function(e){delete e.load.src_type}),s(e.expand_video,"*",function(e){var t=e.inline;t.width_max=720,t.height_max=480}),e.download.load.cache_for_media="default"),_()||(e.version<47&&(e.version=47,s(e.expand_image,"*",function(e){e.load.src_type="blob_url",e.load.decode="pre-decode"}),s(e.expand_sound,"*",function(e){e.audio_element.src_type="url"}),s(e.expand_video,"*",function(e){e.video_element.src_type="url"}),s(e.style_sheet,"simple",function(e){e.expand_text.inline_unsafe="margin:2px 0px 2px 0px; border:2px #F00 solid;",e.expand_image.thumbnail_unsafe="margin:2px 0px 2px 0px; background-color:#FFF; border:2px #F00 solid;",e.expand_image.popup_unsafe="background-color:#FFF; border:2px #F00 solid;",e.expand_sound.inline.audio_element.audio_unsafe="margin:2px 0px 2px 0px; border:2px #F00 solid;",e.expand_video.inline.video_element.video_unsafe="margin:2px 0px 2px 0px; border:2px #F00 solid; width:720px; height:405px;",e.expand_iframe.inline_unsafe="margin:2px 0px 2px 0px; background-color:#FFF; border:2px #F00 solid;"}),s(e.style_sheet,"default",function(e){e.expand_text.inline_unsafe="margin:2px 0px 2px 0px; border:2px #F00 solid; padding:4px; background-color:#FFF; display:block;",e.expand_image.thumbnail_unsafe="margin:2px 0px 2px 0px; border:2px #F00 solid; padding:1px; background-color:#FFF;",e.expand_image.popup_unsafe="margin:0px; border:2px #F00 solid; padding:1px; background-color:#FFF;",e.expand_sound.inline.audio_element.audio_unsafe="margin:2px 0px 2px 0px; border:2px #F00 solid; padding:1px; background-color:#FFF;",e.expand_video.inline.video_element.video_unsafe="margin:2px 0px 2px 0px; border:2px #F00 solid; background-color:#F00; width:720px; height:405px;",e.expand_iframe.inline_unsafe="margin:2px 0px 2px 0px; border:2px #F00 solid; padding:1px; background-color:#FFF;"}),s(e.urlmap,"*",function(e){delete e.enable_unsecure,delete e.enable_mixed_content,e.mixed_passive_content="unsafe",e.mixed_active_content="safe"})),_()||(e.version<48&&(e.version=48,(x=(u=a(e.expand_bbs,"2ch_v6")).filter.regexp.filter)[0]={pattern:"^(http|https)://[^.]+\\.(2ch|5ch)\\.net/test/read\\.cgi/c/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}},(u=n(e.expand_bbs,"5ch_v8",null)).preset={name:{standard:"5ch.net (v.08)",locales:{ja:"５ちゃんねる掲示板（v.08）",en:"5ch.net (v.08)"}},filter:{type:"regexp",asterisk:{filter:[]},regexp:{filter:[{pattern:"^(http|https)://[^.]+\\.(2ch|5ch)\\.net/test/read\\.cgi/[^/]+/[0-9]+.*$",flags:{i:!0,g:!1}}]}},enable:!0,script_initialize:Je("ExpandBbs_ScriptInitialize_5ch_v8"),script_callback:Je("ExpandBbs_ScriptCallback_5ch_v8"),popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:75,y:90},time_wait_open:0,time_wait_close:250,style_sheet:"padding:20px 10px; margin:0px; border:1px solid #000; background:#FFF; overflow-y:auto; word-wrap:break-word; word-break:break-all; display:block;"}}),_()))))))))),e}function G(){function e(e,n){t[e]=n}var t;this.release=function(){t=null},this.getItem=function(e){return t[e]},t=new Object,e("ReplacementToElement_DeleteBrTags",[function(e){var t,n,a,i,o=e.element;if("br"!=o.tagName.toLowerCase())return!1;for(t=0,n=o.previousSibling;n;){if(1==(a=n.nodeType)){if("br"!=n.tagName.toLowerCase())break;if(++t>=2){(i=new Tt).executeRemoveElementBefore(o),rr(o),i.executeRemoveElementAfter(o);break}}else if(3==a&&!gr(n).match(new RegExp("^[ \r\n\t　]*$")))break;n=n.previousSibling}return!1},function(e,t){return t({}),!0}]),e("ReplacementToElement_MeiryoFont",[function(e){var t=e.element.style;return t&&(t.fontFamily="'メイリオ','Meiryo'"),!1},function(e,t){return t({}),!0}]),e("ReplacementToElement_AssistImageInAnchor",[function(e,t){var n=e.element;if(function(){if("IMG"==n.tagName)return!0;var e=Ho(n,null);return!(!e||0!=e.backgroundImage.indexOf("url("))}())for(;n;){if("A"==n.tagName)return t({url:n.href}),!0;n=n.parentNode}return!1},function(e,t){return t({}),!0}]),e("ReplacementToElement_AssistImageSearch",[function(e){var t,n,a=e.element;if("DIV"==a.tagName)try{if(a.getAttribute("data-ri")&&(t=a.getElementsByTagName("IMG")[0]))return(n=Is.createEvent("MouseEvent")).initMouseEvent("mousedown",!0,!1,Is.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(n),!0}catch(e){}return!1},function(e,t){return t({}),!0}]),e("ReplacementToElement_AssistTwitter",[function(e,t){var n=e.element;return!("IMG"!=n.tagName||!n.src.match(/(http|https)(:[/][/]pbs[.]twimg[.]com[/](media|card_img)[/][^?]+)[?].*format=/)||!function(){for(var e={"card.layoutLarge.media":1,tweetPhoto:1},t=n;t;){if(1==t.nodeType&&e[t.getAttribute("data-testid")])return!0;t=t.parentNode}return!1}()||(t({url:n.src}),0))},function(e,t){return t({}),!0}]),e("ReplacementToElement_AssistReddit",[function(e,t){var n,a=e.element;if("A"==a.tagName)for(n=a;n;){if(1==n.nodeType&&n.className.match(new RegExp("(^| )usertext( |$)")))return t({url:a.href}),!0;n=n.parentNode}return!1},function(e,t){return t({}),!0}]),e("ReplacementToElement_AssistDeviantArt",[function(e,t){var n=e.element;if("IMG"==n.tagName||"tt-bookendh"==n.className||Lo(n).search(new RegExp("tinythumb","i"))>=0)for(;n;){if("A"==n.tagName)return t({url:n.href}),!0;n=n.parentNode}return!1},function(e,t){return t({}),!0}]),e("ReplacementToElement_AssistPixiv",[function(e,t){var n,a,i,o,r=e.element;return!("LI"!=r.tagName||(n=Is.URL).indexOf("mode=manga")<0||!(a=Hi(n)).illust_id||!(i=r.getAttribute("data-position"))||!(o=r.getAttribute("data-tooltip"))||!o.match(/^[0-9]+$/)||(t({url:"http://www.pixiv.net/member_illust.php?mode=manga_big&illust_id="+a.illust_id+"&page="+i}),0))},function(e,t){var n=e.element;if("DIV"==n.tagName&&Lo(n).match(new RegExp("(^| )_layout-thumbnail( |$)")))for(;n;){if("A"==n.tagName)return t({url:n.href}),!0;n=n.parentNode}return!1},function(e,t){var n=e.element;if(function(){if(Lo(n).indexOf("user-icon")>=0)return!1;if("IMG"==n.tagName)return!0;var e=Ho(n,null);return!(!e||0!=e.backgroundImage.indexOf("url("))}())for(;n&&"_layout-thumbnail"!=n.className;){if("A"==n.tagName)return t({url:n.href}),!0;n=n.parentNode}return!1},function(e,t){return t({}),!0}]),e("ReplacementToElement_AssistNicoSeiga",[function(e,t){var n=e.element;if("IMG"==n.tagName||"item_info_container"==n.className)for(;n;){if("A"==n.tagName)return t({url:n.href}),!0;n=n.parentNode}return!1},function(e,t){return t({}),!0}]),e("ReplacementToElement_Default",[function(e,t){return e.element,t({}),!0}]),e("ReplacementToText_AlphanumericHalf",[function(e){var t=e.text_node,n=_r(t);return!!n&&(n=Oi(n=Ni(n=Mi(n))),ur(t,n=hs(n)),!1)},function(e,t){return t({}),!0}]),e("ReplacementToText_VisualizeSpaceAndTab",[function(e){for(var t,n,a,i,o,r=e.text_node;r;){if(!(t=_r(r)))return!1;if(t.match(/^( |　|\t|\n|\r)+$/))break;if(n=new RegExp("( |　|\t)","i"),!(a=t.match(n)))break;switch(ur(r,RegExp.leftContext),(i=yo("pre")).style.display="inline",a[1]){case" ":i.style.backgroundColor="#f00";break;case"　":i.style.backgroundColor="#0f0";break;case"\t":i.style.backgroundColor="#00f"}i.style.opacity=.1,Jo(i,r),Ze(o=Eo(a[1])),i.appendChild(o),ur(o=Eo("text"),RegExp.rightContext),Jo(o,i),r=o}return!1},function(e,t){return t({}),!0}]),e("ReplacementToText_Default",[function(e,t){return e.text_node,t(),!0}]),e("ReplacementToAnchor_AutoDownloadAll",[function(e){var t,n=e.anchor_element.href;return(!!Qi(n).protocol.match(/^(http|https|ftp):/i)||!!Xi(n))&&((t=new bt).setURL(n),t.setSaveAs(!1),t.setSilent(!0),t.setAllowSameRequest(!1),t.start()),!1},function(e,t){return t({}),!0}]),e("ReplacementToAnchor_AutoDownloadImage",[function(e){var t,n,a=e.anchor_element.href;return(!!Qi(a).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||!(!(n=Xi(a))||!n.mimetype.match(/^image[/]/i)))&&((t=new bt).setURL(a),t.setSaveAs(!1),t.setSilent(!0),t.setAllowSameRequest(!1),t.start()),!1},function(e,t){return t({}),!0}]),e("ReplacementToAnchor_AddDownloadListAll",[function(e){var t=e.anchor_element.href;return(!!Qi(t).protocol.match(/^(http|https|ftp):/i)||!!Xi(t))&&Wr.createItem().setURL(t),!1},function(e,t){return t({}),!0}]),e("ReplacementToAnchor_AddDownloadListImage",[function(e){var t,n=e.anchor_element.href;return(!!Qi(n).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||!(!(t=Xi(n))||!t.mimetype.match(/^image[/]/i)))&&Wr.createItem().setURL(n),!1},function(e,t){return t({}),!0}]),e("ReplacementToAnchor_DisablePopupImageSearch",[function(e,t){return t({}),!0}]),e("ReplacementToAnchor_DisableEventFacebook",[function(e){var t=e.anchor_element,n=t.parentNode;return n&&Lo(n).match(new RegExp("(^| )userContent( |$)","i"))&&(t.removeAttribute("onmouseover"),t.removeAttribute("onclick"),t.onmouseover=null,t.onclick=null),!1},function(e,t){return t({}),!0}]),e("ReplacementToAnchor_DirectLinkTwitter",[function(e){var t=e.anchor_element,n=t.getAttribute("data-expanded-url");return n&&Gi(t.href,"*://t.co/*")&&(t.href=n),!1},function(e,t){return t({}),!0}]),e("ReplacementToAnchor_DirectLinkFacebook",[function(e){var t,n=e.anchor_element,a=n.href;return a.match(new RegExp("^(http|https)://[^\\.]+\\.facebook\\.com/l\\.php?","i"))&&(t=Hi(a)).u&&(n.href=unescape(t.u)),!1},function(e,t){return t({}),!0}]),e("ReplacementToAnchor_DirectLinkRealtimeSearch",[function(e){var t,n=e.anchor_element,a=decodeURIComponent(n.href).match(new RegExp("^(http|https)://ord\\.yahoo\\.co\\.jp/o/realtime/.*RU=([0-9a-zA-Z._]+)"));return a&&(t=ui(a[2].replace(/[.]/g,"+").replace(/[_]/g,"/").replace(/[-]/g,"=")))&&(n.href=xi(t)),!1},function(e,t){return t({}),!0}]),e("ReplacementToAnchor_DirectLinkSearch",[function(e){var t,n,a=e.anchor_element;return((n=a.getAttribute("onmousedown")||(a.onmousedown?a.onmousedown.toString():"")||"").match(/return rwt\(this,/)||n.match(/return lswap\(this/))&&(a.onmousedown=null,(t=a.parentNode).addEventListener&&t.addEventListener("mousedown",function(e){e.stopPropagation()},!0)),!1},function(e){var t,n=e.anchor_element,a=n.href,i=new RegExp("^(http|https)://www\\.google\\.(com|co\\.jp)/url[?].*","i");return a.match(i)&&(t=Hi(a)).url&&(n.href=decodeURIComponent(t.url)),!1},function(e){var t=e.anchor_element,n=t.href,a=new RegExp("^(http|https)://search[.]yahoo[.]co[.]jp/r/.*_ylt=.*[/][*][*](.*)$","i");return n.match(a)&&(t.href=decodeURIComponent(RegExp.$2)),!1},function(e,t){return t({}),!0}]),e("ReplacementToAnchor_DirectLinkBbs",[function(e){var t,n,a,i=e.anchor_element,o=i.href,r=[{search:"^(http|https)://ime\\.nu/",replace:""},{search:"^(http|https)://jump\\.(2ch|5ch)\\.net/[?]",replace:""},{search:"^(http|https)://2ch\\.io/",replace:""},{search:"^(http|https)://machi\\.to/bbs/link\\.cgi[?]URL=",replace:""},{search:"^(http|https)://(www\\.|)pinktower\\.com/([?]|)",replace:""},{search:"^(http|https)://jbbs\\.shitaraba\\.net/bbs/link\\.cgi[?]url=",replace:"",decode_uri:!0},{search:"^(http|https)://l\\.moapi\\.net/",replace:""}],s=r.length,l=new RegExp("^(http|https|ftp)://");for(n=0;n<s;n++)if(a=r[n],t=new RegExp(a.search,"i"),o.match(t)){o=o.replace(t,a.replace),a.decode_uri&&(o=decodeURIComponent(o)),o.match(l)||(o="http://"+o),i.href=o;break}return!1},function(e,t){return t({}),!0}]),e("ReplacementToAnchor_DisplayUrlInTooltip",[function(e){function t(){a.title=a.href}var n,a=e.anchor_element,i=e.event_dispatcher,o=i.createEventHandler("release");return o.setFunction(function(){n&&(n.release(),n=null),o&&(o.release(),o=null)}),(n=i.createEventHandler("anchor_href_change")).setFunction(t),t(),!1},function(e,t){return t({}),!0}]),e("ReplacementToAnchor_AttachSnsCounter",[function(e){function t(){var e=s.shift();e&&e()}function n(){t()}function a(e){var t,n,a,i,o=yo("table"),r=yo("tbody");return o.appendChild(r),t=yo("tr"),n=yo("td"),a=yo("td"),r.appendChild(t),t.appendChild(n),t.appendChild(a),n.appendChild(Eo(e.label)),a.appendChild(Eo(e.value)),o.cellspacing="0",(i=o.style).cssText="border:1px solid #888; border-spacing:0; margin;0; margin-right:2px; padding:0; line-height:1.0; border-radius:2px; display:inline-block; font-size:14px; width:auto; heigh:auto;",e.tooltip&&(o.title=e.tooltip),e.borderColor&&(i.borderColor=e.borderColor),(i=t.style).cssText="margin:0; padding:0; width:auto; height:auto;",(i=n.style).cssText="margin:0; padding:1px 2px; background:#fff; text-align:center; width:auto; height:auto; color:#000;",e.color&&(i.color=e.color),e.background&&(i.background=e.background),(i=a.style).cssText="padding:1px 2px; background:#fff; text-align:center; width:auto; height:auto;",o}var i=e.anchor_element,o=i.href,r=new Array,s=[function(){var e=new us;e.onerror=n,e.onload=function(e){var n;try{(n=li(e).count)&&r.push(a({label:"t",value:n,tooltip:"twitter Retweet",color:"#fff",background:"#33CCFF",borderColor:"#33CCFF"}))}catch(e){}t()},e.setURL("http://urls.api.twitter.com/1/urls/count.json?url="+o),e.loadText()},function(){var e,i=new us;i.onerror=n,i.onload=function(e){var n;try{(n=li(e)[0].total_count)&&r.push(a({label:"f",value:n,tooltip:"Facebook Like",color:"#fff",background:"#3B5999",borderColor:"#233774"}))}catch(e){}t()},e='SELECT total_count FROM link_stat WHERE url="'+o+'"',e=encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+"),i.setURL("https://api.facebook.com/method/fql.query?format=json&query="+e),i.loadText()},function(){var e=new us;e.onerror=n,e.onload=function(e){if(e.match(/window\.__SSR = [{]c: ([0-9]+)/i)){var n=parseInt(RegExp.$1);n&&r.push(a({label:"g+",value:n,tooltip:"Google +1",color:"#fff",background:"#CD4131",borderColor:"#A5281A"}))}t()},e.setURL("https://plusone.google.com/u/0/_/+1/fastbutton?count=true&url="+o),e.loadText()},function(){var e=new us;e.onerror=n,e.onload=function(e){try{e&&r.push(a({label:"B!",value:e,tooltip:"Hatena Bookmark",color:"#fff",background:"#2B65A9",borderColor:"#2B65A9"}))}catch(e){}t()},e.setURL("http://api.b.st-hatena.com/entry.count?url="+escape(o)),e.loadText()},function(){var e=new us;e.onerror=n,e.onload=function(e){var n;try{(n=li(e.match(/\((.*)\)/i)[1]).count)&&r.push(a({label:"Pi",value:n,tooltip:"Pinterest Pin Count",color:"#fff",background:"#DF2532",borderColor:"#8C1B22"}))}catch(e){}t()},e.setURL("http://widgets.pinterest.com/v1/urls/count.json?source=6&url="+encodeURIComponent(o)),e.loadText()},function(){var e=new us;e.onerror=n,e.onload=function(e){var n;try{(n=li(e).data.children[0].data.score)&&r.push(a({label:"r",value:n,tooltip:"reddit Score",color:"#30659A",background:"#C7DEF7",borderColor:"#C7DEF7"}))}catch(e){}t()},e.setURL("http://buttons.reddit.com/button_info.json?url="+encodeURIComponent(o)),e.loadText()},function(){var e=new us;e.onerror=n,e.onload=function(e){var n;try{(n=li(e).result.views)&&r.push(a({label:"SU",value:n,tooltip:"StumbleUpon Views",color:"#fff",background:"#E6492E",borderColor:"#E6492E"}))}catch(e){}t()},e.setURL("http://www.stumbleupon.com/services/1.01/badge.getinfo?url="+encodeURIComponent(o)),e.loadText()},function(){var e,t,n,a=r.length;if(a){for(Oo(e=yo("span"),"all:initial; line-height:1.0;"),t=0;t<a;t++)e.appendChild(r[t]);n=function(){rr(e)},e.addEventListener?e.addEventListener("click",n,!0):e.attachEvent&&e.attachEvent("onclick",n),Jo(e,i)}}];return o.match(new RegExp("^(http|https)://","i"))&&t(),!1},function(e,t){return t({}),!0}]),e("ReplacementToAnchor_NoReferrer",[function(e){var t=e.anchor_element;return t.rel.match(/noreferrer/i)||(t.rel?t.rel+=" noreferrer":t.rel="noreferrer"),!1},function(e,t){return t({}),!0}]),e("ReplacementToAnchor_Default",[function(e,t){return e.anchor_element,e.event_dispatcher,t(),!0}]),e("ReplacementToLink_DirectLinkGeneric_OgpOgImage",[function(e,t){var n=e.anchor_element,a=new us;return a.onload=function(e){var n=e.match(new RegExp('<meta[^>]+?(property|name)[ \n\r\t]*=[ \n\r\t]*"og:image"[^>]*>',"i"));n&&(n=n[0].match(new RegExp('content[ \n\r\t]*=[ \n\r\t]*"([^"]+?)"',"i")))?t({result:!0,url:n[1],content_type:["image"]}):t({result:!1})},a.onerror=function(){t({result:!1})},a.setMethod("GET"),a.setURL(n.href),a.loadText(),!0}]),e("ReplacementToLink_DirectLinkGeneric_OgpTwitter",[function(e,t){var n=e.anchor_element,a=new us;return a.onload=function(e){var n,a;if(e.match(new RegExp('<meta[ \n\r\t]+?name[ \n\r\t]*?=[ \n\r\t]*?"twitter:card"[ \n\r\t]+?content[ \n\r\t]*?=[ \n\r\t]*?"([^"]+?)"',"i")))switch(RegExp.$1){case"player":if(e.match(new RegExp('<meta[ \n\r\t]+?name[ \n\r\t]*?=[ \n\r\t]*?"twitter:player"[ \n\r\t]+?content[ \n\r\t]*?=[ \n\r\t]*?"([^"]+?)"',"i")))return n=(n=RegExp.$1.replace(/&amp;/g,"&")).replace(/&amp;/g,"&"),void t({result:!0,url:n});case"photo":case"summary":if(e.match(new RegExp('<meta[ \n\r\t]+?name[ \n\r\t]*?=[ \n\r\t]*?"twitter:image"[ \n\r\t]+?content[ \n\r\t]*?=[ \n\r\t]*?"([^"]+?)"',"i")))return a=(a=RegExp.$1.replace(/&amp;/g,"&")).replace(/&amp;/g,"&"),void t({result:!0,url:a,content_type:["image"]})}t({result:!1})},a.onerror=function(){t({result:!1})},a.setMethod("GET"),a.setURL(n.href),a.loadText(),!0}]),e("ReplacementToLink_DirectLinkGeneric_Twimg_Query",[function(e,t){var n,a,i=e.anchor_element.href,o=i.match(/(http|https)(:[/][/]pbs[.]twimg[.]com[/])([^/]+)([/][^?]+)[?].*format=/);return o&&(n=Hi(i),a=o[1]+o[2]+o[3]+o[4],"media"==o[3]?a+="."+n.format+":orig":a+="?format="+n.format+"&name=orig",t({result:!0,url:a,content_type:["image"]})),!0}]),e("ReplacementToLink_DirectLinkGeneric_Twimg_Coron",[function(e,t){var n=e.anchor_element.href.match(/(http|https)(:[/][/]pbs[.]twimg[.]com[/][^.]+)[.](jpg|png)[:]/);return n&&t({result:!0,url:n[1]+n[2]+"."+n[3]+":orig",content_type:["image"]}),!0}]),e("ReplacementToLink_DirectLinkGeneric_Flickr",[function(e,t){var n=e.anchor_element,a=new us;return a.onload=function(e){var n,a;n||(a=e.match(new RegExp('<img[^>]+class="[^"]*main-photo[^"]*"',"i")))&&(a=a[0].match(new RegExp('src[ \n\r\t]*=[ \n\r\t]*"([^"]+?)"',"i")))&&(n=a[1]),n||(a=e.match(new RegExp('<meta[^>]+?(property|name)[ \n\r\t]*=[ \n\r\t]*"og:image"[^>]*>',"i")))&&(a=a[0].match(new RegExp('content[ \n\r\t]*=[ \n\r\t]*"([^"]+?)"',"i")))&&(n=a[1]),t(n?{result:!0,url:n,content_type:["image"]}:{result:!1})},a.onerror=function(){t({result:!1})},a.setMethod("GET"),a.setURL(n.href),a.loadText(),!0}]),e("ReplacementToLink_DirectLinkGeneric_Imgur",[function(e,t){var n=e.anchor_element,a=new us;return a.onload=function(e){var n,a="",i=new Array;a||(n=e.match(new RegExp('<meta[ \n\r\t]+?name[ \n\r\t]*?=[ \n\r\t]*?"twitter:player"[ \n\r\t]+?content[ \n\r\t]*?=[ \n\r\t]*?"([^"]+?)"',"i")))&&(n=n[1].match(new RegExp("(.*?\\.gif)v","i")))&&(a=n[1],i.push("image")),a||(n=e.match(new RegExp('<meta[ \n\r\t]+?name[ \n\r\t]*?=[ \n\r\t]*?"twitter:stream"[ \n\r\t]+?content[ \n\r\t]*?=[ \n\r\t]*?"([^"]+?)"',"i")))&&(a=n[1]),a||(n=e.match(new RegExp('<link[ \n\r\t]+?rel[ \n\r\t]*?=[ \n\r\t]*?"image_src"[ \n\r\t]+?href[ \n\r\t]*?=[ \n\r\t]*?"([^"]+?)"',"i")))&&(a=n[1],i.push("image")),a||(n=e.match(new RegExp('<meta[ \n\r\t]+?name[ \n\r\t]*?=[ \n\r\t]*?"twitter:image"[ \n\r\t]+?content[ \n\r\t]*?=[ \n\r\t]*?"([^"]+?)"',"i")))&&(a=n[1],i.push("image")),a&&t({result:!0,url:a,content_type:i}),t({result:!1})},a.onerror=function(){t({result:!1})},a.setMethod("GET"),a.setURL(n.href),a.loadText(),!0}]),e("ReplacementToLink_DirectLinkGeneric_DeviantArt",[function(e,t){var n=e.anchor_element,a=new us;return a.onload=function(e){var n,a=e.match(new RegExp('<meta[^>]+?(property|name)[ \n\r\t]*=[ \n\r\t]*"og:image"[^>]*>',"i"));if(a&&(a=a[0].match(new RegExp('content[ \n\r\t]*=[ \n\r\t]*"([^"]+?)"',"i")))&&(n=a[1]),n)return(a=n.match(new RegExp("^(.*)/PRE/(.*)$","i")))&&(n=a[1]+"/"+a[2]),void t({result:!0,url:n,content_type:["image"]});t({result:!1})},a.onerror=function(){t({result:!1})},a.setMethod("GET"),a.setURL(n.href),a.loadText(),!0}]),e("ReplacementToLink_DirectLinkGeneric_NicoSeigaIllust",[function(e,t){var n=e.anchor_element,a=new us;return a.onload=function(e){function a(){var n,a=e.match(new RegExp('<meta[^>]+?(property|name)[ \n\r\t]*=[ \n\r\t]*"og:image"[^>]*>',"i"));a&&(a=a[0].match(new RegExp('content[ \n\r\t]*=[ \n\r\t]*"([^"]+?)"',"i")))&&(n=a[1]),t(n?{result:!0,url:n,content_type:["image"]}:{result:!1})}var i,o,r;e.search(new RegExp('class[ \n\r\t]*=[ \n\r\t]*"siteHeaderLogin"',"i"))>=0?a():(i="",n.href.match(new RegExp("im([0-9]+)","i"))&&(i=RegExp.$1),n.href.match(new RegExp("id=([0-9]+)","i"))&&(i=RegExp.$1),o="http://seiga.nicovideo.jp/image/source/"+i,(r=new us).onload=function(e){var n=e,i=n.match(new RegExp("((http|https)://lohas\\.nicoseiga\\.jp/)o(/[a-z0-9]+/[0-9]+/[0-9]+)","i"));i&&(n=i[1]+"priv"+i[3]),n?t({result:!0,url:n,content_type:["image"]}):a()},r.onerror=function(){a()},r.setMethod("GET"),r.setURL(o),r.loadFinalURL())},a.onerror=function(){t({result:!1})},a.setMethod("GET"),a.setURL(n.href),a.loadText(),!0}]),e("ReplacementToLink_DirectLinkGeneric_NicoSeigaIllustDirectLink",[function(e,t){var n=e.anchor_element,a=new us;return a.onload=function(e){var n=e,a=n.match(new RegExp("((http|https)://lohas\\.nicoseiga\\.jp/)o(/[a-z0-9]+/[0-9]+/[0-9]+)","i"));a&&(n=a[1]+"priv"+a[3]),t(n?{result:!0,url:n,content_type:["image"]}:{result:!1})},a.onerror=function(){t({result:!1})},a.setMethod("GET"),a.setURL(n.href),a.loadFinalURL(),!0}]),e("ReplacementToLink_DirectLinkGeneric_NicoSeigaManga",[function(e,t){var n=e.anchor_element,a=new us;return a.onload=function(e){var n,a;n||(a=e.match(new RegExp('data-original[ \n\r\t]*=[ \n\r\t]*"((http|https)://lohas.nicoseiga.jp/thumb/[^"]*)"',"i")))&&(n=a[1]),n||(a=e.match(new RegExp('<img[^>]+?class[ \n\r\t]*=[ \n\r\t]*"thumb"[^>]*>',"i")))&&(a=a[0].match(new RegExp('src[ \n\r\t]*=[ \n\r\t]*"([^"]+?)"',"i")))&&(n=a[1]),t(n?{result:!0,url:n,content_type:["image"]}:{result:!1})},a.onerror=function(){t({result:!1})},a.setMethod("GET"),a.setURL(n.href),a.loadText(),!0}]),e("ReplacementToLink_DirectLinkGeneric_PixivNet",[function(e,t){var n,a=e.anchor_element.href,i=Hi(a),o=a.match(new RegExp("(http|https)(://)([^\\.]+)(\\.pixiv\\.net/.*)","i"));return o&&(a=o[1]+o[2]+"www"+o[4]),n=new us,"manga_big"==i.mode&&i.page?n.onload=function(e){var n=e.match(new RegExp('<body><img[^>]+src="([^"]+)"',"i"));n?t({result:!0,url:n[1],content_type:["image"]}):(n=e.match(new RegExp("pixiv\\.context\\.images\\["+i.page+"\\] = '([^']+)';","i")))&&(n=n[1].match("(.*)(_p[0-9]+\\.[a-z]+)$","i"))?t({result:!0,url:n[1]+"_big"+n[2],content_type:["image"]}):t({result:!1})}:((o=a.match(new RegExp("mode=([a-z]+)","i")))&&(a=RegExp.leftContext+"mode=medium"+RegExp.rightContext),n.onload=function(e){var n,a,i,o,r,s,l;if(n||(a=e.match(new RegExp('<img[^>]+class="original-image"[^>]*>',"i")))&&(a=a[0].match(new RegExp('src="([^"]+)"',"i")))&&(n=a[1]),!n&&(a=e.match(new RegExp('<div class="(img-container|front-centered|works_display)">.*',"i")))&&(a=a[0].match(new RegExp('<a[^>]+href="([^"]+)".*</a>',"i")))&&(i=a[1],(a=a[0].match(new RegExp('<img src="((http|https)://i[0-9]+\\.pixiv\\.net[^"]*)"',"i")))&&(n=a[1],-1==i.indexOf("mode=manga")&&((a=n.match(new RegExp("^(.*)_m(\\.[a-z]+)$","i")))&&(n=a[1]+a[2]),a=n.match(new RegExp("^(http://[^/]+/).*(/img/.*)_master1200(\\.[a-z]+)$","i"))))))return o=a[1]+"img-original"+a[2]+".",r=["gif","png","jpg"],s=function(e){t({result:!0,url:e,content_type:["image"]})},l=function(){var e,t,a=r.pop();a?(e=o+a,(t=new us).onload=function(t){var n=t["Content-Type"];n||(n=""),n.match("image")?s(e):l()},t.onerror=function(){l()},t.setMethod("GET"),t.setURL(e),t.loadResponseHeader()):s(n)},void l();t(n?{result:!0,url:n,content_type:["image"]}:{result:!1})}),n.onerror=function(){t({result:!1})},n.setMethod("GET"),n.setURL(a),n.loadText(),!0}]),e("ReplacementToLink_DirectLinkImageSearch_Google",[function(e,t){var n,a=e.anchor_element.href,i=new RegExp("^(http|https)://.*?\\.google\\.(at|be|ca|ch|de|es|fr|it|nl|no|pl|ru|se|co\\.(id|in|jp|th|uk|za)|com|com\\.(ar|au|br|mx|sa|tr|tw))/imgres[?].*","i");if(a.match(i)&&(n=Hi(a)).imgurl)try{return t({result:!0,url:decodeURIComponent(decodeURIComponent(n.imgurl)),content_type:["image"]}),!0}catch(e){}return!1},function(e,t){return t({result:!1}),!0}]),e("ReplacementToLink_DirectLinkImageSearch_YahooImageSearch",[function(e,t){var n,a=e.anchor_element.href,i=new RegExp("(image|images)\\.search\\.yahoo\\.com/images/view;.*","i");return!(!a.match(i)||!(n=Hi(a)).imgurl||(t({result:!0,url:"http://"+unescape(n.imgurl),content_type:["image"]}),0))},function(e,t){return t({result:!1}),!0}]),e("ReplacementToLink_DirectLinkImageSearch_Bing",[function(e,t){var n,a=e.anchor_element,i=a.href,o=new RegExp("^(http|https)://www\\.bing\\.com/images/search[?].*","i");return!(!i.match(o)||!(n=function(){var e;try{if((e=li(a.getAttribute("m")||"")).murl)return e.murl}catch(e){}return null}())||(t({result:!0,url:n,content_type:["image"]}),0))},function(e,t){var n,a=e.anchor_element;return"dg_u"==a.parentNode.className&&((n=new us).onload=function(e){e.match(new RegExp('<a[ ]+?id="m_fsi"[ ]+?href="(.*?)"',"i"))?t({result:!0,url:RegExp.$1,content_type:["image"]}):t({result:!1})},n.onerror=function(){t({result:!1})},n.setMethod("GET"),n.setURL(a.href),n.loadText(),!0)},function(e,t){return t({result:!1}),!0}]),e("ReplacementToLink_DirectLinkImageSearch_Yandex",[function(e,t){var n,a=Hi(e.anchor_element.href);return!!a.img_url&&(0!=(n=decodeURIComponent(a.img_url)).indexOf("http")&&(n="http://"+n),t({result:!0,url:n,content_type:["image"]}),!0)},function(e,t){return t({result:!1}),!0}]),e("ReplacementToLink_DirectLinkWikipedia",[function(e,t){var n,a,i=e.anchor_element;return(a=Qi(i.href)).name.match(/:/)&&a.ext.match(/^(bmp|gif|jpg|jpeg|png|svg|webp|avif)$/i)&&((n=new us).onload=function(e){var n,a=e.match(/<meta[^>]+?property="og:image"[^>]+?content="([^">]+)"[^>]*>[^">]/i);a&&((a=(n=a[1]).match(/([/][/]upload[.]wikimedia[.]org[/]wikipedia[/][^/]+[/])thumb[/]([^/]+[/][^/]+[/].*?)[/]/i))&&(n="https:"+a[1]+a[2]),t({result:!0,url:n,content_type:["image"]})),t({result:!1})},n.onerror=function(){t({result:!1})},n.setMethod("GET"),n.setURL(i.href),n.loadText()),!0}]),e("ReplacementToLink_DirectLinkFindImageInHTML_ImageOfTheLargestByte",[function(e,t){var n=e.anchor_element.href,a=new us;return a.onload=function(e){e["Content-Type"]&&e["Content-Type"].match("text")||t({result:!1});var a=new us;a.onload=function(e){var a,i,o,r=new Array,s=e.match(new RegExp('<base[^>]+href[ \n\r\t]*=[ \n\r\t]*"([^"]+?)"',"i"));s&&(a=s[0]),e.replace(new RegExp('<img[^>]+src[ \n\r\t]*=[ \n\r\t]*"([^"]+?)"',"ig"),function(e,t){r.push(Yi(t,n,a))}),i=new RegExp("\\.(bmp|gif|jpg|jpe|jpeg|png)([#?]|$)","i"),e.replace(new RegExp('<a[^>]+href[ \n\r\t]*=[ \n\r\t]*"([^"]+?)"',"ig"),function(e,t){t.match(i)&&r.push(Yi(t,n,a))}),o=new Array,function e(){var n,a,i,s,l,c,_=r.pop();if(_)_.match(new RegExp("^(http|https)://","i"))?((c=new us).onload=function(t){!t["Content-Type"]||!t["Content-Length"]||!t["Content-Type"].match("image")||o.push({url:_,byte_size:parseInt(t["Content-Length"])}),e()},c.onerror=function(){e()},c.setURL(_),c.loadResponseHeader()):e();else{for(n=0,s=o.length,i=0;i<s;i++)(l=o[i]).byte_size>n&&(n=l.byte_size,a=l);t(a?{result:!0,url:a.url,content_type:["image"]}:{result:!1})}}()},a.onerror=function(){t({result:!1})},a.setMethod("GET"),a.setURL(n),a.loadText()},a.onerror=function(){t({result:!1})},a.setURL(n),a.loadResponseHeader(),!0},function(e,t){return t({result:!1}),!0}]),e("ReplacementToLink_Default",[function(e,t){return e.anchor_element,t({result:!1}),!0}]),e("MakeLinkToText_Simple",[function(e){var t,n,a,i,o,r,s,l,c,_,u,p,d,m,g,f,h=e.text_node,x=[["https://","https://"],["http://","http://"],["ftp://","ftp://"]],b=x.length,v="(",w=new Object;for(t=0;t<b;t++)w[(n=x[t])[0]]=n[1],v+=n[0],t<b-1&&(v+="|");return v+=")",a={WBR:1},i={SPAN:1,FONT:1,TT:1,EM:1,B:1,S:1,I:1,BIG:1,SMALL:1},o="[-a-zA-Z0-9#%_.!~*';/?:@&=+$,]",r=new RegExp(v+"("+o+"*)","ig"),s=new RegExp("^("+o+"*)","i"),l=new RegExp("^(http|https|ftp)://("+o+"{4,})$",""),c=new RegExp("\\.\\.\\.$",""),_=_r(h),u=0,p=0,f=_.length,_.replace(r,function(e,n,o,r){var x,v,y,E,k,A,R,T,I;if(u=r,m=n.length,g=o.length,x=w[n]+_.substr(u+m,g),f>u+m+g)x.match(l)&&!x.match(c)&&(h.nodeValue=_.substring(p,u),(v=yo("a")).href=x,fr(v,n+o),ar(h,v),p=u+=m+g,ar(v,h=Eo(_.substring(u))));else{for(y=new Array,E=_.substring(p,u),y.push(Eo(n+o)),k=h.nextSibling;k;){if(1==k.nodeType){if(A=!1,R=k.tagName,a[R])y.push(k),A=!0;else if(i[R]){for(T=k.childNodes,b=T.length,t=0;t<b&&(3==(I=T[t]).nodeType||1==I.nodeType&&a[I.tagName]);t++);t>=b&&(_=gr(k),(d=_.match(s))&&(RegExp.rightContext||(x+=_.substr(0,d[1].length),y.push(k),A=!0)))}if(!A)break}else if(3==k.nodeType&&(_=_r(k),d=_.match(s))){if(x+=_.substr(0,d[1].length),RegExp.rightContext){x.match(l)&&!x.match(c)&&(k.nodeValue=_.substr(0,d[1].length),y.push(k),ar(k,I=Eo(_.substring(d[1].length))));break}y.push(k)}k=k.nextSibling}if(x.match(l)&&!x.match(c))for(h.nodeValue=E,(v=yo("a")).href=x,ar(h,v),b=y.length,t=0;t<b;t++)y[t]&&v.appendChild(y[t])}}),!1},function(e,t){return t({}),!0}]),e("MakeLinkToText_Detail",[function(e){var t,n,a,i,o,r,s,l,c,_,u,p,d,m,g,f,h,x=e.text_node,b=[["https://","https://"],["http://","http://"],["ttps://","https://"],["ttp://","http://"],["ftp://","ftp://"],["tps://","https://"]],v=b.length,w="(",y=new Object;for(t=0;t<v;t++)y[(n=b[t])[0]]=n[1],w+=n[0],t<v-1&&(w+="|");return w+=")",a={WBR:1},i={SPAN:1,FONT:1,TT:1,EM:1,B:1,S:1,I:1,BIG:1,SMALL:1},o="[-a-zA-Z0-9#%_.!~*';/?:@&=+$,]",r=new RegExp(w+"("+o+"*)","ig"),s=new RegExp("^("+o+"*)","i"),l=new RegExp("^(http|https|ftp)://("+o+"{4,})$",""),c=new RegExp("\\.\\.\\.$",""),_=_r(x),u=Oi(u=Ni(u=Mi(_))),p=0,d=0,h=u.length,u.replace(r,function(e,n,o,r){var b,w,E,k,A,R,T,I,C;if(p=r,g=n.length,f=o.length,b=y[n]+u.substr(p+g,f),h>p+g+f)b.match(l)&&!b.match(c)&&(x.nodeValue=_.substring(d,p),(w=yo("a")).href=b,fr(w,_.substr(p,g+f)),ar(x,w),d=p+=g+f,ar(w,x=Eo(_.substring(p))));else{for(E=new Array,k=_.substring(d,p),E.push(Eo(_.substr(p,g+f))),A=x.nextSibling;A;){if(1==A.nodeType){if(R=!1,T=A.tagName,a[T])E.push(A),R=!0;else if(i[T]){for(I=A.childNodes,v=I.length,t=0;t<v&&(3==(C=I[t]).nodeType||1==C.nodeType&&a[C.tagName]);t++);t>=v&&(_=gr(A),u=Oi(u=Ni(u=Mi(_))),(m=u.match(s))&&(RegExp.rightContext||(b+=u.substr(0,m[1].length),E.push(A),R=!0)))}if(!R)break}else if(3==A.nodeType&&(_=_r(A),u=Oi(u=Ni(u=Mi(_))),m=u.match(s))){if(b+=u.substr(0,m[1].length),RegExp.rightContext){b.match(l)&&!b.match(c)&&(A.nodeValue=_.substr(0,m[1].length),E.push(A),ar(A,C=Eo(_.substring(m[1].length))));break}E.push(A)}A=A.nextSibling}if(b.match(l)&&!b.match(c))for(x.nodeValue=k,(w=yo("a")).href=b,ar(x,w),v=E.length,t=0;t<v;t++)E[t]&&w.appendChild(E[t])}}),!1},function(e,t){return t({}),!0}]),e("MakeLinkToText_Default",[function(e,t){return e.text_node,t(),!0}]),e("ExpandText_InlineScriptAllow_Inline",[function(e,t){var n=e.anchor_element.parentNode;return!!(n&&Do(n)<50)&&(t({result:!1}),!0)},function(e,t){e.anchor_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(txt)$/i)||(n=Xi(a))&&n.mimetype.match(/^text[/]/i))&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandText_InlineScriptInsert_Inline",[function(e,t){var n,a,i,o,r,s,l,c,_,u,p=e.anchor_element,d=e.textarea_element,m=e.event_dispatcher,g=d.style,f=400,h=new Tt;return h.executeAttachElementBefore(d),n=yo("div"),a=new Lt(n,!0),Oo(n,"height:0px;"),ar(p,n),ar(n,d),i=yo("div"),o=new Lt(i,!0),Oo(i,"height:0px;"),ar(d,i),s=(r=jo(d)).bottom-r.top,g.width="0px",g.height="0px",l=(r=jo(d)).right-r.left,c=r.bottom-r.top,(_=Do(d.parentNode)-l)<(f-=l)&&(f=_),g.width=f+"px",g.height=s-c+"px",h.executeAttachElementAfter(d),(u=m.createEventHandler("release")).setFunction(function(){a&&(a.release(),a=null),o&&(o.release(),o=null),u&&(u.release(),u=null)}),t(),!1}]),e("ExpandText_InlineScriptAllow_Default",[function(e,t){return e.current_element,e.url,e.content_type,t({result:!1}),!0}]),e("ExpandText_InlineScriptInsert_Default",[function(e,t){return e.current_element,e.textarea_element,e.event_dispatcher,t(),!0}]),e("ExpandImage_ThumbnailScriptInsert",[function(e,t){function n(){rr(y),u&&(u.release(),u=null),d&&(d.release(),d=null),v&&(v.release(),v=null)}function a(e){e.ctrlKey?(k.width=r.width+"px",k.height=r.height+"px"):n()}var i,o,r,s,l,c,_,u,p,d,m,g,f,h,x,b,v,w=e.current_element,y=e.image_element,E=e.event_dispatcher,k=y.style,A=new Tt;return A.executeAttachElementBefore(y),r=Mr(y),s=Fr.getWidthMinThumbnailImage(),l=Fr.getWidthMaxThumbnailImage(),c=Fr.getScalePercentThumbnailImage(),i=r.width/100*c,o=r.height/100*c,_=yo("div"),u=new Lt(_,!0),Oo(_,"height:0px;"),ar(w,_),ar(_,y),p=yo("div"),d=new Lt(p,!0),Oo(p,"height:0px"),ar(y,p),k.width="0px",k.height="0px",g=(m=jo(y)).right-m.left,f=m.bottom-m.top,l>(h=Do(y.parentNode))&&(l=h),o-=f,(x=s-g)>(i-=g)&&(o*=x/i,i=x),(b=s-f)>o&&(i*=b/o,o=b),(x=l-g)<i&&(o*=x/i,i=x),(b=l-f)<o&&(i*=b/o,o=b),k.width=i+"px",k.height=o+"px",A.executeAttachElementAfter(y),y.addEventListener?y.addEventListener("click",a,!0):y.attachEvent&&y.attachEvent("onclick",a),(v=E.createEventHandler("release")).setFunction(n),t(),!1}]),e("ExpandImage_ThumbnailScriptAllow_PopupAll",[function(e,t){return t({result:!1}),!0}]),e("ExpandImage_PopupScriptAllow_PopupAll",[function(e,t){e.current_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||(n=Xi(a))&&n.mimetype.match(/^image[/]/i))&&(t({result:!0}),!0)},function(e,t){return e.current_element,!!e.content_type.join(",").match(/image/i)&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandImage_ThumbnailScriptAllow_PopupIncludeImage",[function(e,t){return t({result:!1}),!0}]),e("ExpandImage_PopupScriptAllow_PopupIncludeImage",[function(e,t){var n=e.current_element;return!function(){var e,t,a,i=Co(n,"img");if(i.length)return!0;for(t=(i=Co(n,"*")).length,e=0;e<t;e++)if((a=Ho(i[e],null))&&"none"!=a.backgroundImage)return!0;return!1}()&&(t({result:!1}),!0)},function(e,t){e.current_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||(n=Xi(a))&&n.mimetype.match(/^image[/]/i))&&(t({result:!0}),!0)},function(e,t){return e.current_element,!!e.content_type.join(",").match(/image/i)&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandImage_ThumbnailScriptAllow_PopupImageInAnchor",[function(e,t){return e.current_element,!e.is_overridden_url&&(t({result:!1}),!0)},function(e,t){var n=e.current_element.parentNode;return!!(n&&Do(n)<50)&&(t({result:!1}),!0)},function(e,t){e.current_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||(n=Xi(a))&&n.mimetype.match(/^image[/]/i))&&(t({result:!0}),!0)},function(e,t){return e.current_element,!!e.content_type.join(",").match(/image/i)&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandImage_PopupScriptAllow_PopupImageInAnchor",[function(e,t){return e.current_element,!e.is_overridden_url&&(t({result:!1}),!0)},function(e,t){e.current_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||(n=Xi(a))&&n.mimetype.match(/^image[/]/i))&&(t({result:!0}),!0)},function(e,t){return e.current_element,!!e.content_type.join(",").match(/image/i)&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandImage_ThumbnailScriptAllow_ThumbnailAll",[function(e,t){var n=e.current_element.parentNode;return!!(n&&Do(n)<50)&&(t({result:!1}),!0)},function(e,t){e.current_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||(n=Xi(a))&&n.mimetype.match(/^image[/]/i))&&(t({result:!0}),!0)},function(e,t){return e.current_element,!!e.content_type.join(",").match(/image/i)&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandImage_PopupScriptAllow_ThumbnailAll",[function(e,t){return t({result:!1}),!0}]),e("ExpandImage_ThumbnailScriptAllow_ThumbnailNotIncludeImage",[function(e,t){var n=e.current_element.parentNode;return!!(n&&Do(n)<50)&&(t({result:!1}),!0)},function(e,t){var n=e.current_element;return!function(){var e,t,a,i=Co(n,"img");if(i.length)return!1;for(t=(i=Co(n,"*")).length,e=0;e<t;e++)if((a=Ho(i[e],null))&&"none"!=a.backgroundImage)return!1;return!!n.childNodes.length}()&&(t({result:!1}),!0)},function(e,t){e.current_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||(n=Xi(a))&&n.mimetype.match(/^image[/]/i))&&(t({result:!0}),!0)},function(e,t){return e.current_element,!!e.content_type.join(",").match(/image/i)&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandImage_PopupScriptAllow_ThumbnailNotIncludeImage",[function(e,t){return t({result:!1}),!0}]),e("ExpandImage_ThumbnailScriptAllow_ImageBbs",[function(e,t){var n=e.anchor_element.parentNode;if(n){if("BLOCKQUOTE"==n.tagName)return!1;if("body"==n.className)return!1}return t({result:!1}),!0},function(e,t){var n=e.anchor_element,a=n.parentNode;return(a&&Do(a)<50||Co(n,"img").length>0||0==n.childNodes.length)&&(t({result:!1}),!0)},function(e,t){e.anchor_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||(n=Xi(a))&&n.mimetype.match(/^image[/]/i))&&(t({result:!0}),!0)},function(e,t){return e.anchor_element,!!e.content_type.join(",").match(/image/i)&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandImage_PopupScriptAllow_ImageBbs",[function(e,t){var n=Co(e.anchor_element,"IMG");return(1!=n.length||"extButton"==n[0].className)&&(t({result:!1}),!0)},function(e,t){e.anchor_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||(n=Xi(a))&&n.mimetype.match(/^image[/]/i))&&(t({result:!0}),!0)},function(e,t){return e.anchor_element,!!e.content_type.join(",").match(/image/i)&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandImage_ThumbnailScriptAllow_Twitter",[function(e,t){var n=e.current_element;return!(e.url,function(){var e,t,a,i,o=n.parentNode;if(!o)return!1;if("P"!=o.tagName)return!1;if(!Lo(o).match(new RegExp("(^| )tweet-text( |$)","i")))return!1;if("true"===n.getAttribute("data-pre-embedded"))return!1;for(e=0,i=(t=Co(o,"a")).length,a=0;a<i;a++)if(t[a].getAttribute("data-expanded-url")&&++e>1)return!0;for(o=o.nextSibling;o;){if(1==o.nodeType&&Lo(o).match(new RegExp("(^| )(cards-media-container|permalink-footer)( |$)","i"))&&(t=Co(o,"img")).length)return!1;o=o.nextSibling}return!0}()||(t({result:!1}),0))},function(e,t){var n=e.current_element.parentNode;return!!(n&&Do(n)<50)&&(t({result:!1}),!0)},function(e,t){var n=e.current_element;return!function(){var e,t,a,i=Co(n,"img");if(i.length)return!1;for(t=(i=Co(n,"*")).length,e=0;e<t;e++)if((a=Ho(i[e],null))&&"none"!=a.backgroundImage)return!1;return!!n.childNodes.length}()&&(t({result:!1}),!0)},function(e,t){e.current_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||(n=Xi(a))&&n.mimetype.match(/^image[/]/i))&&(t({result:!0}),!0)},function(e,t){return e.current_element,!!e.content_type.join(",").match(/image/i)&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandImage_PopupScriptAllow_Twitter",[function(e,t){return e.current_element,!e.is_overridden_url&&(t({result:!1}),!0)},function(e,t){e.current_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||(n=Xi(a))&&n.mimetype.match(/^image[/]/i))&&(t({result:!0}),!0)},function(e,t){return e.current_element,!!e.content_type.join(",").match(/image/i)&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandImage_ThumbnailScriptAllow_Reddit",[function(e,t){return e.current_element,!e.is_overridden_url&&(t({result:!1}),!0)},function(e,t){var n=e.current_element.parentNode;return!!(n&&Do(n)<50)&&(t({result:!1}),!0)},function(e,t){var n=e.current_element;return!function(){var e,t,a,i=Co(n,"img");if(i.length)return!1;for(t=(i=Co(n,"*")).length,e=0;e<t;e++)if((a=Ho(i[e],null))&&"none"!=a.backgroundImage)return!1;return!!n.childNodes.length}()&&(t({result:!1}),!0)},function(e,t){e.current_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||(n=Xi(a))&&n.mimetype.match(/^image[/]/i))&&(t({result:!0}),!0)},function(e,t){return e.current_element,!!e.content_type.join(",").match(/image/i)&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandImage_PopupScriptAllow_Reddit",[function(e,t){var n=e.current_element;return!function(){var e,t,a,i=Co(n,"img");if(i.length)return!0;for(t=(i=Co(n,"*")).length,e=0;e<t;e++)if((a=Ho(i[e],null))&&"none"!=a.backgroundImage)return!0;return!1}()&&(t({result:!1}),!0)},function(e,t){e.current_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(bmp|gif|jpg|jpe|jpeg|png|webp|avif)$/i)||(n=Xi(a))&&n.mimetype.match(/^image[/]/i))&&(t({result:!0}),!0)},function(e,t){return e.current_element,!!e.content_type.join(",").match(/image/i)&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandImage_ThumbnailScriptInsert_Default",[function(e,t){return e.current_element,e.image_element,e.event_dispatcher,t(),!0}]),e("ExpandImage_ThumbnailScriptAllow_Default",[function(e,t){return e.current_element,e.url,e.content_type,t({result:!1}),!0}]),e("ExpandImage_PopupScriptAllow_Default",[function(e,t){return e.current_element,e.url,e.content_type,t({result:!1}),!0}]),e("ExpandSound_InlineScriptAllow_Inline",[function(e,t){var n=e.anchor_element.parentNode;return!!(n&&Do(n)<150)&&(t({result:!1}),!0)},function(e,t){return t({result:!0}),!0}]),e("ExpandSound_InlineScriptInsert_Inline",[function(e,t){var n,a,i,o,r,s,l,c,_,u,p=e.anchor_element,d=e.element,m=e.event_dispatcher,g=d.style,f=new Tt;return f.executeAttachElementBefore(d),i=yo("div"),o=new Lt(i,!0),Oo(i,"height:0px;"),ar(p,i),ar(i,d),r=yo("div"),s=new Lt(r,!0),Oo(r,"height:0px;"),ar(d,r),n=(l=jo(d)).right-l.left,a=l.bottom-l.top,g.width="0px",g.height="0px",c=(l=jo(d)).right-l.left,a-=l.bottom-l.top,(_=Do(d.parentNode)-c)<(n-=c)&&(n=_),g.width=n+"px",g.height=a+"px",f.executeAttachElementAfter(d),(u=m.createEventHandler("release")).setFunction(function(){o&&(o.release(),o=null),s&&(s.release(),s=null),u&&(u.release(),u=null)}),t(),!1}]),e("ExpandSound_AudioElementScriptAllow_Inline",[function(e,t){e.anchor_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(mp3|wav|ogg|m4a|aac|midi|mid)$/i)||(n=Xi(a))&&n.mimetype.match(/^audio[/]/i))&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandSound_InlineScriptAllow_InlineFromAssist",[function(e,t){return e.current_element,!e.is_overridden_url&&(t({result:!1}),!0)},function(e,t){var n=e.anchor_element.parentNode;return!!(n&&Do(n)<150)&&(t({result:!1}),!0)},function(e,t){return t({result:!0}),!0}]),e("ExpandSound_InlineScriptAllow_Default",[function(e,t){return e.current_element,e.url,e.content_type,t({result:!1}),!0}]),e("ExpandSound_InlineScriptInsert_Default",[function(e,t){return e.current_element,e.element,e.event_dispatcher,t(),!0}]),e("ExpandSound_AudioElementScriptAllow_Default",[function(e,t){return e.current_element,e.url,e.content_type,t({result:!1}),!0}]),e("ExpandVideo_InlineScriptAllow_Inline",[function(e,t){var n=e.anchor_element.parentNode;return!!(n&&Do(n)<150)&&(t({result:!1}),!0)},function(e,t){return t({result:!0}),!0}]),e("ExpandVideo_InlineScriptInsert_Inline",[function(e,t){var n,a,i,o,r,s,l,c,_,u,p,d,m,g,f,h=e.anchor_element,x=e.element,b=e.event_dispatcher,v=x.style,w=new Tt;return w.executeAttachElementBefore(x),i=yo("div"),o=new Lt(i,!0),Oo(i,"height:0px;"),ar(h,i),ar(i,x),r=yo("div"),s=new Lt(r,!0),Oo(r,"height:0px;"),ar(x,r),n=(l=jo(x)).right-l.left,a=l.bottom-l.top,c=Fr.getWidthMaxInlineVideo(),_=Fr.getHeightMaxInlineVideo(),v.width="0px",v.height="0px",u=(l=jo(x)).right-l.left,p=l.bottom-l.top,c>(d=Do(x.parentNode))&&(c=d),n-=u,a-=p,x.videoWidth&&(n=x.videoWidth),x.videoHeight&&(a=x.videoHeight),(m=c-u)<n&&(a*=m/n,n=m),(g=_-p)<a&&(n*=g/a,a=g),v.width=n+"px",v.height=a+"px",w.executeAttachElementAfter(x),(f=b.createEventHandler("release")).setFunction(function(){o&&(o.release(),o=null),s&&(s.release(),s=null),f&&(f.release(),f=null)}),t(),!1}]),e("ExpandVideo_VideoElementScriptAllow_Inline",[function(e,t){e.anchor_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(mp4|webm|avi|m4v|ogv|mpg|mpeg)$/i)||(n=Xi(a))&&n.mimetype.match(/^video[/]/i))&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandVideo_InlineScriptAllow_InlineFromAssist",[function(e,t){return e.current_element,!e.is_overridden_url&&(t({result:!1}),!0)},function(e,t){var n=e.anchor_element.parentNode;return!!(n&&Do(n)<150)&&(t({result:!1}),!0)},function(e,t){return t({result:!0}),!0}]),e("ExpandVideo_InlineScriptAllow_Default",[function(e,t){return e.current_element,e.url,e.content_type,t({result:!1}),!0}]),e("ExpandVideo_InlineScriptInsert_Default",[function(e,t){return e.current_element,e.element,e.event_dispatcher,t(),!0}]),e("ExpandVideo_VideoElementScriptAllow_Default",[function(e,t){return e.current_element,e.url,e.content_type,t({result:!1}),!0}]),e("ExpandIframe_InlineScriptAllow_ExpandPdfInline",[function(e,t){var n=e.anchor_element.parentNode;return!!(n&&Do(n)<50)&&(t({result:!1}),!0)},function(e,t){e.anchor_element;var n,a=e.url;return!!(Qi(a).ext.match(/^(pdf)$/i)||(n=Xi(a))&&n.mimetype.match(/^application[/]pdf/i))&&(t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandIframe_InlineScriptInsert_ExpandPdfInline",[function(e,t){var n,a,i,o,r,s,l,c,_=e.anchor_element,u=e.iframe_element,p=e.event_dispatcher,d=597,m=844,g=new Tt;return g.executeAttachElementBefore(u),n=yo("div"),a=new Lt(n,!0),Oo(n,"height:0px;"),ar(_,n),ar(n,u),i=yo("div"),o=new Lt(i,!0),Oo(i,"height:0px"),ar(u,i),u.style.width="0px",u.style.height="0px",s=(r=jo(u)).right-r.left,m-=r.bottom-r.top,(l=Do(u.parentNode)-s)<(d-=s)&&(d=l),u.style.width=d+"px",u.style.height=m+"px",g.executeAttachElementAfter(u),(c=p.createEventHandler("release")).setFunction(function(){a&&(a.release(),a=null),o&&(o.release(),o=null),c&&(c.release(),c=null)}),t(),!1}]),e("ExpandIframe_InlineScriptAllow_Default",[function(e,t){return e.current_element,e.url,e.content_type,t({result:!1}),!0}]),e("ExpandIframe_InlineScriptInsert_Default",[function(e,t){return e.current_element,e.iframe_element,e.event_dispatcher,t(),!0}]),e("ExpandBbs_ScriptInitialize",[function(e,t){return e.work,t({result:!0}),!0}]),e("ExpandBbs_ScriptInitialize_NicovideoDictionary",[function(e){var t,n,a,i,o=e.work,r=Is.URL,s=[{url:"(https://dic\\.nicovideo\\.jp/b/(a|c|i|l|u|v)/[^/#?]+)",replace:"$1/",name:"nicopedia"},{url:"(https://dic\\.nicovideo\\.jp)/(a|c|i|l|u|v)/([^/#?]+)",replace:"$1/b/$2/$3/",name:"nicopedia"}],l=s.length;for(t=0;t<l;t++)if(n=s[t],a=new RegExp(n.url,"i"),i=r.match(a)){o.base_url=i[0].replace(a,n.replace),o.bbs_name=n.name;break}return!1},function(e,t){var n,a,i,o,r,s,l,c,_,u,p,d,m,g,f,h,x,b=e.work;if(!b.bbs_name)return!1;if(n=30,a=1,i=1,o=1,r=1,s=new Array,l=null,c=null,_=b.base_url,u=_,p=_,b.createResponseAnchorNumbers=function(e){var t,n,a,i,o,r=new Za,s=new RegExp("^(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)([0-9０-９]+)","i"),l=new RegExp("^([0-9０-９]+)[-]([0-9０-９]+)","i"),c=new RegExp("^([0-9０-９]+)","i"),_=e.match(s);if(_)for(t=_[1].length;(_=e.substr(t).match(l))?((n=parseInt(Ni(_[1])))<1&&(n=1),(a=parseInt(Ni(_[2])))<1&&(a=1),n>2147483647&&(n=2147483647),a>2147483647&&(a=2147483647),a<n&&(i=n,n=a,a=i),a-n>1e4&&(a=n+1e4),t+=_[0].length,r.addNumbers(n,a)):(_=e.substr(t).match(c))&&(t+=_[0].length,(o=parseInt(Ni(_[1])))<1&&(o=1),o>2147483647&&(o=2147483647),r.addNumber(o)),_&&0==RegExp.rightContext.search(",");)t+=1;return r},b.extendResponseAnchor=function(e){var t,n,a,i,o,r,s,l,c,_,u,p,d,m,g,f,h,x;if(!va(e)){for(t=new RegExp("^(>>|<<|>)[-,0-9０-９]+$","i"),n=new RegExp("(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)(([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+),)*([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+)","i"),a=new RegExp("([0-9０-９]+)[-]([0-9０-９]+)","i"),i=new RegExp("([0-9０-９]+)","i"),o=(s=(r=Co(e,"a")).length)-1;o>=0;o--)(c=gr(l=r[o]).match(t))&&(nr(l,Eo(c[0])),rr(l));for(e.normalize(),p={p:d=new Object,n:d,node:e},d.p=p,d.n=p;d.n!=d;)switch(_=(p=d.n).p,u=p.n,_.n=u,u.p=_,(l=p.node).nodeType){case 1:for(s=(r=l.childNodes).length,o=0;o<s;o++)p={p:_=(u=d).p,n:u,node:r[o]},_.n=p,u.p=p;break;case 3:for(;l&&(c=_r(l).match(n));)ur(l,RegExp.leftContext),fr(m=yo("a"),c[0]),ar(l,m),ar(m,l=Eo(RegExp.rightContext)),g="",(c=gr(m).match(a))?((f=parseInt(Ni(c[1])))<1&&(f=1),(h=parseInt(Ni(c[2])))<1&&(h=1),f>2147483647&&(f=2147483647),h>2147483647&&(h=2147483647),h<f&&(x=f,f=h,h=x),g=f):(c=gr(m).match(i))&&((g=parseInt(Ni(c[0])))<1&&(g=1),g>2147483647&&(g=2147483647)),m.href=b.base_url+(30*Math.floor(g/30)+1)+"-#"+g}}},function(){var e,t=Mo(Is.body,"st-bbs-contents")[0];t&&(e=Co(t,"dl")).length&&(l=e[e.length-1])}(),!l)return!1;for(g=(d=Co(l,"dt")).length,f=new RegExp("([0-9]+)","i"),m=0;m<g&&(!(h=gr(d[m]).match(f))||(a=parseInt(h[1]),s[a]=!0,1==a));m++);for(m=g-1;m>=0;m--)if(h=gr(d[m]).match(f)){i=parseInt(h[1]),s[i]=!0;break}return x=Math.floor(i/n)*n+1,u=_+"1-",p=_+x+"-",(c=new Ba).setWaitTime(2e3),c.onclick=function(e){var t=0,a=function(){var o=new us;o.onload=function(o){var s=new RegExp('<span class="st[-]bbs_resNo">([0-9]+)',"i"),c=0,u=o.length;r=i,Ur.attachFirst(function d(){var m,g,f,h,x,b,v,w,y,E,k,A;try{if(c>=u)throw 0;if((c=o.indexOf('<dt class="st-bbs_reshead">',c))<0)throw 0;if((m=o.indexOf("</dd>",c))>=0&&(m+=5),(g=o.indexOf('<dd class="res_reaction">',m))>=0&&(f=o.indexOf("</dd>",g))>=0&&(m=f+5),(x=(h=o.substring(c,m)).match(s))&&(b=parseInt(x[1]),i<b)){for((v=rs.getResponse(b)).clearAnalyzed(),v.clearOriginalElements(),v.clearFollowing(),E=(w=to(h)).length,y=0;y<E;y++)l.appendChild(w[y]);t+=1,p=_+(i=b)+"-"}if(c<m)return c=m,void Ur.attachFirst(d,null)}catch(m){}k=!1,(i+1)%n==1&&(Math.floor(r/n)>=Math.floor(i/n)||Math.floor(r/1e3)<Math.floor(i/1e3)||(k=!0)),A=Math.floor(i/n)*n+1,p=_+A+"-",k?a():e({result:!0,add_count:t})},null)},o.onerror=function(){e({result:!1})},o.setMethod("GET"),o.setURL(p),o.loadText()};a()},ar(l,c.getElement()),function e(){var t=o,r=new us;r.onload=function(r){var l=new RegExp('<span class="st[-]bbs_resNo">([0-9]+)',"i"),c=new RegExp("ID:[ ]([a-zA-Z0-9+/.]{8,10})","i"),p=new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i"),d=0,m=r.length;Ur.attachFirst(function g(){var f,h,x,v,w,y,E,k,A,R,T,I,C,S,M;try{if(d>=m)throw 0;if((d=r.indexOf('<dt class="st-bbs_reshead">',d))<0)throw 0;if((f=r.indexOf("</dd>",d))>=0&&(f+=5),(h=r.indexOf('<dd class="res_reaction">',f))>=0&&(x=r.indexOf("</dd>",h))>=0&&(f=x+5),w=(v=r.substring(d,f)).match(l))if(y=t=parseInt(w[1]),a<=y&&y<=i);else if(s[y]);else if(!(E=rs.getResponse(y)).getAnalyzed()){A=(k=to(v))[0],R=k[2],T=k[5];try{if("DT"!=A.tagName)throw 0;if("DD"!=R.tagName)throw 0}catch(f){throw 0}I=gr(A),b.extendResponseAnchor(R),I.match(c)&&E.setId(RegExp.$1),I.match(p)&&E.setName(RegExp.$1),C=new Object,function(){var e,t=Co(R,"a"),n=t.length;for(e=0;e<n;e++)b.createResponseAnchorNumbers(gr(t[e])).getNumbers(function(e){C[e]||(rs.getResponse(e).addFollower(E),C[e]=!0)})}(),A&&E.addOriginalElements("dt",A),R&&E.addOriginalElements("dd",R),T&&E.addOriginalElements("reaction",T),E.onerase=function(){},E.setAnalyzed()}if(d<f)return d=f,void Ur.attachFirst(g,null)}catch(f){}S=!1,(t+1)%n==1&&(Math.floor(o/n)>=Math.floor(t/n)||t>a||(S=!0)),M=Math.floor(t/n)*n+1,u=_+M+"-",S&&(o=t,e())},null)},r.onerror=function(){},r.setMethod("GET"),r.setURL(u),r.loadText()}(),t({result:!0}),!0},function(e,t){return t({result:!1}),!0}]),e("ExpandBbs_ScriptCallback_NicovideoDictionary",[function(e,t){function n(e,t,a,o){function r(e){va(e)||(function(){var t,n,a,o=Co(e,"a"),r=o.length;for(t=0;t<r;t++)n=o[t],(a=i.createResponseAnchorNumbers(gr(n))).getCount()&&new ba(n,!1).setResponseAnchorNumbers(a)}(),wa(e,function(e){var i=e.getElement(),o=e.getResponseAnchorNumbers(),r=new ha;return a&&a.attachChild(r),r.setElementParent(t.parent),r.setElementHitArea(i),r.oncreate=function(e,a){var i,s,l,c,_=yo("dl");if(_.style.margin="0px",e.appendChild(_),i=!1,s=0,l=o.getNumberList(),!(c=l.length))return!1;Ur.attachFirst(function e(){var o,u,p,d=rs.getResponse(l[s]),m=d.getCloneElements(),g=m.length;if(g){for((u=new Object).parent=t.parent,o=0;o<g;o++)u[(p=m[o]).name]=p.element,_.appendChild(p.element);n(d,u,r,"response"),i=!0}(s+=1)<c?Ur.attachFirst(e,null):a({result:i})},null)},null}))}function s(i){Ta(i)||(function(){var e,t,n,a,o,r,s,l,c,_={A:1,SCRIPT:1},u=new Object,p={p:u,n:u,node:i};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)p={p:e=(t=u).p,n:t,node:o[a]},e.n=p,t.p=p;break;case 3:for(;n&&(s=_r(n).match(new RegExp("ID:[ ]([a-zA-Z0-9+/.]{8,10})","i")));)ur(n,RegExp.leftContext),(l=new Ra(null,!1)).setId(s[1]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ia(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getId(),s=e.getId()===r,l=i.getElement(),c=Eo(""),l.appendChild(c),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),"id"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i,o,l,c=yo("dl");if(c.style.margin="0px",e.appendChild(c),i=rs.getResponsesFromId(r),o=0,l=i.length,s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function e(){var r,s,u,p=i[o],d=p.getCloneElements(),m=d.length;if(m){for((s=new Object).parent=t.parent,r=0;r<m;r++)s[(u=d[r]).name]=u.element,c.appendChild(u.element);n(p,s,_,"id")}(o+=1)<l?Ur.attachFirst(e,null):a({result:!0})},null)}),null}))}function l(i){Sa(i)||(function(){var e,t,n,a,o,r,s,l,c,_={SCRIPT:1},u=new Object,p={p:u,n:u,node:i};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)p={p:e=(t=u).p,n:t,node:o[a]},e.n=p,t.p=p;break;case 3:for(;n&&(s=_r(n).match(new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i")));)ur(n,RegExp.leftContext),(l=new Ca(null,!1)).setName(s[0]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ma(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getName(),s=e.getName()===r,l=i.getElement(),c=Eo(""),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),l.appendChild(c),"name"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i,o,l,c=yo("dl");if(c.style.margin="0px",e.appendChild(c),i=rs.getResponsesFromName(r),o=0,l=i.length,s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function e(){var r,s,u,p=i[o],d=p.getCloneElements(),m=d.length;if(m){for((s=new Object).parent=t.parent,r=0;r<m;r++)s[(u=d[r]).name]=u.element,c.appendChild(u.element);n(p,s,_,"name")}(o+=1)<l?Ur.attachFirst(e,null):a({result:!0})},null)}),null}))}var c,_,u,p,d,m;t.dt&&(r(t.dt),s(t.dt),l(t.dt),Da(c=t.dt)||((_=new Oa(null,!0)).setResponse(e),u=_.getElement(),p=Eo(""),u.appendChild(p),_.onchange=function(e){p.nodeValue=e?"follower("+e+")":"";var t=u.style;e>=3?(yr(t,"color","#e80000"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small")),e?yr(t,"margin","0px 0px 0px 8px"):kr(t,"margin")},_.update(),(d=Co(c,"br")).length?nr(d[0],u):c.appendChild(u),m=new ha,a&&a.attachChild(m),m.setElementParent(t.parent),m.setElementHitArea(u),m.oncreate=function(a,i){var o,r,s,l=yo("dl");if(l.style.margin="0px",a.appendChild(l),o=e.getFollower(),r=0,(s=o.length)<=0)return!1;Ur.attachFirst(function e(){var a,c,_,u=rs.getResponse(o[r].getNumber()),p=u.getCloneElements(),d=p.length;if(d){for((c=new Object).parent=t.parent,a=0;a<d;a++)c[(_=p[a]).name]=_.element,l.appendChild(_.element);n(u,c,m,"response")}(r+=1)<s?Ur.attachFirst(e,null):i({result:!0})},null)})),t.dd&&(r(t.dd),s(t.dd),l(t.dd))}var a=e.element,i=e.work,o=function(){var e,t,o,r,s,l,c=a;try{if("DT"!=c.tagName)return!1;if("st-bbs_reshead"!=c.className)return!1}catch(e){return!1}e=qo(c);try{if("DD"!=e.tagName)return!1}catch(e){return!1}return t=(l=qo(e))&&"res_reaction"==l.className?l:null,!!lr(c)&&(i.extendResponseAnchor(e),function(){function t(e){Ga(e,function(e){var t,n=e.firstChild;return n?3!=n.nodeType?null:(t=n.nodeValue.match(new RegExp("^ID:[ ]([a-zA-Z0-9+/.]{8,10})","i")))||(t=n.nodeValue.match(new RegExp("^(◆[a-zA-Z0-9+/.]{10,12})","i")))?(ar(e,n=Eo(t[0])),rr(e),null):null:null})}c&&t(c),e&&t(e)}(),!!(o=gr(c)).match(new RegExp("([0-9]+)","i"))&&((r=rs.getResponse(parseInt(RegExp.$1))).getAnalyzed()||(o.match(new RegExp("ID:[ ]([a-zA-Z0-9+/.]{8,10})","i"))&&r.setId(RegExp.$1),o.match(new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i"))&&r.setName(RegExp.$1),s=new Object,function(){var t,n=Co(e,"a"),a=n.length;for(t=0;t<a;t++)i.createResponseAnchorNumbers(gr(n[t])).getNumbers(function(e){s[e]||(rs.getResponse(e).addFollower(r),s[e]=!0)})}(),c&&r.addOriginalElements("dt",c),e&&r.addOriginalElements("dd",e),t&&r.addOriginalElements("reaction",t),r.onerase=function(){var e,t,n,a=r.getOriginalElements(),i=a.length;for(e=0;e<i;e++)t=new Tt,n=a[e].element,t.executeRemoveElementBefore(n),rr(n),t.executeRemoveElementAfter(n)},r.setAnalyzed()),n(r,{dt:c,dd:e,parent:c.parentNode},null,null),!0))}();return t({useful:o}),!0}]),e("ExpandBbs_ScriptCallback_reddit",[function(e,t){function n(e,t,a,i){var o;t.post_info&&(Sa(o=t.post_info)||(function(){var e,t,n,a,i,r,s,l,c={SCRIPT:1},_=new Object,u={p:_,n:_,node:o};for(_.p=u,_.n=u;_.n!=_;)switch(e=(u=_.n).p,t=u.n,e.n=t,t.p=e,(n=u.node).nodeType){case 1:if("A"==n.tagName&&(a=n.className.match(new RegExp("id[-]([a-zA-Z0-9_]+)","i")))){(i=new Ca(null,!0)).setName(a[1]),ar(n,i.getElement());break}if(!c[n.tagName])for(l=(s=n.childNodes).length,r=0;r<l;r++)u={p:e=(t=_).p,n:t,node:s[r]},e.n=u,t.p=u}}(),Ma(o,function(o){var r,s,l,c,_;return o.setResponse(e),r=o.getName(),s=e.getName()===r,l=o.getElement(),c=Eo(""),o.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?yr(t,"color","#e80000"):e>=2?kr(t,"color"):yr(t,"color","#707070")},o.update(),l.appendChild(c),"name"==i&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i=rs.getResponsesFromName(r),o=0,l=i.length;if(s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d=i[o],m=d.getCloneElements(),g=m.length;if(g){for((c=yo("div")).className="entry noncollapsed comment",c.style.marginBottom="20px",e.appendChild(c),(u=new Object).parent=t.parent,s=0;s<g;s++)u[(p=m[s]).name]=p.element,c.appendChild(p.element);n(d,u,_,"name")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))),t.post_buttons&&function(e){var i,o,r;va(e)||(function(){var t,n=Mo(e,"bylink")[1];n&&(t=n.href.match(new RegExp("[#/]([a-zA-Z0-9]+)$","i")))&&(o=t[1],new ba(i=n,!1))}(),r=new ha,a&&a.attachChild(r),r.setElementParent(t.parent),r.setElementHitArea(i),r.oncreate=function(e,a){var i,s,l,c,_=!1,u=rs.getResponse(o),p=u.getCloneElements(),d=p.length;if(d){for((s=yo("div")).className="entry noncollapsed comment",s.style.marginBottom="20px",e.appendChild(s),(l=new Object).parent=t.parent,i=0;i<d;i++)l[(c=p[i]).name]=c.element,s.appendChild(c.element);n(u,l,r,"response"),_=!0}a({result:_})})}(t.post_buttons),t.post_info&&t.post_buttons&&function(i,o){var r,s,l,c;Da(i)||(r=yo("span"),s=Eo(""),(l=new Oa(r,!0)).setResponse(e),r.appendChild(s),l.onchange=function(e){s.nodeValue=e?" follower("+e+")":"";var t=r.style;e>=3?yr(t,"color","#e80000"):kr(t,"color")},l.update(),o.appendChild(r),c=new ha,a&&a.attachChild(c),c.setElementParent(t.parent),c.setElementHitArea(r),c.oncreate=function(a,i){var o=e.getFollower(),r=0,s=o.length;if(s<=0)return!1;Ur.attachFirst(function e(){var l,_,u,p,d=rs.getResponse(o[r].getNumber()),m=d.getCloneElements(),g=m.length;if(g){for((_=yo("div")).className="entry noncollapsed comment",_.style.marginBottom="20px",a.appendChild(_),(u=new Object).parent=t.parent,l=0;l<g;l++)u[(p=m[l]).name]=p.element,_.appendChild(p.element);n(d,u,c,"response")}(r+=1)<s?Ur.attachFirst(e,null):i({result:!0})},null)})}(t.post_buttons,t.post_info)}var a=e.element,i=function(){var e,t,i,o,r,s,l=a;try{if(!l.className.match(new RegExp("(^| )thing( |$)","i")))return!1}catch(e){return!1}try{if(!(e=Mo(l,"tagline")[0]))return!1;if(!(t=Mo(l,"usertext")[0]))return!1;if(!(i=Mo(l,"buttons")[0]))return!1}catch(e){}return!(!lr(l)||!(o=Co(t,"input")[0])||!(r=o.value.match(new RegExp("[_]([a-zA-Z0-9_]+)","i")))||((s=rs.getResponse(r[1])).getAnalyzed()||(function(){var t,n=Mo(e,"author")[0];n&&(t=n.className.match(new RegExp("id[-]([a-zA-Z0-9_]+)","i")))&&s.setName(t[1])}(),function(){var e,t=Mo(i,"bylink")[1];t&&(e=t.href.match(new RegExp("[#/]([a-zA-Z0-9]+)$","i")))&&rs.getResponse(e[1]).addFollower(s)}(),e&&s.addOriginalElements("post_info",e),t&&s.addOriginalElements("post_body",t),i&&s.addOriginalElements("post_buttons",i),s.onerase=function(){var e,t,n=s.getOriginalElements(),a=0;for(a=n.length-1;a>=1;a--)e=n[a].element,(t=new Tt).executeRemoveElementBefore(e),e.style.display="none",t.executeRemoveElementAfter(e)},s.setAnalyzed()),n(s,{post_info:e,post_body:t,post_buttons:i,parent:Mo(Is,"commentarea")[0]},null,null),0))}();return t({useful:i}),!0}]),e("ExpandBbs_ScriptCallback_8chan",[function(e,t){function n(e,t,i,o){function r(e){va(e)||(function(){var t,n,i,o=Co(e,"a"),r=o.length;for(t=0;t<r;t++)(i=a(gr(n=o[t]))).getCount()&&new ba(n,!1).setResponseAnchorNumbers(i)}(),wa(e,function(e){var a=e.getElement(),o=e.getResponseAnchorNumbers(),r=new ha;return i&&i.attachChild(r),r.setElementParent(t.parent),r.setElementHitArea(a),r.oncreate=function(e,a){var i,s,l,c;if(e.className="post reply",i=!1,s=0,l=o.getNumberList(),!(c=l.length))return!1;Ur.attachFirst(function o(){var _,u,p,d,m=rs.getResponse(l[s]),g=m.getCloneElements(),f=g.length;if(f){for((u=yo("table")).style.margin="0px 0px 20px",e.appendChild(u),(p=new Object).parent=t.parent,_=0;_<f;_++)p[(d=g[_]).name]=d.element,u.appendChild(d.element);n(m,p,r,"response"),i=!0}(s+=1)<c?Ur.attachFirst(o,null):a({result:i})},null)},null}))}function s(a){Ta(a)||(function(){var e,t,n,i,o,r,s,l,c,_,u={A:1,SCRIPT:1},p=new Object,d={p:p,n:p,node:a};for(p.p=d,p.n=d;p.n!=p;)switch(e=(d=p.n).p,t=d.n,e.n=t,t.p=e,(n=d.node).nodeType){case 1:if(!u[n.tagName])for(r=(o=n.childNodes).length,i=0;i<r;i++)d={p:e=(t=p).p,n:t,node:o[i]},e.n=d,t.p=d;"SPAN"==n.tagName&&"poster_id"==n.className&&(s=gr(n).match(new RegExp("^([a-zA-Z0-9+/.]{6,8})$","i")))&&((l=new Ra(null,!0)).setId(s[1]),ar(n,c=l.getElement()),_=Eo(""),c.appendChild(_),l.setTextNode(_));break;case 3:for(;n&&(s=_r(n).match(new RegExp("ID:(|[ ])([a-zA-Z0-9+/.]{6,8})","i")));)ur(n,RegExp.leftContext),(l=new Ra(null,!1)).setId(s[2]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ia(a,function(a){var r,s,l,c,_;return a.setResponse(e),r=a.getId(),s=e.getId()===r,l=a.getElement(),c=Eo(""),l.appendChild(c),a.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#707070"),yr(t,"font-size","small")),e>1?(yr(t,"margin-left","2px"),yr(t,"margin-right","5px")):(kr(t,"margin-left"),kr(t,"margin-right"))},a.update(),"id"==o&&s||(_=new ha,i&&i.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i,o,l;if(e.className="post reply",i=rs.getResponsesFromId(r),o=0,l=i.length,s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d=i[o],m=d.getCloneElements(),g=m.length;if(g){for((c=yo("table")).style.margin="0px 0px 20px",e.appendChild(c),(u=new Object).parent=t.parent,s=0;s<g;s++)u[(p=m[s]).name]=p.element,c.appendChild(p.element);n(d,u,_,"id")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}function l(a){Sa(a)||(function(){var e,t,n,i,o,r,s,l,c,_={SCRIPT:1},u=new Object,p={p:u,n:u,node:a};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,i=0;i<r;i++)p={p:e=(t=u).p,n:t,node:o[i]},e.n=p,t.p=p;break;case 3:for(;n&&(s=_r(n).match(new RegExp("(!|!!)([a-zA-Z0-9+/.]{10})","i")));)ur(n,RegExp.leftContext),(l=new Ca(null,!1)).setName(s[0]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ma(a,function(a){var r,s,l,c,_;return a.setResponse(e),r=a.getName(),s=e.getName()===r,l=a.getElement(),c=Eo(""),a.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#707070"),yr(t,"font-size","small"))},a.update(),l.appendChild(c),"name"==o&&s||(_=new ha,i&&i.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i,o,l;if(e.className="post reply",i=rs.getResponsesFromName(r),o=0,l=i.length,s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d=i[o],m=d.getCloneElements(),g=m.length;if(g){for((c=yo("table")).style.margin="0px 0px 20px",e.appendChild(c),(u=new Object).parent=t.parent,s=0;s<g;s++)u[(p=m[s]).name]=p.element,c.appendChild(p.element);n(d,u,_,"name")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}var c,_,u,p,d;t.post_intro&&(r(t.post_intro),s(t.post_intro),l(t.post_intro),Da(c=t.post_intro)||((_=new Oa(null,!0)).setResponse(e),u=_.getElement(),p=Eo(""),u.appendChild(p),_.onchange=function(e){p.nodeValue=e?" follower("+e+")":"";var t=u.style;e>=3?(yr(t,"color","#e80000"),kr(t,"font-size")):(yr(t,"color","#707070"),yr(t,"font-size","small")),e?yr(t,"margin","0px 4px 0px 0px"):kr(t,"margin")},_.update(),c.appendChild(u),d=new ha,i&&i.attachChild(d),d.setElementParent(t.parent),d.setElementHitArea(u),d.oncreate=function(a,i){var o,r,s;if(a.className="post reply",o=e.getFollower(),r=0,(s=o.length)<=0)return!1;Ur.attachFirst(function e(){var l,c,_,u,p=rs.getResponse(o[r].getNumber()),m=p.getCloneElements(),g=m.length;if(g){for((c=yo("table")).style.margin="0px 0px 20px",a.appendChild(c),(_=new Object).parent=t.parent,l=0;l<g;l++)_[(u=m[l]).name]=u.element,c.appendChild(u.element);n(p,_,d,"response")}(r+=1)<s?Ur.attachFirst(e,null):i({result:!0})},null)})),t.post_body&&(r(t.post_body),s(t.post_body),l(t.post_body))}function a(e){var t,n,a,i,o,r=new Za,s=new RegExp("^(>>|<<|＞＞|＜＜|>|＞)([0-9０-９]+)","i"),l=new RegExp("^([0-9０-９]+)[-]([0-9０-９]+)","i"),c=new RegExp("^([0-9０-９]+)","i"),_=e.match(s);if(_)for(t=_[1].length;(_=e.substr(t).match(l))?((n=parseInt(Ni(_[1])))<1&&(n=1),(a=parseInt(Ni(_[2])))<1&&(a=1),n>2147483647&&(n=2147483647),a>2147483647&&(a=2147483647),a<n&&(i=n,n=a,a=i),a-n>1e4&&(a=n+1e4),t+=_[0].length,r.addNumbers(n,a)):(_=e.substr(t).match(c))&&(t+=_[0].length,(o=parseInt(Ni(_[1])))<1&&(o=1),o>2147483647&&(o=2147483647),r.addNumber(o)),_&&0==RegExp.rightContext.search(",");)t+=1;return r}var i=e.element,o=function(){var e,t,o,r,s,l,c,_,u,p,d=i;try{if("DIV"!=d.tagName)return!1;if(!d.className.match(new RegExp("^post","i")))return!1}catch(e){return!1}try{"DIV"==(r=d.previousSibling.previousSibling).tagName&&"files"==r.className&&(t=r)}catch(e){}try{for(c=(s=d.childNodes).length,l=0;l<c;l++)switch((r=s[l]).className){case"intro":e=r;break;case"files":t=r;break;case"body":o=r}}catch(e){}try{if(!e)return!1;if(!o)return!1}catch(e){}if(!lr(e))return!1;for(_=!1,r=e;r;){if(r.id.match(new RegExp("^thread","i"))){_=!0;break}r=r.parentNode}return!!_&&(e&&(function(){var t,n,a,o=Co(e,"span"),r=o.length;for(t=0;t<r;t++)if("postertrip"==(n=o[t]).className){(a=gr(i).match(new RegExp("(!|!!)([a-zA-Z0-9+/.]{10})","i")))&&fr(n,a[0]);break}}(),function(e){var t,n,a,i,o,r,s=new RegExp("^(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)([0-9０-９]+)","i"),l=new Object,c={p:l,n:l,node:e};for(l.p=c,l.n=c;l.n!=l;)if(t=(c=l.n).p,n=c.n,t.n=n,n.p=t,1===(a=c.node).nodeType)if("A"==a.tagName)gr(a).match(s)&&rr(a);else for(r=(o=a.childNodes).length,i=0;i<r;i++)c={p:t=(n=l).p,n:n,node:o[i]},t.n=c,n.p=c}(e)),o&&(Ga(o,function(e){var t,n=e.firstChild;return n?3!=n.nodeType?null:(t=n.nodeValue.match(new RegExp("^ID:(|[ ])([a-zA-Z0-9+/.]{6,8})","i")))||(t=n.nodeValue.match(new RegExp("^(!|!!)([a-zA-Z0-9+/.]{10})","i")))?(ar(e,n=Eo(t[0])),rr(e),null):null:null}),function(e){var t,n,a,i,o,r,s,l=new Object,c={p:l,n:l,node:e};for(l.p=c,l.n=c;l.n!=l;)if(t=(c=l.n).p,n=c.n,t.n=n,n.p=t,1===(a=c.node).nodeType)if("A"==a.tagName)i=a.cloneNode(!0),ar(a,i),rr(a);else for(s=(r=a.childNodes).length,o=0;o<s;o++)c={p:t=(n=l).p,n:n,node:r[o]},t.n=c,n.p=c}(o)),!!gr(e).match(new RegExp("No\\.([0-9]+)","i"))&&((u=rs.getResponse(parseInt(RegExp.$1))).getAnalyzed()||((r=Mo(e,"poster_id")[0])&&u.setId(gr(r)),(r=Mo(e,"trip")[0])&&u.setName(gr(r)),p=new Object,function(){var e,t=Co(o,"a"),n=t.length;for(e=0;e<n;e++)a(gr(t[e])).getNumbers(function(e){p[e]||(rs.getResponse(e).addFollower(u),p[e]=!0)})}(),e&&u.addOriginalElements("post_intro",e),t&&u.addOriginalElements("post_files",t),o&&u.addOriginalElements("post_body",o),u.onerase=function(){var e,t,n=u.getOriginalElements();if(n.length)for(e=n[0].element;e&&1==e.nodeType;){if(Lo(e).match(new RegExp("^post","i"))){(t=new Tt).executeRemoveElementBefore(e),e.style.display="none",t.executeRemoveElementAfter(e);break}e=e.parentNode}},u.setAnalyzed()),n(u,{post_intro:e,post_body:o,parent:Is.body},null,null),!0))}();return t({useful:o}),!0}]),e("ExpandBbs_ScriptCallback_4chan",[function(e,t){function n(e,t,i,o){function r(e){va(e)||(function(){var t,n,i,o=Co(e,"a"),r=o.length;for(t=0;t<r;t++)(i=a(gr(n=o[t]))).getCount()&&new ba(n,!1).setResponseAnchorNumbers(i)}(),wa(e,function(e){var a=e.getElement(),o=e.getResponseAnchorNumbers(),r=new ha;return i&&i.attachChild(r),r.setElementParent(t.parent),r.setElementHitArea(a),r.oncreate=function(e,a){var i,s,l,c;if(e.className="reply",i=!1,s=0,l=o.getNumberList(),!(c=l.length))return!1;Ur.attachFirst(function o(){var _,u,p,d,m=rs.getResponse(l[s]),g=m.getCloneElements(),f=g.length;if(f){for((u=yo("table")).style.margin="0px 0px 10px",e.appendChild(u),(p=new Object).parent=t.parent,_=0;_<f;_++)p[(d=g[_]).name]=d.element,u.appendChild(d.element);n(m,p,r,"response"),i=!0}(s+=1)<c?Ur.attachFirst(o,null):a({result:i})},null)},null}))}function s(a){Ta(a)||(function(){var e,t,n,i,o,r,s,l,c,_={A:1,SCRIPT:1},u=new Object,p={p:u,n:u,node:a};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,i=0;i<r;i++)p={p:e=(t=u).p,n:t,node:o[i]},e.n=p,t.p=p;"SPAN"==n.tagName&&"hand"==n.className&&(s=gr(n).match(new RegExp("^([a-zA-Z0-9+/.]{8})$","i")))&&((l=new Ra(null,!0)).setId(s[1]),ar(n,c=l.getElement()));break;case 3:for(;n&&(s=_r(n).match(new RegExp("ID:(|[ ])([a-zA-Z0-9+/.]{8})","i")));)ur(n,RegExp.leftContext),(l=new Ra(null,!1)).setId(s[2]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ia(a,function(a){var r,s,l,c,_;return a.setResponse(e),r=a.getId(),s=e.getId()===r,l=a.getElement(),c=Eo(""),l.appendChild(c),a.onchange=function(e){ur(c,e>1?"["+e+"]":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#707070"),yr(t,"font-size","small")),e>1?yr(t,"margin","0px 4px 0px 4px"):kr(t,"margin")},a.update(),"id"==o&&s||(_=new ha,i&&i.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i,o,l;if(e.className="reply",i=rs.getResponsesFromId(r),o=0,l=i.length,s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d=i[o],m=d.getCloneElements(),g=m.length;if(g){for((c=yo("table")).style.margin="0px 0px 10px",e.appendChild(c),(u=new Object).parent=t.parent,s=0;s<g;s++)u[(p=m[s]).name]=p.element,c.appendChild(p.element);n(d,u,_,"id")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}function l(a){Sa(a)||(function(){var e,t,n,i,o,r,s,l,c,_={SCRIPT:1},u=new Object,p={p:u,n:u,node:a};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,i=0;i<r;i++)p={p:e=(t=u).p,n:t,node:o[i]},e.n=p,t.p=p;break;case 3:for(;n&&(s=_r(n).match(new RegExp("(!|!!)([a-zA-Z0-9+/.]{10})","i")));)ur(n,RegExp.leftContext),(l=new Ca(null,!1)).setName(s[0]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ma(a,function(a){var r,s,l,c,_;return a.setResponse(e),r=a.getName(),s=e.getName()===r,l=a.getElement(),c=Eo(""),a.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#707070"),yr(t,"font-size","small"))},a.update(),l.appendChild(c),"name"==o&&s||(_=new ha,i&&i.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i,o,l;if(e.className="reply",i=rs.getResponsesFromName(r),o=0,l=i.length,s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d=i[o],m=d.getCloneElements(),g=m.length;if(g){for((c=yo("table")).style.margin="0px 0px 10px",e.appendChild(c),(u=new Object).parent=t.parent,s=0;s<g;s++)u[(p=m[s]).name]=p.element,c.appendChild(p.element);n(d,u,_,"name")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}var c,_,u,p,d;t.post_info&&(r(t.post_info),s(t.post_info),l(t.post_info),Da(c=t.post_info)||((_=new Oa(null,!0)).setResponse(e),u=_.getElement(),p=Eo(""),u.appendChild(p),_.onchange=function(e){p.nodeValue=e?" follower("+e+")":"";var t=u.style;e>=3?(yr(t,"color","#e80000"),kr(t,"font-size")):(yr(t,"color","#707070"),yr(t,"font-size","small")),e?yr(t,"margin","0px 4px 0px 0px"):kr(t,"margin")},_.update(),c.appendChild(u),d=new ha,i&&i.attachChild(d),d.setElementParent(t.parent),d.setElementHitArea(u),d.oncreate=function(a,i){var o,r,s;if(a.className="reply",o=e.getFollower(),r=0,(s=o.length)<=0)return!1;Ur.attachFirst(function e(){var l,c,_,u,p=rs.getResponse(o[r].getNumber()),m=p.getCloneElements(),g=m.length;if(g){for((c=yo("table")).style.margin="0px 0px 10px",a.appendChild(c),(_=new Object).parent=t.parent,l=0;l<g;l++)_[(u=m[l]).name]=u.element,c.appendChild(u.element);n(p,_,d,"response")}(r+=1)<s?Ur.attachFirst(e,null):i({result:!0})},null)})),t.post_message&&(r(t.post_message),s(t.post_message),l(t.post_message))}function a(e){var t,n,a,i,o,r=new Za,s=new RegExp("^(>>|<<|＞＞|＜＜|>|＞)([0-9０-９]+)","i"),l=new RegExp("^([0-9０-９]+)[-]([0-9０-９]+)","i"),c=new RegExp("^([0-9０-９]+)","i"),_=e.match(s);if(_)for(t=_[1].length;(_=e.substr(t).match(l))?((n=parseInt(Ni(_[1])))<1&&(n=1),(a=parseInt(Ni(_[2])))<1&&(a=1),n>2147483647&&(n=2147483647),a>2147483647&&(a=2147483647),a<n&&(i=n,n=a,a=i),a-n>1e4&&(a=n+1e4),t+=_[0].length,r.addNumbers(n,a)):(_=e.substr(t).match(c))&&(t+=_[0].length,(o=parseInt(Ni(_[1])))<1&&(o=1),o>2147483647&&(o=2147483647),r.addNumber(o)),_&&0==RegExp.rightContext.search(",");)t+=1;return r}var i=e.element,o=function(){var e,t,o,r,s,l,c,_=i;try{if("DIV"!=_.tagName)return!1;if(!_.className.match(new RegExp("^postInfo","i")))return!1}catch(e){return!1}try{"DIV"==(t=_.nextSibling).tagName&&"file"==t.className&&(t=(e=t).nextSibling)}catch(e){}try{if("BLOCKQUOTE"!=t.tagName)return!1;if("postMessage"!=t.className)return!1}catch(e){return!1}if(!e)try{"DIV"==(o=_.previousSibling).tagName&&"file"==o.className&&(e=o)}catch(e){}if(!lr(_))return!1;for(r=!1,o=_;o;){if("board"==o.className){r=!0;break}o=o.parentNode}return!!r&&(_&&function(){var e,t,n,a=Co(_,"span"),o=a.length;for(e=0;e<o;e++)if("postertrip"==(t=a[e]).className){(n=gr(i).match(new RegExp("(!|!!)([a-zA-Z0-9+/.]{10})","i")))&&fr(t,n[0]);break}}(),t&&Ga(t,function(e){var t,n=e.firstChild;return n?3!=n.nodeType?null:(t=n.nodeValue.match(new RegExp("^ID:(|[ ])([a-zA-Z0-9+/.]{8})","i")))||(t=n.nodeValue.match(new RegExp("^(!|!!)([a-zA-Z0-9+/.]{10})","i")))?(ar(e,n=Eo(t[0])),rr(e),null):null:null}),!!(s=gr(_)).match(new RegExp("No\\.([0-9]+)","i"))&&((l=rs.getResponse(parseInt(RegExp.$1))).getAnalyzed()||(s.match(new RegExp("\\(ID:[ ]([a-zA-Z0-9+/.]+)\\)","i"))&&l.setId(RegExp.$1),function(){var e,t,n=Co(_,"span"),a=n.length;for(e=0;e<a;e++)if("postertrip"==(t=n[e]).className){l.setName(gr(t));break}}(),c=new Object,function(){var e,n=Co(t,"a"),i=n.length;for(e=0;e<i;e++)a(gr(n[e])).getNumbers(function(e){c[e]||(rs.getResponse(e).addFollower(l),c[e]=!0)})}(),_&&l.addOriginalElements("post_info",_),e&&l.addOriginalElements("post_file",e),t&&l.addOriginalElements("post_message",t),l.onerase=function(){var e,t,n=l.getOriginalElements();if(n.length)for(e=n[0].element;e&&1==e.nodeType;){if(Lo(e).match(new RegExp("^postContainer","i"))){(t=new Tt).executeRemoveElementBefore(e),rr(e),t.executeRemoveElementAfter(e);break}e=e.parentNode}},l.setAnalyzed()),n(l,{post_info:_,post_file:e,post_message:t,parent:Is.body},null,null),!0))}();return t({useful:o}),!0}]),e("ExpandBbs_ScriptInitialize_2chan",[function(e){var t,n,a=e.work,i=Is.URL,o=[{url:"^(http|https)://[^.]+\\.2chan\\.net/[^/]+/res/[0-9]+.htm",name:"2chan"},{url:"^http://[^.]+.ftbucket\\.info/.*/cont/.*$",name:"ftbucket"}],r=o.length;for(t=0;t<r;t++)if(n=i.match(new RegExp(o[t].url,"i"))){a.base_url=n[0],a.bbs_name=o[t].name;break}return!1},function(e,t){function n(){var e,t,n,a=this;a.createResponse=function(a){var i=e[a];return i||(i=function(a){var i,o=new Object;return o.release=function(){var n=o._prev,a=o._next;n._next=a,a._prev=n,o._prev=o,o._next=o,delete e[i],delete t[i],o._text_dictionary=new Object},o.getNumber=function(){return a},o.attachText=function(e){var t=e.match(new RegExp("([ 　]*)([>＞]*)([ 　]*)(.+?)([ 　]*)$"));t&&t[4]&&(o._text_dictionary[t[4]]={depth:t[2].length})},o.getResponsesFromText=function(e){var t,a,i,r,s,l=new Array,c=e.match(new RegExp("^([ 　]*)([>＞]*)([ 　]*)(.+?)([ 　]*)$","i"));if(!c)return l;if(!c[4])return l;if(t=c[2].length,(e=c[4]).length<1)return l;if(t<1)return l;for(a=o._prev;n!=a;)(i=a._text_dictionary[e])&&i.depth<t&&l.push(a),a=a._prev;if(l.length)return l;for(a=o._prev;n!=a;){for(r in s=a._text_dictionary)if((i=s[r]).depth<t&&r.indexOf(e)>=0){l.push(a);break}a=a._prev}return l},o.setImageId=function(e){t[i=e]=o},function(){var t,i,r;for(o._prev=o,o._next=o,o._text_dictionary=new Object,t=n._prev;n!=t&&!(t.getNumber()>=a);)t=t._prev;(r=(i=t)._prev)._next=o,i._prev=o,o._prev=r,o._next=i,e[a]=o}(),o}(a),e[a]=i),i},a.getResponse=function(t){return e[t]},a.getResponseFromImageId=function(e){return t[e]},e=new Object,t=new Object,(n=new Object)._prev=n,n._next=n}var a,i,o,r,s,l,c,_,u,p,d,m,g,f,h=e.work;if(!h.bbs_name)return!1;if(a=1,i=null,o=null,r=h.base_url,s=r,h.analyzeNodeList=function(e){var t,n,a,i,o,r,s,l,c,_=new RegExp("No\\.([0-9]+)","i"),u=new RegExp(".*/([0-9]+)(|s)\\.(bmp|gif|jpeg|jpe|jpg|png|webp|webm|mp4)","i"),p=e.length,d="";for(t=0;t<p;t++)d+=gr(e[t]);if((n=d.match(_))&&(a=parseInt(n[1]),!h.futaba_dictionary.getResponse(a))){i=h.futaba_dictionary.createResponse(a);try{for(o=null,t=p-1;t>=0;t--)if("BLOCKQUOTE"==(r=e[t]).tagName){o=r;break}for(r=Yo(o);r;){if((s=Co(r,"IMG")[0])&&s.src.match(u)){i.setImageId(RegExp.$1);break}r=Yo(r)}for(h.bbs_name,p=(l=o.childNodes).length,c="",t=0;t<p;t++)switch((r=l[t]).nodeType){case 1:"BR"==r.tagName?(c&&i.attachText(c),c=""):c+=gr(r);break;case 3:c+=r.nodeValue}c&&i.attachText(c)}catch(e){}}},h.bbs_name,function(){var e,t,n,a;if(!i)for(n=(t=Co(Is.body,"form")).length,e=0;e<n;e++)if(-1!=(a=t[e]).action.indexOf("futaba.php")&&Co(a,"blockquote").length){i=a;break}}(),function(){if(!i){var e=Mo(Is.body,"thre")[0];e&&e.getAttribute("data-res")&&(i=e)}}(),!i)return!1;if("2chan"==h.bbs_name){function x(){var e,t,n,a;try{e=Is.getElementById("ftbl"),t=Is.getElementById("ufm"),"absolute"==e.style.position&&(n=xo(),a=t.getBoundingClientRect(),e.style.top=n.y+a.top+"px")}catch(e){}}for(_=(l=Co(i,"table")).length,c=_-1;c>=0;c--)if(p=gr(u=l[c]).match(new RegExp("No\\.([0-9]+)","i"))){a=parseInt(p[1]);break}s=r,function(){var e,t,n=Is.getElementById("ftbl");n&&(e=n.getElementsByTagName("tbody")).length&&((t=new Wa(e[0],!1)).setStyle("background:#e8e8ec; background-image:linear-gradient(to bottom, #f8f8fc, #e8e8ec); padding:20px; border:1px solid #888; border-radius:4px; box-shadow:2px 2px 5px #aaa; margin:0px; display:block; visibility:visible"),h.docking_form=t)}(),(o=new Ba).setWaitTime(2e3),o.onclick=function(e){var t=Is.getElementById("contdisp"),n=new us;n.onload=function(n){var o=new RegExp("No\\.([0-9]+)","i"),r=new RegExp('<span id="contdisp">(.*?)<\\\\/span>',"i"),s=null,l=0,c=n.length,_=0,u=Co(i,"table");u.length&&(s=u[u.length-1]),s||(u=Co(i,"blockquote")).length&&(s=u[u.length-1]),Ur.attachFirst(function i(){var u,p,d,m,g,f,h,b,v;try{if(l>=c)throw 0;if((l=n.indexOf("<table border=0>",l))<0)throw 0;if((u=n.indexOf("</td>",l))>=0&&(u=n.indexOf("</tr>",u+5))>=0&&(u=n.indexOf("</table>",u+5))>=0&&(u+=8),(d=(p=n.substring(l,u)).match(o))&&(m=function(){var e,t,n,a;try{for(e=new RegExp("No\\.([0-9]+)","i"),n=(t=Co(Is.body,"table")).length-1;n>=0;n--)if((a=Mo(t[n],"rtd")[0])&&gr(a).match(e))return parseInt(RegExp.$1)}catch(e){}return-1}(),a<m&&(a=m),g=parseInt(d[1]),a<g)){for((f=rs.getResponse(g)).clearAnalyzed(),f.clearOriginalElements(),f.clearFollowing(),v=(h=to(p)).length,b=0;b<v;b++)ar(s,h[b]),s=h[b];x(),_+=1,a=g}if(l<u)return l=u,void Ur.attachFirst(i,null)}catch(u){}t&&(d=n.match(r),fr(t,d?d[1]:"not found!")),x(),e({result:!0,add_count:_})},null)},n.onerror=function(){t&&fr(t,"not found!"),e({result:!1})},n.setMethod("GET"),n.setURL(s),n.overrideMimeType("text/plain; charset=Shift_JIS"),n.loadText()},(u=Is.getElementById("contres"))&&ar(u,o.getElement()),function(){for(var e,t=Is.getElementById("ftbl");t;){if("FORM"==t.tagName){d=t;break}t=t.parentNode}if(d){for(e=Co(d,"input"),c=0;c<e.length;c++)if("submit"==e[c].type.toLowerCase()){m=e[c];break}(e=Co(d,"textarea")).length&&(g=e[0],h.form_textarea=g)}}(),d&&m&&g&&((f=jr.createEventHandler("release")).setFunction(function(){f&&(f.release(),f=null)}),h.docking_form&&(h.docking_form.onreset=function(){var e,t,n=new Array,a=d.length;for(e=0;e<a;e++)n.push({e:d[e],v:d[e].value});for(d.reset(),e=0;e<a;e++)try{(t=n[e]).e.value=t.v}catch(e){}g.value=""})),Ur.attachLast(function(){x()},null)}return function(){var e,a,o;h.futaba_dictionary=new n,e=Co(i,"table"),a=e.length,o=0,function(){var e,t=Co(Is.body,"blockquote")[0];if(t){for(e=new Array;t&&"HR"!=t.tagName;)e.unshift(t),t=t.previousSibling;h.analyzeNodeList(e)}}(),Ur.attachFirst(function n(){var i,r;try{if(!(i=e[o]))throw 0;r=i.rows[0].cells,h.analyzeNodeList(r[r.length-1].childNodes)}catch(e){}if(o<a)return o+=1,void Ur.attachFirst(n,null);t({result:!0})},null)}(),!0},function(e,t){return t({result:!1}),!0}]),e("ExpandBbs_ScriptCallback_2chan",[function(e,t){function n(e,t,o,s){function l(e){va(e)||(function(){var t,n,i,o=Co(e,"a"),r=o.length;for(t=0;t<r;t++)(i=a(gr(n=o[t]))).getCount()&&new ba(n,!1).setResponseAnchorNumbers(i)}(),wa(e,function(e){var a=e.getElement(),i=e.getResponseAnchorNumbers(),r=new ha;return o&&o.attachChild(r),r.setElementParent(t.parent),r.setElementHitArea(a),r.oncreate=function(e,a){var o=!1,s=0,l=i.getNumberList(),c=l.length;if(!c)return!1;Ur.attachFirst(function i(){var _,u,p,d,m,g=rs.getResponse(l[s]),f=g.getCloneElements(),h=f.length;if(h){for(u=yo("table"),e.appendChild(u),p=u.insertRow(-1).insertCell(-1),u.style.margin="0px 0px 10px",(d=new Object).parent=t.parent,_=0;_<h;_++)d[(m=f[_]).name]||(d[m.name]=new Array),d[m.name].push(m.element),p.appendChild(m.element);n(g,d,r,"response"),o=!0}(s+=1)<c?Ur.attachFirst(i,null):a({result:o})},null)},null}))}function c(a){Ea(a)||(function(){function t(e,t){var n,a=e.length;if(a!=t.length)return!1;for(n=0;n<a;n++)if(e[n]!=t[n])return!1;return!0}var n,o,r,s,l,c,_,u,p=null,d=null,m=a.childNodes;for(n=m.length-1;n>=0;n--)"FONT"==(o=m[n]).tagName&&(r=i(e.getNumber(),gr(o))).getCount()&&(d=r.getNumberList(),s=!1,p&&t(p,d)&&(s=!0),s||((_=(c=(l=new ya(null,!0)).getElement()).style).fontSize="small",_.textDecoration="underline",_.marginLeft="10px",u=Eo(" >>"+d.length),c.appendChild(u),or(o,c),l.setResponseAnchorNumbers(r),p=d))}(),Aa(a,function(e){var a=e.getElement(),i=e.getResponseAnchorNumbers(),r=new ha;return o&&o.attachChild(r),r.setElementParent(t.parent),r.setElementHitArea(a),r.oncreate=function(e,a){var o=!1,s=0,l=i.getNumberList(),c=l.length;if(!c)return!1;Ur.attachFirst(function i(){var _,u,p,d,m,g=rs.getResponse(l[s]),f=g.getCloneElements(),h=f.length;if(h){for(u=yo("table"),e.appendChild(u),p=u.insertRow(-1).insertCell(-1),u.style.margin="0px 0px 10px",(d=new Object).parent=t.parent,_=0;_<h;_++)d[(m=f[_]).name]||(d[m.name]=new Array),d[m.name].push(m.element),p.appendChild(m.element);n(g,d,r,"response"),o=!0}(s+=1)<c?Ur.attachFirst(i,null):a({result:o})},null)},null}))}function _(a){var i,r,l;if(!Ta(a))for(i=new Array,function(){var e,t,n,o,r,s,l,c,_,u={A:1,SCRIPT:1},p=new Object,d={p:p,n:p,node:a};for(p.p=d,p.n=d;p.n!=p;)switch(e=(d=p.n).p,t=d.n,e.n=t,t.p=e,(n=d.node).nodeType){case 1:if(!u[n.tagName])for(s=(r=n.childNodes).length,o=0;o<s;o++)d={p:e=(t=p).p,n:t,node:r[o]},e.n=d,t.p=d;break;case 3:for(;n&&(l=_r(n).match(new RegExp("ID:([a-zA-Z0-9+/.]{8,10})[●!]{0,2}","i")));)ur(n,RegExp.leftContext),(c=new Ra(null,!1)).setId(l[1]),i.push(c),fr(_=c.getElement(),l[0]),ar(n,_),ar(_,n=Eo(RegExp.rightContext))}}(),l=i.length,r=0;r<l;r++)(function(a){var i,r,l,c,_;a.setResponse(e),i=a.getId(),r=e.getId()===i,l=a.getElement(),c=Eo(""),l.appendChild(c),a.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#707070"),yr(t,"font-size","small"))},a.update(),"id"==s&&r||(_=new ha,o&&o.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var o=rs.getResponsesFromId(i),s=0,l=o.length;if(r){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function i(){var r,c,u,p,d,m=o[s],g=m.getCloneElements(),f=g.length;if(f){for(c=yo("table"),e.appendChild(c),u=c.insertRow(-1).insertCell(-1),c.style.margin="0px 0px 10px",(p=new Object).parent=t.parent,r=0;r<f;r++)p[(d=g[r]).name]||(p[d.name]=new Array),p[d.name].push(d.element),u.appendChild(d.element);n(m,p,_,"id")}(s+=1)<l?Ur.attachFirst(i,null):a({result:!0})},null)})})(i[r])}function u(a){var i,r,l;if(!Sa(a))for(i=new Array,function(){var e,t,n,o,r,s,l,c,_,u={SCRIPT:1},p=new Object,d={p:p,n:p,node:a};for(p.p=d,p.n=d;p.n!=p;)switch(e=(d=p.n).p,t=d.n,e.n=t,t.p=e,(n=d.node).nodeType){case 1:if(!u[n.tagName])for(s=(r=n.childNodes).length,o=0;o<s;o++)d={p:e=(t=p).p,n:t,node:r[o]},e.n=d,t.p=d;break;case 3:for(;n&&(l=_r(n).match(new RegExp("(◆(|[ ])[a-zA-Z0-9+/.]{10,12})","i")));)ur(n,RegExp.leftContext),(c=new Ca(null,!1)).setName(l[0]),i.push(c),fr(_=c.getElement(),l[0]),ar(n,_),ar(_,n=Eo(RegExp.rightContext))}}(),l=i.length,r=0;r<l;r++)(function(a){var i,r,l,c,_;a.setResponse(e),i=a.getName(),r=e.getName()===i,l=a.getElement(),c=Eo(""),a.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#707070"),yr(t,"font-size","small"))},a.update(),l.appendChild(c),"name"==s&&r||(_=new ha,o&&o.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var o=rs.getResponsesFromName(i),s=0,l=o.length;if(r){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function i(){var r,c,u,p,d,m=o[s],g=m.getCloneElements(),f=g.length;if(f){for(c=yo("table"),e.appendChild(c),u=c.insertRow(-1).insertCell(-1),c.style.margin="0px 0px 10px",(p=new Object).parent=t.parent,r=0;r<f;r++)p[(d=g[r]).name]||(p[d.name]=new Array),p[d.name].push(d.element),u.appendChild(d.element);n(m,p,_,"name")}(s+=1)<l?Ur.attachFirst(i,null):a({result:!0})},null)})})(i[r])}function p(a){var i,r,l;if(!Na(a))for(i=new Array,function(){var e,t,n,o,r,s,l,c,_,u={B:1,SCRIPT:1},p=new Object,d={p:p,n:p,node:a};for(p.p=d,p.n=d;p.n!=p;)switch(e=(d=p.n).p,t=d.n,e.n=t,t.p=e,(n=d.node).nodeType){case 1:if(!u[n.tagName])for(s=(r=n.childNodes).length,o=0;o<s;o++)d={p:e=(t=p).p,n:t,node:r[o]},e.n=d,t.p=d;break;case 3:for(;n&&(l=_r(n).match(new RegExp("(IP:)([-.:*a-zA-Z0-9()]+)","i")));)ur(n,RegExp.leftContext+l[1]),(c=new La(null,!1)).setHost(l[2]),i.push(c),fr(_=c.getElement(),l[2]),ar(n,_),ar(_,n=Eo(RegExp.rightContext))}}(),l=i.length,r=0;r<l;r++)(function(a){var i,r,l,c,_;a.setResponse(e),i=a.getHost(),r=e.getHost()===i,l=a.getElement(),c=Eo(""),a.onchange=function(e){ur(c,e>1?"["+e+"]":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#707070"),yr(t,"font-size","80%"))},a.update(),l.appendChild(c),"host"==s&&r||(_=new ha,o&&o.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var o=rs.getResponsesFromHost(i),s=0,l=o.length;if(r){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function i(){var r,c,u,p,d,m=o[s],g=m.getCloneElements(),f=g.length;if(f){for(c=yo("table"),e.appendChild(c),u=c.insertRow(-1).insertCell(-1),c.style.margin="0px 0px 10px",(p=new Object).parent=t.parent,r=0;r<f;r++)p[(d=g[r]).name]||(p[d.name]=new Array),p[d.name].push(d.element),u.appendChild(d.element);n(m,p,_,"host")}(s+=1)<l?Ur.attachFirst(i,null):a({result:!0})},null)})})(i[r])}function d(a){var i,r,l;if(!Na(a))for(i=new Array,function(){var e,t,n;try{if("["!==(e=a.firstChild).nodeValue)return;if("FONT"!==(e=e.nextSibling).tagName)return;if(!(t=e.innerHTML.match(new RegExp("^([-.:*a-zA-Z0-9()]+)$","i"))))return;if("]"!==(e=e.nextSibling).nodeValue)return;(n=new La(null,!1)).setHost(t[1]),i.push(n),nr(e,n.getElement())}catch(e){}}(),l=i.length,r=0;r<l;r++)(function(a){var i,r,l,c,_;a.setResponse(e),i=a.getHost(),r=e.getHost()===i,l=a.getElement(),c=Eo(""),a.onchange=function(e){var t=l.style;e>1?(ur(c,"("+e+")"),yr(t,"margin-left","4px"),yr(t,"margin-right","4px")):(ur(c,""),kr(t,"margin-left"),kr(t,"margin-right")),e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#707070"),yr(t,"font-size","80%"))},a.update(),l.appendChild(c),"host"==s&&r||(_=new ha,o&&o.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var o=rs.getResponsesFromHost(i),s=0,l=o.length;if(r){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function i(){var r,c,u,p,d,m=o[s],g=m.getCloneElements(),f=g.length;if(f){for(c=yo("table"),e.appendChild(c),u=c.insertRow(-1).insertCell(-1),c.style.margin="0px 0px 10px",(p=new Object).parent=t.parent,r=0;r<f;r++)p[(d=g[r]).name]||(p[d.name]=new Array),p[d.name].push(d.element),u.appendChild(d.element);n(m,p,_,"host")}(s+=1)<l?Ur.attachFirst(i,null):a({result:!0})},null)})})(i[r])}function m(n){Pa(n)||function(){var a,i,o,s,l,c=n;if(c&&(a=gr(c).match(new RegExp("No[.][0-9]+","i")))){switch(c.nodeType){case 1:control_reply=new za(c,!0);break;case 3:ur(c,RegExp.leftContext),control_reply=new za(null,!1),fr(i=control_reply.getElement(),a[0]),ar(c,i),c=Eo(RegExp.rightContext),ar(i,c)}control_reply.setResponse(e),o=r.docking_form,s=r.form_textarea,l=function(){var e,n=t.post_message,a=n.length;for(e=0;e<a;e++)if("BLOCKQUOTE"==n[e].nodeName)return n[e];return null}(),control_reply.onclick=function(){var t,n,a,r,c,_;o.popupForReply(i),n=(t=s.value).length,a=s.selectionEnd,0==n?(c=[">"],_=function(e){var t,n,a;switch(e.nodeType){case 1:if(ka(e))return;if("BR"===e.tagName)c.push("\n"),c.push(">");else for(a=(n=e.childNodes).length,t=0;t<a;t++)_(n[t]);break;case 3:c.push(e.nodeValue)}},_(l),">"==c[c.length-1]&&c.pop(),c.push("\n"),r=c.join("")):r=a>=n?">No."+e.getNumber()+"\n":">No."+e.getNumber(),s.value=t.slice(0,a)+r+t.slice(a),s.selectionEnd=a+r.length,s.focus()}}}()}!function(){var a,i,r,s,g,f,h=t.post_info,x=h.length;for(a=0;a<x;a++)m(h[a]),_(h[a]),u(h[a]),p(h[a]);for(x&&(Da(i=h[x-1])||((r=new Oa(null,!0)).setResponse(e),s=r.getElement(),g=Eo(""),s.appendChild(g),r.onchange=function(e){g.nodeValue=e?" follower("+e+")":"";var t=s.style;e>=3?(yr(t,"color","#e80000"),kr(t,"font-size")):(yr(t,"color","#707070"),yr(t,"font-size","small")),e?yr(t,"margin","0px 4px 0px 0px"):kr(t,"margin")},r.update(),ar(i,s),f=new ha,o&&o.attachChild(f),f.setElementParent(t.parent),f.setElementHitArea(s),f.oncreate=function(a,i){var o=e.getFollower(),r=0,s=o.length;if(s<=0)return!1;Ur.attachFirst(function e(){var l,c,_,u,p,d=rs.getResponse(o[r].getNumber()),m=d.getCloneElements(),g=m.length;if(g){for(c=yo("table"),a.appendChild(c),_=c.insertRow(-1).insertCell(-1),c.style.margin="0px 0px 10px",(u=new Object).parent=t.parent,l=0;l<g;l++)u[(p=m[l]).name]||(u[p.name]=new Array),u[p.name].push(p.element),_.appendChild(p.element);n(d,u,f,"response")}(r+=1)<s?Ur.attachFirst(e,null):i({result:!0})},null)})),x=(h=t.post_message).length,a=0;a<x;a++)l(h[a]),c(h[a]),_(h[a]),u(h[a]),d(h[a])}()}function a(e){var t,n,a,i=new Za,o=new RegExp("^(No\\.|>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)([0-9０-９]+)","i"),s=new RegExp("([0-9０-９]+)\\.(bmp|gif|jpeg|jpe|jpg|png|webp|webm|mp4)","i"),l=new RegExp("^([0-9０-９]+)","i"),c=e.match(o);if(c)for(t=c[1].length;(c=e.substr(t).match(l))&&(t+=c[0].length,n=null,a=Ni(c[1]),n||(n=r.futaba_dictionary.getResponseFromImageId(a)),(a=parseInt(a))<1&&(a=1),a>2147483647&&(a=2147483647),n||(n=r.futaba_dictionary.getResponse(a)),n&&(a=n.getNumber()),i.addNumber(a)),c&&0==RegExp.rightContext.search(",");)t+=1;return(c=e.match(s))&&(a=Ni(c[1]),(n=r.futaba_dictionary.getResponseFromImageId(a))&&i.addNumber(n.getNumber())),i}function i(e,t){var n,a,i,o=new Za,s=r.futaba_dictionary.getResponse(e);if(!s)return o;for(a=(n=s.getResponsesFromText(t)).length,i=0;i<a;i++)o.addNumber(n[i].getNumber());return o}var o=e.element,r=e.work,s=function(){var e,t,s,l,c,_,u,p,d,m,g,f=o,h=new Array,x=new Array,b=new Array,v=new Array,w=new Array;try{if("BLOCKQUOTE"!=f.tagName)return!1}catch(e){return!1}if(xa(f))return!1;if(!lr(f))return!1;for(t=f;t&&"HR"!=t.tagName;)h.unshift(t),t=t.previousSibling;try{for(t=Yo(f);t;){if(1==Co(t,"img").length){e=t;break}t=Yo(t)}}catch(e){}try{if("BR"==(t=Yo(e)).tagName)for(s={BR:1,HR:1},t=t.previousSibling;t&&!s[t.tagName];)v.unshift(t),t=t.previousSibling}catch(e){}try{if("TD"!=(t=h[0]).parentNode.tagName)for(s={FONT:1,INPUT:1,SPAN:1},c=h.length,l=0;l<c;l++)if(s[h[l].tagName]){t=h[l];break}for(s={DIV:1,SMALL:1,BLOCKQUOTE:1,BR:1};t&&!s[t.tagName];)x.push(t),t=t.nextSibling}catch(e){}for(r.analyzeNodeList(h),f&&w.push(f),e&&b.push(e),function(e){var t,n,a,i,o,s,l,c,_,u,p,d,m,g,f,h,x,b,v,w;if(!va(e)&&!Ea(e)){for(t=new RegExp("^(No\\.|>>|<<|>)[-,0-9０-９]+$","i"),n=new RegExp("([0-9０-９]+)\\.(bmp|gif|jpeg|jpe|jpg|png|webp|webm|mp4)","i"),a=new RegExp("(No\\.|>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)([0-9０-９]+,)*[0-9０-９]+","i"),i=new RegExp("([0-9０-９]+)","i"),o=(l=(s=Co(e,"a")).length)-1;o>=0;o--)(_=gr(c=s[o]).match(t))&&(nr(c,Eo(_[0])),rr(c));for(e.normalize(),d={p:m=new Object,n:m,node:e},m.p=d,m.n=d;m.n!=m;)switch(u=(d=m.n).p,p=d.n,u.n=p,p.p=u,(c=d.node).nodeType){case 1:for(l=(s=c.childNodes).length,o=0;o<l;o++)d={p:u=(p=m).p,n:p,node:s[o]},u.n=d,p.p=d;break;case 3:for(;c;)if((_=_r(c).match(n))&&(g=r.futaba_dictionary.getResponseFromImageId(_[1])))ur(c,RegExp.leftContext),fr(f=yo("a"),_[0]),ar(c,f),c=Eo(RegExp.rightContext),f.href=r.base_url+"#"+g.getNumber(),ar(f,c);else{if(!(_=_r(c).match(a)))break;for(h=RegExp.leftContext,x=_[0],b=RegExp.rightContext,v=0,_=x.match(i);_;){if((w=parseInt(Ni(_[0])))<1&&(w=1),w>2147483647&&(w=2147483647),(g=null)||(g=r.futaba_dictionary.getResponse(w)),g||(g=r.futaba_dictionary.getResponseFromImageId(w)),g){v=w;break}_=RegExp.rightContext.match(i)}if(!v)break;ur(c,h),fr(f=yo("a"),x),ar(c,f),c=Eo(b),f.href=r.base_url+"#"+v,ar(f,c)}}}}(f),function(){function e(e){Ga(e,function(e){var t,n=e.firstChild;return n?3!=n.nodeType?null:(t=n.nodeValue.match(new RegExp("^ID:([a-zA-Z0-9+/.]{8,10})[●!]{0,2}","i")))||(t=n.nodeValue.match(new RegExp("^(◆(|[ ])[a-zA-Z0-9+/.]{10,12})","i")))?(ar(e,n=Eo(t[0])),rr(e),null):(t=n.nodeValue.match(new RegExp("^([0-9]{1,3}\\.[0-9]{1,3}\\.[*][(][-.a-zA-Z0-9]+[)])","i")))?(ar(e,n=Eo(t[0])),rr(e),n.parentNode.normalize(),null):null:null})}function t(t){var n,a=t.length;for(n=0;n<a;n++)e(t[n])}t(x),t(w)}(),_="",c=x.length,l=0;l<c;l++)_+=gr(x[l])+"|";if(!_.match(new RegExp("No\\.([0-9]+)","i")))return!1;try{"TD"==(t=h[0].parentNode).tagName?t.id=""+RegExp.$1:((u=yo("a")).name=""+RegExp.$1,nr(h[0],u))}catch(e){}return(p=rs.getResponse(parseInt(RegExp.$1))).getAnalyzed()||(_.match(new RegExp("ID:([a-zA-Z0-9+/.]{8,10})[●!]{0,2}","i"))&&p.setId(RegExp.$1),_.match(new RegExp("(◆(|[ ])[a-zA-Z0-9+/.]{10,12})","i"))&&p.setName(RegExp.$1),(_.match(new RegExp("IP:([-.:*a-zA-Z0-9()]+)","i"))||f.innerHTML.match(new RegExp('^\\[<font color="#ff0000">([-.:*a-zA-Z0-9()]+)</font>\\]',"i")))&&p.setHost(RegExp.$1),d=new Object,function(){var e,t,n=Co(f,"a"),o=n.length;for(e=0;e<o;e++)a(gr(n[e])).getNumbers(function(e){d[e]||(rs.getResponse(e).addFollower(p),d[e]=!0)});for(o=(n=f.childNodes).length,e=0;e<o;e++)"FONT"==(t=n[e]).tagName&&i(p.getNumber(),gr(t)).getNumbers(function(e){d[e]||(rs.getResponse(e).addFollower(p),d[e]=!0)})}(),m=0,g=function(e,t){var n,a=t.length;for(a&&m&&p.addOriginalElements("break_line",yo("br")),n=0;n<a;n++)p.addOriginalElements(e,t[n]),m++},g("post_info",x),g("post_file_info",v),g("post_file",b),g("post_message",w),p.onerase=function(){var e,t,n,a,i=p.getOriginalElements();if(i.length){for(t=i[i.length-1].element;t;){if("TABLE"==t.tagName){e=t;break}t=t.parentNode}if(e)(n=new Tt).executeRemoveElementBefore(e),rr(e),n.executeRemoveElementAfter(e);else for(a=i.length-1;a>=0;a--)rr(t=i[a].element)}},p.setAnalyzed()),n(p,{post_info:x,post_file_info:v,post_file:b,post_message:w,parent:Is.body},null,null),!0}();return t({useful:s}),!0}]),e("ExpandBbs_ScriptInitialize_Open2ch",[function(e){var t,n,a,i,o=e.work,r=Is.URL,s=[{url:"(http://[^.]+\\.open2ch\\.net/test/read\\.cgi/[^/]+/[0-9]+)",replace:"$1/",name:"open2ch"},{url:"(http://open2ch\\.net/test/read\\.cgi/[^/]+/[0-9]+)",replace:"$1/",name:"open2ch"}],l=s.length;for(t=0;t<l;t++)if(n=s[t],a=new RegExp(n.url,"i"),i=r.match(a)){o.base_url=i[1].replace(a,n.replace),o.bbs_name=n.name;break}return!1},function(e,t){var n,a,i,o,r,s,l,c,_,u,p,d=e.work;return!!d.bbs_name&&(n=1,a=1,i=new Array,r=0,s=null,l=d.base_url,d.createResponseAnchorNumbers=function(e){var t,n,a,i,o=new Za,r=new RegExp("^(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)([0-9０-９]+)","i"),s=new RegExp("^([0-9０-９]+)[-]([0-9０-９]+)","i"),l=new RegExp("^([0-9０-９]+)","i"),c=e.match(r);if(c)for(t=c[1].length;(c=e.substr(t).match(s))?((n=parseInt(Ni(c[1])))<1&&(n=1),(a=parseInt(Ni(c[2])))<1&&(a=1),n>1e4&&(n=1e4),a>1e4&&(a=1e4),t+=c[0].length,o.addNumbers(n,a)):(c=e.substr(t).match(l))&&(t+=c[0].length,(i=parseInt(Ni(c[1])))<1&&(i=1),i>2147483647&&(i=2147483647),o.addNumber(i)),c&&0==RegExp.rightContext.search(",");)t+=1;return o},d.extendResponseAnchor=function(e){var t,n,a,i,o,r,s,l,c,_,u,p,m,g,f,h,x,b,v;if(!va(e)){for(t=new RegExp("^(>>|<<|>)[-,0-9０-９]+$","i"),n=new RegExp("(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)(([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+),)*([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+)","i"),a=new RegExp("([0-9０-９]+)[-]([0-9０-９]+)","i"),i=new RegExp("([0-9０-９]+)","i"),o=(s=(r=Co(e,"a")).length)-1;o>=0;o--)(c=gr(l=r[o]).match(t))&&(nr(l,Eo(c[0])),rr(l));for(e.normalize(),p={p:m=new Object,n:m,node:e},m.p=p,m.n=p;m.n!=m;)switch(_=(p=m.n).p,u=p.n,_.n=u,u.p=_,(l=p.node).nodeType){case 1:for(s=(r=l.childNodes).length,o=0;o<s;o++)p={p:_=(u=m).p,n:u,node:r[o]},_.n=p,u.p=p;break;case 3:for(;l&&(c=_r(l).match(n));)ur(l,RegExp.leftContext),g=yo("a"),f=yo("span"),g.appendChild(f),fr(f,c[0]),ar(l,g),ar(g,l=Eo(RegExp.rightContext)),h="",(c=gr(g).match(a))?((x=parseInt(Ni(c[1])))<1&&(x=1),(b=parseInt(Ni(c[2])))<1&&(b=1),x>1e4&&(x=1e4),b>1e4&&(b=1e4),b<x&&(v=x,x=b,b=v),h=x+"-"+b):(c=gr(g).match(i))&&((h=parseInt(Ni(c[0])))<1&&(h=1),h>2147483647&&(h=2147483647)),g.href=d.base_url+h}}},(_=(c=Mo(Is.body,"thread")).length)&&(s=c[_-1]),!!s&&((u=(c=Co(s,"dt")).length)&&(p=new RegExp("^([0-9]+)","i"),gr(c[0]).match(p)&&(n=parseInt(RegExp.$1),i[0]=!0),1==n&&u>1&&gr(c[1]).match(p)&&(n=parseInt(RegExp.$1),i[n]=!0,n<=2&&(n=1)),gr(c[u-1]).match(p)&&(a=parseInt(RegExp.$1),i[a]=!0)),r=0,o=[{url:l,parse:function(e){var t,o,r,s=new RegExp("ID:([-a-zA-Z0-9+/.]+)[●!]{0,2}","i"),l=new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i");"open2ch"===d.bbs_name&&(t=new RegExp("([0-9]+)","i")),o=0,r=e.length,Ur.attachFirst(function c(){var _,u,p,m,g,f,h,x,b,v,w;if(!(o>=r||(o=e.indexOf("<dt",o))<0)){if(_=e.indexOf("</dt>",o),p=(u=e.substring(o,_)+"\n<br>").match(t))if(m=parseInt(p[1]),n<=m&&m<=a);else if(i[m]);else{g=to(u),f=g[0],h=g[1],x=g[3];try{if("DT"!=f.tagName)return;if("DD"!=h.tagName)return;if("BR"!=x.tagName)return}catch(_){return}(b=rs.getResponse(m)).getAnalyzed()||(v=gr(f),d.extendResponseAnchor(h),v.match(s)&&b.setId(RegExp.$1),v.match(l)&&b.setName(RegExp.$1),function(){var e,t,n,a,i,o,r,s={B:1,SCRIPT:1},l=new Object,c={p:l,n:l,node:f};for(l.p=c,l.n=c;l.n!=l;)switch(e=(c=l.n).p,t=c.n,e.n=t,t.p=e,(n=c.node).nodeType){case 1:if(!s[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)c={p:e=(t=l).p,n:t,node:i[a]},e.n=c,t.p=c;break;case 3:if(r=_r(n).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))return void b.setHost(r[2]);if(r=_r(n).match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})(|\\n) \\]","i")))return void b.setHost(r[2]);if(r=_r(n).match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))return void b.setHost(r[2])}}(),w=new Object,function(){var e,t=Co(h,"a"),n=t.length;for(e=0;e<n;e++)d.createResponseAnchorNumbers(gr(t[e])).getNumbers(function(e){w[e]||(rs.getResponse(e).addFollower(b),w[e]=!0)})}(),f&&b.addOriginalElements("dt",f),h&&b.addOriginalElements("dd",h),x&&b.addOriginalElements("br",x),b.onerase=function(){},b.setAnalyzed())}o<_&&(o=_+1,Ur.attachFirst(c,null))}},null)},validity:function(){return!0}}],function(){var e,t,n=Co(Is.body,"form");for(t=0;t<n.length;t++)if(n[t].action.indexOf("/test/bbs.cgi")>=0){e=n[t];break}e&&new Wa(e,!1).setStyle("background:#e8e8e8; background-image:linear-gradient(to bottom, #f8f8f8, #e8e8e8); padding:20px; border:1px solid #888; border-radius:4px; box-shadow:2px 2px 5px #aaa; margin:0px;")}(),function(){var e=o.length,t=r,n=0,a=function(){e<=(n+=1)||(e<=(t+=1)&&(t=0),r=t,i())},i=function(){var e=o[t],n=new us;n.onload=function(t){e.validity(t)?e.parse(t):a()},n.onerror=function(){a()},n.setMethod("GET"),n.setURL(e.url),n.loadText()};i()}(),t({result:!0}),!0))},function(e,t){return t({result:!1}),!0}]),e("ExpandBbs_ScriptCallback_Open2ch",[function(e,t){function n(e,t,a,o){function r(e){va(e)||(function(){var t,n,a,o=Co(e,"a"),r=o.length;for(t=0;t<r;t++)n=o[t],(a=i.createResponseAnchorNumbers(gr(n))).getCount()&&new ba(n,!1).setResponseAnchorNumbers(a)}(),wa(e,function(e){var i=e.getElement(),o=e.getResponseAnchorNumbers(),r=new ha;return a&&a.attachChild(r),r.setElementParent(t.parent),r.setElementHitArea(i),r.oncreate=function(e,a){var i,s,l,c,_=yo("dl");if(_.style.margin="0px",e.appendChild(_),i=!1,s=0,l=o.getNumberList(),!(c=l.length))return!1;Ur.attachFirst(function e(){var o,u,p,d=rs.getResponse(l[s]),m=d.getCloneElements(),g=m.length;if(g){for((u=new Object).parent=t.parent,o=0;o<g;o++)u[(p=m[o]).name]=p.element,_.appendChild(p.element);n(d,u,r,"response"),i=!0}(s+=1)<c?Ur.attachFirst(e,null):a({result:i})},null)},null}))}function s(i){Ta(i)||(function(){var e,t,n,a,o,r,s,l,c,_,u={A:1,SCRIPT:1},p=new Object,d={p:p,n:p,node:i};for(p.p=d,p.n=d;p.n!=p;)switch(e=(d=p.n).p,t=d.n,e.n=t,t.p=e,(n=d.node).nodeType){case 1:if(!u[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)d={p:e=(t=p).p,n:t,node:o[a]},e.n=d,t.p=d;"A"==n.tagName&&(s=n.href.match(new RegExp("[?]ID=([a-zA-Z0-9+/.]{3,10})[●!]{0,2}","i")))&&((l=new Ra(null,!0)).setId(s[1]),ar(n,c=l.getElement()),_=Eo(""),c.appendChild(_),l.setTextNode(_));break;case 3:for(;n&&(s=_r(n).match(new RegExp("ID:([a-zA-Z0-9+/.]{3,10})[●!]{0,2}","i")));)ur(n,RegExp.leftContext),(l=new Ra(null,!1)).setId(s[1]),fr(c=l.getElement(),s[0]),ar(n,c),_=Eo(""),c.appendChild(_),l.setTextNode(_),ar(c,n=Eo(RegExp.rightContext))}}(),Ia(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getId(),s=e.getId()===r,l=i.getElement(),c=i.getTextNode(),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),"id"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i,o,l,c=yo("dl");if(c.style.margin="0px",e.appendChild(c),i=rs.getResponsesFromId(r),o=0,l=i.length,s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function e(){var r,s,u,p=i[o],d=p.getCloneElements(),m=d.length;if(m){for((s=new Object).parent=t.parent,r=0;r<m;r++)s[(u=d[r]).name]=u.element,c.appendChild(u.element);n(p,s,_,"id")}(o+=1)<l?Ur.attachFirst(e,null):a({result:!0})},null)}),null}))}function l(i){Sa(i)||(function(){var e,t,n,a,o,r,s,l,c,_,u={SCRIPT:1},p=new Object,d={p:p,n:p,node:i};for(p.p=d,p.n=d;p.n!=p;)switch(e=(d=p.n).p,t=d.n,e.n=t,t.p=e,(n=d.node).nodeType){case 1:if(!u[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)d={p:e=(t=p).p,n:t,node:o[a]},e.n=d,t.p=d;break;case 3:for(;n;){if(!(s=_r(n).match(new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i")))){if(s=_r(n).match(new RegExp("◆$","i")))try{(s=gr(_=n.parentNode.nextSibling).match(new RegExp("^([a-zA-Z0-9+/.]{10,12})$","i")))&&((l=new Ca(null,!0)).setName("◆"+s[0]),ar(_,c=l.getElement()))}catch(e){}break}ur(n,RegExp.leftContext),(l=new Ca(null,!1)).setName(s[0]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}}(),Ma(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getName(),s=e.getName()===r,l=i.getElement(),c=Eo(""),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),l.appendChild(c),"name"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i,o,l,c=yo("dl");if(c.style.margin="0px",e.appendChild(c),i=rs.getResponsesFromName(r),o=0,l=i.length,s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function e(){var r,s,u,p=i[o],d=p.getCloneElements(),m=d.length;if(m){for((s=new Object).parent=t.parent,r=0;r<m;r++)s[(u=d[r]).name]=u.element,c.appendChild(u.element);n(p,s,_,"name")}(o+=1)<l?Ur.attachFirst(e,null):a({result:!0})},null)}),null}))}var c;t.dt&&(r(t.dt),s(t.dt),l(t.dt),Na(c=t.dt)||(function(){var e,t,n,a,i,o,r,s,l,_,u={B:1,SCRIPT:1},p=new Object,d={p:p,n:p,node:c};for(p.p=d,p.n=d;p.n!=p;)switch(e=(d=p.n).p,t=d.n,e.n=t,t.p=e,(n=d.node).nodeType){case 1:if(!u[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)d={p:e=(t=p).p,n:t,node:i[a]},e.n=d,t.p=d;break;case 3:for(;n;)if(s=(r=_r(n)).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))ur(n,RegExp.leftContext+s[1]),(l=new La(null,!1)).setHost(s[2]),fr(_=l.getElement(),s[2]),ar(n,_),ar(_,n=Eo(RegExp.rightContext));else if(s=r.match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})((|\\n) \\])","i")))ur(n,RegExp.leftContext+s[1]),(l=new La(null,!1)).setHost(s[2]),fr(_=l.getElement(),s[2]),ar(n,_),ar(_,n=Eo("\n ]"+RegExp.rightContext));else{if(!(s=r.match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i"))))break;ur(n,RegExp.leftContext+s[1]),(l=new La(null,!1)).setHost(s[2]),fr(_=l.getElement(),s[2]),ar(n,_),ar(_,n=Eo(RegExp.rightContext))}}}(),Fa(c,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getHost(),s=e.getHost()===r,l=i.getElement(),c=Eo(""),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","80%"))},i.update(),l.appendChild(c),"host"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i,o,l,c=yo("dl");if(c.style.margin="0px",e.appendChild(c),i=rs.getResponsesFromHost(r),o=0,l=i.length,s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function e(){var r,s,u,p=i[o],d=p.getCloneElements(),m=d.length;if(m){for((s=new Object).parent=t.parent,r=0;r<m;r++)s[(u=d[r]).name]=u.element,c.appendChild(u.element);n(p,s,_,"host")}(o+=1)<l?Ur.attachFirst(e,null):a({result:!0})},null)}),null})),function(i){var o,r,s,l,c;Da(i)||((o=new Oa(null,!0)).setResponse(e),r=o.getElement(),s=Eo(""),r.appendChild(s),o.onchange=function(e){s.nodeValue=e?" follower("+e+")":"";var t=r.style;e>=3?(yr(t,"color","#e80000"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small")),e?yr(t,"margin","0px 4px 0px 0px"):kr(t,"margin")},o.update(),(l=Co(i,"br")).length?nr(l[0],r):i.appendChild(r),c=new ha,a&&a.attachChild(c),c.setElementParent(t.parent),c.setElementHitArea(r),c.oncreate=function(a,i){var o,r,s,l=yo("dl");if(l.style.margin="0px",a.appendChild(l),o=e.getFollower(),r=0,(s=o.length)<=0)return!1;Ur.attachFirst(function e(){var a,_,u,p=rs.getResponse(o[r].getNumber()),d=p.getCloneElements(),m=d.length;if(m){for((_=new Object).parent=t.parent,a=0;a<m;a++)_[(u=d[a]).name]=u.element,l.appendChild(u.element);n(p,_,c,"response")}(r+=1)<s?Ur.attachFirst(e,null):i({result:!0})},null)})}(t.dt)),t.dd&&(r(t.dd),s(t.dd),l(t.dd))}var a=e.element,i=e.work,o=function(){var e,t,o,r,s,l,c,_,u=a;try{if("DT"!=u.tagName)return!1}catch(e){return!1}e=u.nextSibling;try{if("DD"!=e.tagName)return!1}catch(e){return!1}try{if("DL"!=(o=u.parentNode).tagName)return!1}catch(e){return!1}try{"BR"!=(t=e.nextSibling.nextSibling).tagName&&(t=null)}catch(e){}if(t||(t=yo("br"),r=Eo("\n"),Jo(a,r),Jo(r,t)),!lr(u))return!1;if(i.extendResponseAnchor(e),function(){function t(e){Ga(e,function(e){var t,n=e.firstChild;return n?3!=n.nodeType?null:(t=n.nodeValue.match(new RegExp("^ID:([a-zA-Z0-9+/.]{3,10})[●!]{0,2}","i")))||(t=n.nodeValue.match(new RegExp("^(◆[a-zA-Z0-9+/.]{10,12})","i")))?(ar(e,n=Eo(t[0])),rr(e),null):(t=n.nodeValue.match(new RegExp("^([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))||(t=n.nodeValue.match(new RegExp("^([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))?(ar(e,n=Eo(t[0])),rr(e),n.parentNode.normalize(),null):null:null})}u&&t(u),e&&t(e)}(),!(s=gr(u)).match(new RegExp("([0-9]+)[ ]","i")))return!1;for((l=rs.getResponse(parseInt(RegExp.$1))).getAnalyzed()||(s.match(new RegExp("ID:([a-zA-Z0-9+/.]{3,10})[●!]{0,2}","i"))&&l.setId(RegExp.$1),s.match(new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i"))&&l.setName(RegExp.$1),function(){var e,t,n,a,i,o,r,s={B:1,SCRIPT:1},c=new Object,_={p:c,n:c,node:u};for(c.p=_,c.n=_;c.n!=c;)switch(e=(_=c.n).p,t=_.n,e.n=t,t.p=e,(n=_.node).nodeType){case 1:if(!s[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)_={p:e=(t=c).p,n:t,node:i[a]},e.n=_,t.p=_;break;case 3:if(r=_r(n).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))return void l.setHost(r[2]);if(r=_r(n).match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})(|\\n) \\]","i")))return void l.setHost(r[2]);if(r=_r(n).match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))return void l.setHost(r[2])}}(),c=new Object,function(){var t,n=Co(e,"a"),a=n.length;for(t=0;t<a;t++)i.createResponseAnchorNumbers(gr(n[t])).getNumbers(function(e){c[e]||(rs.getResponse(e).addFollower(l),c[e]=!0)})}(),u&&l.addOriginalElements("dt",u),e&&l.addOriginalElements("dd",e),t&&l.addOriginalElements("br",t),l.onerase=function(){var e,t,n,a=l.getOriginalElements(),i=a.length;for(e=0;e<i;e++)t=new Tt,n=a[e].element,t.executeRemoveElementBefore(n),rr(n),t.executeRemoveElementAfter(n)},l.setAnalyzed()),o=Is.body,_=u;_;)"DL"==_.tagName&&(o=_),_=_.parentNode;return n(l,{dt:u,dd:e,parent:o},null,null),!0}();return t({useful:o}),!0}]),e("ExpandBbs_ScriptInitialize_Mimizun",[function(e){var t,n,a,i,o=e.work,r=Is.URL,s=[{url:"(http://mimizun\\.com/log/2ch/[^/]+/[0-9]+)",replace:"$1/",name:"mimizun"},{url:"(http://mimizun\\.com/log/machi/[^/]+/[0-9]+)",replace:"$1/",name:"mimizun"}],l=s.length;for(t=0;t<l;t++)if(n=s[t],a=new RegExp(n.url,"i"),i=r.match(a)){o.base_url=i[1].replace(a,n.replace),o.bbs_name=n.name;break}return!1},function(e,t){var n,a,i,o,r,s,l,c,_,u,p,d,m,g,f=e.work;if(!f.bbs_name)return!1;if(n=1,a=1,i=new Array,o=null,r=null,s=f.base_url,c=s,f.createResponseAnchorNumbers=function(e){var t,n,a,i,o=new Za,r=new RegExp("^(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)([0-9０-９]+)","i"),s=new RegExp("^([0-9０-９]+)[-]([0-9０-９]+)","i"),l=new RegExp("^([0-9０-９]+)","i"),c=e.match(r);if(c)for(t=c[1].length;(c=e.substr(t).match(s))?((n=parseInt(Ni(c[1])))<1&&(n=1),(a=parseInt(Ni(c[2])))<1&&(a=1),n>1e4&&(n=1e4),a>1e4&&(a=1e4),t+=c[0].length,o.addNumbers(n,a)):(c=e.substr(t).match(l))&&(t+=c[0].length,(i=parseInt(Ni(c[1])))<1&&(i=1),i>2147483647&&(i=2147483647),o.addNumber(i)),c&&0==RegExp.rightContext.search(",");)t+=1;return o},f.extendResponseAnchor=function(e){var t,n,a,i,o,r,s,l,c,_,u,p,d,m,g,h,x,b;if(!va(e)){for(t=new RegExp("^(>>|<<|>)[-,0-9０-９]+$","i"),n=new RegExp("(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)(([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+),)*([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+)","i"),a=new RegExp("([0-9０-９]+)[-]([0-9０-９]+)","i"),i=new RegExp("([0-9０-９]+)","i"),o=(s=(r=Co(e,"a")).length)-1;o>=0;o--)(c=gr(l=r[o]).match(t))&&(nr(l,Eo(c[0])),rr(l));for(e.normalize(),p={p:d=new Object,n:d,node:e},d.p=p,d.n=p;d.n!=d;)switch(_=(p=d.n).p,u=p.n,_.n=u,u.p=_,(l=p.node).nodeType){case 1:for(s=(r=l.childNodes).length,o=0;o<s;o++)p={p:_=(u=d).p,n:u,node:r[o]},_.n=p,u.p=p;break;case 3:for(;l&&(c=_r(l).match(n));)ur(l,RegExp.leftContext),fr(m=yo("a"),c[0]),ar(l,m),ar(m,l=Eo(RegExp.rightContext)),g="",(c=gr(m).match(a))?((h=parseInt(Ni(c[1])))<1&&(h=1),(x=parseInt(Ni(c[2])))<1&&(x=1),h>1e4&&(h=1e4),x>1e4&&(x=1e4),x<h&&(b=h,h=x,x=b),g=h+"-"+x):(c=gr(m).match(i))&&((g=parseInt(Ni(c[0])))<1&&(g=1),g>2147483647&&(g=2147483647)),m.href=f.base_url+g}}},o||(o=Is.getElementById("thread")),o||(o=Is.getElementById("thread2")),!o)return!1;for(p=(_=Co(o,"div")).length,u=0;u<p&&("contributor"!=(d=_[u]).className||!(m=gr(d).match(new RegExp("([0-9]+)","i")))||(n=parseInt(m[1]),i[n]=!0,1==n));u++);for(u=p-1;u>=0;u--)if("contributor"==(d=_[u]).className&&(m=gr(d).match(new RegExp("([0-9]+)","i")))){a=parseInt(m[1]),i[a]=!0;break}return l=s,c=s+a+"-",(r=new Ba).setWaitTime(2e3),r.onclick=function(e){var t=new us;t.onload=function(t){var n=new RegExp('<a name="([0-9]+)">',"i"),i=0,r=t.length,l=0;Ur.attachFirst(function _(){var u,p,d,m,g,f,h,x;try{if(i>=r)throw 0;if((i=t.indexOf('<div class="contributor">',i))<0)throw 0;if(u=t.indexOf("\n",i),(d=(p=t.substring(i,u)).match(n))&&(m=parseInt(d[1]),a<m)){for((g=rs.getResponse(m)).clearAnalyzed(),g.clearOriginalElements(),g.clearFollowing(),x=(f=to(p)).length,h=0;h<x;h++)o.appendChild(f[h]);l+=1,c=s+(a=m)+"-"}if(i<u)return i=u+1,void Ur.attachFirst(_,null)}catch(u){}e({result:!0,add_count:l})},null)},t.onerror=function(){e({result:!1})},t.setMethod("GET"),t.setURL(c),t.overrideMimeType("text/plain; charset=Shift_JIS"),t.loadText()},ar(o,r.getElement()),(g=new us).onload=function(e){var t=new RegExp('<a name="([0-9]+)">',"i"),o=new RegExp("ID:([a-zA-Z0-9+/.]{8,10})[●!]{0,2}","i"),r=new RegExp("(◆(|[ ])[a-zA-Z0-9+/.]{10,12})","i"),s=0,l=e.length;Ur.attachFirst(function c(){var _,u,p,d,m,g,h,x,b,v;if(!(s>=l||(s=e.indexOf('<div class="contributor">',s))<0)){if(_=e.indexOf("\n",s),p=(u=e.substring(s,_)).match(t))if(d=parseInt(p[1]),n<=d&&d<=a);else if(i[d]);else if(!(m=rs.getResponse(d)).getAnalyzed()){g=to(u),h=g[0],x=g[1];try{if("DIV"!=h.tagName)return;if("contributor"!=h.className)return;if("DIV"!=x.tagName)return;if("res"!=x.className)return}catch(_){return}b=gr(h),f.extendResponseAnchor(x),b.match(o)&&m.setId(RegExp.$1),b.match(r)&&m.setName(RegExp.$1),function(){var e,t,n,a,i,o,r,s={B:1,SCRIPT:1},l=new Object,c={p:l,n:l,node:h};for(l.p=c,l.n=c;l.n!=l;)switch(e=(c=l.n).p,t=c.n,e.n=t,t.p=e,(n=c.node).nodeType){case 1:if(!s[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)c={p:e=(t=l).p,n:t,node:i[a]},e.n=c,t.p=c;break;case 3:if(r=_r(n).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))return void m.setHost(r[2]);if(r=_r(n).match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,}) \\]","i")))return void m.setHost(r[2]);if(r=_r(n).match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))return void m.setHost(r[2])}}(),v=new Object,function(){var e,t=Co(x,"a"),n=t.length;for(e=0;e<n;e++)f.createResponseAnchorNumbers(gr(t[e])).getNumbers(function(e){v[e]||(rs.getResponse(e).addFollower(m),v[e]=!0)})}(),h&&m.addOriginalElements("dt",h),x&&m.addOriginalElements("dd",x),m.onerase=function(){},m.setAnalyzed()}s<_&&(s=_+1,Ur.attachFirst(c,null))}},null)},g.onerror=function(){},g.setMethod("GET"),g.setURL(l),g.loadText(),t({result:!0}),!0},function(e,t){return t({result:!1}),!0}]),e("ExpandBbs_ScriptCallback_Mimizun",[function(e,t){function n(e,t,a,o){function r(e){va(e)||(function(){var t,n,a,o=Co(e,"a"),r=o.length;for(t=0;t<r;t++)n=o[t],(a=i.createResponseAnchorNumbers(gr(n))).getCount()&&new ba(n,!1).setResponseAnchorNumbers(a)}(),wa(e,function(e){var i=e.getElement(),o=e.getResponseAnchorNumbers(),r=new ha;return a&&a.attachChild(r),r.setElementParent(t.parent),r.setElementHitArea(i),r.oncreate=function(e,a){var i=!1,s=0,l=o.getNumberList(),c=l.length;if(!c)return!1;Ur.attachFirst(function o(){var _,u,p,d,m=rs.getResponse(l[s]),g=m.getCloneElements(),f=g.length;if(f){for((u=new Object).parent=t.parent,_=0;_<f;_++)u[(p=g[_]).name]=p.element,e.appendChild(p.element);try{nr(d=Co(u.dt,"p")[0],u.dd),rr(d)}catch(e){}n(m,u,r,"response"),i=!0}(s+=1)<c?Ur.attachFirst(o,null):a({result:i})},null)},null}))}function s(i){Ta(i)||(function(){var e,t,n,a,o,r,s,l,c,_={A:1,SCRIPT:1},u=new Object,p={p:u,n:u,node:i};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)p={p:e=(t=u).p,n:t,node:o[a]},e.n=p,t.p=p;break;case 3:for(;n&&(s=_r(n).match(new RegExp("ID:([a-zA-Z0-9+/.]{8,10})[●!]{0,2}","i")));)ur(n,RegExp.leftContext),(l=new Ra(null,!1)).setId(s[1]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ia(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getId(),s=e.getId()===r,l=i.getElement(),c=Eo(""),l.appendChild(c),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),"id"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i=rs.getResponsesFromId(r),o=0,l=i.length;if(s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d=i[o],m=d.getCloneElements(),g=m.length;if(g){for((c=new Object).parent=t.parent,s=0;s<g;s++)c[(u=m[s]).name]=u.element,e.appendChild(u.element);try{nr(p=Co(c.dt,"p")[0],c.dd),rr(p)}catch(e){}n(d,c,_,"id")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}function l(i){Sa(i)||(function(){var e,t,n,a,o,r,s,l,c,_={SCRIPT:1},u=new Object,p={p:u,n:u,node:i};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)p={p:e=(t=u).p,n:t,node:o[a]},e.n=p,t.p=p;break;case 3:for(;n&&(s=_r(n).match(new RegExp("(◆(|[ ])[a-zA-Z0-9+/.]{10,12})","i")));)ur(n,RegExp.leftContext),(l=new Ca(null,!1)).setName(s[0]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ma(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getName(),s=e.getName()===r,l=i.getElement(),c=Eo(""),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),l.appendChild(c),"name"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i=rs.getResponsesFromName(r),o=0,l=i.length;if(s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d=i[o],m=d.getCloneElements(),g=m.length;if(g){for((c=new Object).parent=t.parent,s=0;s<g;s++)c[(u=m[s]).name]=u.element,e.appendChild(u.element);try{nr(p=Co(c.dt,"p")[0],c.dd),rr(p)}catch(e){}n(d,c,_,"name")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}var c;t.dt&&(r(t.dt),s(t.dt),l(t.dt),Na(c=t.dt)||(function(){var e,t,n,a,i,o,r,s,l,_,u={B:1,SCRIPT:1},p=new Object,d={p:p,n:p,node:c};for(p.p=d,p.n=d;p.n!=p;)switch(e=(d=p.n).p,t=d.n,e.n=t,t.p=e,(n=d.node).nodeType){case 1:if(!u[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)d={p:e=(t=p).p,n:t,node:i[a]},e.n=d,t.p=d;break;case 3:for(;n;)if(s=(r=_r(n)).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))ur(n,RegExp.leftContext+s[1]),(l=new La(null,!1)).setHost(s[2]),fr(_=l.getElement(),s[2]),ar(n,_),ar(_,n=Eo(RegExp.rightContext));else if(s=r.match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})( \\])","i")))ur(n,RegExp.leftContext+s[1]),(l=new La(null,!1)).setHost(s[2]),fr(_=l.getElement(),s[2]),ar(n,_),ar(_,n=Eo(" ]"+RegExp.rightContext));else{if(!(s=r.match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i"))))break;ur(n,RegExp.leftContext+s[1]),(l=new La(null,!1)).setHost(s[2]),fr(_=l.getElement(),s[2]),ar(n,_),ar(_,n=Eo(RegExp.rightContext))}}}(),Fa(c,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getHost(),s=e.getHost()===r,l=i.getElement(),c=Eo(""),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","80%"))},i.update(),l.appendChild(c),"host"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i=rs.getResponsesFromHost(r),o=0,l=i.length;if(s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d=i[o],m=d.getCloneElements(),g=m.length;if(g){for((c=new Object).parent=t.parent,s=0;s<g;s++)c[(u=m[s]).name]=u.element,e.appendChild(u.element);try{nr(p=Co(c.dt,"p")[0],c.dd),rr(p)}catch(e){}n(d,c,_,"host")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null})),function(i){var o,r,s,l,c;Da(i)||((o=new Oa(null,!0)).setResponse(e),r=o.getElement(),s=Eo(""),r.appendChild(s),o.onchange=function(e){s.nodeValue=e?" follower("+e+")":"";var t=r.style;e>=3?(yr(t,"color","#e80000"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small")),e?yr(t,"margin","0px 4px 0px 0px"):kr(t,"margin")},o.update(),(l=Co(i,"br")).length?nr(l[0],r):i.appendChild(r),c=new ha,a&&a.attachChild(c),c.setElementParent(t.parent),c.setElementHitArea(r),c.oncreate=function(a,i){var o=e.getFollower(),r=0,s=o.length;if(s<=0)return!1;Ur.attachFirst(function e(){var l,_,u,p,d=rs.getResponse(o[r].getNumber()),m=d.getCloneElements(),g=m.length;if(g){for((_=new Object).parent=t.parent,l=0;l<g;l++)_[(u=m[l]).name]=u.element,a.appendChild(u.element);try{nr(p=Co(_.dt,"p")[0],_.dd),rr(p)}catch(e){}n(d,_,c,"response")}(r+=1)<s?Ur.attachFirst(e,null):i({result:!0})},null)})}(t.dt)),t.dd&&(r(t.dd),s(t.dd),l(t.dd))}var a=e.element,i=e.work,o=function(){var e,t,o,r,s,l=a;try{if("DIV"!=l.tagName)return!1;if("contributor"!=l.className)return!1}catch(e){return!1}e=l.nextSibling;try{if("DIV"!=e.tagName)return!1;if("res"!=e.className)return!1}catch(e){return!1}try{if("DIV"!=(t=l.parentNode).tagName)return!1;if(0!=t.id.indexOf("thread"))return!1}catch(e){return!1}return!!lr(l)&&(i.extendResponseAnchor(e),function(){function t(e){Ga(e,function(e){var t,n=e.firstChild;return n?3!=n.nodeType?null:(t=n.nodeValue.match(new RegExp("^ID:([a-zA-Z0-9+/.]{8,10})[●!]{0,2}","i")))||(t=n.nodeValue.match(new RegExp("^(◆(|[ ])[a-zA-Z0-9+/.]{10,12})","i")))?(ar(e,n=Eo(t[0])),rr(e),null):(t=n.nodeValue.match(new RegExp("^([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))||(t=n.nodeValue.match(new RegExp("^([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))?(ar(e,n=Eo(t[0])),rr(e),n.parentNode.normalize(),null):null:null})}l&&t(l),e&&t(e)}(),!!(o=gr(l)).match(new RegExp("([0-9]+)","i"))&&((r=rs.getResponse(parseInt(RegExp.$1))).getAnalyzed()||(function(){var e=l.cloneNode(!0);try{rr(Co(e,"p")[0])}catch(e){}o=gr(e)}(),o.match(new RegExp("ID:([a-zA-Z0-9+/.]{8,10})[●!]{0,2}","i"))&&r.setId(RegExp.$1),o.match(new RegExp("(◆(|[ ])[a-zA-Z0-9+/.]{10,12})","i"))&&r.setName(RegExp.$1),function(){var e,t,n,a,i,o,s,c={B:1,SCRIPT:1},_=new Object,u={p:_,n:_,node:l};for(_.p=u,_.n=u;_.n!=_;)switch(e=(u=_.n).p,t=u.n,e.n=t,t.p=e,(n=u.node).nodeType){case 1:if(!c[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)u={p:e=(t=_).p,n:t,node:i[a]},e.n=u,t.p=u;break;case 3:if(s=_r(n).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))return void r.setHost(s[2]);if(s=_r(n).match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,}) \\]","i")))return void r.setHost(s[2]);if(s=_r(n).match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))return void r.setHost(s[2])}}(),s=new Object,function(){var t,n=Co(e,"a"),a=n.length;for(t=0;t<a;t++)i.createResponseAnchorNumbers(gr(n[t])).getNumbers(function(e){s[e]||(rs.getResponse(e).addFollower(r),s[e]=!0)})}(),l&&r.addOriginalElements("dt",l),e&&r.addOriginalElements("dd",e),r.onerase=function(){var e,t,n,a=r.getOriginalElements(),i=a.length;for(e=0;e<i;e++)t=new Tt,n=a[e].element,t.executeRemoveElementBefore(n),rr(n),t.executeRemoveElementAfter(n)},r.setAnalyzed()),n(r,{dt:l,dd:e,parent:l.parentNode},null,null),!0))}();return t({useful:o}),!0}]),e("ExpandBbs_ScriptInitialize_Logsoku",[function(e){var t,n,a,i,o=e.work,r=Is.URL,s=[{url:"http://logsoku\\.com/thread/.*?\\.2ch\\.net/.*?/[0-9]+/",name:"logsoku"},{url:"http://.*?\\.logsoku\\.com/r/.*?/[0-9]+/",name:"logsoku"},{url:"http://logsoku\\.com/r/.*?/[0-9]+/",name:"logsoku"}],l=s.length;for(t=0;t<l;t++)if(n=s[t],a=new RegExp(n.url,"i"),i=r.match(a)){o.base_url=i[0],o.bbs_name=n.name;break}return!1},function(e,t){var n,a,i,o,r,s,l,c,_,u,p,d,m,g=e.work;if(!g.bbs_name)return!1;if(n=1,a=1,i=new Array,o=null,r=null,s=g.base_url,c=s,g.createResponseAnchorNumbers=function(e){var t,n,a,i,o=new Za,r=new RegExp("^(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)([0-9０-９]+)","i"),s=new RegExp("^([0-9０-９]+)[-]([0-9０-９]+)","i"),l=new RegExp("^([0-9０-９]+)","i"),c=e.match(r);if(c)for(t=c[1].length;(c=e.substr(t).match(s))?((n=parseInt(Ni(c[1])))<1&&(n=1),(a=parseInt(Ni(c[2])))<1&&(a=1),n>1e4&&(n=1e4),a>1e4&&(a=1e4),t+=c[0].length,o.addNumbers(n,a)):(c=e.substr(t).match(l))&&(t+=c[0].length,(i=parseInt(Ni(c[1])))<1&&(i=1),i>2147483647&&(i=2147483647),o.addNumber(i)),c&&0==RegExp.rightContext.search(",");)t+=1;return o},g.extendResponseAnchor=function(e){var t,n,a,i,o,r,s,l,c,_,u,p,d,m,f,h,x,b;if(!va(e)){for(t=new RegExp("^(>>|<<|>)[-,0-9０-９]+$","i"),n=new RegExp("(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)(([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+),)*([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+)","i"),a=new RegExp("([0-9０-９]+)[-]([0-9０-９]+)","i"),i=new RegExp("([0-9０-９]+)","i"),o=(s=(r=Co(e,"a")).length)-1;o>=0;o--)(c=gr(l=r[o]).match(t))&&(nr(l,Eo(c[0])),rr(l));for(e.normalize(),p={p:d=new Object,n:d,node:e},d.p=p,d.n=p;d.n!=d;)switch(_=(p=d.n).p,u=p.n,_.n=u,u.p=_,(l=p.node).nodeType){case 1:for(s=(r=l.childNodes).length,o=0;o<s;o++)p={p:_=(u=d).p,n:u,node:r[o]},_.n=p,u.p=p;break;case 3:for(;l&&(c=_r(l).match(n));)ur(l,RegExp.leftContext),fr(m=yo("a"),c[0]),ar(l,m),ar(m,l=Eo(RegExp.rightContext)),f="",(c=gr(m).match(a))?((h=parseInt(Ni(c[1])))<1&&(h=1),(x=parseInt(Ni(c[2])))<1&&(x=1),h>1e4&&(h=1e4),x>1e4&&(x=1e4),x<h&&(b=h,h=x,x=b),f=h+"-"+x):(c=gr(m).match(i))&&((f=parseInt(Ni(c[0])))<1&&(f=1),f>2147483647&&(f=2147483647)),m.href=g.base_url+f}}},!(o=Is.getElementById("comments")))return!1;for(p=(_=Co(o,"div")).length,u=0;u<p&&(!(d=_[u].id.match(new RegExp("^([0-9]+)$","i")))||(n=parseInt(d[1]),i[n]=!0,1==n));u++);for(u=p-1;u>=0;u--)if(d=_[u].id.match(new RegExp("^([0-9]+)$","i"))){a=parseInt(d[1]),i[a]=!0;break}return l=s,c=s+a+"-",(r=new Ba).setWaitTime(2e3),r.onclick=function(e){var t=new us;t.onload=function(t){var n=new RegExp('<div id="([0-9]+)">',"i"),i=0,r=t.length,l=0;(i=t.indexOf('<div id="comments">',i))>=0&&(i+=19,Ur.attachFirst(function _(){var u,p,d,m,g,f,h,x;try{if(i>=r)throw 0;if((i=t.indexOf("<div id=",i))<0)throw 0;if((u=t.indexOf("</div>",i))>=0&&(u=t.indexOf("</div>",u+6))>=0&&(u+=6),(d=(p=t.substring(i,u)).match(n))&&(m=parseInt(d[1]),a<m)){for((g=rs.getResponse(m)).clearAnalyzed(),g.clearOriginalElements(),g.clearFollowing(),x=(f=to(p)).length,h=0;h<x;h++)o.appendChild(f[h]);l+=1,c=s+(a=m)+"-"}if(i<u)return i=u,void Ur.attachFirst(_,null)}catch(u){}e({result:!0,add_count:l})},null))},t.onerror=function(){e({result:!1})},t.setMethod("GET"),t.setURL(c),t.loadText()},ar(o,r.getElement()),(m=new us).onload=function(e){var t=new RegExp('<div id="([0-9]+)">',"i"),o=new RegExp("ID:([-a-zA-Z0-9+/.]+)[●!]{0,2}","i"),r=new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i"),s=0,l=e.length;(s=e.indexOf('<div id="comments">',s))>=0&&(s+=19,Ur.attachFirst(function c(){var _,u,p,d,m,f,h,x,b,v;if(!(s>=l||(s=e.indexOf("<div id=",s))<0)){if((_=e.indexOf("</div>",s))>=0&&(_=e.indexOf("</div>",_+6))>=0&&(_+=6),p=(u=e.substring(s,_)).match(t))if(d=parseInt(p[1]),n<=d&&d<=a);else if(i[d]);else if(!(m=rs.getResponse(d)).getAnalyzed()){f=to(u),h=f[0],x=Co(h,"DIV")[0];try{if("DIV"!=h.tagName)return;if(!h.id.match(/^[0-9]+$/))return;if("comment"!=x.className)return}catch(_){return}b=gr(h),g.extendResponseAnchor(x),b.match(o)&&m.setId(RegExp.$1),b.match(r)&&m.setName(RegExp.$1),function(){var e,t,n,a,i,o,r,s={B:1,SCRIPT:1},l=new Object,c={p:l,n:l,node:h};for(l.p=c,l.n=c;l.n!=l;)switch(e=(c=l.n).p,t=c.n,e.n=t,t.p=e,(n=c.node).nodeType){case 1:if(!s[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)c={p:e=(t=l).p,n:t,node:i[a]},e.n=c,t.p=c;break;case 3:if(r=_r(n).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))return void m.setHost(r[2]);if(r=_r(n).match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})\\n \\]","i")))return void m.setHost(r[2]);if(r=_r(n).match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))return void m.setHost(r[2])}}(),v=new Object,function(){var e,t=Co(x,"a"),n=t.length;for(e=0;e<n;e++)g.createResponseAnchorNumbers(gr(t[e])).getNumbers(function(e){v[e]||(rs.getResponse(e).addFollower(m),v[e]=!0)})}(),h&&m.addOriginalElements("dt",h),x&&m.addOriginalElements("dd",x),m.onerase=function(){},m.setAnalyzed()}s<_&&(s=_,Ur.attachFirst(c,null))}},null))},m.onerror=function(){},m.setMethod("GET"),m.setURL(l),m.loadText(),t({result:!0}),!0},function(e,t){return t({result:!1}),!0}]),e("ExpandBbs_ScriptCallback_Logsoku",[function(e,t){function n(e,t,a,o){function r(e){va(e)||(function(){var t,n,a,o=Co(e,"a"),r=o.length;for(t=0;t<r;t++)n=o[t],(a=i.createResponseAnchorNumbers(gr(n))).getCount()&&new ba(n,!1).setResponseAnchorNumbers(a)}(),wa(e,function(e){var i=e.getElement(),o=e.getResponseAnchorNumbers(),r=new ha;return a&&a.attachChild(r),r.setElementParent(t.parent),r.setElementHitArea(i),r.oncreate=function(e,a){var i=!1,s=0,l=o.getNumberList(),c=l.length;if(!c)return!1;Ur.attachFirst(function o(){var _,u,p,d,m=rs.getResponse(l[s]),g=m.getCloneElements(),f=g.length;if(f){for((u=new Object).parent=t.parent,_=0;_<f;_++)u[(p=g[_]).name]=p.element,e.appendChild(p.element);try{nr(d=Co(u.dt,"div")[0],u.dd),rr(d),u.dd.style.minHeight="0px"}catch(e){}n(m,u,r,"response"),i=!0}(s+=1)<c?Ur.attachFirst(o,null):a({result:i})},null)},null}))}function s(i){Ta(i)||(function(){var e,t,n,a,o,r,s,l,c,_,u,p={A:1,SCRIPT:1},d=new Object,m={p:d,n:d,node:i};for(d.p=m,d.n=m;d.n!=d;)switch(e=(m=d.n).p,t=m.n,e.n=t,t.p=e,(n=m.node).nodeType){case 1:if(!p[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)m={p:e=(t=d).p,n:t,node:o[a]},e.n=m,t.p=m;if("SPAN"==n.tagName){try{s=n.dataset.logsokuLink}catch(e){}s||(s=""),(l=s.match(new RegExp("/ID:([a-zA-Z0-9+/.]{8,10})[●!]{0,2}$","i")))&&((c=new Ra(null,!0)).setId(l[1]),ar(n,_=c.getElement()),u=Eo(""),_.appendChild(u),c.setTextNode(u))}break;case 3:for(;n&&(l=_r(n).match(new RegExp("ID:([a-zA-Z0-9+/.]{8,10})[●!]{0,2}","i")));)ur(n,RegExp.leftContext),(c=new Ra(null,!1)).setId(l[1]),fr(_=c.getElement(),l[0]),ar(n,_),u=Eo(""),_.appendChild(u),c.setTextNode(u),ar(_,n=Eo(RegExp.rightContext))}}(),Ia(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getId(),s=e.getId()===r,l=i.getElement(),c=i.getTextNode(),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),"id"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i=rs.getResponsesFromId(r),o=0,l=i.length;if(s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d=i[o],m=d.getCloneElements(),g=m.length;if(g){for((c=new Object).parent=t.parent,s=0;s<g;s++)c[(u=m[s]).name]=u.element,e.appendChild(u.element);try{nr(p=Co(c.dt,"div")[0],c.dd),rr(p),c.dd.style.minHeight="0px"}catch(e){}n(d,c,_,"id")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}function l(i){Sa(i)||(function(){var e,t,n,a,o,r,s,l,c,_={SCRIPT:1},u=new Object,p={p:u,n:u,node:i};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)p={p:e=(t=u).p,n:t,node:o[a]},e.n=p,t.p=p;break;case 3:for(;n&&(s=_r(n).match(new RegExp("(◆(|[ ])[a-zA-Z0-9+/.]{10,12})","i")));)ur(n,RegExp.leftContext),(l=new Ca(null,!1)).setName(s[0]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ma(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getName(),s=e.getName()===r,l=i.getElement(),c=Eo(""),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),l.appendChild(c),"name"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i=rs.getResponsesFromName(r),o=0,l=i.length;if(s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d=i[o],m=d.getCloneElements(),g=m.length;if(g){for((c=new Object).parent=t.parent,s=0;s<g;s++)c[(u=m[s]).name]=u.element,e.appendChild(u.element);try{nr(p=Co(c.dt,"div")[0],c.dd),rr(p),c.dd.style.minHeight="0px"}catch(e){}n(d,c,_,"name")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}var c;t.dt&&(r(t.dt),s(t.dt),l(t.dt),Na(c=t.dt)||(function(){var e,t,n,a,i,o,r,s,l,_,u={B:1,SCRIPT:1},p=new Object,d={p:p,n:p,node:c};for(p.p=d,p.n=d;p.n!=p;)switch(e=(d=p.n).p,t=d.n,e.n=t,t.p=e,(n=d.node).nodeType){case 1:if(!u[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)d={p:e=(t=p).p,n:t,node:i[a]},e.n=d,t.p=d;break;case 3:for(;n;)if(s=(r=_r(n)).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))ur(n,RegExp.leftContext+s[1]),(l=new La(null,!1)).setHost(s[2]),fr(_=l.getElement(),s[2]),ar(n,_),ar(_,n=Eo(RegExp.rightContext));else if(s=r.match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})(\\n \\])","i")))ur(n,RegExp.leftContext+s[1]),(l=new La(null,!1)).setHost(s[2]),fr(_=l.getElement(),s[2]),ar(n,_),ar(_,n=Eo("\n ]"+RegExp.rightContext));else{if(!(s=r.match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i"))))break;ur(n,RegExp.leftContext+s[1]),(l=new La(null,!1)).setHost(s[2]),fr(_=l.getElement(),s[2]),ar(n,_),ar(_,n=Eo(RegExp.rightContext))}}}(),Fa(c,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getHost(),s=e.getHost()===r,l=i.getElement(),c=Eo(""),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","80%"))},i.update(),l.appendChild(c),"host"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i=rs.getResponsesFromHost(r),o=0,l=i.length;if(s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d=i[o],m=d.getCloneElements(),g=m.length;if(g){for((c=new Object).parent=t.parent,s=0;s<g;s++)c[(u=m[s]).name]=u.element,e.appendChild(u.element);try{nr(p=Co(c.dt,"div")[0],c.dd),rr(p),c.dd.style.minHeight="0px"}catch(e){}n(d,c,_,"host")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null})),function(i){var o,r,s,l,c;Da(i)||((o=new Oa(null,!0)).setResponse(e),r=o.getElement(),s=Eo(""),r.appendChild(s),o.onchange=function(e){s.nodeValue=e?" follower("+e+")":"";var t=r.style;e>=3?(yr(t,"color","#e80000"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small")),e?yr(t,"margin","0px 4px 0px 0px"):kr(t,"margin")},o.update(),(l=Co(i,"div")).length?nr(l[0],r):i.appendChild(r),c=new ha,a&&a.attachChild(c),c.setElementParent(t.parent),c.setElementHitArea(r),c.oncreate=function(a,i){var o=e.getFollower(),r=0,s=o.length;if(s<=0)return!1;Ur.attachFirst(function e(){var l,_,u,p,d=rs.getResponse(o[r].getNumber()),m=d.getCloneElements(),g=m.length;if(g){for((_=new Object).parent=t.parent,l=0;l<g;l++)_[(u=m[l]).name]=u.element,a.appendChild(u.element);try{nr(p=Co(_.dt,"div")[0],_.dd),rr(p),_.dd.style.minHeight="0px"}catch(e){}n(d,_,c,"response")}(r+=1)<s?Ur.attachFirst(e,null):i({result:!0})},null)})}(t.dt)),t.dd&&(r(t.dd),s(t.dd),l(t.dd))}var a=e.element,i=e.work,o=function(){var e,t,o,r,s,l=a;try{if("DIV"!=l.tagName)return!1;if(!l.id.match(/^[0-9]+$/))return!1}catch(e){return!1}try{if("comment"!=(e=Co(l,"DIV")[0]).className)return!1}catch(e){return!1}try{if("DIV"!=(t=l.parentNode).tagName)return!1;if("comments"!=t.id)return!1}catch(e){return!1}return!!lr(l)&&(i.extendResponseAnchor(e),function(){function t(e){Ga(e,function(e){var t,n=e.firstChild;return n?3!=n.nodeType?null:(t=n.nodeValue.match(new RegExp("^ID:([a-zA-Z0-9+/.]{8,10})[●!]{0,2}","i")))||(t=n.nodeValue.match(new RegExp("^(◆(|[ ])[a-zA-Z0-9+/.]{10,12})","i")))?(ar(e,n=Eo(t[0])),rr(e),null):(t=n.nodeValue.match(new RegExp("^([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))||(t=n.nodeValue.match(new RegExp("^([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))?(ar(e,n=Eo(t[0])),rr(e),n.parentNode.normalize(),null):null:null})}l&&(function(e){var t,n,a,i,o,r,s,l={A:1},c={comment:1},_=new Object,u={p:_,n:_,node:e};for(_.p=u,_.n=u;_.n!=_;)switch(t=(u=_.n).p,n=u.n,t.n=n,n.p=t,(a=u.node).nodeType){case 1:if(l[a.tagName]);else if(c[a.className]);else for(r=(o=a.childNodes).length,i=0;i<r;i++)u={p:t=(n=_).p,n:n,node:o[i]},t.n=u,n.p=u;break;case 3:for(;a&&_r(a).match(new RegExp("[[0-9]+/[0-9]+回.*?]","i"));)ur(a,RegExp.leftContext),ar(a,s=Eo(RegExp.rightContext)),a=s}}(l),t(l)),e&&t(e)}(),!!(o=gr(l)).match(new RegExp("([0-9]+)","i"))&&((r=rs.getResponse(parseInt(RegExp.$1))).getAnalyzed()||(function(){var e=l.cloneNode(!0);try{rr(Co(e,"div")[0])}catch(e){}o=gr(e)}(),o.match(new RegExp("ID:([a-zA-Z0-9+/.]{8,10})[●!]{0,2}","i"))&&r.setId(RegExp.$1),o.match(new RegExp("(◆(|[ ])[a-zA-Z0-9+/.]{10,12})","i"))&&r.setName(RegExp.$1),function(){var e,t,n,a,i,o,s,c={B:1,SCRIPT:1},_=new Object,u={p:_,n:_,node:l};for(_.p=u,_.n=u;_.n!=_;)switch(e=(u=_.n).p,t=u.n,e.n=t,t.p=e,(n=u.node).nodeType){case 1:if(!c[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)u={p:e=(t=_).p,n:t,node:i[a]},e.n=u,t.p=u;break;case 3:if(s=_r(n).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))return void r.setHost(s[2]);if(s=_r(n).match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})\\n \\]","i")))return void r.setHost(s[2]);if(s=_r(n).match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))return void r.setHost(s[2])}}(),s=new Object,function(){var t,n=Co(e,"a"),a=n.length;for(t=0;t<a;t++)i.createResponseAnchorNumbers(gr(n[t])).getNumbers(function(e){s[e]||(rs.getResponse(e).addFollower(r),s[e]=!0)})}(),l&&r.addOriginalElements("dt",l),e&&r.addOriginalElements("dd",e),r.onerase=function(){var e,t,n,a=r.getOriginalElements(),i=a.length;for(e=0;e<i;e++)t=new Tt,n=a[e].element,t.executeRemoveElementBefore(n),rr(n),t.executeRemoveElementAfter(n)},r.setAnalyzed()),n(r,{dt:l,dd:e,parent:l.parentNode},null,null),!0))}();return t({useful:o}),!0}]),e("ExpandBbs_ScriptInitialize_2ch_v6",[function(e){var t,n,a,i,o=e.work,r=Is.URL,s=[{url:"((http|https)://[^.]+\\.(2ch|5ch)\\.net/test/read\\.cgi/c/[^/]+/[0-9]+)",replace:"$1/",secure:!0,name:"2ch"},{url:"((http|https)://[^.]+\\.(2ch|5ch)\\.net/[^/]+/kako/[0-9]+)",replace:"$1/",secure:!0,name:"2ch"},{url:"((http|https)://[^.]+\\.bbspink\\.com/test/read\\.cgi/[^/]+/[0-9]+)",replace:"$1/",secure:!0,name:"pink"}],l=s.length;for(t=0;t<l;t++)if(n=s[t],a=new RegExp(n.url,"i"),i=r.match(a)){o.base_url=i[1].replace(a,n.replace),n.secure&&(i=o.base_url.match(new RegExp("[^:]+(.*)")))&&(o.base_url="https"+i[1]),o.bbs_name=n.name;break}return!1},function(e,t){function n(e){var t,n;switch(v.bbs_name){case"2ch_v5":if((n=e.match(new RegExp("<dt>.*?<dd>[ ].*?[ ]<br><br>","i")))&&!(n=n[0].match(new RegExp("[\r\n]"))))return!0;break;case"2ch_v6":return t=new RegExp('<div[^>]+class="(| )thread( |)"[^>]*>.*?<div[^>]+class="(| )post( |)"[^>]*>.*?<div[^>]+class="(| )message( |)"[^>]*>',"i"),Boolean(e.match(t));case"pink":return t=new RegExp('<dl[^>]+class="(| )post( |)"[^>]*>.*?<dd[^>]+class="(| )thread_in( |)"[^>]*>',"i"),Boolean(e.match(t))}return!1}function a(e){var t=_.length,n=u,a=0,i=function(){t<=(a+=1)?e({result:!1}):(t<=(n+=1)&&(n=0),u=n,o())},o=function(){var t=_[n],a=new us;switch(a.onload=function(n){t.validity(n)?t.parse(n,function(t){t.result?e(t):i()}):i()},a.onerror=function(){i()},a.setMethod("GET"),a.setURL(t.url),v.bbs_name){case"2ch_v5":case"2ch_v6":case"pink":a.overrideMimeType("text/plain; charset=Shift_JIS")}a.loadText()};o()}function i(e){var t,n,a,i,o;switch(v.bbs_name){case"2ch_v5":t=function(e){return Co(e,"dt")};break;case"2ch_v6":case"pink":t=function(e){return Mo(e,"post")}}for(n=d.length-1;n>=0;n--)if((i=(a=t(d[n])).length)&&(o=new RegExp("^[ \t\r\n]*([0-9]+)","i"),gr(a[i-1]).match(o)))return void e(parseInt(RegExp.$1))}var o,r,s,l,c,_,u,p,d,m,g,f,h,x,b,v=e.work;if(!v.bbs_name)return!1;if(o=1,r=1,s=new Array,c=0,u=0,p=null,d=[],m=null,g=v.base_url,"2ch"==v.bbs_name&&(v.bbs_name=(b=function(){var e,t=new RegExp("read[.]cgi[ \t]+ver[ \t]*([0-9]+)[.][0-9]+","i"),n=Mo(Is.body,"footer"),a=n[n.length-1];return a&&(e=gr(a).match(t))?parseInt(e[1]):5}(),6==b||b>=7?"2ch_v6":"2ch_v5")),v.createResponseAnchorNumbers=function(e){var t,n,a,i,o=new Za,r=new RegExp("^(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)([0-9０-９]+)","i"),s=new RegExp("^([0-9０-９]+)[-]([0-9０-９]+)","i"),l=new RegExp("^([0-9０-９]+)","i"),c=e.match(r);if(c)for(t=c[1].length;(c=e.substr(t).match(s))?((n=parseInt(Ni(c[1])))<1&&(n=1),(a=parseInt(Ni(c[2])))<1&&(a=1),n>1e4&&(n=1e4),a>1e4&&(a=1e4),t+=c[0].length,o.addNumbers(n,a)):(c=e.substr(t).match(l))&&(t+=c[0].length,(i=parseInt(Ni(c[1])))<1&&(i=1),i>2147483647&&(i=2147483647),o.addNumber(i)),c&&0==RegExp.rightContext.search(",");)t+=1;return o},v.extendResponseAnchor=function(e){var t,n,a,i,o,r,s,l,c,_,u,p,d,m,g,f,h,x;if(!va(e)){for(t=new RegExp("^(>>|<<|>)[-,0-9０-９]+$","i"),n=new RegExp("(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)(([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+),)*([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+)","i"),a=new RegExp("([0-9０-９]+)[-]([0-9０-９]+)","i"),i=new RegExp("([0-9０-９]+)","i"),o=(s=(r=Co(e,"a")).length)-1;o>=0;o--)(c=gr(l=r[o]).match(t))&&(nr(l,Eo(c[0])),rr(l));for(e.normalize(),p={p:d=new Object,n:d,node:e},d.p=p,d.n=p;d.n!=d;)switch(_=(p=d.n).p,u=p.n,_.n=u,u.p=_,(l=p.node).nodeType){case 1:for(s=(r=l.childNodes).length,o=0;o<s;o++)p={p:_=(u=d).p,n:u,node:r[o]},_.n=p,u.p=p;break;case 3:for(;l&&(c=_r(l).match(n));)ur(l,RegExp.leftContext),(m=yo("span")).style.cssText="color:#00F; text-decoration: underline; cursor: pointer;",fr(m,c[0]),ar(l,m),ar(m,l=Eo(RegExp.rightContext)),g="",(c=gr(m).match(a))?((f=parseInt(Ni(c[1])))<1&&(f=1),(h=parseInt(Ni(c[2])))<1&&(h=1),f>1e4&&(f=1e4),h>1e4&&(h=1e4),h<f&&(x=f,f=h,h=x),g=f+"-"+h):(c=gr(m).match(i))&&((g=parseInt(Ni(c[0])))<1&&(g=1),g>2147483647&&(g=2147483647)),m.href=v.base_url+g}}},!p)for(x=(h=Mo(Is.body,"thread")).length,f=0;f<x;f++)d.push(h[f]),p=h[f];if(!p)for(x=(h=Co(Is.body,"DL")).length,f=0;f<x;f++)d.push(h[f]),p=h[f];return!!p&&(function(){var e,t,n,a,i,r,l,c,_;switch(v.bbs_name){case"2ch_v5":e=function(e){return Co(e,"dt")};break;case"2ch_v6":case"pink":e=function(e){return Mo(e,"post")}}for(t=0,n=new RegExp("^[ \t\r\n]*([0-9]+)","i"),a=d.length,i=0;i<a;i++)for(c=(l=e(d[i])).length,r=0;r<c&&(_=gr(l[r]).match(n));r++){if(0==t){if(o=parseInt(_[1]),s[0]=!0,o>1)return}else if(1==t)return o=parseInt(_[1]),s[o]=!0,void(o<=2&&(o=1));t+=1}}(),i(function(e){s[r=e]=!0}),l=[{url:g,parse:function(e){var t,n,a,i,l,c=new RegExp('id="([0-9]+)',"i"),_=new RegExp("ID:([-a-zA-Z0-9+/.●!=]{8,})","i"),u=new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i");switch(v.bbs_name){case"2ch_v5":c=new RegExp("([0-9]+)","i"),t="<dt>",n="<br><br>";break;case"2ch_v6":t='<div class="post"',n="</div></div>",a="message";break;case"pink":t='<dl class="post"',n="</dd></dl>",a="thread_in"}i=0,l=e.length,Ur.attachFirst(function p(){var d,m,g,h,x,b,w,y,E,k,A,R,T;if(!(i>=l||(i=e.indexOf(t,i))<0)){if((d=e.indexOf(n,i))>=0&&(d+=n.length),g=(m=e.substring(i,d)).match(c))if(h=parseInt(g[1]),o<=h&&h<=r);else if(s[h]);else{x=to(m);try{switch(v.bbs_name){case"2ch_v5":if("DT"!=(w=y=E=x[0]).tagName)return;if("DD"!=(k=x[1]).tagName)return;break;case"2ch_v6":case"pink":if("post"!=(b=x[0]).className)return;Mo(b,"number")[0],w=Mo(b,"name")[0],y=Mo(b,"date")[0],E=Mo(b,"uid")[0]||y,k=Mo(b,a)[0]}}catch(d){return}if(!(A=rs.getResponse(h)).getAnalyzed()){for(v.extendResponseAnchor(k),gr(E).match(_)&&A.setId(RegExp.$1),gr(w).match(u)&&A.setName(RegExp.$1),function(){var e,t,n,a,i,o,r,s={B:1,SCRIPT:1},l=new Object,c={p:l,n:l,node:y};for(l.p=c,l.n=c;l.n!=l;)switch(e=(c=l.n).p,t=c.n,e.n=t,t.p=e,(n=c.node).nodeType){case 1:if(!s[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)c={p:e=(t=l).p,n:t,node:i[a]},e.n=c,t.p=c;break;case 3:if(r=_r(n).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))return void A.setHost(r[2]);if(r=_r(n).match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})(|\\n) \\]","i")))return void A.setHost(r[2]);if(r=_r(n).match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))return void A.setHost(r[2])}}(),R=new Object,function(){var e,t=Co(k,"span"),n=t.length;for(e=0;e<n;e++)v.createResponseAnchorNumbers(gr(t[e])).getNumbers(function(e){R[e]||(rs.getResponse(e).addFollower(A),R[e]=!0)})}(),T=x.length,f=0;f<T;f++)A.addOriginalElements(String(f),x[f]);A.onerase=function(){},A.setAnalyzed()}}i<d&&(i=d,Ur.attachFirst(p,null))}},null)},validity:n}],_=[{url:g+r+"-",parse:function(e,t){var n,a,o,l,c,_;switch(i(function(e){s[r=e]=!0}),n=new RegExp("([0-9]+)","i"),v.bbs_name){case"2ch_v5":a="<dt>",o="<br><br>";break;case"2ch_v6":a='<div class="post"',o="</div></div>";break;case"pink":a='<dl class="post"',o="</dd></dl>"}l=0,c=e.length,_=0,Ur.attachFirst(function i(){var s,u,d,m,g,f,h,x;try{if(l>=c)throw 0;if((l=e.indexOf(a,l))<0)throw 0;if((s=e.indexOf(o,l))>=0&&(s+=o.length),(d=(u=e.substring(l,s)).match(n))&&(m=parseInt(d[1]),r<m)){for((g=rs.getResponse(m)).clearAnalyzed(),g.clearOriginalElements(),g.clearFollowing(),"<br>"==e.substr(s,4)&&(u+="<br>"),x=(f=to(u)).length,h=0;h<x;h++)p.appendChild(f[h]);_+=1,r=m}if(l<s)return l=s,void Ur.attachFirst(i,null)}catch(s){if(s)return void t({result:!1})}t({result:!0,add_count:_})},null)},validity:n}],c=0,u=0,(m=new Ba).setWaitTime(2e3),m.onclick=a,ar(p,m.getElement()),function(){function e(){s.value=""}function t(e){r.disabled=!e}function n(){t(!1)}function i(){var n,i,r,s,l,_,u,p;switch(v.bbs_name){case"2ch_v5":case"2ch_v6":case"pink":n=800,i=600,(r=Is.cookie)&&-1!=r.indexOf("PREN=")&&(n=600,i=450)}s="_pageexpand_"+Math.floor(2147483647*Math.random()),(l=new Ha(s)).setWindowSize(n,i),l.onclose=function(){t(!0)},_=l.getIFrameElement(),o.target=s,u=!1,p=null,(c=$r.createTask()).setDestructorFunc(function(){c=null}),c.setExecuteFunc(function(){var n,i,o;try{if(n="",(i=_.contentWindow).document&&(n=i.document.URL),n.match(/^(http|https):/))switch(v.bbs_name){case"2ch_v5":case"2ch_v6":case"pink":-1==n.indexOf("/test/bbs.cgi")?u=!0:p||(o=i.document.body)&&-1!=gr(o).indexOf("書きこみが終わりました")&&(p=(new Date).getTime())}p&&(new Date).getTime()-p>2e3&&(u=!0)}catch(e){u=!0}u&&(c&&c.release(),l.close(),t(!0),p&&(a(function(){}),e()))})}var o,r,s,l,c;!function(){var e,t,n=Co(Is.body,"form");switch(v.bbs_name){case"2ch_v5":case"2ch_v6":case"pink":for(e=0;e<n.length;e++)if(n[e].action.indexOf("/test/bbs.cgi")>=0){o=n[e];break}}if(o){for(n=Co(o,"input"),e=0;e<n.length;e++)if("submit"==n[e].type.toLowerCase()){r=n[e];break}(n=Co(o,"textarea")).length&&(s=n[0],v.form_textarea=s),(t=new Wa(o,!1)).setStyle("background:#e8e8e8; background-image:linear-gradient(to bottom, #f8f8f8, #e8e8e8); padding:10px 20px; border:1px solid #888; border-radius:4px; box-shadow:2px 2px 5px #aaa; margin:0px;"),v.docking_form=t}}(),o&&r&&s&&"true"!=Ts.localStorage.getItem("autoPost")&&(v.docking_form&&(v.docking_form.onreset=e),function(){var e,t,n;try{if(e=new RegExp("^[^:]+"),t=o.action.match(e),n=Is.URL.match(e),!t)return!0;if(!n)return!0;if(t[0]===n[0])return!1}catch(e){}return!0}()||0==u&&(Ts.addEventListener?(r.addEventListener("click",i),o.addEventListener("submit",n)):Ts.attachEvent&&(r.attachEvent("onclick",i),o.attachEvent("onsubmit",n)),(l=jr.createEventHandler("release")).setFunction(function(){l&&(l.release(),l=null),Ts.removeEventListener?(r.removeEventListener("click",i),o.removeEventListener("submit",n)):Ts.detachEvent&&(r.detachEvent("onclick",i),o.detachEvent("onsubmit",n)),c&&c.release()})))}(),function(){var e=l.length,t=c,n=0,a=function(){e<=(n+=1)||(e<=(t+=1)&&(t=0),c=t,i())},i=function(){var e=l[t],n=new us;switch(n.onload=function(t){e.validity(t)?e.parse(t):a()},n.onerror=function(){a()},n.setMethod("GET"),n.setURL(e.url),v.bbs_name){case"2ch_v5":case"2ch_v6":case"pink":n.overrideMimeType("text/plain; charset=Shift_JIS")}n.loadText()};i()}(),t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandBbs_ScriptCallback_2ch_v6",[function(e,t){function n(e,t,a,o){function r(i){Ta(i)||(function(){var e,t,n,a,o,r,s,l,c,_={A:1,SCRIPT:1},u=new Object,p={p:u,n:u,node:i};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)p={p:e=(t=u).p,n:t,node:o[a]},e.n=p,t.p=p;break;case 3:for(;n&&(s=_r(n).match(new RegExp("ID:([-a-zA-Z0-9+/.●!=]{8,})","i")));)ur(n,RegExp.leftContext),(l=new Ra(null,!1)).setId(s[1]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ia(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getId(),s=e.getId()===r,l=i.getElement(),c=Eo(""),l.appendChild(c),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),"id"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i=rs.getResponsesFromId(r),o=0,l=i.length;if(s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d,m,g,f=yo("div");if(f.style.margin="0px",e.appendChild(f),p=(c=(s=i[o]).getCloneElements()).length){for(d=[],u=0;u<p;u++)m=c[u],d.push(m.element),f.appendChild(m.element);(g=new Object).clone_nodes=d,g.parent=t.parent,n(s,g,_,"id")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}function s(i){Sa(i)||(function(){var e,t,n,a,o,r,s,l,c,_={SCRIPT:1},u=new Object,p={p:u,n:u,node:i};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)p={p:e=(t=u).p,n:t,node:o[a]},e.n=p,t.p=p;break;case 3:for(;n&&(s=_r(n).match(new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i")));)ur(n,RegExp.leftContext),(l=new Ca(null,!1)).setName(s[0]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ma(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getName(),s=e.getName()===r,l=i.getElement(),c=Eo(""),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),l.appendChild(c),"name"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i=rs.getResponsesFromName(r),o=0,l=i.length;if(s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d,m,g,f=yo("div");if(f.style.margin="0px",e.appendChild(f),p=(c=(s=i[o]).getCloneElements()).length){for(d=[],u=0;u<p;u++)m=c[u],d.push(m.element),f.appendChild(m.element);(g=new Object).clone_nodes=d,g.parent=t.parent,n(s,g,_,"name")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}var l,c,_,u,p,d,m;switch(i.bbs_name){case"2ch_v5":l=c=_=u=t.clone_nodes[0],p=t.clone_nodes[1];break;case"2ch_v6":case"pink":l=Mo(d=t.clone_nodes[0],"number")[0],c=Mo(d,"name")[0],_=Mo(d,"date")[0],u=Mo(d,"uid")[0]||_,p=Mo(d,"message")[0]||Mo(d,"thread_in")[0]}l&&(Pa(m=l)||(function(){var e,t,n=m.firstChild;if(n)switch(n.nodeType){case 1:if(!(e=gr(n).match(new RegExp("^[0-9]+$","i"))))return;new za(n,!0);break;case 3:if(!(e=_r(n).match(new RegExp("^[0-9]+","i"))))return;ur(n,RegExp.leftContext),fr(t=new za(null,!1).getElement(),e[0]),ar(n,t),ar(t,n=Eo(RegExp.rightContext))}}(),Va(m,function(t){var n,a,o;return t.setResponse(e),n=t.getElement(),a=i.docking_form,o=i.form_textarea,t.onclick=function(t){var i,r,s,l;a.popupForReply(n),r=(i=o.value).length,l=(s=o.selectionEnd)>=r?">>"+e.getNumber()+"\n":">>"+e.getNumber(),o.value=i.slice(0,s)+l+i.slice(s),o.selectionEnd=s+l.length,o.focus(),t.stopImmediatePropagation&&t.stopImmediatePropagation()},null}))),c&&s(c),_&&function(i){Na(i)||(function(){var e,t,n,a,o,r,s,l,c,_,u={B:1,SCRIPT:1},p=new Object,d={p:p,n:p,node:i};for(p.p=d,p.n=d;p.n!=p;)switch(e=(d=p.n).p,t=d.n,e.n=t,t.p=e,(n=d.node).nodeType){case 1:if(!u[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)d={p:e=(t=p).p,n:t,node:o[a]},e.n=d,t.p=d;break;case 3:for(;n;)if(l=(s=_r(n)).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))ur(n,RegExp.leftContext+l[1]),(c=new La(null,!1)).setHost(l[2]),fr(_=c.getElement(),l[2]),ar(n,_),ar(_,n=Eo(RegExp.rightContext));else if(l=s.match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})((|\\n) \\])","i")))ur(n,RegExp.leftContext+l[1]),(c=new La(null,!1)).setHost(l[2]),fr(_=c.getElement(),l[2]),ar(n,_),ar(_,n=Eo("\n ]"+RegExp.rightContext));else{if(!(l=s.match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i"))))break;ur(n,RegExp.leftContext+l[1]),(c=new La(null,!1)).setHost(l[2]),fr(_=c.getElement(),l[2]),ar(n,_),ar(_,n=Eo(RegExp.rightContext))}}}(),Fa(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getHost(),s=e.getHost()===r,l=i.getElement(),c=Eo(""),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","80%"))},i.update(),l.appendChild(c),"host"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i=rs.getResponsesFromHost(r),o=0,l=i.length;if(s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d,m,g,f=yo("div");if(f.style.margin="0px",e.appendChild(f),p=(c=(s=i[o]).getCloneElements()).length){for(d=[],u=0;u<p;u++)m=c[u],d.push(m.element),f.appendChild(m.element);(g=new Object).clone_nodes=d,g.parent=t.parent,n(s,g,_,"host")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}(_),u&&(r(u),function(i){var o,r,s,l,c;if(!Da(i)){for((o=new Oa(null,!0)).setResponse(e),r=o.getElement(),s=Eo(""),r.appendChild(s),o.onchange=function(e){s.nodeValue=e?" follower("+e+")":"";var t=r.style;e>=3?(yr(t,"color","#e80000"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small")),e?yr(t,"margin","0px 4px 0px 0px"):kr(t,"margin")},o.update(),l=i.lastChild;l&&"BR"==l.tagName;)l=l.previousSibling;l?ar(l,r):i.appendChild(r),c=new ha,a&&a.attachChild(c),c.setElementParent(t.parent),c.setElementHitArea(r),c.oncreate=function(a,i){var o=e.getFollower(),r=0,s=o.length;if(s<=0)return!1;Ur.attachFirst(function e(){var l,_,u,p,d,m,g,f=yo("div");if(f.style.margin="0px",a.appendChild(f),p=(_=(l=rs.getResponse(o[r].getNumber())).getCloneElements()).length){for(d=[],u=0;u<p;u++)m=_[u],d.push(m.element),f.appendChild(m.element);(g=new Object).clone_nodes=d,g.parent=t.parent,n(l,g,c,"response")}(r+=1)<s?Ur.attachFirst(e,null):i({result:!0})},null)}}}(u)),p&&(function(e){va(e)||(function(){var t,n,a,o=Co(e,"span"),r=o.length;for(t=0;t<r;t++)n=o[t],(a=i.createResponseAnchorNumbers(gr(n))).getCount()&&new ba(n,!1).setResponseAnchorNumbers(a)}(),wa(e,function(e){var i=e.getElement(),o=e.getResponseAnchorNumbers(),r=new ha;return a&&a.attachChild(r),r.setElementParent(t.parent),r.setElementHitArea(i),r.oncreate=function(e,a){var i=!1,s=0,l=o.getNumberList(),c=l.length;if(!c)return!1;Ur.attachFirst(function o(){var _,u,p,d,m,g,f,h=yo("div");if(h.style.margin="0px",e.appendChild(h),d=(u=(_=rs.getResponse(l[s])).getCloneElements()).length){for(m=[],p=0;p<d;p++)g=u[p],m.push(g.element),h.appendChild(g.element);(f=new Object).clone_nodes=m,f.parent=t.parent,n(_,f,r,"response"),i=!0}(s+=1)<c?Ur.attachFirst(o,null):a({result:i})},null)},null}))}(p),r(p),s(p))}var a=e.element,i=e.work,o=function(){var e,t,o,r,s,l,c,_,u,p,d,m,g,f,h=[];switch(i.bbs_name){case"2ch_v5":try{if("DT"!=(c=a).tagName)return!1;if(_=qo(c),u=c.parentNode,"DD"!=_.tagName)return!1;if("DL"!=u.tagName)return!1;e=u,t=o=r=s=c,l=_,h.push(c),h.push(_)}catch(e){return!1}break;case"2ch_v6":case"pink":try{if("post"!=(e=a).className)return!1;t=Mo(e,"number")[0],o=Mo(e,"name")[0],r=Mo(e,"date")[0],s=Mo(e,"uid")[0]||r,l=Mo(e,"message")[0]||Mo(e,"thread_in")[0],h.push(e)}catch(e){return!1}}if(!lr(e))return!1;if(i.extendResponseAnchor(l),function(){function e(e){Ga(e,function(e){var t,n=e.firstChild;return n?3!=n.nodeType?null:(t=n.nodeValue.match(new RegExp("^ID:([-a-zA-Z0-9+/.●!=]{8,})","i")))||(t=n.nodeValue.match(new RegExp("^(◆[a-zA-Z0-9+/.]{10,12})","i")))?(ar(e,n=Eo(t[0])),rr(e),null):(t=n.nodeValue.match(new RegExp("^([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))||(t=n.nodeValue.match(new RegExp("^([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))?(ar(e,n=Eo(t[0])),rr(e),n.parentNode.normalize(),null):null:null})}t&&e(t),o&&e(o),r&&e(r),s&&e(s),l&&e(l)}(),function(){var t,n;switch(i.bbs_name){case"2ch_v5":case"2ch_v6":case"pink":for(n=(t=Mo(e,"back-links")).length-1;n>=0;n--)rr(t[n])}}(),!gr(t).match(new RegExp("^([0-9]+)","i")))return!1;if(!(p=rs.getResponse(parseInt(RegExp.$1))).getAnalyzed()){for(gr(s).match(new RegExp("ID:([-a-zA-Z0-9+/.●!=]{8,})","i"))&&p.setId(RegExp.$1),gr(o).match(new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i"))&&p.setName(RegExp.$1),function(){var e,t,n,a,i,o,s,l={B:1,SCRIPT:1},c=new Object,_={p:c,n:c,node:r};for(c.p=_,c.n=_;c.n!=c;)switch(e=(_=c.n).p,t=_.n,e.n=t,t.p=e,(n=_.node).nodeType){case 1:if(!l[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)_={p:e=(t=c).p,n:t,node:i[a]},e.n=_,t.p=_;break;case 3:if(s=_r(n).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))return void p.setHost(s[2]);if(s=_r(n).match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})(|\\n) \\]","i")))return void p.setHost(s[2]);if(s=_r(n).match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))return void p.setHost(s[2])}}(),d=new Object,function(){var e,t=Co(l,"span"),n=t.length;for(e=0;e<n;e++)i.createResponseAnchorNumbers(gr(t[e])).getNumbers(function(e){d[e]||(rs.getResponse(e).addFollower(p),d[e]=!0)})}(),g=h.length,m=0;m<g;m++)p.addOriginalElements(String(m),h[m]);p.onerase=function(){var e,t,n,a=p.getOriginalElements(),i=a.length;for(e=0;e<i;e++)t=new Tt,n=a[e].element,t.executeRemoveElementBefore(n),rr(n),t.executeRemoveElementAfter(n)},p.setAnalyzed()}return(f=new Object).parent=Is.body,f.clone_nodes=h,n(p,f,null,null),!0}();return t({useful:o}),!0}]),e("ExpandBbs_ScriptInitialize_5ch_v8",[function(e){var t,n,a,i,o=e.work,r=Is.URL,s=[{url:"((http|https)://[^.]+\\.(2ch|5ch)\\.net/test/read\\.cgi/[^/]+/[0-9]+)",replace:"$1/",secure:!0,name:"5ch"}],l=s.length;for(t=0;t<l;t++)if(n=s[t],a=new RegExp(n.url,"i"),i=r.match(a)){o.base_url=i[1].replace(a,n.replace),n.secure&&(i=o.base_url.match(new RegExp("[^:]+(.*)")))&&(o.base_url="https"+i[1]),o.bbs_name=n.name;break}return!1},function(e,t){function n(e){var t;return"5ch_v8"===w.bbs_name&&(t=new RegExp('<article[^>]+class="(|[^"]* )post(|[^"]* )"[^>]*>.*?<section[^>]+class="(|[^"]* )post-content(|[^"]* )"[^>]*>',"i"),Boolean(e.match(t)))}function a(e){var t=_.length,n=u,a=0,i=function(){t<=(a+=1)?e({result:!1}):(t<=(n+=1)&&(n=0),u=n,o())},o=function(){var t=_[n],a=new us;a.onload=function(n){t.validity(n)?t.parse(n,function(t){t.result?e(t):i()}):i()},a.onerror=function(){i()},a.setMethod("GET"),a.setURL(t.url),"5ch_v8"===w.bbs_name&&a.overrideMimeType("text/plain; charset=Shift_JIS"),a.loadText()};o()}function i(e){var t,n,a,i,o;for("5ch_v8"===w.bbs_name&&(t=function(e){return Mo(e,"post")}),n=d.length-1;n>=0;n--)if((i=(a=t(d[n])).length)&&(o=new RegExp("^[ \t\r\n]*([0-9]+)","i"),gr(a[i-1]).match(o)))return void e(parseInt(RegExp.$1))}var o,r,s,l,c,_,u,p,d,m,g,f,h,x,b,v,w=e.work;if(!w.bbs_name)return!1;if(o=1,r=1,s=new Array,c=0,u=0,p=null,d=[],m=null,g=w.base_url,"5ch"==w.bbs_name&&(w.bbs_name=(b=function(){var e,t=new RegExp("read[.]cgi[ \t]+ver[ \t]*([0-9]+)[.][0-9]+","i"),n=Co(Is.body,"footer"),a=n[n.length-1];return a&&(e=gr(a).match(t))?parseInt(e[1]):0}(),b>=8?"5ch_v8":""),!w.bbs_name))return!1;if(w.createResponseAnchorNumbers=function(e){var t,n,a,i,o=new Za,r=new RegExp("^(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)([0-9０-９]+)","i"),s=new RegExp("^([0-9０-９]+)[-]([0-9０-９]+)","i"),l=new RegExp("^([0-9０-９]+)","i"),c=e.match(r);if(c)for(t=c[1].length;(c=e.substr(t).match(s))?((n=parseInt(Ni(c[1])))<1&&(n=1),(a=parseInt(Ni(c[2])))<1&&(a=1),n>1e4&&(n=1e4),a>1e4&&(a=1e4),t+=c[0].length,o.addNumbers(n,a)):(c=e.substr(t).match(l))&&(t+=c[0].length,(i=parseInt(Ni(c[1])))<1&&(i=1),i>2147483647&&(i=2147483647),o.addNumber(i)),c&&0==RegExp.rightContext.search(",");)t+=1;return o},w.extendResponseAnchor=function(e){var t,n,a,i,o,r,s,l,c,_,u,p,d,m,g,f,h,x;if(!va(e)){for(t=new RegExp("^(>>|<<|>)[-,0-9０-９]+$","i"),n=new RegExp("(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)(([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+),)*([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+)","i"),a=new RegExp("([0-9０-９]+)[-]([0-9０-９]+)","i"),i=new RegExp("([0-9０-９]+)","i"),o=(s=(r=Co(e,"a")).length)-1;o>=0;o--)(c=gr(l=r[o]).match(t))&&(nr(l,Eo(c[0])),rr(l));for(e.normalize(),p={p:d=new Object,n:d,node:e},d.p=p,d.n=p;d.n!=d;)switch(_=(p=d.n).p,u=p.n,_.n=u,u.p=_,(l=p.node).nodeType){case 1:for(s=(r=l.childNodes).length,o=0;o<s;o++)p={p:_=(u=d).p,n:u,node:r[o]},_.n=p,u.p=p;break;case 3:for(;l&&(c=_r(l).match(n));)ur(l,RegExp.leftContext),(m=yo("span")).style.cssText="color:#00F; text-decoration: underline; cursor: pointer;",fr(m,c[0]),ar(l,m),ar(m,l=Eo(RegExp.rightContext)),g="",(c=gr(m).match(a))?((f=parseInt(Ni(c[1])))<1&&(f=1),(h=parseInt(Ni(c[2])))<1&&(h=1),f>1e4&&(f=1e4),h>1e4&&(h=1e4),h<f&&(x=f,f=h,h=x),g=f+"-"+h):(c=gr(m).match(i))&&((g=parseInt(Ni(c[0])))<1&&(g=1),g>2147483647&&(g=2147483647)),m.href=w.base_url+g}}},!p)for(x=(h=Mo(Is.body,"thread")).length,f=0;f<x;f++)d.push(h[f]),p=h[f];if(!p)for(x=(h=Co(Is.body,"DL")).length,f=0;f<x;f++)d.push(h[f]),p=h[f];return!!p&&(function(){var e,t,n,a,i,r,l,c,_;for("5ch_v8"===w.bbs_name&&(e=function(e){return Mo(e,"post")}),t=0,n=new RegExp("^[ \t\r\n]*([0-9]+)","i"),a=d.length,i=0;i<a;i++)for(c=(l=e(d[i])).length,r=0;r<c&&(_=gr(l[r]).match(n));r++){if(0==t){if(o=parseInt(_[1]),s[0]=!0,o>1)return}else if(1==t)return o=parseInt(_[1]),s[o]=!0,void(o<=2&&(o=1));t+=1}}(),i(function(e){s[r=e]=!0}),l=[{url:g,parse:function(e){var t,n,a,i,l,c=new RegExp('id="([0-9]+)',"i"),_=new RegExp("ID:([-a-zA-Z0-9+/.●!=]{8,})","i"),u=new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i");"5ch_v8"===w.bbs_name&&(t='<article id="',n="</article>",a="post-content"),i=0,l=e.length,Ur.attachFirst(function p(){var d,m,g,h,x,b,v,y,E,k,A,R,T;if(!(i>=l||(i=e.indexOf(t,i))<0)){if((d=e.indexOf(n,i))>=0&&(d+=n.length),g=(m=e.substring(i,d)).match(c))if(h=parseInt(g[1]),o<=h&&h<=r);else if(s[h]);else{x=to(m);try{if("5ch_v8"===w.bbs_name){if(!(b=x[0]).classList.contains("post"))return;Mo(b,"postid")[0],v=Mo(b,"postusername")[0],y=Mo(b,"date")[0],E=Mo(b,"uid")[0]||y,k=Mo(b,a)[0]}}catch(d){return}if(!(A=rs.getResponse(h)).getAnalyzed()){for(w.extendResponseAnchor(k),gr(E).match(_)&&A.setId(RegExp.$1),gr(v).match(u)&&A.setName(RegExp.$1),function(){var e,t,n,a,i,o,r,s={B:1,SCRIPT:1},l=new Object,c={p:l,n:l,node:y};for(l.p=c,l.n=c;l.n!=l;)switch(e=(c=l.n).p,t=c.n,e.n=t,t.p=e,(n=c.node).nodeType){case 1:if(!s[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)c={p:e=(t=l).p,n:t,node:i[a]},e.n=c,t.p=c;break;case 3:if(r=_r(n).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))return void A.setHost(r[2]);if(r=_r(n).match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})(|\\n) \\]","i")))return void A.setHost(r[2]);if(r=_r(n).match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))return void A.setHost(r[2])}}(),R=new Object,function(){var e,t=Co(k,"span"),n=t.length;for(e=0;e<n;e++)w.createResponseAnchorNumbers(gr(t[e])).getNumbers(function(e){R[e]||(rs.getResponse(e).addFollower(A),R[e]=!0)})}(),T=x.length,f=0;f<T;f++)A.addOriginalElements(String(f),x[f]);A.onerase=function(){},A.setAnalyzed()}}i<d&&(i=d,Ur.attachFirst(p,null))}},null)},validity:n}],_=[{url:g+r+"-",parse:function(e,t){var n,a,o,l,c,_;i(function(e){s[r=e]=!0}),n=new RegExp("([0-9]+)","i"),"5ch_v8"===w.bbs_name&&(a='<article id="',o="</article>"),l=0,c=e.length,_=0,Ur.attachFirst(function i(){var s,u,d,m,g,f,h,x;try{if(l>=c)throw 0;if((l=e.indexOf(a,l))<0)throw 0;if((s=e.indexOf(o,l))>=0&&(s+=o.length),(d=(u=e.substring(l,s)).match(n))&&(m=parseInt(d[1]),r<m)){for((g=rs.getResponse(m)).clearAnalyzed(),g.clearOriginalElements(),g.clearFollowing(),x=(f=to(u)).length,h=0;h<x;h++)(function(){var e=p.getElementsByTagName("article"),t=e[e.length-1];t?ar(t,f[h]):p.appendChild(f[h])})();_+=1,r=m}if(l<s)return l=s,void Ur.attachFirst(i,null)}catch(s){if(s)return void t({result:!1})}t({result:!0,add_count:_})},null)},validity:n}],c=0,u=0,(m=new Ba).setWaitTime(2e3),m.onclick=a,(v=Mo(Is.body,"newposts")[0])&&nr(v,m.getElement()),function(){function e(){s&&(s.release(),s=null)}function t(e){o.disabled=!e}var n,i,o,r,s,l,c,_=jr.createEventHandler("release");_.setFunction(function(){r&&(n.removeEventListener("submit",r),r=null),_&&(_.release(),_=null),e()}),n=function(){var e,t=Co(Is.body,"form");if("5ch_v8"===w.bbs_name)for(e=0;e<t.length;e++)if(t[e].action.indexOf("/test/bbs.cgi")>=0)return t[e];return null}(),n&&(o=function(){var e=Co(n,"input");for(f=0;f<e.length;f++)if("submit"==e[f].type.toLowerCase())return e[f];return null}(),w.form_textarea=i=Co(n,"textarea")[0]||null,(w.docking_form=new Wa(n,!1)).setStyle("background:#e8e8e8; background-image:linear-gradient(to bottom, #f8f8f8, #e8e8e8); padding:10px 20px; border:1px solid #888; border-radius:4px; box-shadow:2px 2px 5px #aaa; margin:0px;")),!n||!o||!i||"true"==Ts.localStorage.getItem("autoPost")||(l=Qi(go(Ts)),c=Qi(n.action),l.origin!=c.origin||0!=u)||(r=function(){var o,r,l,c,_,u,p,d;t(!1),"5ch_v8"===w.bbs_name&&(o=800,r=600,(l=Is.cookie)&&-1!=l.indexOf("PREN=")&&(o=600,r=450)),c="_pageexpand_"+Math.floor(2147483647*Math.random()),(_=new Ha(c)).setWindowSize(o,r),_.onclose=function(){t(!0)},u=_.getIFrameElement(),n.target=c,p=!1,d=null,(s=$r.createTask()).setDestructorFunc(function(){s=null}),s.setExecuteFunc(function(){var n,o,r;try{(o=(n=u.contentWindow).document.URL).match(/^(http|https):/)&&"5ch_v8"===w.bbs_name&&(-1==o.indexOf("/test/bbs.cgi")?p=!0:d||(r=n.document.body)&&-1!=gr(r).indexOf("書きこみが終わりました")&&(d=(new Date).getTime())),d&&(new Date).getTime()-d>2e3&&(p=!0)}catch(e){p=!0}p&&(t(!0),e(),_.close(),d&&(a(function(){}),i.value=""))})},n.addEventListener("submit",r))}(),function(){var e=l.length,t=c,n=0,a=function(){e<=(n+=1)||(e<=(t+=1)&&(t=0),c=t,i())},i=function(){var e=l[t],n=new us;n.onload=function(t){e.validity(t)?e.parse(t):a()},n.onerror=function(){a()},n.setMethod("GET"),n.setURL(e.url),"5ch_v8"===w.bbs_name&&n.overrideMimeType("text/plain; charset=Shift_JIS"),n.loadText()};i()}(),t({result:!0}),!0)},function(e,t){return t({result:!1}),!0}]),e("ExpandBbs_ScriptCallback_5ch_v8",[function(e,t){function n(e,t,a,o){function r(i){Ta(i)||(function(){var e,t,n,a,o,r,s,l,c,_={A:1,SCRIPT:1},u=new Object,p={p:u,n:u,node:i};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)p={p:e=(t=u).p,n:t,node:o[a]},e.n=p,t.p=p;break;case 3:for(;n&&(s=_r(n).match(new RegExp("ID:([-a-zA-Z0-9+/.●!=]{8,})","i")));)ur(n,RegExp.leftContext),(l=new Ra(null,!1)).setId(s[1]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ia(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getId(),s=e.getId()===r,l=i.getElement(),c=Eo(""),l.appendChild(c),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),"id"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i=rs.getResponsesFromId(r),o=0,l=i.length;if(s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d,m,g,f=yo("div");if(f.style.margin="0px",e.appendChild(f),p=(c=(s=i[o]).getCloneElements()).length){for(d=[],u=0;u<p;u++)m=c[u],d.push(m.element),f.appendChild(m.element);(g=new Object).clone_nodes=d,g.parent=t.parent,n(s,g,_,"id")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}function s(i){Sa(i)||(function(){var e,t,n,a,o,r,s,l,c,_={SCRIPT:1},u=new Object,p={p:u,n:u,node:i};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)p={p:e=(t=u).p,n:t,node:o[a]},e.n=p,t.p=p;break;case 3:for(;n&&(s=_r(n).match(new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i")));)ur(n,RegExp.leftContext),(l=new Ca(null,!1)).setName(s[0]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ma(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getName(),s=e.getName()===r,l=i.getElement(),c=Eo(""),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),l.appendChild(c),"name"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i=rs.getResponsesFromName(r),o=0,l=i.length;if(s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d,m,g,f=yo("div");if(f.style.margin="0px",e.appendChild(f),p=(c=(s=i[o]).getCloneElements()).length){for(d=[],u=0;u<p;u++)m=c[u],d.push(m.element),f.appendChild(m.element);(g=new Object).clone_nodes=d,g.parent=t.parent,n(s,g,_,"name")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}var l,c,_,u,p,d,m;"5ch_v8"===i.bbs_name&&(l=Mo(d=t.clone_nodes[0],"postid")[0],c=Mo(d,"postusername")[0],_=Mo(d,"date")[0],u=Mo(d,"uid")[0]||_,p=Mo(d,"post-content")[0]),l&&(Pa(m=l)||(function(){var e,t,n=m.firstChild;if(n)switch(n.nodeType){case 1:if(!(e=gr(n).match(new RegExp("^[0-9]+$","i"))))return;new za(n,!0);break;case 3:if(!(e=_r(n).match(new RegExp("^[0-9]+","i"))))return;ur(n,RegExp.leftContext),fr(t=new za(null,!1).getElement(),e[0]),ar(n,t),ar(t,n=Eo(RegExp.rightContext))}}(),Va(m,function(t){var n,a,o;return t.setResponse(e),n=t.getElement(),a=i.docking_form,o=i.form_textarea,t.onclick=function(t){var i,r,s,l;a.popupForReply(n),r=(i=o.value).length,l=(s=o.selectionEnd)>=r?">>"+e.getNumber()+"\n":">>"+e.getNumber(),o.value=i.slice(0,s)+l+i.slice(s),o.selectionEnd=s+l.length,o.focus(),t.stopImmediatePropagation&&t.stopImmediatePropagation()},null}))),c&&s(c),_&&function(i){Na(i)||(function(){var e,t,n,a,o,r,s,l,c,_,u={B:1,SCRIPT:1},p=new Object,d={p:p,n:p,node:i};for(p.p=d,p.n=d;p.n!=p;)switch(e=(d=p.n).p,t=d.n,e.n=t,t.p=e,(n=d.node).nodeType){case 1:if(!u[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)d={p:e=(t=p).p,n:t,node:o[a]},e.n=d,t.p=d;break;case 3:for(;n;)if(l=(s=_r(n)).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))ur(n,RegExp.leftContext+l[1]),(c=new La(null,!1)).setHost(l[2]),fr(_=c.getElement(),l[2]),ar(n,_),ar(_,n=Eo(RegExp.rightContext));else if(l=s.match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})((|\\n) \\])","i")))ur(n,RegExp.leftContext+l[1]),(c=new La(null,!1)).setHost(l[2]),fr(_=c.getElement(),l[2]),ar(n,_),ar(_,n=Eo("\n ]"+RegExp.rightContext));else{if(!(l=s.match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i"))))break;ur(n,RegExp.leftContext+l[1]),(c=new La(null,!1)).setHost(l[2]),fr(_=c.getElement(),l[2]),ar(n,_),ar(_,n=Eo(RegExp.rightContext))}}}(),Fa(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getHost(),s=e.getHost()===r,l=i.getElement(),c=Eo(""),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","80%"))},i.update(),l.appendChild(c),"host"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i=rs.getResponsesFromHost(r),o=0,l=i.length;if(s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function r(){var s,c,u,p,d,m,g,f=yo("div");if(f.style.margin="0px",e.appendChild(f),p=(c=(s=i[o]).getCloneElements()).length){for(d=[],u=0;u<p;u++)m=c[u],d.push(m.element),f.appendChild(m.element);(g=new Object).clone_nodes=d,g.parent=t.parent,n(s,g,_,"host")}(o+=1)<l?Ur.attachFirst(r,null):a({result:!0})},null)}),null}))}(_),u&&(r(u),function(i){var o,r,s,l,c;if(!Da(i)){for((o=new Oa(null,!0)).setResponse(e),r=o.getElement(),s=Eo(""),r.appendChild(s),o.onchange=function(e){s.nodeValue=e?" follower("+e+")":"";var t=r.style;e>=3?(yr(t,"color","#e80000"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small")),e?yr(t,"margin","0px 4px 0px 0px"):kr(t,"margin")},o.update(),l=i.lastChild;l&&"BR"==l.tagName;)l=l.previousSibling;l?ar(l,r):i.appendChild(r),c=new ha,a&&a.attachChild(c),c.setElementParent(t.parent),c.setElementHitArea(r),c.oncreate=function(a,i){var o=e.getFollower(),r=0,s=o.length;if(s<=0)return!1;Ur.attachFirst(function e(){var l,_,u,p,d,m,g,f=yo("div");if(f.style.margin="0px",a.appendChild(f),p=(_=(l=rs.getResponse(o[r].getNumber())).getCloneElements()).length){for(d=[],u=0;u<p;u++)m=_[u],d.push(m.element),f.appendChild(m.element);(g=new Object).clone_nodes=d,g.parent=t.parent,n(l,g,c,"response")}(r+=1)<s?Ur.attachFirst(e,null):i({result:!0})},null)}}}(u)),p&&(function(e){va(e)||(function(){var t,n,a,o=Co(e,"span"),r=o.length;for(t=0;t<r;t++)n=o[t],(a=i.createResponseAnchorNumbers(gr(n))).getCount()&&new ba(n,!1).setResponseAnchorNumbers(a)}(),wa(e,function(e){var i=e.getElement(),o=e.getResponseAnchorNumbers(),r=new ha;return a&&a.attachChild(r),r.setElementParent(t.parent),r.setElementHitArea(i),r.oncreate=function(e,a){var i=!1,s=0,l=o.getNumberList(),c=l.length;if(!c)return!1;Ur.attachFirst(function o(){var _,u,p,d,m,g,f,h=yo("div");if(h.style.margin="0px",e.appendChild(h),d=(u=(_=rs.getResponse(l[s])).getCloneElements()).length){for(m=[],p=0;p<d;p++)g=u[p],m.push(g.element),h.appendChild(g.element);(f=new Object).clone_nodes=m,f.parent=t.parent,n(_,f,r,"response"),i=!0}(s+=1)<c?Ur.attachFirst(o,null):a({result:i})},null)},null}))}(p),r(p),s(p))}var a=e.element,i=e.work,o=function(){var e,t,o,r,s,l,c,_,u,p,d,m=[];if("5ch_v8"===i.bbs_name)try{if(!(e=a).classList.contains("post"))return!1;t=Mo(e,"postid")[0],o=Mo(e,"postusername")[0],r=Mo(e,"date")[0],s=Mo(e,"uid")[0]||r,l=Mo(e,"post-content")[0],m.push(e)}catch(e){return!1}if(!lr(e))return!1;if(i.extendResponseAnchor(l),function(){function e(e){Ga(e,function(e){var t,n=e.firstChild;return n?3!=n.nodeType?null:(t=n.nodeValue.match(new RegExp("^ID:([-a-zA-Z0-9+/.●!=]{8,})","i")))||(t=n.nodeValue.match(new RegExp("^(◆[a-zA-Z0-9+/.]{10,12})","i")))?(ar(e,n=Eo(t[0])),rr(e),null):(t=n.nodeValue.match(new RegExp("^([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))||(t=n.nodeValue.match(new RegExp("^([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))?(ar(e,n=Eo(t[0])),rr(e),n.parentNode.normalize(),null):null:null})}t&&e(t),o&&e(o),r&&e(r),s&&e(s),l&&e(l)}(),function(){var t,n;if("5ch_v8"===i.bbs_name)for(n=(t=Mo(e,"back-links")).length-1;n>=0;n--)rr(t[n])}(),!gr(t).match(new RegExp("^([0-9]+)","i")))return!1;if(!(c=rs.getResponse(parseInt(RegExp.$1))).getAnalyzed()){for(gr(s).match(new RegExp("ID:([-a-zA-Z0-9+/.●!=]{8,})","i"))&&c.setId(RegExp.$1),gr(o).match(new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i"))&&c.setName(RegExp.$1),function(){var e,t,n,a,i,o,s,l={B:1,SCRIPT:1},_=new Object,u={p:_,n:_,node:r};for(_.p=u,_.n=u;_.n!=_;)switch(e=(u=_.n).p,t=u.n,e.n=t,t.p=e,(n=u.node).nodeType){case 1:if(!l[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)u={p:e=(t=_).p,n:t,node:i[a]},e.n=u,t.p=u;break;case 3:if(s=_r(n).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))return void c.setHost(s[2]);if(s=_r(n).match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})(|\\n) \\]","i")))return void c.setHost(s[2]);if(s=_r(n).match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))return void c.setHost(s[2])}}(),_=new Object,function(){var e,t=Co(l,"span"),n=t.length;for(e=0;e<n;e++)i.createResponseAnchorNumbers(gr(t[e])).getNumbers(function(e){_[e]||(rs.getResponse(e).addFollower(c),_[e]=!0)})}(),p=m.length,u=0;u<p;u++)c.addOriginalElements(String(u),m[u]);c.onerase=function(){var e,t,n,a=c.getOriginalElements(),i=a.length;for(e=0;e<i;e++)t=new Tt,n=a[e].element,t.executeRemoveElementBefore(n),rr(n),t.executeRemoveElementAfter(n)},c.setAnalyzed()}return(d=new Object).parent=Is.body,d.clone_nodes=m,n(c,d,null,null),!0}();return t({useful:o}),!0}]),e("ExpandBbs_ScriptInitialize_2ch",[function(e){var t,n,a,i,o=e.work,r=Is.URL,s=[{url:"((http|https)://[^.]+\\.(2ch|5ch)\\.net/test/read\\.cgi/[^/]+/[0-9]+)",replace:"$1/",secure:!0,name:"2ch"},{url:"((http|https)://[^.]+\\.2ch\\.sc/test/read\\.cgi/[^/]+/[0-9]+)",replace:"$1/",secure:!0,name:"2ch.sc"},{url:"((http|https)://(|[^.]+\\.)machi\\.to/bbs/read\\.cgi/[^/]+/[0-9]+)",replace:"$1/",secure:!0,name:"machi"},{url:"((http|https)://(|[^.]+\\.)machibbs\\.net/[^/]+/[^/]*[0-9]+)",replace:"$1",secure:!0,name:"machibbs"},{url:"((http|https)://[^.]+\\.bbspink\\.com/test/read\\.cgi/[^/]+/[0-9]+)",replace:"$1/",secure:!0,name:"pink"},{url:"((http|https)://jbbs\\.shitaraba\\.net/bbs/read\\.cgi/[^/]+/[0-9]+/[0-9]+)",replace:"$1/",secure:!1,name:"shitaraba"},{url:"((http|https)://jbbs\\.shitaraba\\.net/bbs/read_archive\\.cgi/[^/]+/[0-9]+/[0-9]+)",replace:"$1/",secure:!1,name:"shitaraba_storage"}],l=s.length;for(t=0;t<l;t++)if(n=s[t],a=new RegExp(n.url,"i"),i=r.match(a)){o.base_url=i[1].replace(a,n.replace),n.secure&&(i=o.base_url.match(new RegExp("[^:]+(.*)")))&&(o.base_url="https"+i[1]),o.bbs_name=n.name;break}return!1},function(e,t){function n(e){var t;return"shitaraba"===R.bbs_name?!!(t=e.match(new RegExp("<dt>","i")))&&!!(t=e.match(new RegExp("<dd>","i"))):!(!(t=e.match(new RegExp("<dt>.*?<dd>[ ].*?[ ]<br><br>","i")))||(t=t[0].match(new RegExp("[\r\n]"))))}function a(e){var t=e.match(new RegExp("</b>.*<b>.*?<>.*?<>.*?<>.*?<>","i"));return!(!t||(t=t[0].match(new RegExp("[\r\n]"))))}function i(e){var t=_.length,n=u,a=0,i=function(){t<=(a+=1)?e({result:!1}):(t<=(n+=1)&&(n=0),u=n,o())},o=function(){var t=_[n],a=new us;switch(a.onload=function(n){t.validity(n)?t.parse(n,function(t){t.result?e(t):i()}):i()},a.onerror=function(){i()},a.setMethod("GET"),a.setURL(t.url),R.bbs_name){case"2ch":case"2ch.sc":case"machi":case"machibbs":case"pink":a.overrideMimeType("text/plain; charset=Shift_JIS");break;case"shitaraba":a.overrideMimeType("text/plain; charset=EUC-JP")}a.loadText()};o()}var o,r,s,l,c,_,u,p,d,m,g,f,h,x,b,v,w,y,E,k,A,R=e.work;if(!R.bbs_name)return!1;for(o=1,r=1,s=new Array,c=0,u=0,p=null,d=null,m=R.base_url,R.createResponseAnchorNumbers=function(e){var t,n,a,i,o=new Za,r=new RegExp("^(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)([0-9０-９]+)","i"),s=new RegExp("^([0-9０-９]+)[-]([0-9０-９]+)","i"),l=new RegExp("^([0-9０-９]+)","i"),c=e.match(r);if(c)for(t=c[1].length;(c=e.substr(t).match(s))?((n=parseInt(Ni(c[1])))<1&&(n=1),(a=parseInt(Ni(c[2])))<1&&(a=1),n>1e4&&(n=1e4),a>1e4&&(a=1e4),t+=c[0].length,o.addNumbers(n,a)):(c=e.substr(t).match(l))&&(t+=c[0].length,(i=parseInt(Ni(c[1])))<1&&(i=1),i>2147483647&&(i=2147483647),o.addNumber(i)),c&&0==RegExp.rightContext.search(",");)t+=1;return o},R.extendResponseAnchor=function(e){var t,n,a,i,o,r,s,l,c,_,u,p,d,m,g,f,h,x;if(!va(e)){for(t=new RegExp("^(>>|<<|>)[-,0-9０-９]+$","i"),n=new RegExp("(>>|<<|＞＞|＜＜|>|＞|》|≫|&gt;&gt;)(([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+),)*([0-9０-９]+[-][0-9０-９]+|[0-9０-９]+)","i"),a=new RegExp("([0-9０-９]+)[-]([0-9０-９]+)","i"),i=new RegExp("([0-9０-９]+)","i"),o=(s=(r=Co(e,"a")).length)-1;o>=0;o--)(c=gr(l=r[o]).match(t))&&(nr(l,Eo(c[0])),rr(l));for(e.normalize(),p={p:d=new Object,n:d,node:e},d.p=p,d.n=p;d.n!=d;)switch(_=(p=d.n).p,u=p.n,_.n=u,u.p=_,(l=p.node).nodeType){case 1:for(s=(r=l.childNodes).length,o=0;o<s;o++)p={p:_=(u=d).p,n:u,node:r[o]},_.n=p,u.p=p;break;case 3:for(;l&&(c=_r(l).match(n));)ur(l,RegExp.leftContext),"2ch.sc"===R.bbs_name?(m=yo("span")).style.cssText="color:#00F; text-decoration: underline; cursor: pointer;":m=yo("a"),fr(m,c[0]),ar(l,m),ar(m,l=Eo(RegExp.rightContext)),g="",(c=gr(m).match(a))?((f=parseInt(Ni(c[1])))<1&&(f=1),(h=parseInt(Ni(c[2])))<1&&(h=1),f>1e4&&(f=1e4),h>1e4&&(h=1e4),h<f&&(x=f,f=h,h=x),g=f+"-"+h):(c=gr(m).match(i))&&((g=parseInt(Ni(c[0])))<1&&(g=1),g>2147483647&&(g=2147483647)),m.href=R.base_url+g}}},h=(f=Co(Is.body,"dl")).length,g=0;g<h;g++){p=f[g];break}if(!p)return!1;if("machi"===R.bbs_name){if((f=Co(p,"dt")).length){for(b=(x=f[f.length-1]).firstChild;b;)v=b.nextSibling,ar(p,b),b=v;rr(x)}if((f=Co(p,"dd")).length&&(f=Co(f[f.length-1],"br")).length)for(b=(b=f[f.length-1]).nextSibling;b;)v=b.nextSibling,ar(p,b),b=v}switch((w=(f=Co(p,"dt")).length)&&(y=new RegExp("^[ \t\r\n]*([0-9]+)","i"),(E=gr(f[0]).match(y))&&(o=parseInt(E[1]),s[0]=!0),1==o&&w>1&&(E=gr(f[1]).match(y))&&(o=parseInt(E[1]),s[o]=!0,o<=2&&(o=1)),(E=gr(f[w-1]).match(y))&&(r=parseInt(E[1]),s[r]=!0)),l=[{url:m,parse:function(e){var t,n,a,i,l=new RegExp("ID:([-a-zA-Z0-9+/.●!=]{8,})","i"),c=new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i");switch(R.bbs_name){case"2ch":case"2ch.sc":case"pink":case"machi":case"machibbs":t=new RegExp("([0-9]+)","i"),n="\n";break;case"shitaraba":t=new RegExp("<a[^>]*>([0-9]+)</a>","i"),n="</dd>"}a=0,i=e.length,Ur.attachFirst(function _(){var u,p,d,m,g,f,h,x,b,v;if(!(a>=i||(a=e.indexOf("<dt>",a))<0||(u=e.indexOf(n,a))<0)){if(d=(p=e.substring(a,u)).match(t))if(m=parseInt(d[1]),o<=m&&m<=r);else if(s[m]);else{g=to(p),f=g[0],h=function(){for(var e,t=1;e=g[t];){if("DD"==e.tagName)return e;t++}return null}();try{if("DT"!=f.tagName)return;if("DD"!=h.tagName)return}catch(u){return}(x=rs.getResponse(m)).getAnalyzed()||(b=gr(f),R.extendResponseAnchor(h),b.match(l)&&x.setId(RegExp.$1),b.match(c)&&x.setName(RegExp.$1),function(){var e,t,n,a,i,o,r,s={B:1,SCRIPT:1},l=new Object,c={p:l,n:l,node:f};for(l.p=c,l.n=c;l.n!=l;)switch(e=(c=l.n).p,t=c.n,e.n=t,t.p=e,(n=c.node).nodeType){case 1:if(!s[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)c={p:e=(t=l).p,n:t,node:i[a]},e.n=c,t.p=c;break;case 3:if(r=_r(n).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))return void x.setHost(r[2]);if(r=_r(n).match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})(|\\n) \\]","i")))return void x.setHost(r[2]);if(r=_r(n).match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))return void x.setHost(r[2])}}(),v=new Object,function(){var e,t,n;for(n=(e="2ch.sc"===R.bbs_name?Co(h,"span"):Co(h,"a")).length,t=0;t<n;t++)R.createResponseAnchorNumbers(gr(e[t])).getNumbers(function(e){v[e]||(rs.getResponse(e).addFollower(x),v[e]=!0)})}(),f&&x.addOriginalElements("dt",f),h&&x.addOriginalElements("dd",h),x.onerase=function(){},x.setAnalyzed())}a<u&&(a=u+1,Ur.attachFirst(_,null))}},null)},validity:n},{url:function(){var e=m.match(new RegExp("http://([^/]+)/test/read\\.cgi/([^/]+)/([0-9]+)/","i"));return e?"http://"+e[1]+"/"+e[2]+"/dat/"+e[3]+".dat":""}(),parse:function(e){var t=new RegExp("(.*?)<>(.*?)<>(.*?)<>(.*?)<>","i"),n=(new RegExp("([0-9]+)","i"),new RegExp("ID:([-a-zA-Z0-9+/.●!=]{8,})","i")),a=new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i"),i=new RegExp("^ sssp://img.2ch.net/ico/(.*?)( <br> .*)$","i"),l=0,c=e.length,_=1;Ur.attachFirst(function u(){var p,d,m,g,f,h,x,b,v,w;if(!(l>=c)){if(p=e.indexOf("\n",l),o<=_&&_<=r);else if(s[_]);else if(!(d=rs.getResponse(_)).getAnalyzed()&&(m=e.substring(l,p).match(t))){g="<dt>"+_+" ：",m[2]?g+='<a href="mailto:'+m[2]+'"><b>'+m[1]+"</b></a>":g+="<font color=green><b>"+m[1]+"</b></font>",g+="："+m[3]+"<dd>",(f=m[4]).match(i)&&(f='<img src="http://img.2ch.net/ico/'+RegExp.$1+'">'+RegExp.$2),h=to(g+=f+"<br><br>"),x=h[0],b=h[1];try{if("DT"!=x.tagName)return;if("DD"!=b.tagName)return}catch(p){return}v=gr(x),R.extendResponseAnchor(b),v.match(n)&&d.setId(RegExp.$1),v.match(a)&&d.setName(RegExp.$1),function(){var e,t,n,a,i,o,r,s={B:1,SCRIPT:1},l=new Object,c={p:l,n:l,node:x};for(l.p=c,l.n=c;l.n!=l;)switch(e=(c=l.n).p,t=c.n,e.n=t,t.p=e,(n=c.node).nodeType){case 1:if(!s[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)c={p:e=(t=l).p,n:t,node:i[a]},e.n=c,t.p=c;break;case 3:if(r=_r(n).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))return void d.setHost(r[2]);if(r=_r(n).match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})(|\\n) \\]","i")))return void d.setHost(r[2]);if(r=_r(n).match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))return void d.setHost(r[2])}}(),w=new Object,function(){var e,t,n;for(n=(e="2ch.sc"===R.bbs_name?Co(b,"span"):Co(b,"a")).length,t=0;t<n;t++)R.createResponseAnchorNumbers(gr(e[t])).getNumbers(function(e){w[e]||(rs.getResponse(e).addFollower(d),w[e]=!0)})}(),x&&d.addOriginalElements("dt",x),b&&d.addOriginalElements("dd",b),d.onerase=function(){},d.setAnalyzed()}_+=1,l<p&&(l=p+1,Ur.attachFirst(u,null))}},null)},validity:a}],_=[{url:m+r+"-",parse:function(e,t){var n,a,i,o,s;switch(R.bbs_name){case"2ch":case"2ch.sc":case"pink":case"machi":case"machibbs":n=new RegExp("([0-9]+)","i"),a="\n";break;case"shitaraba":n=new RegExp("<a[^>]*>([0-9]+)</a>","i"),a="</dd>"}i=0,o=e.length,s=0,Ur.attachFirst(function l(){var c,_,u,d,m,g,f,h;try{if(i>=o)throw 0;if((i=e.indexOf("<dt>",i))<0)throw 0;if((c=e.indexOf(a,i))<0)throw 0;if((u=(_=e.substring(i,c)).match(n))&&(d=parseInt(u[1]),r<d)){for((m=rs.getResponse(d)).clearAnalyzed(),m.clearOriginalElements(),m.clearFollowing(),h=(g=to(_)).length,f=0;f<h;f++)p.appendChild(g[f]);s+=1,r=d}if(i<c)return i=c+1,void Ur.attachFirst(l,null)}catch(c){if(c)return void t({result:!1})}t({result:!0,add_count:s})},null)},validity:n},{url:function(){var e=m.match(new RegExp("http://([^/]+)/test/read\\.cgi/([^/]+)/([0-9]+)/","i"));return e?"http://"+e[1]+"/"+e[2]+"/dat/"+e[3]+".dat":""}(),parse:function(e,t){var n,a,i,o,s,l,c=Co(p,"dt"),_=c.length;_&&gr(c[_-1]).match(new RegExp("^([0-9]+)[ ]：","i"))&&(r=parseInt(RegExp.$1)),n=new RegExp("(.*?)<>(.*?)<>(.*?)<>(.*?)<>","i"),a=new RegExp("^ sssp://img.2ch.net/ico/(.*?)( <br> .*)$","i"),i=0,o=e.length,s=1,l=0,Ur.attachFirst(function c(){var _,u,d,m,g,f,h,x;try{if(i>=o)throw 0;if(_=e.indexOf("\n",i),r<s&&(u=e.substring(i,_).match(n))){for((d=rs.getResponse(s)).clearAnalyzed(),d.clearOriginalElements(),d.clearFollowing(),m="<dt>"+s+" ：",u[2]?m+='<a href="mailto:'+u[2]+'"><b>'+u[1]+"</b></a>":m+="<font color=green><b>"+u[1]+"</b></font>",m+="："+u[3]+"<dd>",(g=u[4]).match(a)&&(g='<img src="http://img.2ch.net/ico/'+RegExp.$1+'">'+RegExp.$2),x=(f=to(m+=g+"<br><br>")).length,h=0;h<x;h++)p.appendChild(f[h]);r=s,l+=1}if(s+=1,i<_)return i=_+1,void Ur.attachFirst(c,null)}catch(_){if(_)return void t({result:!1})}t({result:!0,add_count:l})},null)},validity:a}],c=0,u=0,R.bbs_name){case"2ch":case"2ch.sc":for(c=1,h=(f=Co(fo(Is),"meta")).length,g=0;g<h;g++)if((k=(b=f[g]).getAttribute("http-equiv"))||(k=b.httpEquiv),k&&"content-type"==k.toLowerCase()&&((A=b.getAttribute("content"))||(A=b.content),A&&-1!=A.indexOf("application"))){u=1;break}}return(d=new Ba).setWaitTime(2e3),d.onclick=i,ar(p,d.getElement()),function(){function e(){s.value=""}function t(e){r.disabled=!e}function n(){t(!1)}function a(){var n,a,r,s,l,_,u,p;switch(R.bbs_name){case"2ch":case"2ch.sc":case"pink":n=800,a=600,(r=Is.cookie)&&-1!=r.indexOf("PREN=")&&(n=600,a=450);break;case"shitaraba":n=600,a=450;break;case"machi":case"machibbs":n=700,a=400}s="_pageexpand_"+Math.floor(2147483647*Math.random()),(l=new Ha(s)).setWindowSize(n,a),l.onclose=function(){t(!0)},_=l.getIFrameElement(),o.target=s,u=!1,p=null,(c=$r.createTask()).setDestructorFunc(function(){c=null}),c.setExecuteFunc(function(){var n,a,o;try{if(n="",(a=_.contentWindow).document&&(n=a.document.URL),n.match(/^(http|https):/))switch(R.bbs_name){case"2ch":case"pink":case"2ch.sc":-1==n.indexOf("test/bbs.cgi?guid=")?u=!0:p||(o=a.document.body)&&-1!=gr(o).indexOf("書きこみが終わりました")&&(p=(new Date).getTime());break;case"shitaraba":-1==n.indexOf("/bbs/write.cgi/")?u=!0:p||(o=a.document.body)&&-1!=gr(o).indexOf("書きこみが終りました")&&(p=(new Date).getTime());break;case"machi":case"machibbs":-1==n.indexOf("bbs/write.cgi?guid=ON")&&(u=!0,p=1)}p&&(new Date).getTime()-p>2e3&&(u=!0)}catch(e){u=!0}u&&(c&&c.release(),l.close(),t(!0),p&&(i(function(){}),e()))})}var o,r,s,l,c;!function(){var e,t,n=Co(Is.body,"form");switch(R.bbs_name){case"2ch":case"pink":case"2ch.sc":for(e=0;e<n.length;e++)if(n[e].action.indexOf("/test/bbs.cgi")>=0){o=n[e];break}break;case"shitaraba":for(e=0;e<n.length;e++)if(n[e].action.indexOf("/bbs/write.cgi/")>=0){o=n[e];break}break;case"machi":case"machibbs":for(e=0;e<n.length;e++)if(n[e].action.indexOf("/bbs/write.cgi")>=0){o=n[e];break}}if(o||"2ch.sc"!==R.bbs_name||(o=Is.getElementById("postForm")),o){for(n=Co(o,"input"),e=0;e<n.length;e++)if("submit"==n[e].type.toLowerCase()){r=n[e];break}(n=Co(o,"textarea")).length&&(s=n[0],R.form_textarea=s),(t=new Wa(o,!1)).setStyle("background:#e8e8e8; background-image:linear-gradient(to bottom, #f8f8f8, #e8e8e8); padding:20px; border:1px solid #888; border-radius:4px; box-shadow:2px 2px 5px #aaa; margin:0px;"),R.docking_form=t}}(),o&&r&&s&&(R.docking_form&&(R.docking_form.onreset=e),function(){var e,t,n;try{if(e=new RegExp("^[^:]+"),t=o.action.match(e),n=Is.URL.match(e),!t)return!0;if(!n)return!0;if(t[0]===n[0])return!1}catch(e){}return!0}()||0==u&&(Ts.addEventListener?(r.addEventListener("click",a),o.addEventListener("submit",n)):Ts.attachEvent&&(r.attachEvent("onclick",a),o.attachEvent("onsubmit",n)),(l=jr.createEventHandler("release")).setFunction(function(){l&&(l.release(),l=null),Ts.removeEventListener?(r.removeEventListener("click",a),o.removeEventListener("submit",n)):Ts.detachEvent&&(r.detachEvent("onclick",a),o.detachEvent("onsubmit",n)),c&&c.release()})))}(),function(){var e=l.length,t=c,n=0,a=function(){e<=(n+=1)||(e<=(t+=1)&&(t=0),c=t,i())},i=function(){var e=l[t],n=new us;switch(n.onload=function(t){e.validity(t)?e.parse(t):a()},n.onerror=function(){a()},n.setMethod("GET"),n.setURL(e.url),R.bbs_name){case"2ch":case"2ch.sc":case"pink":n.overrideMimeType("text/plain; charset=Shift_JIS");break;case"shitaraba":n.overrideMimeType("text/plain; charset=EUC-JP")}n.loadText()};i()}(),t({result:!0}),!0},function(e,t){return t({result:!1}),!0}]),e("ExpandBbs_ScriptCallback_2ch",[function(e,t){function n(e,t,a,o){function r(e){va(e)||(function(){var t,n,a,o,r;for(a=(n="2ch.sc"===i.bbs_name?Co(e,"span"):Co(e,"a")).length,t=0;t<a;t++)o=n[t],(r=i.createResponseAnchorNumbers(gr(o))).getCount()&&new ba(o,!1).setResponseAnchorNumbers(r)}(),wa(e,function(e){var i=e.getElement(),o=e.getResponseAnchorNumbers(),r=new ha;return a&&a.attachChild(r),r.setElementParent(t.parent),r.setElementHitArea(i),r.oncreate=function(e,a){var i,s,l,c,_=yo("dl");if(_.style.margin="0px",e.appendChild(_),i=!1,s=0,l=o.getNumberList(),!(c=l.length))return!1;Ur.attachFirst(function e(){var o,u,p,d=rs.getResponse(l[s]),m=d.getCloneElements(),g=m.length;if(g){for((u=new Object).parent=t.parent,o=0;o<g;o++)u[(p=m[o]).name]=p.element,_.appendChild(p.element);n(d,u,r,"response"),i=!0}(s+=1)<c?Ur.attachFirst(e,null):a({result:i})},null)},null}))}function s(i){Ta(i)||(function(){var e,t,n,a,o,r,s,l,c,_={A:1,SCRIPT:1},u=new Object,p={p:u,n:u,node:i};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)p={p:e=(t=u).p,n:t,node:o[a]},e.n=p,t.p=p;break;case 3:for(;n&&(s=_r(n).match(new RegExp("ID:([-a-zA-Z0-9+/.●!=]{8,})","i")));)ur(n,RegExp.leftContext),(l=new Ra(null,!1)).setId(s[1]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ia(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getId(),s=e.getId()===r,l=i.getElement(),c=Eo(""),l.appendChild(c),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),"id"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i,o,l,c=yo("dl");if(c.style.margin="0px",e.appendChild(c),i=rs.getResponsesFromId(r),o=0,l=i.length,s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function e(){var r,s,u,p=i[o],d=p.getCloneElements(),m=d.length;if(m){for((s=new Object).parent=t.parent,r=0;r<m;r++)s[(u=d[r]).name]=u.element,c.appendChild(u.element);n(p,s,_,"id")}(o+=1)<l?Ur.attachFirst(e,null):a({result:!0})},null)}),null}))}function l(i){Sa(i)||(function(){var e,t,n,a,o,r,s,l,c,_={SCRIPT:1},u=new Object,p={p:u,n:u,node:i};for(u.p=p,u.n=p;u.n!=u;)switch(e=(p=u.n).p,t=p.n,e.n=t,t.p=e,(n=p.node).nodeType){case 1:if(!_[n.tagName])for(r=(o=n.childNodes).length,a=0;a<r;a++)p={p:e=(t=u).p,n:t,node:o[a]},e.n=p,t.p=p;break;case 3:for(;n&&(s=_r(n).match(new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i")));)ur(n,RegExp.leftContext),(l=new Ca(null,!1)).setName(s[0]),fr(c=l.getElement(),s[0]),ar(n,c),ar(c,n=Eo(RegExp.rightContext))}}(),Ma(i,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getName(),s=e.getName()===r,l=i.getElement(),c=Eo(""),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small"))},i.update(),l.appendChild(c),"name"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i,o,l,c=yo("dl");if(c.style.margin="0px",e.appendChild(c),i=rs.getResponsesFromName(r),o=0,l=i.length,s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function e(){var r,s,u,p=i[o],d=p.getCloneElements(),m=d.length;if(m){for((s=new Object).parent=t.parent,r=0;r<m;r++)s[(u=d[r]).name]=u.element,c.appendChild(u.element);n(p,s,_,"name")}(o+=1)<l?Ur.attachFirst(e,null):a({result:!0})},null)}),null}))}var c;t.dt&&(r(t.dt),s(t.dt),l(t.dt),Na(c=t.dt)||(function(){var e,t,n,a,i,o,r,s,l,_,u={B:1,SCRIPT:1},p=new Object,d={p:p,n:p,node:c};for(p.p=d,p.n=d;p.n!=p;)switch(e=(d=p.n).p,t=d.n,e.n=t,t.p=e,(n=d.node).nodeType){case 1:if(!u[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)d={p:e=(t=p).p,n:t,node:i[a]},e.n=d,t.p=d;break;case 3:for(;n;)if(s=(r=_r(n)).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))ur(n,RegExp.leftContext+s[1]),(l=new La(null,!1)).setHost(s[2]),fr(_=l.getElement(),s[2]),ar(n,_),ar(_,n=Eo(RegExp.rightContext));else if(s=r.match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})((|\\n) \\])","i")))ur(n,RegExp.leftContext+s[1]),(l=new La(null,!1)).setHost(s[2]),fr(_=l.getElement(),s[2]),ar(n,_),ar(_,n=Eo("\n ]"+RegExp.rightContext));else{if(!(s=r.match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i"))))break;ur(n,RegExp.leftContext+s[1]),(l=new La(null,!1)).setHost(s[2]),fr(_=l.getElement(),s[2]),ar(n,_),ar(_,n=Eo(RegExp.rightContext))}}}(),Fa(c,function(i){var r,s,l,c,_;return i.setResponse(e),r=i.getHost(),s=e.getHost()===r,l=i.getElement(),c=Eo(""),i.onchange=function(e){ur(c,e>1?"("+e+")":"");var t=l.style;e>=5?(yr(t,"color","#e80000"),kr(t,"font-size")):e>=2?(kr(t,"color"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","80%"))},i.update(),l.appendChild(c),"host"==o&&s||(_=new ha,a&&a.attachChild(_),_.setElementParent(t.parent),_.setElementHitArea(l),_.oncreate=function(e,a){var i,o,l,c=yo("dl");if(c.style.margin="0px",e.appendChild(c),i=rs.getResponsesFromHost(r),o=0,l=i.length,s){if(l<2)return!1}else if(l<1)return!1;Ur.attachFirst(function e(){var r,s,u,p=i[o],d=p.getCloneElements(),m=d.length;if(m){for((s=new Object).parent=t.parent,r=0;r<m;r++)s[(u=d[r]).name]=u.element,c.appendChild(u.element);n(p,s,_,"host")}(o+=1)<l?Ur.attachFirst(e,null):a({result:!0})},null)}),null})),function(i){var o,r,s,l,c;Da(i)||((o=new Oa(null,!0)).setResponse(e),r=o.getElement(),s=Eo(""),r.appendChild(s),o.onchange=function(e){s.nodeValue=e?" follower("+e+")":"";var t=r.style;e>=3?(yr(t,"color","#e80000"),kr(t,"font-size")):(yr(t,"color","#888"),yr(t,"font-size","small")),e?yr(t,"margin","0px 4px 0px 0px"):kr(t,"margin")},o.update(),(l=Co(i,"br")).length?nr(l[0],r):i.appendChild(r),c=new ha,a&&a.attachChild(c),c.setElementParent(t.parent),c.setElementHitArea(r),c.oncreate=function(a,i){var o,r,s,l=yo("dl");if(l.style.margin="0px",a.appendChild(l),o=e.getFollower(),r=0,(s=o.length)<=0)return!1;Ur.attachFirst(function e(){var a,_,u,p=rs.getResponse(o[r].getNumber()),d=p.getCloneElements(),m=d.length;if(m){for((_=new Object).parent=t.parent,a=0;a<m;a++)_[(u=d[a]).name]=u.element,l.appendChild(u.element);n(p,_,c,"response")}(r+=1)<s?Ur.attachFirst(e,null):i({result:!0})},null)})}(t.dt),function(t){Pa(t)||(function(){var e,n,a;if(e="shitaraba"===i.bbs_name?Qo(t):t.firstChild)switch(e.nodeType){case 1:if(!(n=gr(e).match(new RegExp("^[0-9]+$","i"))))return;new za(e,!0);break;case 3:if(!(n=_r(e).match(new RegExp("^[0-9]+","i"))))return;ur(e,RegExp.leftContext),fr(a=new za(null,!1).getElement(),n[0]),ar(e,a),ar(a,e=Eo(RegExp.rightContext))}}(),Va(t,function(t){var n,a,o;return t.setResponse(e),n=t.getElement(),a=i.docking_form,o=i.form_textarea,t.onclick=function(){var t,i,r,s;a.popupForReply(n),i=(t=o.value).length,s=(r=o.selectionEnd)>=i?">>"+e.getNumber()+"\n":">>"+e.getNumber(),o.value=t.slice(0,r)+s+t.slice(r),o.selectionEnd=r+s.length,o.focus()},null}))}(t.dt)),t.dd&&(r(t.dd),s(t.dd),l(t.dd))}var a=e.element,i=e.work,o=function(){var e,t,o,r,s,l,c=a;try{if("DT"!=c.tagName)return!1}catch(e){return!1}e=qo(c);try{if("DD"!=e.tagName)return!1}catch(e){return!1}try{if("DL"!=(t=c.parentNode).tagName)return!1;switch(i.bbs_name){case"2ch":case"pink":break;case"shitaraba":case"machi":if(t.parentNode.parentNode!=Is.body)return!1;break;default:if(t.parentNode!=Is.body)return!1}}catch(e){return!1}if(!lr(c))return!1;if(i.extendResponseAnchor(e),function(){function t(e){Ga(e,function(e){var t,n=e.firstChild;return n?3!=n.nodeType?null:(t=n.nodeValue.match(new RegExp("^ID:([-a-zA-Z0-9+/.●!=]{8,})","i")))||(t=n.nodeValue.match(new RegExp("^(◆[a-zA-Z0-9+/.]{10,12})","i")))?(ar(e,n=Eo(t[0])),rr(e),null):(t=n.nodeValue.match(new RegExp("^([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))||(t=n.nodeValue.match(new RegExp("^([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))?(ar(e,n=Eo(t[0])),rr(e),n.parentNode.normalize(),null):null:null})}c&&t(c),e&&t(e)}(),function(){var e,t,n,a;if("2ch.sc"===i.bbs_name){for(t=(e=Mo(c,"id")).length-1;t>=0;t--)ar(n=e[t],Eo(gr(n))),rr(n);for(t=(e=Mo(c,"idNum")).length-1;t>=0;t--)rr(e[t]);"SPAN"==(n=c.firstChild).tagName&&(a=gr(n)).match(new RegExp("^([0-9]+)","i"))&&(ar(n,Eo(a)),rr(n))}}(),!(o=gr(c)).match(new RegExp("^[ \t\r\n]*([0-9]+)","i")))return!1;for((r=rs.getResponse(parseInt(RegExp.$1))).getAnalyzed()||(o.match(new RegExp("ID:([-a-zA-Z0-9+/.●!=]{8,})","i"))&&r.setId(RegExp.$1),o.match(new RegExp("(◆[a-zA-Z0-9+/.]{10,12})","i"))&&r.setName(RegExp.$1),function(){var e,t,n,a,i,o,s,l={B:1,SCRIPT:1},_=new Object,u={p:_,n:_,node:c};for(_.p=u,_.n=u;_.n!=_;)switch(e=(u=_.n).p,t=u.n,e.n=t,t.p=e,(n=u.node).nodeType){case 1:if(!l[n.tagName])for(o=(i=n.childNodes).length,a=0;a<o;a++)u={p:e=(t=_).p,n:t,node:i[a]},e.n=u,t.p=u;break;case 3:if(s=_r(n).match(new RegExp("(^|HOST:)([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})","i")))return void r.setHost(s[2]);if(s=_r(n).match(new RegExp("(\\[ )([-._a-zA-Z0-9]{1,}(\\.[-._a-zA-Z0-9]{1,}){2,})(|\\n) \\]","i")))return void r.setHost(s[2]);if(s=_r(n).match(new RegExp("(発信元:)([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})","i")))return void r.setHost(s[2])}}(),s=new Object,function(){var t,n,a;for(a=(t="2ch.sc"===i.bbs_name?Co(e,"span"):Co(e,"a")).length,n=0;n<a;n++)i.createResponseAnchorNumbers(gr(t[n])).getNumbers(function(e){s[e]||(rs.getResponse(e).addFollower(r),s[e]=!0)})}(),c&&r.addOriginalElements("dt",c),e&&r.addOriginalElements("dd",e),r.onerase=function(){var e,t,n,a=r.getOriginalElements(),i=a.length;for(e=0;e<i;e++)t=new Tt,n=a[e].element,t.executeRemoveElementBefore(n),rr(n),t.executeRemoveElementAfter(n)},r.setAnalyzed()),t=Is.body,l=c;l;)"DL"==l.tagName&&(t=l),l=l.parentNode;return n(r,{dt:c,dd:e,parent:t},null,null),!0}();return t({useful:o}),!0}]),e("ExpandBbs_ScriptInitialize_Default",[function(e,t){return e.work,t({result:!1}),!0}]),e("ExpandBbs_ScriptCallback_Default",[function(e,t){return e.element,e.work,t({useful:!1}),!0}])}function Z(){function e(e){var t,n;this.setText=function(e){n!=e&&ur(t,n=e)},t=Eo(""),e.appendChild(t)}function t(e){function t(){var e=0;o&&(e=Math.floor(i/o*100)),a.style.width=e+"%"}var n,a,i,o;this.setValue=function(e){i!=e&&(i=e,t())},this.setMaximum=function(e){o!=e&&(o=e,t())},i=0,o=0,Oo(n=yo("div"),"height:2px; min-height:0; border:1px #888 solid; margin:0px 5px 2px; line-height:1.0;"),e.appendChild(n),Oo(a=yo("div"),"height:2px; min-height:0; background-color :#888; margin:0px 0px 2px; width:0%; line-height:1.0;"),n.appendChild(a)}var n,a,i,o,r=this;r.release=function(){i&&(os.removeAnalyzeWork(i),i=null),o&&(o.release(),o=null),a&&(a.release(),a=null),n&&(rr(n),n=null)},r.setVisible=function(s){var l,c,_,u,p,d,m,g,f,h,x,b,v,w,y,E,k,A,R,T,I,C,S,M,L,N,F,O,D,j,z,P,U;s?(r.release(),Oo(l=yo("div"),"width:220px;border:3px #888 outset; padding:0px; margin:0px; right:5px; bottom:5px; position:fixed; text-align:left; color:#000; font-size:12px; line-height:1.0; z-index:2147483647;"),Kn(i=Nt(n=l)),(c=new ma).SetOutsider(),os.attachAnalyzeWork(i,c),(o=new pr(n)).setFunction(r.release),Oo(_=yo("div"),"background-color:#FFF; line-height:1.0; border:1px #ccc solid; padding:0px; margin:0px; opacity:0.8;"),l.appendChild(_),Oo(u=yo("div"),"font-weight:bold; text-align:left; color:#000; line-height:1.0; background-color:#ccc; padding:2px 5px; margin:0px 0px 2px; position:relative;"),fr(u,"PageExpand Debug"),_.appendChild(u),Oo(p=yo("div"),"width:12px; position:absolute; right:1px; top:1px; bottom:1px; border:1px #888 solid; background:#ddd; line-height:1.0;"),fr(p,""),u.appendChild(p),p.onclick=function(){r.release()},m="text-align:left; color:#000; font-size:12px; line-height:1.0;",Oo(d=yo("div"),"margin:0px 5px 0px; "+m),_.appendChild(d),g=new e(d),Oo(d=yo("div"),"margin:0px 5px 0px; "+m),_.appendChild(d),f=new e(d),Oo(d=yo("div"),"margin:0px 5px 0px; "+m),_.appendChild(d),h=new e(d),Oo(d=yo("div"),"margin:0px 5px 0px; "+m),_.appendChild(d),x=new e(d),Oo(d=yo("div"),"margin:0px 5px 2px; "+m),_.appendChild(d),b=new e(d),Oo(d=yo("div"),"margin:0px 5px 1px; "+m),_.appendChild(d),v=new e(d),w=new t(_),Oo(d=yo("div"),"margin:0px 5px 2px; "+m),_.appendChild(d),y=new e(d),Oo(d=yo("div"),"margin:0px 5px 2px; "+m),_.appendChild(d),E=new e(d),Oo(d=yo("div"),"margin:0px 5px 1px; "+m),_.appendChild(d),k=new e(d),A=new t(_),Oo(d=yo("div"),"margin:0px 5px 2px; "+m),_.appendChild(d),R=new e(d),Oo(d=yo("div"),"margin:0px 5px 1px; "+m),_.appendChild(d),T=new e(d),I=new t(_),Oo(d=yo("div"),"margin:0px 5px 2px; "+m),_.appendChild(d),C=new e(d),Oo(d=yo("div"),"margin:0px 5px 1px; "+m),_.appendChild(d),S=new e(d),M=new t(_),Oo(d=yo("div"),"margin:0px 5px 0px; "+m),_.appendChild(d),L=new e(d),Oo(d=yo("div"),"margin:0px 5px 2px; "+m),_.appendChild(d),N=new e(d),Oo(d=yo("div"),"margin:0px 5px 1px; "+m),_.appendChild(d),F=new e(d),O=new t(_),Oo(d=yo("div"),"margin:0px 5px 2px; "+m),_.appendChild(d),D=new e(d),Oo(d=yo("div"),"margin:0px 5px 2px; "+m),_.appendChild(d),j=new e(d),Oo(d=yo("div"),"margin:0px 5px 2px; "+m),_.appendChild(d),z=new e(d),Oo(d=yo("div"),"margin:0px 5px 2px; "+m),_.appendChild(d),P=new e(d),U=["interrupt","remove","insert","bbs","analyze","element","text","complete",""],(a=$r.createTask()).setExecuteFunc(function(){g.setText("execute queue: "+Ur.getCountQueue()),f.setText("execute phase: "+U[Ur.getPhase()]),h.setText("execute error: "+Ur.getCountError()),x.setText("loader queue: "+Vr.getCountQueue()),b.setText("loader error: "+Vr.getCountError()),v.setText("loader thread: "+Vr.getCountThread()+" / "+Vr.getMaxThread()),w.setValue(Vr.getCountThread()),w.setMaximum(Vr.getMaxThread()),y.setText("task count: "+$r.getCountTask());var e=Math.floor(ts.getByteSizeNow()/1024/1024*100)/100;E.setText("image size: "+e),k.setText("image thread: "+ts.getCountUse()+" / "+ts.getCount()),A.setValue(ts.getCountUse()),A.setMaximum(ts.getCount()),R.setText("sound count: "+as.getCount()),T.setText("sound thread: "+as.getCountUse()+" / "+as.getMaxUse()),I.setValue(as.getCountUse()),I.setMaximum(as.getMaxUse()),C.setText("video count: "+is.getCount()),S.setText("video thread: "+is.getCountUse()+" / "+is.getMaxUse()),M.setValue(is.getCountUse()),M.setMaximum(is.getMaxUse()),L.setText("download queue: "+Br.getCountQueue()),N.setText("download error: "+Br.getCountError()),F.setText("download thread: "+Br.getCountThread()+" / "+Br.getMaxThread()),O.setValue(Br.getCountThread()),O.setMaximum(Br.getMaxThread()),D.setText("observer remove: "+Xr.getCount()),j.setText("observer modify: "+Kr.getCount()),z.setText("observer scroll: "+Jr.getCount()),P.setText("src count: "+Zr.getCountAddress())}),a.execute(4294967295),Is.body.appendChild(n)):r.release()}}function $(){function e(e,t){function n(){var e=r>>16&255,t=r>>8&255,n=255&r;e=Math.floor(e*s),t=Math.floor(t*s),n=Math.floor(n*s),o.background="#"+e.toString(16)+t.toString(16)+n.toString(16)}function a(){gt.pushHistory(t),gt.MenuItemSelect(t)}var i,o,r,s,l=this;l.normal=function(){i.onmouseout=l.normal,i.onmouseover=l.over,i.onmousedown=a,o.fontSize="12px",o.width="230px",o.boxShadow="",o.padding="5px 10px 5px 0px",o.marginTop="0px",o.marginBottom="1px",s=.75,n()},l.over=function(){l.normal(),o.width="240px",s=.9375,n()},l.active=function(){var e,t,n,a,l,c;i.onmouseover=null,i.onmouseout=null,i.onmousedown=null,o.fontSize="16px",o.width="250px",o.padding="14px 5px 14px 0px",o.marginTop="2px",o.marginBottom="3px",e=.25,t=r>>16&255,n=r>>8&255,a=255&r,t=Math.floor(t*e),n=Math.floor(n*e),a=Math.floor(a*e),o.boxShadow="0px 1px 2px #"+t.toString(16)+n.toString(16)+a.toString(16),e=1,t=r>>16&255,n=r>>8&255,a=255&r,t=Math.floor(t*e),n=Math.floor(n*e),a=Math.floor(a*e),l="linear-gradient(left, #"+t.toString(16)+n.toString(16)+a.toString(16)+" 25px, #ffffff 25px)",o.background="#FFF",o.backgroundImage=l,(c={none:1,initial:1})[o.backgroundImage]&&(o.backgroundImage="-webkit-"+l),c[o.backgroundImage]&&(o.backgroundImage="-moz-"+l),c[o.backgroundImage]&&(o.backgroundImage="-ms-"+l),c[o.backgroundImage]&&(o.backgroundImage="-o-"+l),s=1},l.setSupport=function(e){i.style.color=e?"#000":"#888"},l.setBackgroundColor=function(e){r=e,n()},(i=yo("a")).href="",i.onclick=function(){return!1},Oo(i,"display:block; width:250px; text-decoration:none; text-align:right; margin:0px 0px 2px auto; line-height:1.0; border-radius:5px 0px 0px 5px;"),o=i.style,fr(i,e),rt.appendChild(i),r=4294967295,s=1,n()}function t(){sr(st),uo(Ts,0)}function n(){var e,t,n,a,i,o,r,s,l,c,_;!function(){function u(){"deny"===d.filter_type?t.joinArray(d.filter_deny,"\n"):t.joinArray(d.filter_allow,"\n")}var d=Nr.getObject().standard,m=(new L(st,lt.getMessage("menu_setting_standard")),new R(st,lt.getMessage("menu_setting_standard_filter_url"))),g=m.getElement();(e=new ce(g)).attachItem(lt.getMessage("menu_setting_standard_filter_url_combo_box_item_deny"),"deny"),e.attachItem(lt.getMessage("menu_setting_standard_filter_url_combo_box_item_allow"),"allow"),e.onchange=function(e){d.filter_type=e,u(),We()},(t=new te(g)).oninput=function(){var e=t.spiritByLine();"deny"===d.filter_type?d.filter_deny=e:d.filter_allow=e,We()},new Z(g,lt.getMessage("menu_setting_standard_filter_url_hint")),(m=new T(st,lt.getMessage("menu_setting_standard_check_box_container"))).setWidth(400),g=m.getElement(),(n=new Q(g,lt.getMessage("menu_setting_standard_enable_icon_address_bar"))).onchange=function(e){d.enable_icon_address_bar=e,We()},(a=new Q(g,lt.getMessage("menu_setting_standard_enable_context_menu"))).onchange=function(e){d.enable_context_menu=e,We()},(i=new Q(g,lt.getMessage("menu_setting_standard_enable_startup"))).onchange=function(e){d.enable_startup=e,We()},(o=new Q(g,lt.getMessage("menu_setting_standard_enable_debug_mode"))).onchange=function(e){d.enable_debug_mode=e,We()},(r=new Q(g,lt.getMessage("menu_setting_standard_enable_output_log"))).onchange=function(e){d.enable_output_log=e,We()},(m=new T(st,lt.getMessage("menu_setting_standard_touch"))).setWidth(400),g=m.getElement(),(s=new Q(g,lt.getMessage("menu_setting_standard_enable_input_touch"))).onchange=function(e){d.enable_input_touch=e,We()},(l=new Q(g,lt.getMessage("menu_setting_standard_enable_double_touch_assist"))).onchange=function(e){d.enable_double_touch_assist=e,We()},g=(m=new R(st,lt.getMessage("menu_setting_standard_execute_queue"))).getElement(),new F(g=m.getElement(),lt.getMessage("menu_setting_standard_execute_queue_time_occupancy")),(c=new ie(g)).setMinimum(0),c.setMaximum(5e3),c.oninput=function(e){d.execute_queue.time_occupancy=e,We()},new H(g),new F(g,lt.getMessage("menu_setting_standard_execute_queue_time_sleep")),(_=new ie(g)).setMinimum(0),_.setMaximum(1e3),_.oninput=function(e){d.execute_queue.time_sleep=e,We()},new Z(g,lt.getMessage("menu_setting_standard_execute_queue_hint")),new re(g=(m=new R(st,lt.getMessage("menu_setting_standard_export_import"))).getElement(),lt.getMessage("menu_setting_standard_export_button")).onclick=function(){var e,t=new S(st),n=t.getElement(),a=(new L(n,lt.getMessage("menu_setting_standard_export_dialog")),new R(n,lt.getMessage("menu_setting_standard_export_dialog_export"))).getElement(),i=new te(a);new Z(a,lt.getMessage("menu_setting_standard_export_dialog_export_hint")),(e=new le(n)).setEnable(!1),e.onclick=function(){t.close()},Ze(function(){var t=Nr.exportObject();(t=P(t)).setting_export={type:"setting"},i.setValue(si(t)),e.setEnable(!0)}),t.open()},new re(g,lt.getMessage("menu_setting_standard_import_button")).onclick=function(){var e,t=new S(st),n=t.getElement(),a=(new L(n,lt.getMessage("menu_setting_standard_import_dialog")),new R(n,lt.getMessage("menu_setting_standard_import_dialog_explanation"))),i=a.getElement(),o=new q(i);o.addListItem(lt.getMessage("menu_setting_standard_import_dialog_explanation_0")),o.addListItem(lt.getMessage("menu_setting_standard_import_dialog_explanation_1")),o.addListItem(lt.getMessage("menu_setting_standard_import_dialog_explanation_2")),i=(a=new R(n,lt.getMessage("menu_setting_standard_import_dialog_import"))).getElement(),e=new te(i),new Z(i,lt.getMessage("menu_setting_standard_import_dialog_import_hint")),new W(i=(a=new R(n,null)).getElement(),lt.getMessage("menu_setting_standard_import_dialog_confirm")),new se(n).onclick=function(a){function i(e){var a=new M(n,lt.getMessage("menu_setting_standard_import_alert"));new W(a.getElement(),lt.getMessage("menu_setting_standard_import_alert_failure")),new W(a.getElement(),e),a.oncomplete=function(){t.close()},a.open()}var o,r,s,l;if(a)try{if(o=Nr.getObject(),r=new p,(s=li(e.getValue())).version>o.version)throw"Error: It is a version not supported.";l=!0;try{s.setting_export?"setting"===s.setting_export.type&&(l=!1):l=!1}catch(e){}if(l)throw"Error: It is a type not supported.";delete s.setting_export,s=z(s),r.importObject(s),Nr=r,Ze(function(a){if(a.result){e.setValue("");var o=new M(n,lt.getMessage("menu_setting_standard_import_alert"));new W(o.getElement(),lt.getMessage("menu_setting_standard_import_alert_success")),o.oncomplete=function(){t.oncomplete=function(){it(),gt.MenuItemSelect($.MENU_TYPE_SETTING_STANDARD)},t.close()},o.open()}else i(a.message)})}catch(e){i(e)}else t.close()},t.open()},new oe(g=(m=new R(st,lt.getMessage("menu_setting_standard_reset"))).getElement(),lt.getMessage("menu_setting_standard_reset_button")).onclick=function(){var e=new S(st),t=e.getElement(),n=(new L(t,lt.getMessage("menu_setting_standard_reset_dialog")),new R(t,lt.getMessage("menu_setting_standard_reset_dialog_explanation"))).getElement(),a=new q(n);a.addListItem(lt.getMessage("menu_setting_standard_reset_dialog_explanation_0")),a.addListItem(lt.getMessage("menu_setting_standard_reset_dialog_explanation_1")),new W(n,lt.getMessage("menu_setting_standard_reset_dialog_confirm")),new se(t).onclick=function(n){function a(n){var a=new M(t,lt.getMessage("menu_setting_standard_reset_alert"));new W(a.getElement(),lt.getMessage("menu_setting_standard_reset_alert_failure")),new W(a.getElement(),n),a.oncomplete=function(){e.close()},a.open()}if(n)try{$e(function(){(Nr=new p).initialize(),Ze(function(n){if(n.result){var i=new M(t,lt.getMessage("menu_setting_standard_reset_alert"));new W(i.getElement(),lt.getMessage("menu_setting_standard_reset_alert_success")),i.oncomplete=function(){e.oncomplete=function(){it(),gt.MenuItemSelect($.MENU_TYPE_SETTING_STANDARD)},e.close()},i.open()}else a(n.message)})})}catch(e){a(e)}else e.close()},e.open()},e.setValue(d.filter_type),u(),n.setValue(d.enable_icon_address_bar),a.setValue(d.enable_context_menu),i.setValue(d.enable_startup),o.setValue(d.enable_debug_mode),r.setValue(d.enable_output_log),s.setValue(d.enable_input_touch),l.setValue(d.enable_double_touch_assist),c.setValue(d.execute_queue.time_occupancy),_.setValue(d.execute_queue.time_sleep)}()}function a(){var e,t,n,a,i,o,r,s,l,c,_,u,p,d,m;!function(){function g(e){var t,n=Boolean("detail"===k.download.save_file.type);n&&e&&(t="PageExpand/"+V(k.download.save_file.simple),c.setValue(t),k.download.save_file.detail=t),o.setVisible(!n),r.setVisible(n)}function f(e){new F(e,lt.getMessage("menu_setting_download_download_save_file_variable")),new G(e,"<url> <kebab-url> <origin> <domain> <filename> <name> <ext> <query> <fragment>"),new G(e,"<year> <month> <day> <hour> <minute> <second> <millisecond> <unixtime>")}function h(e){var t,n=Boolean("detail"===k.batch_download.save_file.type);n&&e&&(t=V(k.batch_download.save_file.simple),m.setValue(t),k.batch_download.save_file.detail=t),_.setVisible(!n),u.setVisible(n)}var x,b,v,w,y,E,k=Nr.getObject().download;new L(st,lt.getMessage("menu_setting_download")),new N(st,lt.getMessage("menu_setting_download_load")),b=new R(x=new C(st).getElement(),lt.getMessage("menu_setting_download_load_thread_max")).getElement(),(e=new ie(b)).setMinimum(1),e.setMaximum(99999),e.oninput=function(e){k.load.thread_max=e,We()},b=new R(x,lt.getMessage("menu_setting_download_load_timeout")).getElement(),(t=new ie(b)).setMinimum(0),t.setMaximum(6e5),t.oninput=function(e){k.load.timeout=e,We()},new Z(b,lt.getMessage("menu_setting_download_load_timeout_hint")),new B(st),b=new R(x,lt.getMessage("menu_setting_download_load_cache_for_media")).getElement(),(n=new ce(b)).attachItem(lt.getMessage("menu_setting_expand_image_load_cache_for_media_combo_box_item_default"),"default"),n.attachItem(lt.getMessage("menu_setting_expand_image_load_cache_for_media_combo_box_item_no_store"),"no-store"),n.attachItem(lt.getMessage("menu_setting_expand_image_load_cache_for_media_combo_box_item_force_cache"),"force-cache"),n.onchange=function(e){k.load.cache_for_media=e,We()},new Z(b,lt.getMessage("menu_setting_download_load_cache_for_media_hint")),new B(st),new N(st,lt.getMessage("menu_setting_download_download")),b=new R(x=new C(st).getElement(),lt.getMessage("menu_setting_download_download_thread_max")).getElement(),(a=new ie(b)).setMinimum(1),a.setMaximum(99999),a.oninput=function(e){k.download.thread_max=e,We()},b=new R(x,lt.getMessage("menu_setting_download_download_save_file")).getElement(),(s=new ce(b)).attachItem(lt.getMessage("menu_setting_download_download_save_file_combo_box_item_simple"),"simple"),s.attachItem(lt.getMessage("menu_setting_download_download_save_file_combo_box_item_detail"),"detail"),s.onchange=function(e){k.download.save_file.type=e,g(!0),We()},new H(b),(o=new I(b)).setVisible(!0),new F(v=o.getElement(),lt.getMessage("menu_setting_download_download_save_file_simple")),(l=new ce(v)).attachItem("PageExpand / <url>","url"),l.attachItem("PageExpand / <kebab-url>","kebab_url"),l.attachItem("PageExpand / <filename>","filename"),l.attachItem("PageExpand / <domain> - <filename>","domain"),l.attachItem("PageExpand / <year> <month> <day> / <filename>","date"),l.onchange=function(e){k.download.save_file.simple=e,We()},new H(v),(r=new I(b)).setVisible(!1),new F(w=r.getElement(),lt.getMessage("menu_setting_download_download_save_file_detail")),(c=new J(w)).oninput=function(e){k.download.save_file.detail=e,We()},new H(w),f(w),b=new R(x,lt.getMessage("menu_setting_download_download_conflict_type")).getElement(),(i=new ce(b)).attachItem(lt.getMessage("menu_setting_download_download_conflict_type_combo_box_item_rename"),"rename"),i.attachItem(lt.getMessage("menu_setting_download_download_conflict_type_combo_box_item_overwrite"),"overwrite"),i.onchange=function(e){k.download.conflict_type=e,We()},new B(st),new N(st,lt.getMessage("menu_setting_download_batch_download")),b=new R(x=new C(st).getElement(),lt.getMessage("menu_setting_download_download_save_file")).getElement(),(p=new ce(b)).attachItem(lt.getMessage("menu_setting_download_download_save_file_combo_box_item_simple"),"simple"),p.attachItem(lt.getMessage("menu_setting_download_download_save_file_combo_box_item_detail"),"detail"),p.onchange=function(e){k.batch_download.save_file.type=e,h(!0),We()},new H(b),(_=new I(b)).setVisible(!0),new F(y=_.getElement(),lt.getMessage("menu_setting_download_download_save_file_simple")),(d=new ce(y)).attachItem("<url>","url"),d.attachItem("<kebab-url>","kebab_url"),d.attachItem("<filename>","filename"),d.attachItem("<domain> - <filename>","domain"),d.attachItem("<year> <month> <day> / <filename>","date"),d.onchange=function(e){k.batch_download.save_file.simple=e,We()},new H(y),(u=new I(b)).setVisible(!1),new F(E=u.getElement(),lt.getMessage("menu_setting_download_download_save_file_detail")),(m=new J(E)).oninput=function(e){k.batch_download.save_file.detail=e,We()},new H(E),f(E),new B(st),e.setValue(k.load.thread_max),t.setValue(k.load.timeout),n.setValue(k.load.cache_for_media),a.setValue(k.download.thread_max),i.setValue(k.download.conflict_type),s.setValue(k.download.save_file.type),l.setValue(k.download.save_file.simple),c.setValue(k.download.save_file.detail),p.setValue(k.batch_download.save_file.type),d.setValue(k.batch_download.save_file.simple),m.setValue(k.batch_download.save_file.detail),g(!1),h(!1)}()}function i(){function e(e){var n,a,i,o=Nr.getObject().expand_bbs,r=t.getSelectedIndices(),s=r.length;for(i=0;i<s;i++)a=null,(n=o[r[i]]).user?a=n.user:n.preset&&(a=n.user=no(n.preset)),a&&e(a)}var t,n,a,i,o,r,s,l,c,_,u,p,d,m,g,f,h=this;h.selectFromURL=function(e){var n,a,i,o,r,s,l=Nr.getObject().expand_bbs,c=l.length;for(n=0;n<c;n++)if(i=be(l[n]))switch(i.filter.type){case"asterisk":for(r=(o=i.filter.asterisk.filter).length,a=0;a<r;a++)if(Gi(e,o[a]))return t.select(n),void t.replaceHistory();break;case"regexp":for(r=(o=i.filter.regexp.filter).length,a=0;a<r;a++)if((s=Xe(o[a]))&&$i(e,[s]))return t.select(n),void t.replaceHistory()}},h.selectFromIdList=function(e){t.selectFromIdList(e)},h.replaceHistory=function(){t.replaceHistory()},function(){var h,x,b=Nr.getObject().expand_bbs,v=(new L(st,lt.getMessage("menu_setting_expand_bbs")),new R(st,lt.getMessage("menu_setting_expand_bbs_list"))),w=v.getElement();(t=new de(w)).attachExpandBbsData(b),t.onselect=function(e){e<0||b.length<=e?n.setVisible(!1):(n.setVisible(!0),function(e){var t=be(Nr.getObject().expand_bbs[e]);t&&(i.setValue(we(t.name)),o.setValue(t.enable),a.setVisible(t.enable),r.attachObject(t.filter),s.setScriptObject(t.script_initialize),l.setValue(t.popup.enable_animation),c.setValue(t.popup.origin_type),_.setValue(t.popup.position_type),u.setValue(t.popup.percent.x),p.setValue(t.popup.percent.y),d.setValue(t.popup.time_wait_open),m.setValue(t.popup.time_wait_close),g.setValue(t.popup.style_sheet),f.setScriptObject(t.script_callback))}(e))},t.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_EXPAND_BBS)},h=(n=new I(st)).getElement(),n.setVisible(!1),w=(v=new R(h,lt.getMessage("menu_setting_expand_bbs_name"))).getElement(),(i=new J(w)).oninput=function(n){e(function(e){ye(e.name,n)}),t.update(),We()},w=(v=new R(h,lt.getMessage("menu_setting_expand_bbs_check_box_container"))).getElement(),(o=new Q(w,lt.getMessage("menu_setting_expand_bbs_enable_setting"))).onchange=function(n){e(function(e){e.enable=n}),a.setVisible(n),t.update(),We()},(a=new I(h)).setVisible(!1),w=(v=new R(x=a.getElement(),lt.getMessage("menu_setting_expand_bbs_filter_url"))).getElement(),(r=new xe(w)).onchange=function(n){e(function(e){e.filter=no(n)}),t.update(),We()},w=(v=new R(x,lt.getMessage("menu_setting_expand_bbs_popup_check_box_container"))).getElement(),(l=new Q(w,lt.getMessage("menu_setting_expand_bbs_popup_enable_animation"))).onchange=function(n){e(function(e){e.popup.enable_animation=n}),t.update(),We()},w=(v=new R(x,lt.getMessage("menu_setting_expand_bbs_popup_origin_type"))).getElement(),(c=new ce(w)).attachItem(lt.getMessage("menu_setting_expand_bbs_popup_origin_type_combo_box_item_adsorb_top_bottom"),"adsorb_top_bottom"),c.attachItem(lt.getMessage("menu_setting_expand_bbs_popup_origin_type_combo_box_item_adsorb_left_right"),"adsorb_left_right"),c.onchange=function(n){e(function(e){e.popup.origin_type=n}),t.update(),We()},w=(v=new R(x,lt.getMessage("menu_setting_expand_bbs_popup_position_type"))).getElement(),(_=new ce(w)).attachItem(lt.getMessage("menu_setting_expand_bbs_popup_position_type_combo_box_item_absolute"),"absolute"),_.attachItem(lt.getMessage("menu_setting_expand_bbs_popup_position_type_combo_box_item_fixed"),"fixed"),_.onchange=function(n){e(function(e){e.popup.position_type=n}),t.update(),We()},new F(w=(v=new R(x,lt.getMessage("menu_setting_expand_bbs_popup_percent"))).getElement(),lt.getMessage("menu_setting_expand_bbs_popup_percent_h")),(u=new ie(w)).setMinimum(0),u.setMaximum(100),u.oninput=function(n){e(function(e){e.popup.percent.x=n}),t.update(),We()},new H(w),new F(w,lt.getMessage("menu_setting_expand_bbs_popup_percent_v")),(p=new ie(w)).setMinimum(0),p.setMaximum(100),p.oninput=function(n){e(function(e){e.popup.percent.y=n}),t.update(),We()},new F(w=(v=new R(x,lt.getMessage("menu_setting_expand_bbs_popup_time"))).getElement(),lt.getMessage("menu_setting_expand_bbs_popup_time_wait_open")),(d=new ie(w)).setMinimum(0),d.setMaximum(9999999),d.oninput=function(n){e(function(e){e.popup.time_wait_open=n}),t.update(),We()},new H(w),new F(w,lt.getMessage("menu_setting_expand_bbs_popup_time_wait_close")),(m=new ie(w)).setMinimum(0),m.setMaximum(9999999),m.oninput=function(n){e(function(e){e.popup.time_wait_close=n}),t.update(),We()},w=(v=new R(x,lt.getMessage("menu_setting_expand_bbs_popup_style_sheet"))).getElement(),(g=new J(w)).oninput=function(n){e(function(e){e.popup.style_sheet=n}),t.update(),We()},w=(v=new R(x,lt.getMessage("menu_setting_expand_bbs_script_initialize"))).getElement(),(s=new ne(w)).onchange=function(n){e(function(e){at(e.script_initialize,n)}),t.update(),We()},w=(v=new R(x,lt.getMessage("menu_setting_expand_bbs_script_callback"))).getElement(),(f=new ne(w)).onchange=function(n){e(function(e){at(e.script_callback,n)}),t.update(),We()}}()}function o(){function e(e){var n,a,i,o=Nr.getObject().urlmap,r=t.getSelectedIndices(),s=r.length;for(i=0;i<s;i++)a=null,(n=o[r[i]]).user?a=n.user:n.preset&&(a=n.user=no(n.preset)),a&&e(a)}var t,n,a,i,o,r,s,l,c,_,u=this;u.selectFromURL=function(e){var n,a,i,o,r,s,l=Nr.getObject().urlmap,c=l.length;for(n=0;n<c;n++)if(i=be(l[n]))switch(i.filter.type){case"asterisk":for(r=(o=i.filter.asterisk.filter).length,a=0;a<r;a++)if(Gi(e,o[a]))return t.select(n),void t.replaceHistory();break;case"regexp":for(r=(o=i.filter.regexp.filter).length,a=0;a<r;a++)if((s=Xe(o[a]))&&$i(e,[s]))return t.select(n),void t.replaceHistory()}},u.selectFromIdList=function(e){t.selectFromIdList(e)},u.replaceHistory=function(){t.replaceHistory()},_=[{asset:"access_block",type:$.MENU_TYPE_SETTING_ACCESS_BLOCK,select:"multiple"},{asset:"replacement_to_referer",type:$.MENU_TYPE_SETTING_REPLACEMENT_TO_REFERER,select:"multiple"},{asset:"replacement_to_useragent",type:$.MENU_TYPE_SETTING_REPLACEMENT_TO_USERAGENT,select:"multiple"},{asset:"replacement_to_element",type:$.MENU_TYPE_SETTING_REPLACEMENT_TO_ELEMENT,select:"multiple"},{asset:"replacement_to_text",type:$.MENU_TYPE_SETTING_REPLACEMENT_TO_TEXT,select:"multiple"},{asset:"replacement_to_anchor",type:$.MENU_TYPE_SETTING_REPLACEMENT_TO_ANCHOR,select:"multiple"},{asset:"replacement_to_link",type:$.MENU_TYPE_SETTING_REPLACEMENT_TO_LINK,select:"multiple"},{asset:"make_link_to_text",type:$.MENU_TYPE_SETTING_MAKE_LINK_TO_TEXT,select:"single"},{asset:"expand_short_url",type:$.MENU_TYPE_SETTING_EXPAND_SHORT_URL,select:"single"},{asset:"expand_text",type:$.MENU_TYPE_SETTING_EXPAND_TEXT,select:"single"},{asset:"expand_image",type:$.MENU_TYPE_SETTING_EXPAND_IMAGE,select:"single"},{asset:"expand_sound",type:$.MENU_TYPE_SETTING_EXPAND_SOUND,select:"single"},{asset:"expand_video",type:$.MENU_TYPE_SETTING_EXPAND_VIDEO,select:"single"},{asset:"expand_iframe",type:$.MENU_TYPE_SETTING_EXPAND_IFRAME,select:"single"},{asset:"style_sheet",type:$.MENU_TYPE_SETTING_STYLE_SHEET,select:"single"},{asset:"experimental",type:$.MENU_TYPE_SETTING_EXPERIMENTAL,select:"single"}],function(){var u,p,d,m,g=Nr.getObject(),f=g.urlmap,h=(new L(st,lt.getMessage("menu_setting_urlmap")),new R(st,lt.getMessage("menu_setting_urlmap_list"))),x=h.getElement();for((t=new me(x)).attachUrlMapData(f),t.onselect=function(e){e<0||f.length<=e?n.setVisible(!1):(n.setVisible(!0),function(e){var n,u,p,d,m,g,f,h,x,b=Nr.getObject().urlmap,v=be(b[e]);if(v)for(i.setValue(we(v.name)),o.setValue(v.enable),a.setVisible(v.enable),r.attachObject(v.filter),s.setValue(v.mixed_passive_content),l.setValue(v.mixed_active_content),u=c.length,n=0;n<u;n++)switch((p=_[n]).select){case"single":d=c[n],(m=v[p.asset]).enable?d.setValue(m.id):d.setValue("");break;case"multiple":for(x in g=c[n],f=new Array,h=t.getSelectedIndices())f.push(b[h[x]]);g.attachUrlMaps(f,b[e])}}(e))},u=(n=new I(st)).getElement(),n.setVisible(!1),x=(h=new R(u,lt.getMessage("menu_setting_urlmap_name"))).getElement(),(i=new J(x)).oninput=function(n){e(function(e){ye(e.name,n)}),t.update(),We()},x=(h=new R(u,lt.getMessage("menu_setting_urlmap_check_box_container"))).getElement(),(o=new Q(x,lt.getMessage("menu_setting_urlmap_enable_setting"))).onchange=function(n){e(function(e){e.enable=n}),a.setVisible(n),t.update(),We()},(a=new I(u)).setVisible(!1),x=(h=new R(p=a.getElement(),lt.getMessage("menu_setting_urlmap_filter_url"))).getElement(),(r=new xe(x)).onchange=function(n){e(function(e){e.filter=no(n)}),t.update(),We()},c=new Array,m=_.length,d=0;d<m;d++)(function(){var n,a,i,o=_[d],r=o.type,s=o.asset,l=new T(p,lt.getMessage("menu_setting_"+o.asset));switch(l.setWidth(280),n=l.getElement(),mt[r].urlmap||l.setAlpha(.5),l.setBackgroundColor(pt[r].bgcolor),o.select){case"single":a=new pe(n,lt.getMessage("menu_setting_urlmap_define_button_edit")),c.push(a),function(){var e,t,n=g[o.asset],i=0,r=n.length;for(i=0;i<r;i++)t=be(e=n[i]),a.attachItem(we(t.name),e.id);a.attachItem(lt.getMessage("menu_setting_urlmap_define_combo_box_item_no_use"),"")}(),a.onchange=function(n){e(function(e){var t=e[s];n?(t.enable=!0,t.id=n):(t.enable=!1,t.id="")}),t.update(),We()},a.onclick=function(){gt.pushHistory(r);var e=gt.MenuItemSelect(r);e.select(a.getSelectedIndex()),e.replaceHistory()};break;case"multiple":i=new he(n),c.push(i),i.setAsset(o.asset),i.setMenuId(r),i.setDefineData(g[o.asset]),i.onchange=function(){t.update()}}})();x=(h=new R(p,lt.getMessage("menu_setting_urlmap_mixed_passive_content_container"))).getElement(),(s=new ce(x)).attachItem(lt.getMessage("menu_setting_urlmap_mixed_passive_content_unsafe"),"unsafe"),s.attachItem(lt.getMessage("menu_setting_urlmap_mixed_passive_content_safe"),"safe"),s.onchange=function(n){e(function(e){e.mixed_passive_content=n}),t.update(),We()},new Z(x,lt.getMessage("menu_setting_urlmap_mixed_passive_content_hint")),x=(h=new R(p,lt.getMessage("menu_setting_urlmap_mixed_active_content_container"))).getElement(),(l=new ce(x)).attachItem(lt.getMessage("menu_setting_urlmap_mixed_active_content_unsafe"),"unsafe"),l.attachItem(lt.getMessage("menu_setting_urlmap_mixed_active_content_safe"),"safe"),l.onchange=function(n){e(function(e){e.mixed_active_content=n}),t.update(),We()},new Z(x,lt.getMessage("menu_setting_urlmap_mixed_active_content_hint"))}()}function r(){var e,t,n,a,i,o,r,s,l,c,_,u,p=this;p.select=function(e){o.select(e)},p.selectFromIdList=function(e){o.selectFromIdList(e)},p.replaceHistory=function(){o.replaceHistory()},p.update=function(){o.update()},p.onselect=function(){},p.onreload=function(){},p.attachDefineData=function(e){r=e,o.onselect=function(e){e<0||r.length<=e?(t.setVisible(!1),n.setVisible(!1)):(t.setVisible(!0),n.setVisible(!0),function(e){var t=be(r[e]);t&&("wildcard"==r[e].id?a.setVisible(!0):a.setVisible(!1),i.setValue(we(t.name)),p.onselect(e))}(e))},o.attachDefineData(r)},p.setDefineAssetName=function(e){o.setDefineAssetName(e)},p.setTitle=function(t){e.setValue(t)},p.setFunctionForNewData=function(e){o.setFunctionForNewData(e)},p.getElementForm=function(){return n.getElement()},p.getSelectedDefinitions=function(e){var t,n,a,i=o.getSelectedIndices(),s=i.length;for(a=0;a<s;a++)n=null,(t=r[i[a]]).user?n=t.user:t.preset&&(n=t.user=no(t.preset)),n&&e(n)},p.getSelectedIndex=function(){return o.getSelectedIndex()},p.getSelectedIndices=function(){return no(o.getSelectedIndices())},e=new L(st,""),l=new R(s=new C(st).getElement(),lt.getMessage("menu_setting_define_list")).getElement(),(o=new ge(l)).onreload=function(){p.onreload()},c=(t=new I(s)).getElement(),t.setVisible(!1),_=(a=new I(c)).getElement(),a.setVisible(!1),(u=new q(l=new R(_,lt.getMessage("menu_setting_define_wildcard_detail")).getElement())).addListItem(lt.getMessage("menu_setting_define_wildcard_detail_0")),u.addListItem(lt.getMessage("menu_setting_define_wildcard_detail_1")),u.addListItem(lt.getMessage("menu_setting_define_wildcard_detail_2")),l=new R(c,lt.getMessage("menu_setting_define_name")).getElement(),(i=new J(l)).oninput=function(e){p.getSelectedDefinitions(function(t){ye(t.name,e)}),p.update(),We()},new B(st),c=(n=new I(st)).getElement(),n.setVisible(!1)}function s(){var e,t,n,a,i,o=this;o.select=function(t){e.select(t)},o.selectFromIdList=function(t){e.selectFromIdList(t)},o.replaceHistory=function(){e.replaceHistory()},n=(e=new r).getElementForm(),a=Nr.getObject().access_block,e.setTitle(lt.getMessage("menu_setting_access_block")),i=new R(new C(n).getElement(),lt.getMessage("menu_setting_access_block_filter_url")).getElement(),(t=new xe(i)).onchange=function(t){e.getSelectedDefinitions(function(e){e.filter=no(t)}),e.update(),We()},new B(n),e.attachDefineData(a),e.setDefineAssetName("access_block"),e.setFunctionForNewData(Ae),e.onselect=function(e){var n=be(a[e]);n&&t.attachObject(n.filter)},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_ACCESS_BLOCK)}}function l(){var e,t,n,a,i,o=this;o.select=function(t){e.select(t)},o.selectFromIdList=function(t){e.selectFromIdList(t)},o.replaceHistory=function(){e.replaceHistory()},n=(e=new r).getElementForm(),a=Nr.getObject().replacement_to_element,e.setTitle(lt.getMessage("menu_setting_replacement_to_element")),i=new R(new C(n).getElement(),lt.getMessage("menu_setting_replacement_to_element_script")).getElement(),(t=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.script,t)}),e.update(),We()},new B(n),e.attachDefineData(a),e.setDefineAssetName("replacement_to_element"),e.setFunctionForNewData(Re),e.onselect=function(e){var n=be(a[e]);n&&t.setScriptObject(n.script)},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_REPLACEMENT_TO_ELEMENT)}}function c(){var e,t,n,a,i,o=this;o.select=function(t){e.select(t)},o.selectFromIdList=function(t){e.selectFromIdList(t)},o.replaceHistory=function(){e.replaceHistory()},n=(e=new r).getElementForm(),a=Nr.getObject().replacement_to_text,e.setTitle(lt.getMessage("menu_setting_replacement_to_text")),i=new R(new C(n).getElement(),lt.getMessage("menu_setting_replacement_to_text_script")).getElement(),(t=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.script,t)}),e.update(),We()},new B(n),e.attachDefineData(a),e.setDefineAssetName("replacement_to_text"),e.setFunctionForNewData(Te),e.onselect=function(e){var n=be(a[e]);n&&t.setScriptObject(n.script)},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_REPLACEMENT_TO_TEXT)}}function _(){var e,t,n,a,i,o=this;o.select=function(t){e.select(t)},o.selectFromIdList=function(t){e.selectFromIdList(t)},o.replaceHistory=function(){e.replaceHistory()},n=(e=new r).getElementForm(),a=Nr.getObject().replacement_to_anchor,e.setTitle(lt.getMessage("menu_setting_replacement_to_anchor")),i=new R(new C(n).getElement(),lt.getMessage("menu_setting_replacement_to_anchor_script")).getElement(),(t=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.script,t)}),e.update(),We()},new B(n),e.attachDefineData(a),e.setDefineAssetName("replacement_to_anchor"),e.setFunctionForNewData(Ie),e.onselect=function(e){var n=be(a[e]);n&&t.setScriptObject(n.script)},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_REPLACEMENT_TO_ANCHOR)}}function u(){var e,t,n,a,i,o,s,l,c,_=this;_.select=function(t){e.select(t)},_.selectFromIdList=function(t){e.selectFromIdList(t)},_.selectFilterFromList=function(e){t.selectFromList(e)},_.replaceHistory=function(){e.replaceHistory(),t.replaceHistory()},function(){function _(e){var r,_=!1,u=be(t.getDefinitionActive());u&&(r=u.filter,0<=e&&e<r.length&&(r=r[e],n.setValue(we(r.name)),a.attachObject(r.filter),i.setScriptObject(r.script),o.setValue(r.enable_reflect_to_anchor),s.setValue(r.enable_cache),_=!0)),l.setVisible(_),c.setVisible(_)}var u,p,d,m,g;u=(e=new r).getElementForm(),p=Nr.getObject().replacement_to_link,e.setTitle(lt.getMessage("menu_setting_replacement_to_link")),new N(u,lt.getMessage("menu_setting_replacement_to_link_filter_list")),m=new R(d=new C(u).getElement(),lt.getMessage("menu_setting_replacement_to_link_filter_list")).getElement(),(t=new fe(m)).onselect=function(e){_(e)},t.onchange=function(){e.update()},(l=new I(d)).setVisible(!1),m=new R(l.getElement(),lt.getMessage("menu_setting_replacement_to_link_filter_name")).getElement(),(n=new J(m)).oninput=function(n){t.writeFilters(function(e){ye(e.name,n)}),t.update(),e.update(),We()},new B(u),(c=new I(u)).setVisible(!1),new N(g=c.getElement(),lt.getMessage("menu_setting_replacement_to_link_filter")),m=new R(d=new C(g).getElement(),lt.getMessage("menu_setting_replacement_to_link_filter_filter_url")).getElement(),(a=new xe(m)).onchange=function(n){t.writeFilters(function(e){e.filter=no(n)}),e.update(),We()},m=new R(d,lt.getMessage("menu_setting_replacement_to_link_check_box_container")).getElement(),(o=new Q(m,lt.getMessage("menu_setting_replacement_to_link_enable_reflect_to_anchor"))).onchange=function(n){t.writeFilters(function(e){e.enable_reflect_to_anchor=n}),e.update(),We()},(s=new Q(m,lt.getMessage("menu_setting_replacement_to_link_enable_cache"))).onchange=function(n){t.writeFilters(function(e){e.enable_cache=n}),e.update(),We()},m=new R(d,lt.getMessage("menu_setting_replacement_to_link_filter_script")).getElement(),(i=new ne(m)).onchange=function(n){t.writeFilters(function(e){at(e.script,n)}),e.update(),We()},new B(g),e.attachDefineData(p),e.setDefineAssetName("replacement_to_link"),e.setFunctionForNewData(Ce),t.setFunctionForNewDefineData(Ce),t.setFunctionForNewFilterData(Se),t.setDefineAssetName("replacement_to_link"),e.onselect=function(n){var a,i,o;if(be(p[n])){for(o in a=new Array,i=e.getSelectedIndices())a.push(p[i[o]]);t.attachDefinitions(a,p[n]),_(-1)}},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_REPLACEMENT_TO_LINK)}}()}function d(){var e,t,n,a,i,o,s,l,c,_,u,p=this;p.select=function(t){e.select(t)},p.selectFromIdList=function(t){e.selectFromIdList(t)},p.selectFilterFromList=function(e){t.selectFromList(e)},p.replaceHistory=function(){e.replaceHistory(),t.replaceHistory()},function(){function p(e){var r,u=!1,p=be(t.getDefinitionActive());p&&(r=p.filter,0<=e&&e<r.length&&(r=r[e],n.setValue(we(r.name)),a.attachObject(r.filter),i.setValue(r.send_referer.type),o.setValue(r.send_referer.custom),s.setValue(r.send_referer.regexp),l.setValue(r.send_referer.replacement),d(),u=!0)),c.setVisible(u),_.setVisible(u)}function d(){u.setVisible("custom"==i.getValue())}var m,g,f,h,x,b;m=(e=new r).getElementForm(),g=Nr.getObject().replacement_to_referer,e.setTitle(lt.getMessage("menu_setting_replacement_to_referer")),new N(m,lt.getMessage("menu_setting_replacement_to_referer_filter_list")),h=new R(f=new C(m).getElement(),lt.getMessage("menu_setting_replacement_to_referer_filter_list")).getElement(),(t=new fe(h)).onselect=function(e){p(e)},t.onchange=function(){e.update()},(c=new I(f)).setVisible(!1),h=new R(c.getElement(),lt.getMessage("menu_setting_replacement_to_referer_filter_name")).getElement(),(n=new J(h)).oninput=function(n){t.writeFilters(function(e){ye(e.name,n)}),t.update(),e.update(),We()},new B(m),(_=new I(m)).setVisible(!1),new N(x=_.getElement(),lt.getMessage("menu_setting_replacement_to_referer_filter")),h=new R(f=new C(x).getElement(),lt.getMessage("menu_setting_replacement_to_referer_filter_filter_url")).getElement(),(a=new xe(h)).onchange=function(n){t.writeFilters(function(e){e.filter=no(n)}),e.update(),We()},new F(h=new R(f,lt.getMessage("menu_setting_replacement_to_referer_filter_send_type")).getElement(),lt.getMessage("menu_setting_replacement_to_referer_filter_send_type_combo_box_item")),(i=new ce(h)).attachItem(lt.getMessage("menu_setting_replacement_to_referer_filter_send_type_combo_box_item_default"),"default"),i.attachItem(lt.getMessage("menu_setting_replacement_to_referer_filter_send_type_combo_box_item_current_url"),"current_url"),i.attachItem(lt.getMessage("menu_setting_replacement_to_referer_filter_send_type_combo_box_item_link_url"),"link_url"),i.attachItem(lt.getMessage("menu_setting_replacement_to_referer_filter_send_type_combo_box_item_custom"),"custom"),i.onchange=function(n){t.writeFilters(function(e){e.send_referer.type=n}),e.update(),We(),d()},(u=new I(h)).setVisible(!1),new H(b=u.getElement()),new F(b,lt.getMessage("menu_setting_replacement_to_referer_filter_send_custom")),(o=new J(b)).oninput=function(n){t.writeFilters(function(e){e.send_referer.custom=n}),e.update(),We()},new F(h=new R(f,lt.getMessage("menu_setting_replacement_to_referer_filter_send_regexp")).getElement(),lt.getMessage("menu_setting_replacement_to_referer_filter_send_regexp_match")),(s=new ee(h)).oninput=function(n){t.writeFilters(function(e){e.send_referer.regexp=no(n)}),e.update(),We()},new H(h),new F(h,lt.getMessage("menu_setting_replacement_to_referer_filter_send_regexp_replacement")),(l=new J(h)).oninput=function(n){t.writeFilters(function(e){e.send_referer.replacement=n}),e.update(),We()},new Z(h,lt.getMessage("menu_setting_replacement_to_referer_filter_send_regexp_replacement_hint")),new B(x),e.attachDefineData(g),e.setDefineAssetName("replacement_to_referer"),e.setFunctionForNewData(Me),t.setFunctionForNewDefineData(Me),t.setFunctionForNewFilterData(Le),t.setDefineAssetName("replacement_to_referer"),e.onselect=function(n){var a,i,o;if(be(g[n])){for(o in a=new Array,i=e.getSelectedIndices())a.push(g[i[o]]);t.attachDefinitions(a,g[n]),p(-1)}},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_REPLACEMENT_TO_REFERER)}}()}function m(){var e,t,n,a,i,o,s,l=this;l.select=function(t){e.select(t)},l.selectFromIdList=function(t){e.selectFromIdList(t)},l.selectFilterFromList=function(e){t.selectFromList(e)},l.replaceHistory=function(){e.replaceHistory(),t.replaceHistory()},function(){function l(e){var r,l=!1,c=be(t.getDefinitionActive());c&&(r=c.filter,0<=e&&e<r.length&&(r=r[e],n.setValue(we(r.name)),a.attachObject(r.filter),i.setValue(r.send_useragent.custom),l=!0)),o.setVisible(l),s.setVisible(l)}var c,_,u,p,d;c=(e=new r).getElementForm(),_=Nr.getObject().replacement_to_useragent,new N(c,lt.getMessage("menu_setting_replacement_to_useragent_filter_list")),p=new R(u=new C(c).getElement(),lt.getMessage("menu_setting_replacement_to_useragent_filter_list")).getElement(),(t=new fe(p)).onselect=function(e){l(e)},t.onchange=function(){e.update()},(o=new I(u)).setVisible(!1),p=new R(o.getElement(),lt.getMessage("menu_setting_replacement_to_useragent_filter_name")).getElement(),(n=new J(p)).oninput=function(n){t.writeFilters(function(e){ye(e.name,n)}),t.update(),e.update(),We()},new B(c),(s=new I(c)).setVisible(!1),new N(d=s.getElement(),lt.getMessage("menu_setting_replacement_to_useragent_filter")),p=new R(u=new C(d).getElement(),lt.getMessage("menu_setting_replacement_to_useragent_filter_filter_url")).getElement(),(a=new xe(p)).onchange=function(n){t.writeFilters(function(e){e.filter=no(n)}),e.update(),We()},new F(p=new R(u,lt.getMessage("menu_setting_replacement_to_useragent_filter_send")).getElement(),lt.getMessage("menu_setting_replacement_to_useragent_filter_send_custom")),(i=new J(p)).oninput=function(n){t.writeFilters(function(e){e.send_useragent.custom=n}),e.update(),We()},new B(d),e.setTitle(lt.getMessage("menu_setting_replacement_to_useragent")),e.attachDefineData(_),e.setDefineAssetName("replacement_to_useragent"),e.setFunctionForNewData(Ne),t.setFunctionForNewDefineData(Ne),t.setFunctionForNewFilterData(Fe),t.setDefineAssetName("replacement_to_useragent"),e.onselect=function(n){var a,i,o;if(be(_[n])){for(o in a=new Array,i=e.getSelectedIndices())a.push(_[i[o]]);t.attachDefinitions(a,_[n]),l(-1)}},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_REPLACEMENT_TO_USERAGENT)}}()}function g(){var e,t,n,a,i,o=this;o.select=function(t){e.select(t)},o.selectFromIdList=function(t){e.selectFromIdList(t)},o.replaceHistory=function(){e.replaceHistory()},n=(e=new r).getElementForm(),a=Nr.getObject().make_link_to_text,e.setTitle(lt.getMessage("menu_setting_make_link_to_text")),i=new R(new C(n).getElement(),lt.getMessage("menu_setting_make_link_to_text_script")).getElement(),(t=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.script,t)}),e.update(),We()},new B(n),e.attachDefineData(a),e.setDefineAssetName("make_link_to_text"),e.setFunctionForNewData(Oe),e.onselect=function(e){var n=be(a[e]);n&&t.setScriptObject(n.script)},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_MAKE_LINK_TO_TEXT)}}function f(){var e,t,n,a,i,o=this;o.select=function(t){e.select(t)},o.selectFromIdList=function(t){e.selectFromIdList(t)},o.replaceHistory=function(){e.replaceHistory()},n=(e=new r).getElementForm(),a=Nr.getObject().expand_short_url,e.setTitle(lt.getMessage("menu_setting_expand_short_url")),i=new R(new C(n).getElement(),lt.getMessage("menu_setting_expand_short_url_filter_url")).getElement(),(t=new xe(i)).onchange=function(t){e.getSelectedDefinitions(function(e){e.filter=no(t)}),e.update(),We()},new B(n),e.attachDefineData(a),e.setDefineAssetName("expand_short_url"),e.setFunctionForNewData(De),e.onselect=function(e){var n=be(a[e]);n&&t.attachObject(n.filter)},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_EXPAND_SHORT_URL)}}function h(){var e,t,n,a,i,o,s,l,c=this;c.select=function(t){e.select(t)},c.selectFromIdList=function(t){e.selectFromIdList(t)},c.replaceHistory=function(){e.replaceHistory()},t=(e=new r).getElementForm(),n=Nr.getObject().expand_text,e.setTitle(lt.getMessage("menu_setting_expand_text")),new N(t,lt.getMessage("menu_setting_expand_text_inline")),i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_expand_text_inline_check_box_container")).getElement(),(o=new Q(i,lt.getMessage("menu_setting_expand_text_inline_disable_same_text"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.inline.disable_same_text=t}),e.update(),We()},i=new R(a,lt.getMessage("menu_setting_expand_text_inline_script_allow")).getElement(),(s=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.inline.script_allow,t)}),e.update(),We()},i=new R(a,lt.getMessage("menu_setting_expand_text_inline_script_insert")).getElement(),(l=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.inline.script_insert,t)}),e.update(),We()},new B(t),e.attachDefineData(n),e.setDefineAssetName("expand_text"),e.setFunctionForNewData(je),e.onselect=function(e){var t=be(n[e]);t&&(o.setValue(t.inline.disable_same_text),s.setScriptObject(t.inline.script_allow),l.setScriptObject(t.inline.script_insert))},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_EXPAND_TEXT)}}function x(){var e,t,n,a,i,o,s=this;s.select=function(t){e.select(t)},s.selectFromIdList=function(t){e.selectFromIdList(t)},s.replaceHistory=function(){e.replaceHistory()},function(){function s(){var e=be(c[o]);e&&(t.setVisible(e.thumbnail.enable_thumbnail),n.setVisible(e.thumbnail.enable_thumbnail||e.popup.enable_popup_mouseover||e.reduced_image.enable_popup),a.setVisible(e.reduced_image.enable_popup))}var l,c,_,u,p,d,m,g,f,h,x,b,v,w,y,E,k,A,T,S,M,L,O,D,j,z,P,U,V,W,Z,Y;l=(e=new r).getElementForm(),c=Nr.getObject().expand_image,e.setTitle(lt.getMessage("menu_setting_expand_image")),new N(l,lt.getMessage("menu_setting_expand_image_reduced_image")),u=new R(_=new C(l).getElement(),lt.getMessage("menu_setting_expand_image_reduced_image_check_box_container")).getElement(),(p=new Q(u,lt.getMessage("menu_setting_expand_image_popup_enable_popup"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.reduced_image.enable_popup=t}),s(),e.update(),We()},(a=new I(_)).setVisible(!1),u=new R(a.getElement(),lt.getMessage("menu_setting_expand_image_reduced_image_allow_slcale_less_then")).getElement(),(d=new ie(u)).setMinimum(0),d.setMaximum(100),d.oninput=function(t){e.getSelectedDefinitions(function(e){e.reduced_image.popup_allow_slcale_less_then=t}),e.update(),We()},new G(u,lt.getMessage("menu_setting_expand_image_reduced_image_allow_slcale_less_then_text")),new B(l),new N(l,lt.getMessage("menu_setting_expand_image_thumbnail")),u=new R(_=new C(l).getElement(),lt.getMessage("menu_setting_expand_image_thumbnail_enable_check_box_container")).getElement(),(m=new Q(u,lt.getMessage("menu_setting_expand_image_thumbnail_enable_thumbnail"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.thumbnail.enable_thumbnail=t}),s(),e.update(),We()},(t=new I(_)).setVisible(!1),u=new R(g=t.getElement(),lt.getMessage("menu_setting_expand_image_thumbnail_check_box_container")).getElement(),(f=new Q(u,lt.getMessage("menu_setting_expand_image_thumbnail_enable_popup_mouseover"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.thumbnail.enable_popup_mouseover=t}),e.update(),We()},(h=new Q(u,lt.getMessage("menu_setting_expand_image_thumbnail_disable_same_thumbnail_image"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.thumbnail.disable_same_image=t}),e.update(),We()},new F(u=new R(g,lt.getMessage("menu_setting_expand_image_thumbnail_size")).getElement(),lt.getMessage("menu_setting_expand_image_thumbnail_size_min")),(x=new ie(u)).setMinimum(0),x.setMaximum(9999999),x.oninput=function(t){e.getSelectedDefinitions(function(e){e.thumbnail.width_min=t}),e.update(),We()},new H(u),new F(u,lt.getMessage("menu_setting_expand_image_thumbnail_size_scale")),(b=new ie(u)).setMinimum(0),b.setMaximum(9999999),b.oninput=function(t){e.getSelectedDefinitions(function(e){e.thumbnail.scale_percent=t}),e.update(),We()},new H(u),new F(u,lt.getMessage("menu_setting_expand_image_thumbnail_size_max")),(v=new ie(u)).setMinimum(0),v.setMaximum(9999999),v.oninput=function(t){e.getSelectedDefinitions(function(e){e.thumbnail.width_max=t}),e.update(),We()},u=new R(g,lt.getMessage("menu_setting_expand_image_load_start_type")).getElement(),(w=new ce(u)).attachItem(lt.getMessage("menu_setting_expand_image_load_start_type_preload"),"preload"),w.attachItem(lt.getMessage("menu_setting_expand_image_load_start_type_scroll"),"scroll"),w.onchange=function(t){e.getSelectedDefinitions(function(e){e.thumbnail.load_type=t}),e.update(),We()},u=new R(g,lt.getMessage("menu_setting_expand_image_thumbnail_script_allow")).getElement(),(y=new ne(u)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.thumbnail.script_allow,t)}),e.update(),We()},u=new R(g,lt.getMessage("menu_setting_expand_image_thumbnail_script_insert")).getElement(),(E=new ne(u)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.thumbnail.script_insert,t)}),e.update(),We()},new B(l),new N(l,lt.getMessage("menu_setting_expand_image_popup")),u=new R(_=new C(l).getElement(),lt.getMessage("menu_setting_expand_image_popup_enable_check_box_container")).getElement(),(k=new Q(u,lt.getMessage("menu_setting_expand_image_popup_enable_popup_mouseover"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.popup.enable_popup_mouseover=t}),s(),e.update(),We()},(n=new I(_)).setVisible(!1),u=new R(A=n.getElement(),lt.getMessage("menu_setting_expand_image_popup_check_box_container")).getElement(),(T=new Q(u,lt.getMessage("menu_setting_expand_image_popup_enable_animation_scale"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.popup.enable_animation_scale=t}),e.update(),We()},(S=new Q(u,lt.getMessage("menu_setting_expand_image_popup_enable_animation_alpha"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.popup.enable_animation_alpha=t}),e.update(),We()},u=new R(A,lt.getMessage("menu_setting_expand_image_load_start_type")).getElement(),(M=new ce(u)).attachItem(lt.getMessage("menu_setting_expand_image_load_start_type_preload"),"preload"),M.attachItem(lt.getMessage("menu_setting_expand_image_load_start_type_scroll"),"scroll"),M.onchange=function(t){e.getSelectedDefinitions(function(e){e.popup.load_type=t}),e.update(),We()},u=new R(A,lt.getMessage("menu_setting_expand_image_popup_origin_type")).getElement(),(L=new ce(u)).attachItem(lt.getMessage("menu_setting_expand_image_popup_origin_type_combo_box_item_center"),"center"),L.attachItem(lt.getMessage("menu_setting_expand_image_popup_origin_type_combo_box_item_upper_left"),"upper_left"),L.attachItem(lt.getMessage("menu_setting_expand_image_popup_origin_type_combo_box_item_upper_right"),"upper_right"),L.attachItem(lt.getMessage("menu_setting_expand_image_popup_origin_type_combo_box_item_client_center"),"client_center"),L.attachItem(lt.getMessage("menu_setting_expand_image_popup_origin_type_combo_box_item_adsorb_element"),"adsorb_element"),L.attachItem(lt.getMessage("menu_setting_expand_image_popup_origin_type_combo_box_item_adsorb_mouse"),"adsorb_mouse"),L.onchange=function(t){e.getSelectedDefinitions(function(e){e.popup.origin_type=t}),e.update(),We()},u=new R(A,lt.getMessage("menu_setting_expand_image_popup_position_type")).getElement(),(O=new ce(u)).attachItem(lt.getMessage("menu_setting_expand_image_popup_position_type_combo_box_item_absolute"),"absolute"),O.attachItem(lt.getMessage("menu_setting_expand_image_popup_position_type_combo_box_item_fixed"),"fixed"),O.onchange=function(t){e.getSelectedDefinitions(function(e){e.popup.position_type=t}),e.update(),We()},new F(u=new R(A,lt.getMessage("menu_setting_expand_image_popup_size")).getElement(),lt.getMessage("menu_setting_expand_image_popup_size_scale")),(D=new ie(u)).setMinimum(0),D.setMaximum(9999999),D.oninput=function(t){e.getSelectedDefinitions(function(e){e.popup.scale_percent=t}),e.update(),We()},new F(u=new R(A,lt.getMessage("menu_setting_expand_image_popup_time")).getElement(),lt.getMessage("menu_setting_expand_image_popup_time_wait_open")),(j=new ie(u)).setMinimum(0),j.setMaximum(9999999),j.oninput=function(t){e.getSelectedDefinitions(function(e){e.popup.time_wait_open=t}),e.update(),We()},new H(u),new F(u,lt.getMessage("menu_setting_expand_image_popup_time_wait_close")),(z=new ie(u)).setMinimum(0),z.setMaximum(9999999),z.oninput=function(t){e.getSelectedDefinitions(function(e){e.popup.time_wait_close=t}),e.update(),We()},u=new R(A,lt.getMessage("menu_setting_expand_image_popup_script_allow")).getElement(),(P=new ne(u)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.popup.script_allow,t)}),e.update(),We()},new B(l),new N(l,lt.getMessage("menu_setting_expand_image_load")),u=new R(_=new C(l).getElement(),lt.getMessage("menu_setting_expand_image_load_check_box_container")).getElement(),(U=new Q(u,lt.getMessage("menu_setting_expand_image_load_enable_notify"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.load.enable_notify=t}),e.update(),We()},u=new R(_,lt.getMessage("menu_setting_expand_image_load_src_type")).getElement(),(V=new ce(u)).attachItem(lt.getMessage("menu_setting_expand_image_load_src_type_combo_box_item_url"),"url"),V.attachItem(lt.getMessage("menu_setting_expand_image_load_src_type_combo_box_item_blob_url"),"blob_url"),V.onchange=function(t){e.getSelectedDefinitions(function(e){e.load.src_type=t}),e.update(),We()},u=new R(_,lt.getMessage("menu_setting_expand_image_load_decode")).getElement(),(W=new ce(u)).attachItem(lt.getMessage("menu_setting_expand_image_load_decode_combo_box_item_auto"),"auto"),W.attachItem(lt.getMessage("menu_setting_expand_image_load_decode_combo_box_item_pre_decode"),"pre-decode"),W.onchange=function(t){e.getSelectedDefinitions(function(e){e.load.decode=t}),e.update(),We()},u=new R(_,lt.getMessage("menu_setting_expand_image_load_unload_check_box_container")).getElement(),(Z=new Q(u,lt.getMessage("menu_setting_expand_image_load_enable_unload"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.load.enable_unload=t}),i.setVisible(t),e.update(),We()},(i=new I(_)).setVisible(!1),u=new R(i.getElement(),lt.getMessage("menu_setting_expand_image_load_unload")).getElement(),(Y=new ie(u)).setMinimum(0),Y.setMaximum(99999),Y.oninput=function(t){e.getSelectedDefinitions(function(e){e.load.unload_allow_size_more_then=t}),e.update(),We()},new G(u,lt.getMessage("menu_setting_expand_image_load_allow_unload_more_then_text")),new B(l),e.attachDefineData(c),e.setDefineAssetName("expand_image"),e.setFunctionForNewData(ze),e.onselect=function(e){var t=be(c[e]);t&&(m.setValue(t.thumbnail.enable_thumbnail),f.setValue(t.thumbnail.enable_popup_mouseover),h.setValue(t.thumbnail.disable_same_image),x.setValue(t.thumbnail.width_min),b.setValue(t.thumbnail.scale_percent),v.setValue(t.thumbnail.width_max),w.setValue(t.thumbnail.load_type),y.setScriptObject(t.thumbnail.script_allow),E.setScriptObject(t.thumbnail.script_insert),k.setValue(t.popup.enable_popup_mouseover),T.setValue(t.popup.enable_animation_scale),S.setValue(t.popup.enable_animation_alpha),M.setValue(t.popup.load_type),L.setValue(t.popup.origin_type),O.setValue(t.popup.position_type),D.setValue(t.popup.scale_percent),j.setValue(t.popup.time_wait_open),z.setValue(t.popup.time_wait_close),P.setScriptObject(t.popup.script_allow),p.setValue(t.reduced_image.enable_popup),d.setValue(t.reduced_image.popup_allow_slcale_less_then),U.setValue(t.load.enable_notify),V.setValue(t.load.src_type),W.setValue(t.load.decode),Z.setValue(t.load.enable_unload),i.setVisible(t.load.enable_unload),Y.setValue(t.load.unload_allow_size_more_then),o=e,s())},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_EXPAND_IMAGE)}}()}function b(){var e,t,n,a,i,o,s,l,c,_,u,p,d,m=this;m.select=function(t){e.select(t)},m.selectFromIdList=function(t){e.selectFromIdList(t)},m.replaceHistory=function(){e.replaceHistory()},t=(e=new r).getElementForm(),n=Nr.getObject().expand_sound,e.setTitle(lt.getMessage("menu_setting_expand_sound")),new N(t,lt.getMessage("menu_setting_expand_sound_inline")),i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_expand_sound_inline_check_box_container")).getElement(),(o=new Q(i,lt.getMessage("menu_setting_expand_sound_inline_disable_same_text"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.inline.disable_same_audio=t}),e.update(),We()},i=new R(a,lt.getMessage("menu_setting_expand_sound_inline_sound_max")).getElement(),(s=new ie(i)).setMinimum(1),s.setMaximum(99999),s.oninput=function(t){e.getSelectedDefinitions(function(e){e.inline.sound_max=t}),e.update(),We()},i=new R(a,lt.getMessage("menu_setting_expand_sound_inline_script_allow")).getElement(),(l=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.inline.script_allow,t)}),e.update(),We()},i=new R(a,lt.getMessage("menu_setting_expand_sound_inline_script_insert")).getElement(),(c=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.inline.script_insert,t)}),e.update(),We()},new B(t),new N(t,lt.getMessage("menu_setting_expand_sound_inline_element")),i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_expand_sound_inline_element_script_allow")).getElement(),(_=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.audio_element.script_allow,t)}),e.update(),We()},i=new R(a,lt.getMessage("menu_setting_expand_sound_inline_element_src_type")).getElement(),(u=new ce(i)).attachItem(lt.getMessage("menu_setting_expand_sound_inline_element_src_type_combo_box_item_url"),"url"),u.attachItem(lt.getMessage("menu_setting_expand_sound_inline_element_src_type_combo_box_item_blob_url"),"blob_url"),u.onchange=function(t){e.getSelectedDefinitions(function(e){e.audio_element.src_type=t}),e.update(),We()},new B(t),new N(t,lt.getMessage("menu_setting_expand_sound_inline_soundcloud")),i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_expand_sound_inline_soundcloud_check_box_container")).getElement(),(p=new Q(i,lt.getMessage("menu_setting_expand_sound_inline_soundcloud_visible_player_html5"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.soundcloud.visible_player_html5=t}),e.update(),We()},new B(t),new N(t,lt.getMessage("menu_setting_expand_sound_inline_mixcloud")),i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_expand_sound_inline_mixcloud_check_box_container")).getElement(),(d=new Q(i,lt.getMessage("menu_setting_expand_sound_inline_mixcloud_visible_player"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.mixcloud.visible_player=t}),e.update(),We()},new B(t),e.attachDefineData(n),e.setDefineAssetName("expand_sound"),e.setFunctionForNewData(Pe),e.onselect=function(e){var t=be(n[e]);t&&(o.setValue(t.inline.disable_same_audio),s.setValue(t.inline.sound_max),l.setScriptObject(t.inline.script_allow),c.setScriptObject(t.inline.script_insert),_.setScriptObject(t.audio_element.script_allow),u.setValue(t.audio_element.src_type),p.setValue(t.soundcloud.visible_player_html5),d.setValue(t.mixcloud.visible_player))},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_EXPAND_SOUND)}}function v(){var e,t,n,a,i,o,s,l,c,_,u,p,d,m,g,f,h,x=this;x.select=function(t){e.select(t)},x.selectFromIdList=function(t){e.selectFromIdList(t)},x.replaceHistory=function(){e.replaceHistory()},t=(e=new r).getElementForm(),n=Nr.getObject().expand_video,e.setTitle(lt.getMessage("menu_setting_expand_video")),new N(t,lt.getMessage("menu_setting_expand_video_inline")),i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_expand_video_inline_check_box_container")).getElement(),(o=new Q(i,lt.getMessage("menu_setting_expand_video_inline_disable_same_video"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.inline.disable_same_video=t}),e.update(),We()},i=new R(a,lt.getMessage("menu_setting_expand_video_inline_video_max")).getElement(),(s=new ie(i)).setMinimum(1),s.setMaximum(99999),s.oninput=function(t){e.getSelectedDefinitions(function(e){e.inline.video_max=t}),e.update(),We()},new F(i=new R(a,lt.getMessage("menu_setting_expand_video_inline_size")).getElement(),lt.getMessage("menu_setting_expand_video_inline_width_max")),(l=new ie(i)).setMinimum(100),l.setMaximum(9999999),l.oninput=function(t){e.getSelectedDefinitions(function(e){e.inline.width_max=t}),e.update(),We()},new H(i),new F(i,lt.getMessage("menu_setting_expand_video_inline_height_max")),(c=new ie(i)).setMinimum(100),c.setMaximum(9999999),c.oninput=function(t){e.getSelectedDefinitions(function(e){e.inline.height_max=t}),e.update(),We()},i=new R(a,lt.getMessage("menu_setting_expand_video_inline_script_allow")).getElement(),(_=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.inline.script_allow,t)}),e.update(),We()},i=new R(a,lt.getMessage("menu_setting_expand_video_inline_script_insert")).getElement(),(u=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.inline.script_insert,t)}),e.update(),We()},new B(t),new N(t,lt.getMessage("menu_setting_expand_video_inline_element")),i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_expand_video_inline_element_script_allow")).getElement(),(p=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.video_element.script_allow,t)}),e.update(),We()},i=new R(a,lt.getMessage("menu_setting_expand_video_inline_element_src_type")).getElement(),(d=new ce(i)).attachItem(lt.getMessage("menu_setting_expand_video_inline_element_src_type_combo_box_item_url"),"url"),d.attachItem(lt.getMessage("menu_setting_expand_video_inline_element_src_type_combo_box_item_blob_url"),"blob_url"),d.onchange=function(t){e.getSelectedDefinitions(function(e){e.video_element.src_type=t}),e.update(),We()},new B(t),new N(t,lt.getMessage("menu_setting_expand_video_inline_youtube")),i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_expand_video_inline_youtube_check_box_container")).getElement(),(m=new Q(i,lt.getMessage("menu_setting_expand_video_inline_youtube_visible_video"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.youtube.visible_video=t}),e.update(),We()},new B(t),new N(t,lt.getMessage("menu_setting_expand_video_inline_nicovideo")),i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_expand_video_inline_nicovideo_check_box_container")).getElement(),(g=new Q(i,lt.getMessage("menu_setting_expand_video_inline_nicovideo_visible_video"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.nicovideo.visible_video=t}),e.update(),We()},new B(t),new N(t,lt.getMessage("menu_setting_expand_video_inline_dailymotion")),i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_expand_video_inline_dailymotion_check_box_container")).getElement(),(f=new Q(i,lt.getMessage("menu_setting_expand_video_inline_dailymotion_visible_video"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.dailymotion.visible_video=t}),e.update(),We()},new B(t),new N(t,lt.getMessage("menu_setting_expand_video_inline_video")),i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_expand_video_inline_video_check_box_container")).getElement(),(h=new Q(i,lt.getMessage("menu_setting_expand_video_inline_video_visible_video"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.vimeo.visible_video=t}),e.update(),We()},new B(t),e.attachDefineData(n),e.setDefineAssetName("expand_video"),e.setFunctionForNewData(Ue),e.onselect=function(e){var t=be(n[e]);t&&(o.setValue(t.inline.disable_same_video),s.setValue(t.inline.video_max),l.setValue(t.inline.width_max),c.setValue(t.inline.height_max),_.setScriptObject(t.inline.script_allow),u.setScriptObject(t.inline.script_insert),p.setScriptObject(t.video_element.script_allow),d.setValue(t.video_element.src_type),m.setValue(t.youtube.visible_video),g.setValue(t.nicovideo.visible_video),f.setValue(t.dailymotion.visible_video),h.setValue(t.vimeo.visible_video))},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_EXPAND_VIDEO)}}function w(){var e,t,n,a,i,o,s,l,c=this;c.select=function(t){e.select(t)},c.selectFromIdList=function(t){e.selectFromIdList(t)},c.replaceHistory=function(){e.replaceHistory()},t=(e=new r).getElementForm(),n=Nr.getObject().expand_iframe,e.setTitle(lt.getMessage("menu_setting_expand_iframe")),new N(t,lt.getMessage("menu_setting_expand_iframe_inline")),i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_expand_iframe_inline_check_box_container")).getElement(),(o=new Q(i,lt.getMessage("menu_setting_expand_iframe_inline_disable_same_iframe"))).onchange=function(t){e.getSelectedDefinitions(function(e){e.inline.disable_same_iframe=t}),e.update(),We()},i=new R(a,lt.getMessage("menu_setting_expand_iframe_inline_script_allow")).getElement(),(s=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.inline.script_allow,t)}),e.update(),We()},i=new R(a,lt.getMessage("menu_setting_expand_iframe_inline_script_insert")).getElement(),(l=new ne(i)).onchange=function(t){e.getSelectedDefinitions(function(e){at(e.inline.script_insert,t)}),e.update(),We()},new B(t),e.attachDefineData(n),e.setDefineAssetName("expand_iframe"),e.setFunctionForNewData(Ve),e.onselect=function(e){var t=be(n[e]);t&&(o.setValue(t.inline.disable_same_iframe),s.setScriptObject(t.inline.script_allow),l.setScriptObject(t.inline.script_insert))},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_EXPAND_IFRAME)}}function y(){var e,t,n,a,i,o,s,l,c,_,u,p,d,m,g,f,h,x,b,v,w,y,E,k=this;k.select=function(t){e.select(t)},k.selectFromIdList=function(t){e.selectFromIdList(t)},k.replaceHistory=function(){e.replaceHistory()},t=(e=new r).getElementForm(),n=Nr.getObject().style_sheet,e.setTitle(lt.getMessage("menu_setting_style_sheet")),new N(t,lt.getMessage("menu_setting_style_sheet_expand_text")),new F(i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_style_sheet_expand_text_element")).getElement(),lt.getMessage("menu_setting_style_sheet_expand_text_element_inline")),(o=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_text.inline=t}),e.update(),We()},new H(i),new F(i,lt.getMessage("menu_setting_style_sheet_expand_text_element_inline_unsafe")),(s=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_text.inline_unsafe=t}),e.update(),We()},new B(t),new N(t,lt.getMessage("menu_setting_style_sheet_expand_image")),new F(i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_style_sheet_expand_image_element")).getElement(),lt.getMessage("menu_setting_style_sheet_expand_image_element_inline")),(l=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_image.thumbnail=t}),e.update(),We()},new H(i),new F(i,lt.getMessage("menu_setting_style_sheet_expand_image_element_inline_unsafe")),(c=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_image.thumbnail_unsafe=t}),e.update(),We()},new H(i),new F(i,lt.getMessage("menu_setting_style_sheet_expand_image_element_popup")),(_=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_image.popup=t}),e.update(),We()},new H(i),new F(i,lt.getMessage("menu_setting_style_sheet_expand_image_element_popup_unsafe")),(u=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_image.popup_unsafe=t}),e.update(),We()},new B(t),new N(t,lt.getMessage("menu_setting_style_sheet_expand_sound")),new F(i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_style_sheet_expand_sound_element")).getElement(),lt.getMessage("menu_setting_style_sheet_expand_sound_element_inline_audio")),(p=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_sound.inline.audio_element.audio=t}),e.update(),We()},new H(i),new F(i,lt.getMessage("menu_setting_style_sheet_expand_sound_element_inline_audio_unsafe")),(d=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_sound.inline.audio_element.audio_unsafe=t}),e.update(),We()},new F(i=new R(a,lt.getMessage("menu_setting_style_sheet_expand_sound_soundcloud")).getElement(),lt.getMessage("menu_setting_style_sheet_expand_sound_soundcloud_inline_player_html5")),(m=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_sound.inline.soundcloud.player_html5=t}),e.update(),We()},new F(i=new R(a,lt.getMessage("menu_setting_style_sheet_expand_sound_mixcloud")).getElement(),lt.getMessage("menu_setting_style_sheet_expand_sound_mixcloud_inline_player")),(g=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_sound.inline.mixcloud.player=t}),e.update(),We()},new B(t),new N(t,lt.getMessage("menu_setting_style_sheet_expand_video")),new F(i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_style_sheet_expand_video_element")).getElement(),lt.getMessage("menu_setting_style_sheet_expand_video_element_inline_video")),(f=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_video.inline.video_element.video=t}),e.update(),We()},new H(i),new F(i,lt.getMessage("menu_setting_style_sheet_expand_video_element_inline_video_unsafe")),(h=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_video.inline.video_element.video_unsafe=t}),e.update(),We()},new F(i=new R(a,lt.getMessage("menu_setting_style_sheet_expand_video_youtube")).getElement(),lt.getMessage("menu_setting_style_sheet_expand_video_youtube_inline_video")),(x=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_video.inline.youtube.video=t}),e.update(),We()},new F(i=new R(a,lt.getMessage("menu_setting_style_sheet_expand_video_nicovideo")).getElement(),lt.getMessage("menu_setting_style_sheet_expand_video_nicovideo_inline_video")),(b=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_video.inline.nicovideo.video=t}),e.update(),We()},new F(i=new R(a,lt.getMessage("menu_setting_style_sheet_expand_video_dailymotion")).getElement(),lt.getMessage("menu_setting_style_sheet_expand_video_dailymotion_inline_video")),(v=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_video.inline.dailymotion.video=t}),e.update(),We()},new F(i=new R(a,lt.getMessage("menu_setting_style_sheet_expand_video_vimeo")).getElement(),lt.getMessage("menu_setting_style_sheet_expand_video_vimeo_inline_video")),(w=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_video.inline.vimeo.video=t}),e.update(),We()},new B(t),new N(t,lt.getMessage("menu_setting_style_sheet_expand_iframe")),new F(i=new R(a=new C(t).getElement(),lt.getMessage("menu_setting_style_sheet_expand_iframe_element")).getElement(),lt.getMessage("menu_setting_style_sheet_expand_iframe_element_inline")),(y=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_iframe.inline=t}),e.update(),We()},new H(i),new F(i,lt.getMessage("menu_setting_style_sheet_expand_iframe_element_inline_unsafe")),(E=new J(i)).oninput=function(t){e.getSelectedDefinitions(function(e){e.expand_iframe.inline_unsafe=t}),e.update(),We()},new B(t),e.attachDefineData(n),e.setDefineAssetName("style_sheet"),e.setFunctionForNewData(Be),e.onselect=function(e){var t=be(n[e]);t&&(o.setValue(t.expand_text.inline),s.setValue(t.expand_text.inline_unsafe),l.setValue(t.expand_image.thumbnail),c.setValue(t.expand_image.thumbnail_unsafe),_.setValue(t.expand_image.popup),u.setValue(t.expand_image.popup_unsafe),p.setValue(t.expand_sound.inline.audio_element.audio),d.setValue(t.expand_sound.inline.audio_element.audio_unsafe),m.setValue(t.expand_sound.inline.soundcloud.player_html5),g.setValue(t.expand_sound.inline.mixcloud.player),f.setValue(t.expand_video.inline.video_element.video),h.setValue(t.expand_video.inline.video_element.video_unsafe),x.setValue(t.expand_video.inline.youtube.video),b.setValue(t.expand_video.inline.nicovideo.video),v.setValue(t.expand_video.inline.dailymotion.video),w.setValue(t.expand_video.inline.vimeo.video),y.setValue(t.expand_iframe.inline),E.setValue(t.expand_iframe.inline_unsafe))},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_STYLE_SHEET)}}function E(){var e,t,n=this;n.select=function(t){e.select(t)},n.selectFromIdList=function(t){e.selectFromIdList(t)},n.replaceHistory=function(){e.replaceHistory()},(e=new r).getElementForm(),t=Nr.getObject().experimental,e.setTitle(lt.getMessage("menu_setting_experimental")),e.attachDefineData(t),e.setDefineAssetName("experimental"),e.setFunctionForNewData(He),e.onselect=function(e){be(t[e])},e.onreload=function(){gt.MenuItemSelect($.MENU_TYPE_SETTING_EXPERIMENTAL)}}function k(){var e,t;t=Nr.getObject().language,new L(st,lt.getMessage("menu_setting_language")),(e=new ce(new R(st,"Language").getElement())).attachItem("BROWSER LANGUAGE","auto"),e.attachItem("English","en"),e.attachItem("中文（简体中文）","zh"),e.attachItem("日本語","ja"),e.onchange=function(e){t.auto="auto"===e,t.auto||(t.code=e),We(),it(),gt.MenuItemSelect($.MENU_TYPE_SETTING_LANGUAGE)},t.auto?e.setValue("auto"):e.setValue(t.code)}function A(){!function(){new L(st,lt.getMessage("menu_credit"));var e,t,n=new R(st,lt.getMessage("menu_credit_info_version")),a=n.getElement();new W(a,"PageExpand ver.1.5.31"),a=(n=new R(st,lt.getMessage("menu_credit_info_copyright"))).getElement(),e=Is.createElement("table"),a.appendChild(e),new W((t=e.insertRow(-1)).insertCell(-1),"by"),new Y(t.insertCell(-1),"Hakuhin","https://hakuhin.jp/"),new W(t.insertCell(-1),"2010-2023"),new Y(a,"https://github.com/hakuhin/PageExpand","https://github.com/hakuhin/PageExpand"),a=(n=new R(st,lt.getMessage("menu_credit_info_translator"))).getElement(),e=Is.createElement("table"),a.appendChild(e),new W((t=e.insertRow(-1)).insertCell(-1),"中文（简体中文）"),new W(t.insertCell(-1),"by"),new Y(t.insertCell(-1),"weiq530","https://github.com/weiq530"),new W(t.insertCell(-1),"(ver.1.4.9)")}()}function R(e,t){var n,a;this.setAlpha=function(e){n.style.opacity=e},this.getElement=function(){return a},function(){if(Oo(n=yo("div"),"margin:0px 0px 20px; padding:10px; background:#fcfcfc; border-radius:10px; box-shadow:0px 0px 2px #ccc;"),e.appendChild(n),t){var i=yo("div");Oo(i,"padding:5px 0px 5px 20px; margin:0px 0px 10px; background:#666; font-size:16px; color:#fff; border-radius:10px; box-shadow:0px 1px 1px #000;"),fr(i,t),n.appendChild(i)}Oo(a=yo("div"),"margin:0px 10px 0px 10px;"),n.appendChild(a)}()}function T(e,t){var n,a,i,o=this;o.setWidth=function(e){n.style.width=e+"px"},o.setAlpha=function(e){n.style.opacity=e},o.setBackgroundColor=function(e){var t,n,i,o=e>>16&255,r=e>>8&255,s=255&e;o=Math.floor(.9*o),r=Math.floor(.9*r),s=Math.floor(.9*s),t=a.style,n="linear-gradient(right, #"+o.toString(16)+r.toString(16)+s.toString(16)+" 25px, #666 25px)",t.backgroundImage=n,(i={none:1,initial:1})[t.backgroundImage]&&(t.backgroundImage="-webkit-"+n),i[t.backgroundImage]&&(t.backgroundImage="-moz-"+n),i[t.backgroundImage]&&(t.backgroundImage="-ms-"+n),i[t.backgroundImage]&&(t.backgroundImage="-o-"+n)},o.getElement=function(){return i},Oo(n=yo("div"),"width:350px; margin:0px 5px 20px 0px; padding:10px; background:#fcfcfc; display:inline-table; vertical-align:top; border-radius:10px; box-shadow:0px 0px 2px #ccc;"),e.appendChild(n),t&&(Oo(a=yo("div"),"padding:5px 0px 5px 20px; margin:0px 0px 10px; background:#666; font-size:16px; color:#fff; border-radius:10px; box-shadow:0px 1px 1px #000;"),fr(a,t),n.appendChild(a)),Oo(i=yo("div"),"margin:0px 10px 0px 10px;"),n.appendChild(i)}function I(e){var t,n=this;n.setVisible=function(e){t.style.display=e?"":"none"},n.getElement=function(){return t},t=yo("form"),e.appendChild(t),n.setVisible(!0)}function C(e){var t;this.getElement=function(){return t},(t=yo("div")).style.cssText="padding-left:10px; padding-right:10px; border-left:20px #f4f4f4 solid; border-right:20px #f4f4f4 solid;",e.appendChild(t)}function S(e){function t(){var e=lo(Ts),t=ho(Is),n=jo(a),o=n.right-n.left,r=n.bottom-n.top;a.style.left=t.width/2-o/2+e.x+"px",t.height>r?(a.style.top=t.height/2-r/2+e.y+"px",i=!1):i||(a.style.top=e.y+"px",i=!0)}var n,a,i,o=this;o.setWidth=function(e){a.style.width=e+"px"},o.open=function(){var i=$r.createTask(null),o=0;e.appendChild(a),Ts.addEventListener?(Ts.addEventListener("scroll",t),Ts.addEventListener("resize",t)):Ts.attachEvent&&(Ts.attachEvent("onscroll",t),Ts.attachEvent("onresize",t)),t(),i.setExecuteFunc(function(){var e=!1;(o+=.2)>1&&(o=1,e=!0),n.style.opacity=.5*o,e&&i.release()}),i.execute(4294967295)},o.close=function(){var e=$r.createTask(null),i=1;rr(a),e.setExecuteFunc(function(){var t=!1;if((i-=.2)<0&&(i=0,t=!0),n.style.opacity=.5*i,t)return rr(n),o.oncomplete(),void e.release()}),e.execute(4294967295),Ts.removeEventListener?(Ts.removeEventListener("scroll",t),Ts.removeEventListener("resize",t)):Ts.detachEvent&&(Ts.detachEvent("onscroll",t),Ts.detachEvent("onresize",t))},o.getElement=function(){return a},o.oncomplete=function(){},Oo(n=yo("div"),"position:fixed; top:0px; bottom:0px; left:0px; right:0px; opacity:0.0; background:#000;"),e.appendChild(n),Oo(a=yo("div"),"position:absolute; width:800px; padding:10px 20px 5px; background:#00F; background-color:#FFF; border-radius:5px; box-shadow:5px 5px 10px #444;")}function M(e,t){var n,a,i,o,r=this;r.getElement=function(){return a},r.open=function(){n.open()},r.oncomplete=function(){},(n=new S(st)).setWidth(600),new L(i=n.getElement(),t),o=new R(i,null),a=o.getElement(),new le(i).onclick=function(){n.close(),r.oncomplete()}}function L(e,t){var n;this.setValue=function(e){fr(n,e)},Oo(n=yo("div"),"margin:0px 0px 10px; font-size:32px; text-align:right;"),fr(n,t),e.appendChild(n)}function N(e,t){var n;this.setValue=function(e){fr(n,e)},Oo(n=yo("div"),"margin:0px 0px 10px; font-size:24px; text-align:left;"),fr(n,t),e.appendChild(n)}function F(e,t){var n;this.setValue=function(e){fr(n,e)},Oo(n=yo("div"),"margin:0px 0px 3px; font-size:14px; line-height:1.0; text-align:left;"),fr(n,t),e.appendChild(n)}function B(e){var t;this.setHeight=function(e){t.style.height=e+"px"},Oo(t=yo("div"),"margin:0px; height:20px;"),e.appendChild(t)}function H(e){var t;Oo(t=yo("div"),"margin:0px; height:8px;"),e.appendChild(t)}function W(e,t){var n=yo("div");return Oo(n,"margin:0px 0px 3px; line-height:1.0; font-size:14px;"),fr(n,t),e.appendChild(n),n}function G(e,t){var n=yo("div");return Oo(n,"margin:0px 0px 3px; line-height:1.0; font-size:12px; color:#444;"),fr(n,t),e.appendChild(n),n}function Z(e,t){var n=yo("div");return Oo(n,"margin:0px 0px 3px 0px; line-height:1.0; font-size:11px; color:#aaa;"),fr(n,t),e.appendChild(n),n}function Y(e,t,n){var a,i=yo("div");return Oo(i,"margin:0px 0px 5px;"),(a=yo("a")).href=n,fr(a,t),i.appendChild(a),e.appendChild(i),i}function q(e){var t,n;this.addListItem=function(e){var n=yo("li");fr(n,e),t.appendChild(n)},Oo(n=yo("div"),"margin:0px 0px 5px 0px;"),e.appendChild(n),t=yo("ul"),n.appendChild(t)}function Q(e,t){var n,a,i,o,r=this;r.getValue=function(){return n.checked},r.setValue=function(e){n.checked=e},r.onchange=function(){},Oo(o=yo("div"),"margin:0px 0px 5px 0px;"),e.appendChild(o),Oo(a=yo("label"),"cursor:pointer; user-select:none; -webkit-user-select:none; -moz-user-select:none; -khtml-user-select:none;"),o.appendChild(a),Oo(n=yo("input"),"margin:0px 2px 0px 0px;"),n.type="checkbox",a.appendChild(n),n.onchange=function(){r.onchange(n.checked)},Oo(i=yo("span"),"font-size:14px;"),fr(i,":"+t),a.appendChild(i)}function X(e,t){var n,a,i,o,r=this;r.getValue=function(){return n.checked},r.setValue=function(e){n.checked=e},r.onchange=function(){},Oo(o=yo("span"),"margin:0px 10px 5px 0px;"),e.appendChild(o),Oo(a=yo("label"),"user-select:none; -webkit-user-select:none; -moz-user-select:none; -khtml-user-select:none;"),o.appendChild(a),Oo(n=yo("input"),"margin:0px 2px 0px 0px;"),n.type="checkbox",a.appendChild(n),n.onchange=function(){r.onchange(n.checked)},Oo(i=yo("span"),"font-size:14px;"),fr(i,":"+t),a.appendChild(i)}function K(e){var t,n;this.getValue=function(){return t.value},this.setValue=function(e){t.value=e},Oo(n=yo("div"),"margin:0px 8px 5px 0px;"),e.appendChild(n),(t=yo("input")).readOnly="readonly",Oo(t,"width:100%; padding:2px; background:#f8f8f8; color:#888;"),n.appendChild(t)}function J(e){var t,n,a=this;a.getValue=function(){return t.value},a.setValue=function(e){t.value=e},a.oninput=function(){},Oo(n=yo("div"),"margin:0px 8px 5px 0px;"),e.appendChild(n),Oo(t=yo("input"),"width:100%; padding:2px; background-color:#fff;"),n.appendChild(t),t.oninput=function(){a.oninput(t.value)}}function ee(e){function t(){return{pattern:r.value,flags:{i:_.getValue(),g:u.getValue()}}}function n(){a(),l||g.oninput(t())}function a(){try{new RegExp(r.value),i(!1)}catch(e){s.value=e,i(!0)}}function i(e){e?c.appendChild(s):l&&rr(s),l=e}var o,r,s,l,c,_,u,p,d,m,g=this;g.getValue=function(){return t()},g.getElement=function(){return o},g.setValue=function(e){r.value=e.pattern,_.setValue(e.flags.i),u.setValue(e.flags.g),a()},g.oninput=function(){},l=!1,o=yo("div"),e.appendChild(o),Oo(p=yo("div"),"margin:0px 0px 0px 0px; display:table; width:100%;"),o.appendChild(p),Oo(d=yo("div"),"display:table-cell; widht:auto; padding-right:8px;"),p.appendChild(d),Oo(r=yo("input"),"width:100%; padding:2px; background-color:#fff;"),d.appendChild(r),r.oninput=function(){n()},Oo(m=yo("div"),"display:table-cell; width:100px; padding-left:10px;"),p.appendChild(m),(u=new X(m,"g")).onchange=function(){n()},(_=new X(m,"i")).onchange=function(){n()},Oo(c=yo("div"),"margin:0px 8px 5px 0px;"),o.appendChild(c),(s=yo("input")).readOnly="readonly",Oo(s,"width:100%; font-size:12px; padding:2px; background:#f88;"),new Z(o,lt.getMessage("menu_text_regexp_hint"))}function te(e){var t,n,a=this;a.getValue=function(){return t.value},a.setValue=function(e){t.value=e},a.spiritByLine=function(){var e,n=t.value.replace(/\r\n?/g,"\n").split("\n");for(e=n.length-1;e>=0;e--)n[e]||n.splice(e,1);return n},a.joinArray=function(e,n){t.value=e.join(n)},a.oninput=function(){},Oo(n=yo("div"),"margin:0px 0px 5px 0px;"),e.appendChild(n),Oo(t=yo("textarea"),"width:100%; height:100px; box-sizing:border-box; display:block;"),n.appendChild(t),t.oninput=function(){a.oninput(t.value)}}function ne(e){function t(){s.onchange&&s.onchange(no(i))}function n(){var e,t=et(i);t?(o.setLabel(lt.getMessage("menu_script_obj_editer_delete_script")),e=ot(i),r.setValue(e)):o.setLabel(lt.getMessage("menu_script_obj_editer_edit_script")),r.setVisible(t)}var a,i,o,r,s=this;s.setScriptObject=function(e){i=no(e),n()},s.onchange=function(){},_visible=!1,Oo(a=yo("div"),"margin:0px 0px 0px 0px;"),e.appendChild(a),(o=new re(a,"")).onclick=function(){if(et(i))tt(i);else{var e=ot(i);nt(i,e)}n(),t()},(r=new ae(a)).oninput=function(e){nt(i,e),t()}}function ae(e){function t(e){e?n.appendChild(i):r&&rr(i),r=e}var n,a,i,o,r,s=this;s.getValue=function(){return a.value},s.setValue=function(e){a.value=e},s.oninput=function(){},s.setVisible=function(e){n.style.display=e?"":"none"},function(){r=!1,n=yo("div"),Oo(n,"margin:0px 0px 5px 0px;"),e.appendChild(n),a=yo("textarea"),Oo(a,"width:100%; height:300px; box-sizing:border-box; display:block; background-color:#fff; margin-bottom:5px;"),n.appendChild(a),a.oninput=function(){try{(function(){eval("[function(){"+a.value+"}]")})(),t(!1),s.oninput(a.value)}catch(e){o.value=e,t(!0)}},i=yo("div"),Oo(i,"margin:0px 0px 5px 0px;"),o=yo("input"),o.readOnly="readonly",Oo(o,"width:100%; box-sizing:border-box; display:block; font-size:12px; padding:2px; background:#f88;"),i.appendChild(o),new Z(n,lt.getMessage("menu_scriptarea_hint"))}()}function ie(e){function t(e){r.oninput&&r.oninput(e)}var n,a,i,o,r=this;r.getValue=function(){var e=parseInt(n.value);return isNaN(e)&&(e=0),e<a&&(e=a),e>i&&(e=i),e},r.setValue=function(e){isNaN(e)&&(e=0),e<a&&(e=a),e>i&&(e=i),n.value=e},r.setMinimum=function(e){a=e,n.min=e},r.setMaximum=function(e){i=e,n.max=e},r.oninput=function(){},Oo(o=yo("div"),"margin:0px 8px 5px 0px;"),e.appendChild(o),(n=yo("input")).type="number",Oo(n,"width:auto; min-width:200px; padding:2px; background-color:#fff;"),o.appendChild(n),n.oninput=function(){t(r.getValue())},n.onchange=function(){var e=r.getValue();r.setValue(e),t(e)},r.setMinimum(-2147483648),r.setMaximum(2147483647)}function oe(e,t){var n,a,i=this;i.setLabel=function(e){n.value=e},i.onclick=function(){},Oo(a=yo("div"),"margin:0px -1px 5px 0px;"),e.appendChild(a),Oo(n=yo("input"),"width:100%; padding:20px 0px;"),n.type="button",n.value=t,a.appendChild(n),n.onclick=function(){i.onclick()}}function re(e,t){var n,a=this;a.setLabel=function(e){n.value=e},a.onclick=function(){},Oo(n=yo("input"),"padding:4px 10px; margin:0px 2px 5px 0px; box-sizing:border-box;"),n.type="button",n.value=t,e.appendChild(n),n.onclick=function(){a.onclick()}}function se(e){var t=this;t.onclick=function(){},function(){function n(e){a.disabled=!0,i.disabled=!0,t.onclick(e)}var a,i,o=yo("div");Oo(o,"margin:0px 0px 5px 0px; text-align:center;"),e.appendChild(o),Oo(a=yo("input"),"padding:10px; width:200px; box-sizing:border-box;"),a.type="button",a.value=lt.getMessage("menu_button_yes"),o.appendChild(a),a.onclick=function(){n(!0)},Oo(i=yo("input"),"padding:10px; width:200px; box-sizing:border-box;"),i.type="button",i.value=lt.getMessage("menu_button_no"),o.appendChild(i),i.onclick=function(){n(!1)}}()}function le(e){var t,n,a=this;a.onclick=function(){},a.setEnable=function(e){t.disabled=!e},Oo(n=yo("div"),"margin:0px 0px 5px 0px; text-align:center;"),e.appendChild(n),Oo(t=yo("input"),"padding:10px; width:200px; box-sizing:border-box;"),t.type="button",t.value=lt.getMessage("menu_button_ok"),n.appendChild(t),t.onclick=function(){a.setEnable(!1),a.onclick()}}function ce(e){var t,n,a=this;a.attachItem=function(e,n){var a=yo("option");Oo(a,"margin:2px 0px;"),fr(a,e),a.value=n,t.appendChild(a)},a.getValue=function(){return t.value},a.setValue=function(e){t.value=e},a.onchange=function(){},Oo(n=yo("div"),"margin:0px 0px 5px 0px;"),e.appendChild(n),Oo(t=yo("select"),"width:auto; min-width:200px; height:22px; font-size:14px; box-sizing:border-box; display:block;"),n.appendChild(t),t.onchange=function(){a.onchange(t.value)}}function _e(e){var t,n,a=this;a.attachItem=function(e,n){var a=yo("option");Oo(a,"margin:2px 0px;"),fr(a,e),a.value=n,t.appendChild(a)},a.getValue=function(){return t.value},a.setValue=function(e){t.value=e},a.setEnable=function(e){t.disabled=!e},a.setMultiple=function(e){t.multiple=e},a.setListSize=function(e){t.size=e},a.getSelectedValues=function(){var e,n,a=new Array,i=t.options,o=i.length;for(e=0;e<o;e++)(n=i[e]).selected&&a.push(n.value);return a},a.onchange=function(){},Oo(n=yo("div"),"margin:0px 0px 5px 0px;"),e.appendChild(n),(t=yo("select")).size=10,Oo(t,"width:100%; box-sizing:border-box; display:block; font-size:14px; background:#fff;"),n.appendChild(t),t.onchange=function(){a.onchange(t.value)}}function ue(e){function t(t){var n=c.getElement();t>=0?(c.setValue(o[t]),e.appendChild(n)):rr(n),h.onselect(t)}function n(e){var t=yo("option");Oo(t,"margin:2px 0px;"),t.value=e,r.appendChild(t),t.onmousedown=t.onmouseup=function(){l=e},a(t)}function a(e){var t=parseInt(e.value);fr(e,""+Xe(o[t]))}function i(e){rr(e)}var o,r,s,l,c,_,u,p,d,m,g,f,h=this;h.attachArray=function(e){var t,a;for(h.clear(),a=(o=no(e)).length,t=0;t<a;t++)n(t);h.select(-1)},h.clear=function(){var e,t=r.options;for(e=t.length-1;e>=0;e--)i(t[e])},h.update=function(){var e,t=r.options,n=t.length;for(e=0;e<n;e++)a(t[e])},h.getSelectedIndices=function(){var e,t=new Array,n=r.options,a=n.length;for(e=0;e<a;e++)n[e].selected&&t.push(e);return t},h.onchange=function(){},h.onselect=function(){},h.select=function(e){r.selectedIndex=e,t(e)},Oo(f=yo("div"),"margin:0px 0px 5px 0px; display:table; width:100%;"),e.appendChild(f),Oo(_=yo("div"),"display:table-cell; vertical-align:top; width:auto;"),f.appendChild(_),(r=yo("select")).size=8,r.multiple=!0,Oo(r,"width:100%; box-sizing:border-box; display:block; font-size:14px; background:#fff;"),_.appendChild(r),r.onchange=function(){s=r.selectedIndex;var e=r.options[l];void 0!==e&&e.selected&&(s=l),t(s)},Oo(u=yo("div"),"display:table-cell; vertical-align:top; width:150px;"),f.appendChild(u),(p=yo("input")).type="button",p.value=lt.getMessage("menu_regexp_list_button_add"),Oo(p,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(p),p.onclick=function(){!function(){o.push(Qe());var e=o.length-1;n(e),h.update(),h.select(e),h.onchange(o)}()},(d=yo("input")).type="button",d.value=lt.getMessage("menu_regexp_list_button_delete"),Oo(d,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(d),d.onclick=function(){!function(){var e,n,a=!1,s=r.options,l=s.length;for(e=l-1;e>=0;e--)(n=s[e]).selected&&(o.splice(e,1),i(n),a=!0);if(a){for(l=(s=r.options).length,e=0;e<l;e++)s[e].value=e;h.update(),t(r.selectedIndex),h.onchange(o)}}()},(m=yo("input")).type="button",m.value=lt.getMessage("menu_regexp_list_button_move_up"),Oo(m,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(m),m.onclick=function(){!function(){var e,t,n,a,i,s=!1,l=r.options,c=l.length;if(c&&!l[0].selected){for(t=1;t<c;t++)l[t].selected&&((e=(n=l[t]).previousSibling).selected=!0,n.selected=!1,a=t,e=o[i=t-1],o[i]=o[a],o[a]=e,s=!0);s&&(h.update(),h.onchange(o))}}()},(g=yo("input")).type="button",g.value=lt.getMessage("menu_regexp_list_button_move_down"),Oo(g,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(g),g.onclick=function(){!function(){var e,t,n,a,i,s=!1,l=r.options,c=l.length;if(c&&!l[c-1].selected){for(t=c-2;t>=0;t--)l[t].selected&&((e=(n=l[t]).nextSibling).selected=!0,n.selected=!1,a=t,e=o[i=t+1],o[i]=o[a],o[a]=e,s=!0);s&&(h.update(),h.onchange(o))}}()},(c=new ee(e)).oninput=function(e){var t,n=r.options,i=n.length;for(t=0;t<i;t++)n[t].selected&&(o[t]=no(e),a(n[t]));h.onchange(o)}}function pe(e,t){var n,a,i,o,r,s=this;s.attachItem=function(e,t){var a=yo("option");Oo(a,"margin:2px 0px;"),fr(a,e),a.value=t,n.appendChild(a)},s.clearItem=function(){var e,t=n.options;for(e=t.length-1;e>=0;e--)rr(t[e])},s.getSelectedIndex=function(){return n.selectedIndex},s.setValue=function(e){n.value=e},s.onclick=function(){},s.onchange=function(){},Oo(r=yo("div"),"margin:0px 0px 5px 0px; display:table; width:100%;"),e.appendChild(r),Oo(a=yo("div"),"display:table-cell; widht:auto;"),r.appendChild(a),Oo(n=yo("select"),"width:100%; height:22px; box-sizing:border-box; display:block; font-size:14px;"),a.appendChild(n),n.onchange=function(){s.onchange(n.value)},Oo(i=yo("div"),"display:table-cell; width:50px;"),r.appendChild(i),(o=yo("input")).type="button",Oo(o,"width:100%; padding:2px 0px;"),o.value=t,i.appendChild(o),o.onclick=function(){s.onclick()}}function de(e){function t(e){var t=yo("option");Oo(t,"margin:2px 0px;"),t.value=i[e].id,o[t.value]=i[e],r.appendChild(t),t.onmousedown=t.onmouseup=function(){l=e},n(t)}function n(e){var t=o[e.value];t.preset&&(e.style.color="#ccc"),t.user&&(e.style.color="#000"),fr(e,we(be(t).name))}function a(e){o[e.value],rr(e),delete o[e.value]}var i,o,r,s,l,c,_,u,p,d,m,g,f,h,x=this;x.attachExpandBbsData=function(e){var n,a;for(a=(i=e).length,n=0;n<a;n++)t(n)},x.clear=function(){var e,t=r.options;for(e=t.length-1;e>=0;e--)a(t[e])},x.update=function(){var e,t=r.options,a=t.length;for(e=0;e<a;e++)n(t[e])},x.getSelectedIndices=function(){var e,t=new Array,n=r.options,a=n.length;for(e=0;e<a;e++)n[e].selected&&t.push(e);return t},x.onchange=function(){},x.onselect=function(){},x.onreload=function(){},x.select=function(e){r.selectedIndex=s=l=e,x.onselect(e)},x.selectFromIdList=function(e){var t,n,a,o,l=new Object,c=i.length;for(t=0;t<c;t++)l[i[t].id]=t;for(void 0!==(n=l[e[(c=e.length)-1]])&&(r.selectedIndex=s=n),a=r.options,t=0;t<c;t++)void 0!==l[e[t]]&&(o=a[l[e[t]]])&&(o.selected=!0);void 0!==n&&x.onselect(n)},x.replaceHistory=function(){var e,t=new Array,n=x.getSelectedIndices(),a=n.length;for(e=0;e<a;e++)t.push(i[n[e]].id);i[s]&&t.push(i[s].id),_t.selected_defines=t,delete _t.selected_filters},o=new Object,Oo(c=yo("div"),"margin:0px 0px 5px 0px; display:table; width:100%;"),e.appendChild(c),Oo(_=yo("div"),"display:table-cell; vertical-align:top; width:auto;"),c.appendChild(_),(r=yo("select")).size=10,r.multiple=!0,Oo(r,"width:100%; box-sizing:border-box; display:block; font-size:14px; background:#fff;"),_.appendChild(r),r.onchange=function(){s=r.selectedIndex;var e=r.options[l];void 0!==e&&e.selected&&(s=l),x.onselect(s),x.replaceHistory()},Oo(u=yo("div"),"display:table-cell; vertical-align:top; width:150px;"),c.appendChild(u),(p=yo("input")).type="button",p.value=lt.getMessage("menu_setting_expand_bbs_button_add"),Oo(p,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(p),p.onclick=function(){!function(){var e,t,n,a,o=new S(st),r=o.getElement(),s=(new L(r,lt.getMessage("menu_setting_expand_bbs_add_dialog")),new R(r,lt.getMessage("menu_setting_expand_bbs_add_dialog_name"))),l=s.getElement(),c=new J(l);for(l=(s=new R(r,lt.getMessage("menu_setting_expand_bbs_add_dialog_copy_define"))).getElement(),e=new _e(l),n=i.length,t=0;t<n;t++)a=be(i[t]),e.attachItem(we(a.name),i[t].id);e.attachItem(lt.getMessage("menu_setting_expand_bbs_add_dialog_define_list_box_item_new"),""),e.setValue(""),new se(r).onclick=function(t){var n,a,r,s,l,_;if(t){for(n=new Object,r=i.length,a=0;a<r;a++)n[i[a].id]=i[a];for(a=0;n["user"+a];)a++;s="user"+a,n[e.getValue()]?((l=no(n[e.getValue()])).user||(l.user=l.preset),delete l.preset):l=Ee(),(_=be(l)).name=ve(),ye(_.name,c.getValue()),l.id=s,i.unshift(l),x.clear(),x.attachExpandBbsData(i),We(),x.select(0)}o.close()},o.open()}()},(d=yo("input")).type="button",d.value=lt.getMessage("menu_setting_expand_bbs_button_delete"),Oo(d,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(d),d.onclick=function(){!function(){var e,t,n,s=r.options;for(e=s.length-1;e>=0;e--)(t=s[e]).selected&&((n=o[t.value]).preset?delete n.user:(i.splice(e,1),a(t)));x.update(),x.onselect(r.selectedIndex),We()}()},(m=yo("input")).type="button",m.value=lt.getMessage("menu_setting_expand_bbs_button_prio_up"),Oo(m,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(m),m.onclick=function(){!function(){var e,t,n,a,o,s=r.options,l=s.length;if(l&&!s[0].selected){for(t=1;t<l;t++)s[t].selected&&(e=(n=s[t]).previousSibling,rr(n),r.insertBefore(n,e),a=t,e=i[o=t-1],i[o]=i[a],i[a]=e);x.update(),We()}}()},(g=yo("input")).type="button",g.value=lt.getMessage("menu_setting_expand_bbs_button_prio_down"),Oo(g,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(g),g.onclick=function(){!function(){var e,t,n,a,o,s=r.options,l=s.length;if(l&&!s[l-1].selected){for(t=l-2;t>=0;t--)s[t].selected&&(e=(n=s[t]).nextSibling,rr(n),r.insertBefore(n,e.nextSibling),a=t,e=i[o=t+1],i[o]=i[a],i[a]=e);x.update(),We()}}()},(f=yo("input")).type="button",f.value=lt.getMessage("menu_setting_expand_bbs_button_export"),Oo(f,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(f),f.onclick=function(){!function(){var e,t,n,a,o=Nr.getObject(),s=new Object,l=new Array,c=r.options,_=c.length;for(e=0;e<_;e++)c[e].selected&&l.push(no(i[e]));s.version=o.version,s.setting_export={type:"expand_bbs"},s.expand_bbs=l,s=P(s),new L(n=(t=new S(st)).getElement(),lt.getMessage("menu_setting_expand_bbs_export_dialog")),new te(a=new R(n,lt.getMessage("menu_setting_expand_bbs_export_dialog_export")).getElement()).setValue(si(s)),new Z(a,lt.getMessage("menu_setting_expand_bbs_export_dialog_export_hint")),new le(n).onclick=function(){t.close()},t.open()}()},(h=yo("input")).type="button",h.value=lt.getMessage("menu_setting_expand_bbs_button_import"),Oo(h,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(h),h.onclick=function(){!function(){var e,t=new S(st),n=t.getElement(),a=(new L(n,lt.getMessage("menu_setting_expand_bbs_import_dialog")),new R(n,lt.getMessage("menu_setting_expand_bbs_import_dialog_explanation"))),i=a.getElement(),o=new q(i);o.addListItem(lt.getMessage("menu_setting_expand_bbs_import_dialog_explanation_0")),o.addListItem(lt.getMessage("menu_setting_expand_bbs_import_dialog_explanation_1")),o.addListItem(lt.getMessage("menu_setting_expand_bbs_import_dialog_explanation_2")),i=(a=new R(n,lt.getMessage("menu_setting_expand_bbs_import_dialog_import"))).getElement(),e=new te(i),new Z(i,lt.getMessage("menu_setting_expand_bbs_import_dialog_import_hint")),new W(i=(a=new R(n,null)).getElement(),lt.getMessage("menu_setting_expand_bbs_import_dialog_confirm")),new se(n).onclick=function(a){function i(e){var a=new M(n,lt.getMessage("menu_setting_expand_bbs_import_alert"));new W(a.getElement(),lt.getMessage("menu_setting_expand_bbs_import_alert_failure")),new W(a.getElement(),e),a.oncomplete=function(){t.close()},a.open()}var o,r,s;if(a)try{if(o=Nr.getObject(),(r=li(e.getValue())).version>o.version)throw"Error: It is a version not supported.";s=!0;try{"expand_bbs"===r.setting_export.type&&(s=!1)}catch(e){}if(s)throw"Error: It is a type not supported.";O(o,r),Ze(function(a){if(a.result){e.setValue("");var o=new M(n,lt.getMessage("menu_setting_expand_bbs_import_alert"));new W(o.getElement(),lt.getMessage("menu_setting_expand_bbs_import_alert_success")),o.oncomplete=function(){t.oncomplete=function(){x.onreload()},t.close()},o.open()}else i(a.message)})}catch(e){i(e)}else t.close()},t.open()}()},new Z(e,lt.getMessage("menu_setting_expand_bbs_list_hint"))}function me(e){function t(e){var t=yo("option");Oo(t,"margin:2px 0px;"),t.value=i[e].id,o[t.value]=i[e],r.appendChild(t),t.onmousedown=t.onmouseup=function(){l=e},n(t)}function n(e){var t=o[e.value];t.preset&&(e.style.color="#ccc"),t.user&&(e.style.color="#000"),fr(e,we(be(t).name))}function a(e){o[e.value],rr(e),delete o[e.value]}var i,o,r,s,l,c,_,u,p,d,m,g,f=this;f.attachUrlMapData=function(e){var n,a;for(a=(i=e).length,n=0;n<a;n++)t(n)},f.clear=function(){var e,t=r.options;for(e=t.length-1;e>=0;e--)a(t[e])},f.update=function(){var e,t=r.options,a=t.length;for(e=0;e<a;e++)n(t[e])},f.getSelectedIndices=function(){var e,t=new Array,n=r.options,a=n.length;for(e=0;e<a;e++)n[e].selected&&t.push(e);return t},f.onchange=function(){},f.onselect=function(){},f.select=function(e){r.selectedIndex=e,f.onselect(e)},f.selectFromIdList=function(e){var t,n,a,o,l=new Object,c=i.length;for(t=0;t<c;t++)l[i[t].id]=t;for(void 0!==(n=l[e[(c=e.length)-1]])&&(r.selectedIndex=s=n),a=r.options,t=0;t<c;t++)void 0!==l[e[t]]&&(o=a[l[e[t]]])&&(o.selected=!0);void 0!==n&&f.onselect(n)},f.replaceHistory=function(){var e,t=new Array,n=f.getSelectedIndices(),a=n.length;for(e=0;e<a;e++)t.push(i[n[e]].id);i[s]&&t.push(i[s].id),_t.selected_defines=t,delete _t.selected_filters},o=new Object,Oo(c=yo("div"),"margin:0px 0px 5px 0px; display:table; width:100%;"),e.appendChild(c),Oo(_=yo("div"),"display:table-cell; vertical-align:top; width:auto;"),c.appendChild(_),(r=yo("select")).size=10,r.multiple=!0,Oo(r,"width:100%; box-sizing:border-box; display:block; font-size:14px; background:#fff;"),_.appendChild(r),r.onchange=function(){s=r.selectedIndex;var e=r.options[l];void 0!==e&&e.selected&&(s=l),f.onselect(s),f.replaceHistory()},Oo(u=yo("div"),"display:table-cell; vertical-align:top; width:150px;"),c.appendChild(u),(p=yo("input")).type="button",p.value=lt.getMessage("menu_setting_urlmap_button_add"),Oo(p,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(p),p.onclick=function(){!function(){var e,t,n,a,o=new S(st),r=o.getElement(),s=(new L(r,lt.getMessage("menu_setting_urlmap_add_dialog")),new R(r,lt.getMessage("menu_setting_urlmap_add_dialog_name"))),l=s.getElement(),c=new J(l);for(l=(s=new R(r,lt.getMessage("menu_setting_urlmap_add_dialog_copy_define"))).getElement(),e=new _e(l),n=i.length,t=0;t<n;t++)a=be(i[t]),e.attachItem(we(a.name),i[t].id);e.attachItem(lt.getMessage("menu_setting_urlmap_add_dialog_define_list_box_item_new"),""),e.setValue(""),new se(r).onclick=function(t){var n,a,r,s,l,_;if(t){for(n=new Object,r=i.length,a=0;a<r;a++)n[i[a].id]=i[a];for(a=0;n["user"+a];)a++;s="user"+a,n[e.getValue()]?((l=no(n[e.getValue()])).user||(l.user=l.preset),delete l.preset):l=ke(),(_=be(l)).name=ve(),ye(_.name,c.getValue()),l.id=s,i.unshift(l),f.clear(),f.attachUrlMapData(i),We(),f.select(0)}o.close()},o.open()}()},(d=yo("input")).type="button",d.value=lt.getMessage("menu_setting_urlmap_button_delete"),Oo(d,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(d),d.onclick=function(){!function(){var e,t,n,s=r.options;for(e=s.length-1;e>=0;e--)(t=s[e]).selected&&((n=o[t.value]).preset?delete n.user:(i.splice(e,1),a(t)));f.update(),f.onselect(r.selectedIndex),We()}()},(m=yo("input")).type="button",m.value=lt.getMessage("menu_setting_urlmap_button_prio_up"),Oo(m,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(m),m.onclick=function(){!function(){var e,t,n,a,o,s=r.options,l=s.length;if(l&&!s[0].selected){for(t=1;t<l;t++)s[t].selected&&(e=(n=s[t]).previousSibling,rr(n),r.insertBefore(n,e),a=t,e=i[o=t-1],i[o]=i[a],i[a]=e);f.update(),We()}}()},(g=yo("input")).type="button",g.value=lt.getMessage("menu_setting_urlmap_button_prio_down"),Oo(g,"width:100%; padding:4px 0px; margin:0px;"),u.appendChild(g),g.onclick=function(){!function(){var e,t,n,a,o,s=r.options,l=s.length;if(l&&!s[l-1].selected){for(t=l-2;t>=0;t--)s[t].selected&&(e=(n=s[t]).nextSibling,rr(n),r.insertBefore(n,e.nextSibling),a=t,e=i[o=t+1],i[o]=i[a],i[a]=e);f.update(),We()}}()},new Z(e,lt.getMessage("menu_setting_urlmap_list_hint"))}function ge(e){function t(e){var t=yo("option");Oo(t,"margin:2px 0px;"),t.value=i[e].id,s[t.value]=i[e],l.appendChild(t),t.onmousedown=t.onmouseup=function(){_=e},n(t)}function n(e){var t=s[e.value];t.preset&&(e.style.color="#ccc"),t.user&&(e.style.color="#000"),"wildcard"==t.id&&(t.preset&&(e.style.color="#f88"),t.user&&(e.style.color="#c00")),fr(e,we(be(t).name))}function a(e){s[e.value],rr(e),delete s[e.value]}var i,o,r,s,l,c,_,u,p,d,m,g,f,h,x,b,v=this;v.attachDefineData=function(e){var n,a;for(a=(i=e).length,n=0;n<a;n++)t(n)},v.setDefineAssetName=function(e){o=e},v.setFunctionForNewData=function(e){r=e},v.clear=function(){var e,t=l.options;for(e=t.length-1;e>=0;e--)a(t[e])},v.update=function(){var e,t=l.options,a=t.length;for(e=0;e<a;e++)n(t[e])},v.getSelectedIndex=function(){return c=l.selectedIndex},v.getSelectedIndices=function(){var e,t=new Array,n=l.options,a=n.length;for(e=0;e<a;e++)n[e].selected&&t.push(e);return t},v.onchange=function(){},v.onselect=function(){},v.onreload=function(){},v.select=function(e){l.selectedIndex=c=_=e,v.onselect(e)},v.selectFromIdList=function(e){var t,n,a,o,r=new Object,s=i.length;for(t=0;t<s;t++)r[i[t].id]=t;for(void 0!==(n=r[e[(s=e.length)-1]])&&(l.selectedIndex=c=n),a=l.options,t=0;t<s;t++)void 0!==r[e[t]]&&(o=a[r[e[t]]])&&(o.selected=!0);void 0!==n&&v.onselect(n)},v.replaceHistory=function(){var e,t=new Array,n=v.getSelectedIndices(),a=n.length;for(e=0;e<a;e++)t.push(i[n[e]].id);i[c]&&t.push(i[c].id),_t.selected_defines=t,delete _t.selected_filters},s=new Object,Oo(u=yo("div"),"margin:0px 0px 5px 0px; display:table; width:100%;"),e.appendChild(u),Oo(p=yo("div"),"display:table-cell; vertical-align:top; width:auto;"),u.appendChild(p),(l=yo("select")).size=10,l.multiple=!0,Oo(l,"width:100%; box-sizing:border-box; display:block; font-size:14px; background:#fff;"),p.appendChild(l),l.onchange=function(){c=l.selectedIndex;var e=l.options[_];void 0!==e&&e.selected&&(c=_),v.onselect(c),v.replaceHistory()},Oo(d=yo("div"),"display:table-cell; vertical-align:top; width:150px;"),u.appendChild(d),(m=yo("input")).type="button",m.value=lt.getMessage("menu_setting_define_button_add"),Oo(m,"width:100%; padding:4px 0px; margin:0px;"),d.appendChild(m),m.onclick=function(){!function(){var e,t,n,a,o=new S(st),s=o.getElement(),l=(new L(s,lt.getMessage("menu_setting_define_add_dialog")),new R(s,lt.getMessage("menu_setting_define_add_dialog_name"))),c=l.getElement(),_=new J(c);for(c=(l=new R(s,lt.getMessage("menu_setting_define_add_dialog_copy_define"))).getElement(),e=new _e(c),n=i.length,t=0;t<n;t++)a=be(i[t]),e.attachItem(we(a.name),i[t].id);e.attachItem(lt.getMessage("menu_setting_define_add_dialog_define_list_box_item_new"),""),e.setValue(""),new se(s).onclick=function(t){var n,a,s,l,c,u;if(t){for(n=new Object,s=i.length,a=0;a<s;a++)n[i[a].id]=i[a];for(a=0;n["user"+a];)a++;l="user"+a,n[e.getValue()]?((c=no(n[e.getValue()])).user||(c.user=c.preset),delete c.preset):c=r(),(u=be(c)).name=ve(),ye(u.name,_.getValue()),c.id=l,i.unshift(c),v.clear(),v.attachDefineData(i),We(),v.select(0)}o.close()},o.open()}()},(g=yo("input")).type="button",g.value=lt.getMessage("menu_setting_define_button_delete"),Oo(g,"width:100%; padding:4px 0px; margin:0px;"),d.appendChild(g),g.onclick=function(){var e,t,n;t=Nr.getObject().urlmap,n=new Array,function(){var e,t,a=l.options,i=a.length;for(e=0;e<i;e++)(t=a[e]).selected&&n.push({item:t,id:e})}(),e=new Array,function(){var t,a,o=new Object,r=n.length;for(t=0;t<r;t++)(a=s[n[t].item.value]).preset||(o[a.id]=a);for(r=i.length,t=0;t<r;t++)o[(a=i[t]).id]||e.push(a)}(),function r(){for(var c,_,u,p,d,m,g;;){if(!(c=n.pop()))return v.update(),v.onselect(l.selectedIndex),void We();if((_=s[c.item.value]).preset)delete _.user;else{if(u=new Array,function(){var e,n,a,i,r,s,l=t.length;for(e=0;e<l;e++)if((n=be(t[e]))&&(a=n[o]).enable)if(a.id&&"object"==typeof a.id){for(s=(i=a.id).length,r=0;r<s;r++)if(i[r]==_.id){u.push(t[e]);break}}else a.id==_.id&&u.push(t[e])}(),u.length)return new L(d=(p=new S(st)).getElement(),lt.getMessage("menu_setting_define_delete_dialog")),new K(new R(d,lt.getMessage("menu_setting_define_delete_dialog_name")).getElement()).setValue(we(_.user.name)),m=new R(d,lt.getMessage("menu_setting_define_delete_dialog_change_define")).getElement(),g=new _e(m),function(){var t,n,a=e.length;for(t=0;t<a;t++)n=be(e[t]),g.attachItem(we(n.name),e[t].id);g.attachItem(lt.getMessage("menu_setting_define_delete_dialog_define_list_box_item_no_use"),""),g.setValue("")}(),new se(d).onclick=function(e){var t,n,s,l,d,m;if(e){for(n=u.length,t=0;t<n;t++)if(s=u[t].user)if((l=s[o]).id&&"object"==typeof l.id){for(m=(d=l.id).length-1;m>=0;m--)d[m]==_.id&&(g.getValue()?d[m]=g.getValue():d.splice(m,1));d.length||(l.enable=!1)}else g.getValue()?(l.id=g.getValue(),l.enable=!0):(l.id="",l.enable=!1);i.splice(c.id,1),a(c.item),r()}p.close()},p.open(),v.update(),v.onselect(l.selectedIndex),void We();i.splice(c.id,1),a(c.item)}}}()},(f=yo("input")).type="button",f.value=lt.getMessage("menu_setting_define_button_move_up"),Oo(f,"width:100%; padding:4px 0px; margin:0px;"),d.appendChild(f),f.onclick=function(){!function(){var e,t,n,a,o,r=l.options,s=r.length;if(s&&!r[0].selected){for(t=1;t<s;t++)r[t].selected&&(e=(n=r[t]).previousSibling,rr(n),l.insertBefore(n,e),a=t,e=i[o=t-1],i[o]=i[a],i[a]=e);v.update(),We()}}()},(h=yo("input")).type="button",h.value=lt.getMessage("menu_setting_define_button_move_down"),Oo(h,"width:100%; padding:4px 0px; margin:0px;"),d.appendChild(h),h.onclick=function(){!function(){var e,t,n,a,o,r=l.options,s=r.length;if(s&&!r[s-1].selected){for(t=s-2;t>=0;t--)r[t].selected&&(e=(n=r[t]).nextSibling,rr(n),l.insertBefore(n,e.nextSibling),a=t,e=i[o=t+1],i[o]=i[a],i[a]=e);v.update(),We()}}()},(x=yo("input")).type="button",x.value=lt.getMessage("menu_setting_define_button_export"),Oo(x,"width:100%; padding:4px 0px; margin:0px;"),d.appendChild(x),x.onclick=function(){!function(){var e,t,n,a,r=Nr.getObject(),s=new Object,c=new Array,_=l.options,u=_.length;for(e=0;e<u;e++)_[e].selected&&c.push(no(i[e]));s.version=r.version,s.setting_export={type:"define",asset:o},s[o]=c,s=P(s),new L(n=(t=new S(st)).getElement(),lt.getMessage("menu_setting_define_export_dialog")),new te(a=new R(n,lt.getMessage("menu_setting_define_export_dialog_export")).getElement()).setValue(si(s)),new Z(a,lt.getMessage("menu_setting_define_export_dialog_export_hint")),new le(n).onclick=function(){t.close()},t.open()}()},(b=yo("input")).type="button",b.value=lt.getMessage("menu_setting_define_button_import"),Oo(b,"width:100%; padding:4px 0px; margin:0px;"),d.appendChild(b),b.onclick=function(){!function(){var e,t=new S(st),n=t.getElement(),a=(new L(n,lt.getMessage("menu_setting_define_import_dialog")),new R(n,lt.getMessage("menu_setting_define_import_dialog_explanation"))),i=a.getElement(),r=new q(i);r.addListItem(lt.getMessage("menu_setting_define_import_dialog_explanation_0")),r.addListItem(lt.getMessage("menu_setting_define_import_dialog_explanation_1")),r.addListItem(lt.getMessage("menu_setting_define_import_dialog_explanation_2")),i=(a=new R(n,lt.getMessage("menu_setting_define_import_dialog_import"))).getElement(),e=new te(i),new Z(i,lt.getMessage("menu_setting_define_import_dialog_import_hint")),new W(i=(a=new R(n,null)).getElement(),lt.getMessage("menu_setting_define_import_dialog_confirm")),new se(n).onclick=function(a){function i(e){var a=new M(n,lt.getMessage("menu_setting_define_import_alert"));new W(a.getElement(),lt.getMessage("menu_setting_define_import_alert_failure")),new W(a.getElement(),e),a.oncomplete=function(){t.close()},a.open()}var r,s,l;if(a)try{if(r=Nr.getObject(),(s=li(e.getValue())).version>r.version)throw"Error: It is a version not supported.";l=!0;try{switch(s.setting_export.type){case"setting":case"define":l=!1}}catch(e){}if(l)throw"Error: It is a type not supported.";D(r,s,o),Ze(function(a){if(a.result){e.setValue("");var o=new M(n,lt.getMessage("menu_setting_define_import_alert"));new W(o.getElement(),lt.getMessage("menu_setting_define_import_alert_success")),o.oncomplete=function(){t.oncomplete=function(){v.onreload()},t.close()},o.open()}else i(a.message)})}catch(e){i(e)}else t.close()},t.open()}()},new Z(e,lt.getMessage("menu_setting_define_list_hint"))}function fe(e){function t(){A.attachDefinitions(o,l)}function n(e){var t=yo("option");Oo(t,"margin:2px 0px;"),t.value=e,_.appendChild(t),t.onmousedown=t.onmouseup=function(){d=e},a(t)}function a(e){var t,n;e.style.color="#000",t=parseInt(e.value),c?(r<=t&&(e.style.color="#ccc"),(n=be(l).filter).length<=t?fr(e," *"):fr(e,we(n[t].name)+" *")):fr(e,we((n=be(l).filter)[t].name))}function i(e){rr(e)}var o,r,s,l,c,_,u,p,d,m,g,f,h,x,b,v,w,y,E,k,A=this;A.attachDefinitions=function(e,t){var a,i,_;for(A.clear(),l=t,c=!1,(o=e).length>1&&(c=!0),r=2147483647,s=0,i=o.length,a=0;a<i;a++)(_=be(o[a]).filter).length>s&&(s=_.length),_.length<r&&(r=_.length);for(a=0;a<s;a++)n(a)},A.getDefinitionActive=function(){return l},A.setDefineAssetName=function(e){u=e},A.setFunctionForNewDefineData=function(e){m=e},A.setFunctionForNewFilterData=function(e){g=e},A.clear=function(){var e,t=_.options;for(e=t.length-1;e>=0;e--)i(t[e])},A.update=function(){var e,t=_.options,n=t.length;for(e=0;e<n;e++)a(t[e])},A.writeDefinitions=function(e){var t,n,a,i=o.length;for(a=0;a<i;a++)(t=o[a]).user?n=t.user:t.preset&&(n=t.user=no(t.preset)),n&&e(n)},A.writeFilters=function(e){var t,n=A.getSelectedIndices(),a=n.length;A.writeDefinitions(function(i){var o=i.filter;for(t=0;t<a;t++)n[t]<o.length&&e(o[n[t]])})},A.getSelectedIndices=function(){var e,t=new Array,n=_.options,a=n.length;for(e=0;e<a;e++)n[e].selected&&t.push(e);return t},A.onchange=function(){},A.onselect=function(){},A.select=function(e){_.selectedIndex=p=d=e,A.onselect(e)},A.selectFromList=function(e){new Object;var t,n,a,i=e.length,r=e[i-1];for(void 0!==o[r]&&(_.selectedIndex=p=r),n=_.options,t=0;t<i;t++)(a=n[e[t]])&&(a.selected=!0);void 0!==r&&A.onselect(r)},A.replaceHistory=function(){var e,t=new Array,n=A.getSelectedIndices(),a=n.length;for(e=0;e<a;e++)t.push(n[e]);o[p]&&t.push(p),_t.selected_filters=t},Oo(k=yo("div"),"margin:0px 0px 5px 0px; display:table; width:100%;"),e.appendChild(k),Oo(f=yo("div"),"display:table-cell; vertical-align:top; width:auto;"),k.appendChild(f),(_=yo("select")).size=10,_.multiple=!0,Oo(_,"width:100%; box-sizing:border-box; display:block; font-size:14px; background:#fff;"),f.appendChild(_),_.onchange=function(){p=_.selectedIndex;var e=_.options[d];void 0!==e&&e.selected&&(p=d),A.onselect(p),A.replaceHistory()},Oo(h=yo("div"),"display:table-cell; vertical-align:top; width:150px;"),k.appendChild(h),(x=yo("input")).type="button",x.value=lt.getMessage("menu_setting_filter_button_add"),Oo(x,"width:100%; padding:4px 0px; margin:0px;"),h.appendChild(x),x.onclick=function(){!function(){var e,n,a,i,r,s,l,c,_,u=new S(st),p=u.getElement(),d=(new L(p,lt.getMessage("menu_setting_filter_add_dialog")),new R(p,lt.getMessage("menu_setting_filter_add_dialog_name"))),m=d.getElement(),f=new J(m);for(m=(d=new R(p,lt.getMessage("menu_setting_filter_add_dialog_copy_define"))).getElement(),e=new _e(m),n=new Object,a=0,s=o.length,i=0;i<s;i++)for(c=(l=be(o[i]).filter).length,r=0;r<c;r++)_=l[r],e.attachItem(we(_.name),a),n[a]=_,a++;e.attachItem(lt.getMessage("menu_setting_filter_add_dialog_define_list_box_item_new"),""),e.setValue(""),new se(p).onclick=function(a){if(a){var i=n[e.getValue()];i?A.writeDefinitions(function(e){var t=no(i);e.filter.unshift(t),t.name=ve(),ye(t.name,f.getValue())}):A.writeDefinitions(function(e){if(g){var t=g();e.filter.unshift(t),t.name=ve(),ye(t.name,f.getValue())}}),t(),We(),A.select(0),A.onchange()}u.close()},u.open()}()},(b=yo("input")).type="button",b.value=lt.getMessage("menu_setting_filter_button_delete"),Oo(b,"width:100%; padding:4px 0px; margin:0px;"),h.appendChild(b),b.onclick=function(){!function(){var e,n,a,o=_.options;for(e=o.length-1;e>=0;e--)(n=o[e]).selected&&(a=parseInt(n.value),A.writeDefinitions(function(e){var t=e.filter;t.length>a&&t.splice(a,1)}),i(n));t(),We(),A.onselect(_.selectedIndex),A.onchange()}()},(v=yo("input")).type="button",v.value=lt.getMessage("menu_setting_filter_button_prio_up"),Oo(v,"width:100%; padding:4px 0px; margin:0px;"),h.appendChild(v),v.onclick=function(){!function(){var e,t,n,a,i,o=_.options,s=o.length;if(s){for(t=r;t<s;t++)if(o[t].selected)return;if(!o[0].selected){for(t=1;t<s;t++)o[t].selected&&(n=o[t],(e=n.previousSibling).selected=!0,n.selected=!1,a=t,i=t-1,A.writeDefinitions(function(t){var n=t.filter;e=n[i],n[i]=n[a],n[a]=e}));A.update(),We(),A.onchange()}}}()},(w=yo("input")).type="button",w.value=lt.getMessage("menu_setting_filter_button_prio_down"),Oo(w,"width:100%; padding:4px 0px; margin:0px;"),h.appendChild(w),w.onclick=function(){!function(){var e,t,n,a,i,o=_.options,s=o.length;if(s){for(t=r;t<s;t++)if(o[t].selected)return;if(!o[r-1].selected){for(t=s-2;t>=0;t--)o[t].selected&&(n=o[t],(e=n.nextSibling).selected=!0,n.selected=!1,a=t,i=t+1,A.writeDefinitions(function(t){var n=t.filter;e=n[i],n[i]=n[a],n[a]=e}));A.update(),We(),A.onchange()}}}()},(y=yo("input")).type="button",y.value=lt.getMessage("menu_setting_filter_button_export"),Oo(y,"width:100%; padding:4px 0px; margin:0px;"),h.appendChild(y),y.onclick=function(){!function(){var e,t,n,a,i,r=Nr.getObject(),s=new Object,c=new Array,p=_.options,d=p.length,g=be(l).filter;for(e=0;e<d;e++)p[e].selected&&g[e]&&c.push(no(g[e]));s.version=r.version,s.setting_export={type:"filter",asset:u},(t=m()).id=U(o),t.user.filter=c,s[u]=[t],s=P(s),new L(a=(n=new S(st)).getElement(),lt.getMessage("menu_setting_filter_export_dialog")),new te(i=new R(a,lt.getMessage("menu_setting_filter_export_dialog_export")).getElement()).setValue(si(s)),new Z(i,lt.getMessage("menu_setting_filter_export_dialog_export_hint")),new le(a).onclick=function(){n.close()},n.open()}()},(E=yo("input")).type="button",E.value=lt.getMessage("menu_setting_filter_button_import"),Oo(E,"width:100%; padding:4px 0px; margin:0px;"),h.appendChild(E),E.onclick=function(){!function(){var e,n=new S(st),a=n.getElement(),i=(new L(a,lt.getMessage("menu_setting_filter_import_dialog")),new R(a,lt.getMessage("menu_setting_filter_import_dialog_explanation"))),o=i.getElement(),r=new q(o);r.addListItem(lt.getMessage("menu_setting_filter_import_dialog_explanation_0")),r.addListItem(lt.getMessage("menu_setting_filter_import_dialog_explanation_1")),r.addListItem(lt.getMessage("menu_setting_filter_import_dialog_explanation_2")),o=(i=new R(a,lt.getMessage("menu_setting_filter_import_dialog_import"))).getElement(),e=new te(o),new Z(o,lt.getMessage("menu_setting_filter_import_dialog_import_hint")),new W(o=(i=new R(a,null)).getElement(),lt.getMessage("menu_setting_filter_import_dialog_confirm")),new se(a).onclick=function(i){function o(e){var t=new M(a,lt.getMessage("menu_setting_filter_import_alert"));new W(t.getElement(),lt.getMessage("menu_setting_filter_import_alert_failure")),new W(t.getElement(),e),t.oncomplete=function(){n.close()},t.open()}var r,s,l,c,_;if(i)try{if(r=Nr.getObject(),(s=li(e.getValue())).version>r.version)throw"Error: It is a version not supported.";l=!1;try{"filter"!=(c=s.setting_export).type&&(l=!0),c.asset!=u&&(l=!0)}catch(e){l=!0}if(l)throw"Error: It is a type not supported.";_=j(s,u),A.writeDefinitions(function(e){e.filter,e.filter=e.filter.concat(_)}),Ze(function(i){if(i.result){e.setValue("");var r=new M(a,lt.getMessage("menu_setting_filter_import_alert"));new W(r.getElement(),lt.getMessage("menu_setting_filter_import_alert_success")),r.oncomplete=function(){n.oncomplete=function(){t(),We(),A.onchange()},n.close()},r.open()}else o(i.message)})}catch(e){o(e)}else n.close()},n.open()}()},new Z(e,lt.getMessage("menu_setting_filter_list_hint"))}function he(e){function t(){I.attachUrlMaps(s,_)}function n(){var e,t,n,a=I.getSelectedIndex()<0;y.disabled=a,E.disabled=a,(t=(e=p.options).length)&&(e[0].selected&&(y.disabled=!0),e[t-1].selected&&(E.disabled=!0)),n="",a&&(n="none"),y.style.display=n,E.style.display=n,v.style.display=n,(t+=1)<3&&(t=3),t>10&&(t=10),a||t<6&&(t=6),p.size=t}function a(){I.onchange&&I.onchange()}function i(e){var t=yo("option");Oo(t,"margin:2px 0px;"),t.value=e,p.appendChild(t),t.onmousedown=t.onmouseup=function(){m=e},o(t)}function o(e){var t,n,a,i;e.style.color="#000",t=parseInt(e.value),u?(l<=t&&(e.style.color="#ccc"),i=(a=(n=be(_)[g]).id).length,n.enable||(i=0),fr(e,i<=t?" *":we(h[a[t]].name)+" *")):(a=be(_)[g].id,fr(e,we(h[a[t]].name)))}function r(e){rr(e)}var s,l,c,_,u,p,d,m,g,f,h,x,b,v,w,y,E,k,A,T,I=this;I.setAsset=function(e){g=e},I.setMenuId=function(e){f=e},I.setDefineData=function(e){var t,n,a,i;for(x=e,h=new Object,n=e.length,t=0;t<n;t++)i=be(a=e[t]),h[a.id]=i},I.attachUrlMaps=function(e,t){var a,o,r,p;for(I.clear(),_=t,u=!1,(s=e).length>1&&(u=!0),l=2147483647,c=0,o=s.length,a=0;a<o;a++)(r=be(s[a])[g]).enable?((p=r.id.length)>c&&(c=p),p<l&&(l=p)):l=0;for(a=0;a<c;a++)i(a);n()},I.getUrlmapActive=function(){return _},I.clear=function(){var e,t=p.options;for(e=t.length-1;e>=0;e--)r(t[e]);n()},I.update=function(){var e,t=p.options,a=t.length;for(e=0;e<a;e++)o(t[e]);n()},I.writeUrlmaps=function(e){var t,n,a,i=s.length;for(a=0;a<i;a++)(t=s[a]).user?n=t.user:t.preset&&(n=t.user=no(t.preset)),n&&e(n)},I.getSelectedIndex=function(){return d=p.selectedIndex},I.getSelectedIndices=function(){var e,t=new Array,n=p.options,a=n.length;for(e=0;e<a;e++)n[e].selected&&t.push(e);return t},I.onchange=function(){},I.onselect=function(){},I.select=function(e){p.selectedIndex=d=m=e,I.onselect(e)},Oo(T=yo("div"),"margin:0px 0px 5px 0px; display:table; width:100%;"),e.appendChild(T),Oo(k=yo("div"),"display:table-cell; vertical-align:top; width:auto;"),T.appendChild(k),(p=yo("select")).multiple=!0,Oo(p,"width:100%; box-sizing:border-box; display:block; font-size:14px; background:#fff;"),k.appendChild(p),p.onchange=function(){d=p.selectedIndex;var e=p.options[m];void 0!==e&&e.selected&&(d=m),n(),I.onselect(d)},Oo(A=yo("div"),"display:table-cell; vertical-align:top; width:50px; line-height:0;"),T.appendChild(A),(b=yo("input")).type="button",b.value=lt.getMessage("menu_setting_urlmap_define_button_add"),Oo(b,"width:100%; padding:1px 0px; margin:0px;"),A.appendChild(b),b.onclick=function(){!function(){var e,n,i,o,r,s=new S(st),l=s.getElement();for(s.setWidth(600),new L(l,lt.getMessage("menu_setting_define_multi_select_add_dialog")),e=new R(l,lt.getMessage("menu_setting_define_multi_select_add_dialog_list")).getElement(),(n=new _e(e)).setMultiple(!0),o=x.length,i=0;i<o;i++)"wildcard"!=x[i].id&&(r=be(x[i]),n.attachItem(we(r.name),i));new se(l).onclick=function(e){if(e){var i=n.getSelectedValues();I.writeUrlmaps(function(e){var t,n,a=i.length;for(t=0;t<a;t++)n=x[i[t]],e[g].enable?e[g].id.push(n.id):(e[g].id=[n.id],e[g].enable=!0)}),t(),a(),We()}s.close()},s.open()}()},(v=yo("input")).type="button",v.value=lt.getMessage("menu_setting_urlmap_define_button_remove"),Oo(v,"width:100%; padding:1px 0px; margin:0px;"),A.appendChild(v),v.onclick=function(){!function(){var e,n,i,o=p.options;for(e=o.length-1;e>=0;e--)(n=o[e]).selected&&(i=parseInt(n.value),I.writeUrlmaps(function(e){var t=e[g].id;t.length>i&&t.splice(i,1),t.length||(e[g].enable=!1)}),r(n));t(),a(),We()}()},(w=yo("input")).type="button",w.value=lt.getMessage("menu_setting_urlmap_define_button_edit"),Oo(w,"width:100%; padding:1px 0px; margin:0px;"),A.appendChild(w),w.onclick=function(){!function(){var e,t,n,a,i,o=I.getSelectedIndex(),r=new Array;if(o>=0){for(e=be(_)[g].id,a=(t=I.getSelectedIndices()).length,n=0;n<a;n++)r.push(e[t[n]]);e[o]&&r.push(e[o])}gt.pushHistory(f),(i=gt.MenuItemSelect(f)).selectFromIdList(r),i.replaceHistory()}()},(y=yo("input")).type="button",y.value=lt.getMessage("menu_setting_urlmap_define_button_prio_up"),Oo(y,"width:100%; padding:1px 0px; margin:0px;"),A.appendChild(y),y.onclick=function(){!function(){var e,t,n,i,o,r=p.options,s=r.length;if(s){for(t=l;t<s;t++)if(r[t].selected)return;if(!r[0].selected){for(t=1;t<s;t++)r[t].selected&&(n=r[t],(e=n.previousSibling).selected=!0,n.selected=!1,i=t,o=t-1,I.writeUrlmaps(function(t){var n=t[g].id;e=n[o],n[o]=n[i],n[i]=e}));I.update(),a(),We()}}}()},(E=yo("input")).type="button",E.value=lt.getMessage("menu_setting_urlmap_define_button_prio_down"),Oo(E,"width:100%; padding:1px 0px; margin:0px;"),A.appendChild(E),E.onclick=function(){!function(){var e,t,n,i,o,r=p.options,s=r.length;if(s){for(t=l;t<s;t++)if(r[t].selected)return;if(!r[l-1].selected){for(t=s-2;t>=0;t--)r[t].selected&&(n=r[t],(e=n.nextSibling).selected=!0,n.selected=!1,i=t,o=t+1,I.writeUrlmaps(function(t){var n=t[g].id;e=n[o],n[o]=n[i],n[i]=e}));I.update(),a(),We()}}}()},n()}function xe(e){function t(){switch(r.setVisible(!1),s.setVisible(!1),a.setValue(n.type),n.type){case"asterisk":o.joinArray(n.asterisk.filter,"\n"),r.setVisible(!0);break;case"regexp":i.attachArray(n.regexp.filter),s.setVisible(!0)}}var n,a,i,o,r,s,l,c,_=this;_.attachObject=function(e){_.clear(),n=no(e),t()},_.clear=function(){o.setValue(""),i.clear()},_.onchange=function(){},(a=new ce(e)).attachItem(lt.getMessage("menu_setting_url_edit_container_combo_box_item_asterisk"),"asterisk"),a.attachItem(lt.getMessage("menu_setting_url_edit_container_combo_box_item_regexp"),"regexp"),a.onchange=function(e){n.type=e,t(),_.onchange(n)},(r=new I(e)).setVisible(!1),l=r.getElement(),(o=new te(l)).oninput=function(){n.asterisk.filter=o.spiritByLine(),_.onchange(n)},new Z(l,lt.getMessage("menu_setting_url_edit_container_type_asterisk_hint")),(s=new I(e)).setVisible(!1),c=s.getElement(),(i=new ue(c)).onchange=function(e){n.regexp.filter=no(e),_.onchange(n)}}function be(e){return e.user?e.user:e.preset?e.preset:null}function ve(){return{standard:"",locales:{}}}function we(e){var t=Nr.getLanguage();return e.locales.hasOwnProperty(t)?e.locales[t]:e.standard}function ye(e,t){e.locales[Nr.getLanguage()]=t,e.standard=t}function Ee(){return{id:null,user:{name:{standard:"",locales:{}},enable:!0,filter:{type:"asterisk",asterisk:{filter:[]},regexp:{filter:[]}},script_initialize:Je("ExpandBbs_ScriptInitialize_Default"),script_callback:Je("ExpandBbs_ScriptCallback_Default"),popup:{origin_type:"adsorb_top_bottom",position_type:"absolute",enable_animation:!0,percent:{x:50,y:50},time_wait_open:0,time_wait_close:0,style_sheet:""}}}}function ke(){return{id:null,user:{name:{standard:"",locales:{}},enable:!1,filter:{type:"asterisk",asterisk:{filter:[]},regexp:{filter:[]}},mixed_passive_content:"unsafe",mixed_active_content:"safe",access_block:{enable:!1,id:[]},replacement_to_element:{enable:!1,id:[]},replacement_to_text:{enable:!1,id:[]},replacement_to_anchor:{enable:!1,id:[]},replacement_to_link:{enable:!1,id:[]},replacement_to_referer:{enable:!1,id:[]},replacement_to_useragent:{enable:!1,id:[]},make_link_to_text:{enable:!1,id:""},expand_short_url:{enable:!1,id:""},expand_text:{enable:!1,id:""},expand_image:{enable:!1,id:""},expand_sound:{enable:!1,id:""},expand_video:{enable:!1,id:""},expand_iframe:{enable:!1,id:""},style_sheet:{enable:!1,id:""},experimental:{enable:!1,id:""}}}}function Ae(){return{id:null,user:{name:{standard:"",locales:{}},filter:{type:"asterisk",asterisk:{filter:[]},regexp:{filter:[]}}}}}function Re(){return{id:null,user:{name:{standard:"",locales:{}},script:Je("ReplacementToElement_Default")}}}function Te(){return{id:null,user:{name:{standard:"",locales:{}},script:Je("ReplacementToText_Default")}}}function Ie(){return{id:null,user:{name:{standard:"",locales:{}},script:Je("ReplacementToAnchor_Default")}}}function Ce(){return{id:null,user:{name:{standard:"",locales:{}},filter:[]}}}function Se(){return{name:{standard:"",locales:{ja:"",en:""}},filter:{type:"asterisk",asterisk:{filter:[]},regexp:{filter:[]}},enable_reflect_to_anchor:!1,enable_cache:!1,script:Je("ReplacementToLink_Default")}}function Me(){return{id:null,user:{name:{standard:"",locales:{}},filter:[]}}}function Le(){return{name:{standard:"",locales:{ja:"",en:""}},filter:{type:"asterisk",asterisk:{filter:[]},regexp:{filter:[]}},send_referer:{type:"default",custom:"",regexp:{pattern:"",flags:{i:!1,g:!1}},replacement:""}}}function Ne(){return{id:null,user:{name:{standard:"",locales:{}},filter:[]}}}function Fe(){return{name:{standard:"",locales:{ja:"",en:""}},filter:{type:"asterisk",asterisk:{filter:[]},regexp:{filter:[]}},send_useragent:{custom:""}}}function Oe(){return{id:null,user:{name:{standard:"",locales:{}},script:Je("MakeLinkToText_Default")}}}function De(){return{id:null,user:{name:{standard:"",locales:{}},filter:{type:"asterisk",asterisk:{filter:[]},regexp:{filter:[]}}}}}function je(){return{id:null,user:{name:{standard:"",locales:{}},inline:{disable_same_text:!1,script_allow:Je("ExpandText_InlineScriptAllow_Default"),script_insert:Je("ExpandText_InlineScriptInsert_Default")}}}}function ze(){return{id:null,user:{name:{standard:"",locales:{}},thumbnail:{enable_thumbnail:!1,enable_popup_mouseover:!1,scale_percent:50,width_min:0,width_max:300,disable_same_image:!1,load_type:"preload",script_allow:Je("ExpandImage_ThumbnailScriptAllow_Default"),script_insert:Je("ExpandImage_ThumbnailScriptInsert_Default")},popup:{enable_popup_mouseover:!1,enable_animation_scale:!1,enable_animation_alpha:!1,load_type:"preload",origin_type:"center",position_type:"absolute",scale_percent:100,time_wait_open:0,time_wait_close:0,script_allow:Je("ExpandImage_PopupScriptAllow_Default")},reduced_image:{enable_popup:!1,popup_allow_slcale_less_then:0},load:{enable_notify:!1,enable_unload:!1,unload_allow_size_more_then:0}}}}function Pe(){return{id:null,user:{name:{standard:"",locales:{}},inline:{disable_same_audio:!1,sound_max:10,script_allow:Je("ExpandSound_InlineScriptAllow_Default"),script_insert:Je("ExpandSound_InlineScriptInsert_Default")},audio_element:{script_allow:Je("ExpandSound_AudioElementScriptAllow_Default"),src_type:"url"},soundcloud:{visible_player_html5:!1},mixcloud:{visible_player:!1}}}}function Ue(){return{id:null,user:{name:{standard:"",locales:{}},inline:{disable_same_video:!1,video_max:10,width_max:720,height_max:480,script_allow:Je("ExpandVideo_InlineScriptAllow_Default"),script_insert:Je("ExpandVideo_InlineScriptInsert_Default")},video_element:{script_allow:Je("ExpandVideo_VideoElementScriptAllow_Default"),src_type:"url"},youtube:{visible_video:!1},nicovideo:{visible_video:!1},dailymotion:{visible_video:!1},vimeo:{visible_video:!1}}}}function Ve(){return{id:null,user:{name:{standard:"",locales:{}},inline:{disable_same_iframe:!1,script_allow:Je("ExpandIframe_InlineScriptAllow_Default"),script_insert:Je("ExpandIframe_InlineScriptInsert_Default")}}}}function Be(){return{id:null,user:{name:{standard:"",locales:{}},expand_text:{inline:"",inline_unsafe:""},expand_image:{thumbnail:"",thumbnail_unsafe:"",popup:"",popup_unsafe:""},expand_sound:{inline:{audio_element:{audio:"",audio_unsafe:""},soundcloud:{player_html5:""},mixcloud:{player:""}}},expand_video:{inline:{video_element:{video:"",video_unsafe:""},youtube:{video:""},nicovideo:{video:""},dailymotion:{video:""},vimeo:{video:""}}},expand_iframe:{inline:"",inline_unsafe:""}}}}function He(){return{id:null,user:{name:{standard:"",locales:{}}}}}function We(){Ze(function(){})}function Ge(e){Nr?e({result:!1}):(Nr=new p).loadLocalStorage(function(t){e(t)})}function Ze(e){Nr.saveLocalStorage(function(t){e(t)})}function $e(e){Nr.removeLocalStorage(function(t){e(t)})}function Ye(){}function qe(){}function Ke(){}function it(){var t,n,a,i,o,r,s,l,c,_,u,p;for(ct=new Array,(ut=new Array)[0]=_t={index:0},sr(Is.head),sr(Is.body),Oo(t=Is.body,'background-color:#CCC; font-family:"Meiryo","sans-serif"; margin:0px; padding:0px; overflow-y:scroll;'),lt=new dt(Nr.getLanguage()),Is.title=lt.getMessage("page_expand_config"),n=yo("div"),t.appendChild(n),a=n.attachShadow?n.attachShadow({mode:"closed"}):n,Oo(i=yo("div"),"background-color:#000; color:#fff; font-size:12px; font-weight:bold; padding:2px 5px; margin:0px 0px 20px;"),fr(i,lt.getMessage("page_expand_config")),a.appendChild(i),Oo(o=yo("div"),"margin:0px 15px 15px 5px;"),a.appendChild(o),Oo(r=yo("div"),"width:100%; display:table;"),o.appendChild(r),Oo(rt=yo("div"),"width:250px; display:table-cell; vertical-align:top; user-select:none; -webkit-user-select:none; -moz-user-select:none; -khtml-user-select:none; margin:20px;"),r.appendChild(rt),Oo(s=yo("div"),"height:10px;"),rt.appendChild(s),c=pt.length,l=0;l<c;l++)_=pt[l],(u=new e(lt.getMessage(_.asset),l)).setBackgroundColor(_.bgcolor),u.setSupport(mt[l].menu),ct.push(u);Oo(p=yo("div"),"height:50px;"),rt.appendChild(p),Oo(st=yo("div"),"width:auto; min-width:500px; display:table-cell; vertical-align:top; padding:10px 20px 50px; background-color:#FFF; border-radius:5px; box-shadow:3px 3px 3px #888;"),r.appendChild(st),gt.MenuItemSelect($.MENU_TYPE_SETTING_STANDARD),Ts.onpopstate=function(e){var t,n=e.state;n&&((_t=ut[n.index])||(ut[n.index]=_t={index:n.index,selected_menu:n.menu}),void 0!==_t.selected_menu&&(t=gt.MenuItemSelect(_t.selected_menu)),void 0!==_t.selected_defines&&t.selectFromIdList(_t.selected_defines),void 0!==_t.selected_filters&&t.selectFilterFromList&&t.selectFilterFromList(_t.selected_filters),void 0!==_t.scroll_pos&&co(Ts,_t.scroll_pos))},Ts.onscroll=function(){_t.scroll_pos=lo(Ts)}}var rt,st,lt,ct,_t,ut,pt,mt,gt=new Object;return gt.pushHistory=function(e){var t=_t.index;_t.scroll_pos=lo(Ts),history.replaceState({index:t,menu:_t.selected_menu},"",""),ut[t+=1]=_t={index:t,selected_menu:e},history.pushState({index:t,menu:e},"","")},gt.MenuItemSelect=function(e){var n,a=pt[e],i=ct.length;for(n=0;n<i;n++)ct[n].normal();return ct[e].active(),t(),_t.selected_menu=e,a.callback?new a.callback:null},pt=[{asset:"menu_setting_standard",callback:n,bgcolor:4294967295},{asset:"menu_setting_access_block",callback:s,bgcolor:4294959344},{asset:"menu_setting_replacement_to_referer",callback:d,bgcolor:4294959344},{asset:"menu_setting_replacement_to_useragent",callback:m,bgcolor:4294959344},{asset:"menu_setting_replacement_to_element",callback:l,bgcolor:4292927743},{asset:"menu_setting_replacement_to_text",callback:c,bgcolor:4292927743},{asset:"menu_setting_replacement_to_anchor",callback:_,bgcolor:4292927743},{asset:"menu_setting_replacement_to_link",callback:u,bgcolor:4292927743},{asset:"menu_setting_make_link_to_text",callback:g,bgcolor:4292927743},{asset:"menu_setting_expand_short_url",callback:f,bgcolor:4292927743},{asset:"menu_setting_expand_text",callback:h,bgcolor:4292927743},{asset:"menu_setting_expand_image",callback:x,bgcolor:4292927743},{asset:"menu_setting_expand_sound",callback:b,bgcolor:4292927743},{asset:"menu_setting_expand_video",callback:v,bgcolor:4292927743},{asset:"menu_setting_expand_iframe",callback:w,bgcolor:4292927743},{asset:"menu_setting_style_sheet",callback:y,bgcolor:4292927743},{asset:"menu_setting_experimental",callback:E,bgcolor:4292927743},{asset:"menu_setting_urlmap",callback:o,bgcolor:4294963416},{asset:"menu_setting_expand_bbs",callback:i,bgcolor:4292935136},{asset:"menu_setting_download",callback:a,bgcolor:4294967295},{asset:"menu_setting_language",callback:k,bgcolor:4294967295},{asset:"menu_credit",callback:A,bgcolor:4294967295}],mt=[{menu:!0,urlmap:!0},{menu:!1,urlmap:!1},{menu:!1,urlmap:!1},{menu:!1,urlmap:!1},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0},{menu:!0,urlmap:!0}],gt.initialize=function(e){mo(Ts)?e(!1):Is.body?Ge(function(){it(),e(!0)}):e(!1)},gt}function Y(){function e(){var e=new p;e.loadLocalStorage(function(){Nr=e,Fr=new d})}this.reload=function(){e()},e()}function q(){function t(){var e,t,n,a,i,o,r,s,l,c,_,u=ho(Is);u.height-=28,Ne.enableCompactMode(u.width<=450),e=fe,t=he,n=xe,be||(e=0),ve||(t=0),we||(n=0),e<0&&(e=0),t<0&&(t=0),n<0&&(n=0),n>u.height-6&&(n=u.height-6),e+t>(l=u.width-6-6)&&(e=(_=e/(e+t))*l,t=(1-_)*l),(l=u.width-80)>150&&(l=150),l<24&&(l=24),ie.style.width=l+"px",Ae?(l=u.width,c=u.height,(a=H.style).width=l+"px",(a=W.style).left="0px",a.width=l+"px",a.height=c+"px",(a=G.style).left="0px",a.right="0px",a.top="0px",a.bottom="0px"):(l=e,(a=H.style).width=l+"px",a.bottom="0px",a=W.style,i=e+6,l=u.width-e-6-t,U()&&(l-=6),c=u.height-n,z()&&(c-=6),a.left=i+"px",a.width=l+"px",a.height=c+"px",ve&&(a=G.style,i=u.width-t,a.left=i+"px",a.right="0px",a.top="0px",a.bottom="0px"),we&&(a=G.style,i=e+6,o=6,r=u.height-n,a.left=i+"px",a.right=o+"px",a.top=r+"px",a.bottom="0px"),i=e,(a=Z.style).left=i+"px",o=t,(a=$.style).right=o+"px",i=e+6,o=t+6,s=n,(a=Y.style).left=i+"px",a.right=o+"px",a.bottom=s+"px"),ge.resize()}function n(){Se=ie.value,a()}function a(e){var t,n;switch(i(!0),o(!0),r(!0),ge.clearColumn(),Ne.clearThread(),Te="category",Se){case"2ch":case"5ch":case"5ch_pc":case"open2ch":case"shitaraba":"shitaraba"==Se?(q.nodeValue=Se,i(!0),L(!1)):(q.nodeValue=Se,i(!1),L(!0)),(t=new Object).ppd=function(e){return(e=Math.floor(100*e)/100).toFixed(2)},t.date_new=eo,ge.onUpdateItem=function(e){var n,a,i,o,r,s,l,c,_,u,p=e.parent,d=e.data,m=function(){for(var e,t=d.title;;)if(e=t.match(new RegExp("(.*)©(2ch[.]net|5ch[.]net|bbspink[.]com)[ \t]*$","i")))t=e[1];else{if(!(e=t.match(new RegExp("(.*)\\[(転載禁止|無断転載禁止)\\]$","i"))))break;t=e[1]}return t},g=function(){return t.date_new(d.date_new)},f=function(){return t.ppd(d.ppd)};switch(e.layout_mode){case"list":Oo(n=yo("div"),"margin:2px; margin-left:4px; margin-right:4px;"),p.appendChild(n),Oo(a=yo("div"),"left:0px; right:0px; top:0px; bottom:0px; overflow:hidden;"),n.appendChild(a),Oo(i=yo("div"),""),a.appendChild(i),Oo(o=yo("span"),"word-break:break-all;"),i.appendChild(o),r=Is.createTextNode(""),o.appendChild(r),Oo(s=yo("div"),"margin-top:2px;"),a.appendChild(s),Oo(l=yo("span"),"color:#888;"),s.appendChild(l),c=Is.createTextNode(""),l.appendChild(c),e.onupdate=function(){r.nodeValue=d.number+":"+m()+" ("+d.res+")",c.nodeValue="["+f()+"/d] ["+g()+"]"};break;case"small_icon":Oo(_=yo("span"),"text-decoration:underline; word-break:break-all;"),p.appendChild(_),u=Is.createTextNode(""),_.appendChild(u),e.onupdate=function(){u.nodeValue=d.number+":"+m()+" ("+d.res+")"};break;case"large_icon":Oo(n=yo("div"),"margin:4px;"),p.appendChild(n),Oo(a=yo("div"),"margin:4px; margin-top:0px;"),n.appendChild(a),Oo(i=yo("div"),""),a.appendChild(i),Oo(o=yo("span"),"word-break:break-all;"),i.appendChild(o),r=Is.createTextNode(""),o.appendChild(r),Oo(s=yo("div"),"margin-top:2px;"),a.appendChild(s),Oo(l=yo("span"),"color:#888;"),s.appendChild(l),c=Is.createTextNode(""),l.appendChild(c),e.onupdate=function(){r.nodeValue=d.number+":"+m()+" ("+d.res+")",c.nodeValue="["+f()+"/d] ["+g()+"]"}}},ge.onUpdateCell=function(e){var n=t[e.key],a=e.parent,i=e.data,o=Is.createTextNode("");a.appendChild(o),e.onupdate=function(){o.nodeValue=n?n(i[e.key]):i[e.key]}},(n=ge.createColumn("number")).setLabel("No"),n.setWidthMin(50),n.setWidthMax(50),n.setTextAlign("center"),(n=ge.createColumn("title")).setLabel("Title"),n.setWidthMin(300),(n=ge.createColumn("res")).setLabel("Res"),n.setWidthMin(50),n.setWidthMax(50),n.setTextAlign("right"),(n=ge.createColumn("ppd")).setLabel("P/d"),n.setWidthMin(70),n.setWidthMax(70),n.setTextAlign("right"),(n=ge.createColumn("date_new")).setLabel("Since"),n.setWidthMin(150),n.setWidthMax(150),n.setTextAlign("center"),ge.setBlockSize(180,90),ge.sort("number",!1);break;case"2chan":q.nodeValue=Se,i(!1),L(!0),(t=new Object).ppd=function(e){return(e=Math.floor(100*e)/100).toFixed(2)},t.date_new=Ji,ge.onUpdateItem=function(e){var n,a,i,o,r,s,l,c,_,u,p,d,m,g=e.parent,f=e.data,h=function(e){return f.title.length>e?f.title.substr(0,e)+"...":f.title};switch(e.layout_mode){case"list":Oo(n=yo("div"),"position:relative; margin:2px; margin-left:4px; margin-right:4px; min-height:60px;"),g.appendChild(n),Oo(a=yo("div"),"position:absolute; width:60px; height:60px; text-align:right;"),n.appendChild(a),(i=f.image)&&(Oo(i,"max-width:100%; max-height:60px;"),a.appendChild(i)),Oo(o=yo("div"),"margin-left:65px;"),n.appendChild(o),Oo(r=yo("div"),""),o.appendChild(r),Oo(s=yo("span"),"word-break: break-all;"),r.appendChild(s),l=Is.createTextNode(""),s.appendChild(l),Oo(c=yo("div"),"margin-top:2px;"),o.appendChild(c),Oo(_=yo("span"),"color:#888;"),c.appendChild(_),u=Is.createTextNode(""),_.appendChild(u),e.onupdate=function(){l.nodeValue=f.number+":"+f.title+" ("+f.res+")",u.nodeValue="["+t.ppd(f.ppd)+"/d] ["+t.date_new(f.date_new)+"]"};break;case"small_icon":Oo(p=yo("span"),"text-decoration:underline; word-break:break-all;"),g.appendChild(p),d=Is.createTextNode(""),p.appendChild(d),e.onupdate=function(){d.nodeValue=f.number+":"+h(100)+" ("+f.res+")"};break;case"large_icon":Oo(a=yo("div"),"margin:4px; margin-bottom:0px; text-align:center;"),g.appendChild(a),(i=f.image)&&(Oo(i,"max-width:100%; max-height:140px;"),a.appendChild(i)),Oo(m=yo("div"),"margin:4px; margin-top:2px;"),g.appendChild(m),Oo(p=yo("span"),"word-break:break-all;"),m.appendChild(p),d=Is.createTextNode(""),p.appendChild(d),e.onupdate=function(){d.nodeValue=f.number+":"+h(50)+" ("+f.res+")"}}},ge.onUpdateCell=function(e){var n=t[e.key],a=e.parent,i=e.data,o=Is.createTextNode("");a.appendChild(o),e.onupdate=function(){o.nodeValue=n?n(i[e.key]):i[e.key]}},(n=ge.createColumn("number")).setLabel("No"),n.setWidthMin(50),n.setWidthMax(50),n.setTextAlign("center"),(n=ge.createColumn("title")).setLabel("Title"),n.setWidthMin(300),(n=ge.createColumn("res")).setLabel("Res"),n.setWidthMin(50),n.setWidthMax(50),n.setTextAlign("right"),(n=ge.createColumn("ppd")).setLabel("P/d"),n.setWidthMin(70),n.setWidthMax(70),n.setTextAlign("right"),(n=ge.createColumn("id")).setLabel("id"),n.setWidthMin(100),n.setWidthMax(100),n.setTextAlign("center"),(n=ge.createColumn("date_new")).setLabel("Since"),n.setWidthMin(150),n.setWidthMax(150),n.setTextAlign("center"),ge.setBlockSize(140,4/3*140),ge.sort("number",!1);break;case"4chan":q.nodeValue=Se,i(!1),L(!0),(t=new Object).ppd=function(e){return(e=Math.floor(100*e)/100).toFixed(2)},t.date_new=eo,ge.onUpdateItem=function(e){var n,a,i,o,r,s,l,c,_,u,p,d,m,g=e.parent,f=e.data,h=function(e){return f.title.length>e?f.title.substr(0,e)+"...":f.title};switch(e.layout_mode){case"list":Oo(n=yo("div"),"position:relative; margin:2px; margin-left:4px; margin-right:4px; min-height:60px;"),g.appendChild(n),Oo(a=yo("div"),"position:absolute; width:60px; height:60px; text-align:right;"),n.appendChild(a),(i=f.image)&&(Oo(i,"max-width:100%; max-height:60px;"),a.appendChild(i)),Oo(o=yo("div"),"margin-left:65px;"),n.appendChild(o),Oo(r=yo("div"),""),o.appendChild(r),Oo(s=yo("span"),"word-break: break-all;"),r.appendChild(s),l=Is.createTextNode(""),s.appendChild(l),Oo(c=yo("div"),"margin-top:2px;"),o.appendChild(c),Oo(_=yo("span"),"color:#888;"),c.appendChild(_),u=Is.createTextNode(""),_.appendChild(u),e.onupdate=function(){l.nodeValue=f.number+":"+f.title,u.nodeValue="R:"+f.replies+" I:"+f.images+" ["+t.ppd(f.ppd)+"/d] ["+t.date_new(f.date_new)+"]"};break;case"small_icon":Oo(p=yo("span"),"text-decoration:underline; word-break:break-all;"),g.appendChild(p),d=Is.createTextNode(""),p.appendChild(d),e.onupdate=function(){d.nodeValue=f.number+":"+h(100)+" ("+f.replies+")"};break;case"large_icon":Oo(a=yo("div"),"margin:4px; margin-bottom:0px; text-align:center;"),g.appendChild(a),(i=f.image)&&(Oo(i,"max-width:100%; max-height:140px;"),a.appendChild(i)),Oo(m=yo("div"),"margin:4px; margin-top:2px;"),g.appendChild(m),Oo(p=yo("span"),"word-break:break-all;"),m.appendChild(p),d=Is.createTextNode(""),p.appendChild(d),e.onupdate=function(){d.nodeValue=f.number+":"+h(50)+" ("+f.replies+")"}}},ge.onUpdateCell=function(e){var n=t[e.key],a=e.parent,i=e.data,o=Is.createTextNode("");a.appendChild(o),e.onupdate=function(){o.nodeValue=n?n(i[e.key]):i[e.key]}},(n=ge.createColumn("number")).setLabel("No"),n.setWidthMin(50),n.setWidthMax(50),n.setTextAlign("center"),(n=ge.createColumn("title")).setLabel("Title"),n.setWidthMin(300),(n=ge.createColumn("replies")).setLabel("Replies"),n.setWidthMin(50),n.setWidthMax(70),n.setTextAlign("right"),(n=ge.createColumn("images")).setLabel("Images"),n.setWidthMin(50),n.setWidthMax(70),n.setTextAlign("right"),(n=ge.createColumn("ppd")).setLabel("P/d"),n.setWidthMin(70),n.setWidthMax(70),n.setTextAlign("right"),(n=ge.createColumn("id")).setLabel("id"),n.setWidthMin(100),n.setWidthMax(100),n.setTextAlign("center"),(n=ge.createColumn("date_new")).setLabel("Since"),n.setWidthMin(150),n.setWidthMax(150),n.setTextAlign("center"),ge.setBlockSize(140,4/3*140),ge.sort("number",!1);break;case"8chan":q.nodeValue=Se,i(!1),L(!0),(t=new Object).ppd=function(e){return(e=Math.floor(100*e)/100).toFixed(2)},t.date_new=eo,ge.onUpdateItem=function(e){var n,a,i,o,r,s,l,c,_,u,p,d,m,g=e.parent,f=e.data,h=function(e){return f.title.length>e?f.title.substr(0,e)+"...":f.title};switch(e.layout_mode){case"list":Oo(n=yo("div"),"position:relative; margin:2px; margin-left:4px; margin-right:4px; min-height:60px;"),g.appendChild(n),Oo(a=yo("div"),"position:absolute; width:60px; height:60px; text-align:right;"),n.appendChild(a),(i=f.image)&&(Oo(i,"max-width:100%; max-height:60px;"),a.appendChild(i)),Oo(o=yo("div"),"margin-left:65px;"),n.appendChild(o),Oo(r=yo("div"),""),o.appendChild(r),Oo(s=yo("span"),"word-break: break-all;"),r.appendChild(s),l=Is.createTextNode(""),s.appendChild(l),Oo(c=yo("div"),"margin-top:2px;"),o.appendChild(c),Oo(_=yo("span"),"color:#888;"),c.appendChild(_),u=Is.createTextNode(""),_.appendChild(u),e.onupdate=function(){l.nodeValue=f.number+":"+f.title,u.nodeValue="R:"+f.replies+" I:"+f.images+" ["+t.ppd(f.ppd)+"/d] ["+t.date_new(f.date_new)+"]"};break;case"small_icon":Oo(p=yo("span"),"text-decoration:underline; word-break:break-all;"),g.appendChild(p),d=Is.createTextNode(""),p.appendChild(d),e.onupdate=function(){d.nodeValue=f.number+":"+h(100)+" ("+f.replies+")"};break;case"large_icon":Oo(a=yo("div"),"margin:4px; margin-bottom:0px; text-align:center;"),g.appendChild(a),(i=f.image)&&(Oo(i,"max-width:100%; max-height:140px;"),a.appendChild(i)),Oo(m=yo("div"),"margin:4px; margin-top:2px;"),g.appendChild(m),Oo(p=yo("span"),"word-break:break-all;"),m.appendChild(p),d=Is.createTextNode(""),p.appendChild(d),e.onupdate=function(){d.nodeValue=f.number+":"+h(50)+" ("+f.replies+")"}}},ge.onUpdateCell=function(e){var n=t[e.key],a=e.parent,i=e.data,o=Is.createTextNode("");a.appendChild(o),e.onupdate=function(){o.nodeValue=n?n(i[e.key]):i[e.key]}},(n=ge.createColumn("number")).setLabel("No"),n.setWidthMin(50),n.setWidthMax(50),n.setTextAlign("center"),(n=ge.createColumn("title")).setLabel("Title"),n.setWidthMin(300),(n=ge.createColumn("replies")).setLabel("Replies"),n.setWidthMin(50),n.setWidthMax(70),n.setTextAlign("right"),(n=ge.createColumn("images")).setLabel("Images"),n.setWidthMin(50),n.setWidthMax(70),n.setTextAlign("right"),(n=ge.createColumn("ppd")).setLabel("P/d"),n.setWidthMin(70),n.setWidthMax(70),n.setTextAlign("right"),(n=ge.createColumn("id")).setLabel("id"),n.setWidthMin(100),n.setWidthMax(100),n.setTextAlign("center"),(n=ge.createColumn("date_new")).setLabel("Since"),n.setWidthMin(150),n.setWidthMax(150),n.setTextAlign("center"),ge.setBlockSize(140,4/3*140),ge.sort("number",!1);break;case"2ch.hk":q.nodeValue=Se,i(!1),L(!0),(t=new Object).ppd=function(e){return(e=Math.floor(100*e)/100).toFixed(2)},t.date_new=eo,ge.onUpdateItem=function(e){var n,a,i,o,r,s,l,c,_,u,p,d,m,g=e.parent,f=e.data,h=function(e){return f.title.length>e?f.title.substr(0,e)+"...":f.title};switch(e.layout_mode){case"list":Oo(n=yo("div"),"position:relative; margin:2px; margin-left:4px; margin-right:4px; min-height:60px;"),g.appendChild(n),Oo(a=yo("div"),"position:absolute; width:60px; height:60px; text-align:right;"),n.appendChild(a),(i=f.image)&&(Oo(i,"max-width:100%; max-height:60px;"),a.appendChild(i)),Oo(o=yo("div"),"margin-left:65px;"),n.appendChild(o),Oo(r=yo("div"),""),o.appendChild(r),Oo(s=yo("span"),"word-break: break-all;"),r.appendChild(s),l=Is.createTextNode(""),s.appendChild(l),Oo(c=yo("div"),"margin-top:2px;"),o.appendChild(c),Oo(_=yo("span"),"color:#888;"),c.appendChild(_),u=Is.createTextNode(""),_.appendChild(u),e.onupdate=function(){l.nodeValue=f.number+":"+f.title,u.nodeValue="R:"+f.replies+" I:"+f.images+" ["+t.ppd(f.ppd)+"/d] ["+t.date_new(f.date_new)+"]"};break;case"small_icon":Oo(p=yo("span"),"text-decoration:underline; word-break:break-all;"),g.appendChild(p),d=Is.createTextNode(""),p.appendChild(d),e.onupdate=function(){d.nodeValue=f.number+":"+h(100)+" ("+f.replies+")"};break;case"large_icon":Oo(a=yo("div"),"margin:4px; margin-bottom:0px; text-align:center;"),g.appendChild(a),(i=f.image)&&(Oo(i,"max-width:100%; max-height:140px;"),a.appendChild(i)),Oo(m=yo("div"),"margin:4px; margin-top:2px;"),g.appendChild(m),Oo(p=yo("span"),"word-break:break-all;"),m.appendChild(p),d=Is.createTextNode(""),p.appendChild(d),e.onupdate=function(){d.nodeValue=f.number+":"+h(50)+" ("+f.replies+")"}}},ge.onUpdateCell=function(e){var n=t[e.key],a=e.parent,i=e.data,o=Is.createTextNode("");a.appendChild(o),e.onupdate=function(){o.nodeValue=n?n(i[e.key]):i[e.key]}},(n=ge.createColumn("number")).setLabel("No"),n.setWidthMin(50),n.setWidthMax(50),n.setTextAlign("center"),(n=ge.createColumn("title")).setLabel("Title"),n.setWidthMin(300),(n=ge.createColumn("replies")).setLabel("Replies"),n.setWidthMin(50),n.setWidthMax(70),n.setTextAlign("right"),(n=ge.createColumn("images")).setLabel("Images"),n.setWidthMin(50),n.setWidthMax(70),n.setTextAlign("right"),(n=ge.createColumn("ppd")).setLabel("P/d"),n.setWidthMin(70),n.setWidthMax(70),n.setTextAlign("right"),(n=ge.createColumn("id")).setLabel("id"),n.setWidthMin(100),n.setWidthMax(100),n.setTextAlign("center"),(n=ge.createColumn("date_new")).setLabel("Since"),n.setWidthMin(150),n.setWidthMax(150),n.setTextAlign("center"),ge.setBlockSize(140,4/3*140),ge.sort("number",!1);break;case"reddit":q.nodeValue="reddit",i(!0),L(!1),(t=new Object).ppd=function(e){return(e=Math.floor(100*e)/100).toFixed(2)},t.date_new=eo,ge.onUpdateItem=function(e){var n,a,i,o,r,s,l,c,_,u,p,d,m,g=e.parent,f=e.data,h=function(e){return f.title.length>e?f.title.substr(0,e)+"...":f.title};switch(e.layout_mode){case"list":Oo(n=yo("div"),"position:relative; margin:2px; margin-left:4px; margin-right:4px; min-height:60px;"),g.appendChild(n),Oo(a=yo("div"),"position:absolute; width:60px; height:60px; text-align:right;"),n.appendChild(a),(i=f.image)&&(Oo(i,"max-width:100%; max-height:60px;"),a.appendChild(i)),Oo(o=yo("div"),"margin-left:65px;"),n.appendChild(o),Oo(r=yo("div"),""),o.appendChild(r),Oo(s=yo("span"),"word-break: break-all;"),r.appendChild(s),l=Is.createTextNode(""),s.appendChild(l),Oo(c=yo("div"),"margin-top:2px;"),o.appendChild(c),Oo(_=yo("span"),"color:#888;"),c.appendChild(_),u=Is.createTextNode(""),_.appendChild(u),e.onupdate=function(){l.nodeValue=f.number+":"+f.title,u.nodeValue="S:"+f.score+" C:"+f.comments+" ["+t.ppd(f.ppd)+"/d] ["+t.date_new(f.date_new)+"]"};break;case"small_icon":Oo(p=yo("span"),"text-decoration:underline; word-break:break-all;"),g.appendChild(p),d=Is.createTextNode(""),p.appendChild(d),e.onupdate=function(){d.nodeValue=f.number+":"+h(100)+" ("+f.comments+")"};break;case"large_icon":Oo(a=yo("div"),"margin:4px; margin-bottom:0px; text-align:center;"),g.appendChild(a),(i=f.image)&&(Oo(i,"max-width:100%; max-height:140px;"),a.appendChild(i)),Oo(m=yo("div"),"margin:4px; margin-top:2px;"),g.appendChild(m),Oo(p=yo("span"),"word-break:break-all;"),m.appendChild(p),d=Is.createTextNode(""),p.appendChild(d),e.onupdate=function(){d.nodeValue=f.number+":"+h(50)+" ("+f.comments+")"}}},ge.onUpdateCell=function(e){var n=t[e.key],a=e.parent,i=e.data,o=Is.createTextNode("");a.appendChild(o),e.onupdate=function(){o.nodeValue=n?n(i[e.key]):i[e.key]}},(n=ge.createColumn("number")).setLabel("No"),n.setWidthMin(50),n.setWidthMax(50),n.setTextAlign("center"),(n=ge.createColumn("title")).setLabel("Title"),n.setWidthMin(300),(n=ge.createColumn("comments")).setLabel("Comments"),n.setWidthMin(50),n.setWidthMax(100),n.setTextAlign("right"),(n=ge.createColumn("score")).setLabel("Score"),n.setWidthMin(50),n.setWidthMax(100),n.setTextAlign("right"),(n=ge.createColumn("ppd")).setLabel("P/d"),n.setWidthMin(70),n.setWidthMax(70),n.setTextAlign("right"),(n=ge.createColumn("date_new")).setLabel("Since"),n.setWidthMin(150),n.setWidthMax(150),n.setTextAlign("center"),ge.setBlockSize(140,4/3*140),ge.sort("number",!1);break;default:q.nodeValue=Se,i(!0),L(!1),Te=""}O(),ge.resize(),k(e)}function i(e){ye=e,u()}function o(e){Ee=e,m()}function r(e){ke=e,g()}function s(e){H.style.display=e?"block":"none"}function l(e){var t=W.style;e?(t.display="block",ge.resize()):t.display="none"}function c(e){var t=G.style;e?(t.display="block",ge.setTargetMode("thread")):(t.display="none",ge.setTargetMode("_blank"))}function _(){return!(Ae||ke||!ve&&!we)}function u(){s(!ye&&!!be)}function m(){l(!Ee)}function g(){c(_())}function f(){Ae?(Te="category",O()):L(!be)}function h(){Ae&&(Te="catalog",O())}function x(){Ne.onreload&&Ne.onreload()}function b(){we?(F(!1),N(!0)):ve?(F(!1),N(!1)):(F(!0),N(!1))}function v(){se.setVisible(!Re&&!Ae)}function w(){++Ie>=4&&(Ie=0),y()}function y(){switch(Ie){case 0:me.setOpenMode(!0),me.setLayoutMode("inline");break;case 1:me.setOpenMode(!0),me.setLayoutMode("block");break;case 2:me.setOpenMode(!1),me.setLayoutMode("inline");break;case 3:me.setOpenMode(!1),me.setLayoutMode("block")}}function E(){k()}function k(t){var n,a,i,o,r;switch(n=Me+=1,a=function(e){_e.setDisabled(!1),t&&t(e)},i=function(){return n!=Me&&(a({result:!1}),!0)},me.clear(),_e.setDisabled(!0),o=new us,Se){case"2ch":case"5ch":case"5ch_pc":case"open2ch":r="https://menu."+("5ch_pc"==Se?"5ch":Se)+".net/bbsmenu.html",o.onload=function(t){var n,o,s,l,c,_;i()||(n=new RegExp("^<br><B>(.*)</B><br>","i"),o=new RegExp("<A HREF=(.*)>(.*)</A>","gi"),s=new RegExp("<br><b>","gi"),l=new RegExp("<br><B>","gi"),c=0,_=t.length,Ur.attachLast(function u(){var p,d,m;if(!i()){try{if(c>=_)throw 0;if(s.lastIndex=c,!(p=s.exec(t)))throw 0;if(c=p.index,l.lastIndex=s.lastIndex,p=l.exec(t),e=p?p.index:_,(p=(d=t.substring(c,e)).match(n))&&((m=me.createFolder(p[1])).setLabel(p[1]),d.replace(o,function(e,t,n){var a,i=t;i=Yi(i=Ki(i)||i,r),(a=m.createItem(t)).setLabel(n),a.setTooltip(i),a.setURL(i)})),c<e)return c=e,void Ur.attachFirst(u,null)}catch(e){}a({result:!0})}},null))},o.onerror=function(){i()||a({result:!1})},o.setMethod("GET"),o.setURL(r),o.overrideMimeType("text/plain; charset=Shift_JIS"),o.loadText();break;case"2chan":r="https://www.2chan.net/bbsmenu.html",o.onload=function(e){var t,n,o,s,l,c,_,u,p,d,m;if(!i()){t=new RegExp("^<b>(.*)</b><br>","i"),n=new RegExp('<a href="([^"]*)"[^>]*>([^<]*)',"gi"),o=new RegExp("://([^.]+)","i"),s=new Array,l=new Object,c=0,_=e.length;try{for(;c<_&&!((c=e.indexOf("<b>",c))<0);)(u=e.indexOf("<b>",c+3))<0&&(u=_),(d=(p=e.substring(c,u)).match(t))&&(m={label:d[1]},p.replace(n,function(e,t,n){var a,i,c,_={category:m,url:Yi(t,r),label:n};_.prev=_,_.next=_,e=_.url.match(o),_.sub=e?e[1]:"",(a=l[_.label])?(i=a,c=a.next,i.next=_,c.prev=_,_.prev=i,_.next=c):a=l[_.label]=_,s.push(_)})),c=u}catch(u){}c=0,Ur.attachLast(function e(){var t,n,o,r,l;if(!i()){try{if(!(t=s[c]))throw 0;return c++,n=t.category,(o=me.getFolder(n.label))||(o=me.createFolder(n.label)).setLabel(n.label),r=t.label,t.prev!=t&&(r+="("+t.sub+")"),(l=o.createItem(t.url)).setLabel(r),l.setTooltip(t.url),l.setURL(t.url),void Ur.attachFirst(e,null)}catch(e){}a({result:!0})}},null)}},o.onerror=function(){i()||a({result:!1})},o.setMethod("GET"),o.setURL(r),o.overrideMimeType("text/plain; charset=Shift_JIS"),o.loadText();break;case"4chan":o.onload=function(e){var t,n,o,r,s;i()||(t=li(e).boards,(n=me.createFolder("boards")).setLabel("Boards"),(o=me.createFolder("folders")).setLabel("Folders"),r=0,s=t.length,Ur.attachLast(function e(){var l,c,_;if(!i()){try{if(r>=s)throw 0;l=t[r],r+=1,c="https://boards.4chan.org/"+l.board+"/",(_=n.createItem(l.board)).setLabel(l.title),_.setTooltip(l.board),_.setURL(c),(_=o.createItem("#"+l.board)).setLabel(l.board),_.setTooltip(l.title),_.setURL(c),Ur.attachFirst(e,null)}catch(e){}a({result:!0})}},null))},o.onerror=function(){i()||a({result:!1})},o.setMethod("GET"),o.setURL("https://a.4cdn.org/boards.json"),o.loadText();break;case"8chan":o.onload=function(e){var t,n,o,r;i()||(t=li(e),(n=me.createFolder("8chan")).setLabel("8chan"),o=0,(r=t.length)>2e3&&(r=2e3),Ur.attachLast(function e(){var s,l;if(!i()){try{if(o>=r)throw 0;s=t[o],o+=1,(l=n.createItem(s.title)).setLabel(s.uri),l.setTooltip(s.title),l.setURL("https://8ch.net/"+s.uri+"/"),Ur.attachFirst(e,null)}catch(e){}a({result:!0})}},null))},o.onerror=function(){i()||a({result:!1})},o.setMethod("GET"),o.setURL("https://8ch.net/boards.json"),o.loadText();break;case"2ch.hk":o.onload=function(e){var t,n,o,r,s,l,c,_,u;if(!i()){for(t=li(e).boards,n=new Array,o=new Array,r=0,s=t.length,r=0;r<s;r++)(c=o[(l=t[r]).category])||(c=o[l.category]=me.createFolder(l.category)).setLabel(l.category),_={folder:c,label:l.name,id:l.id,url:"https://2ch.hk/"+l.id+"/"},n.push(_);(u=me.createFolder("folders")).setLabel("Folders"),r=0,Ur.attachLast(function e(){var t,o;if(!i()){try{if(!(t=n[r]))throw 0;r+=1,(o=t.folder.createItem(t.id)).setLabel(t.label),o.setTooltip(t.id),o.setURL(t.url),(o=u.createItem("#"+t.id)).setLabel(t.id),o.setTooltip(t.label),o.setURL(t.url),Ur.attachFirst(e,null)}catch(e){}a({result:!0})}},null)}},o.onerror=function(){i()||a({result:!1})},o.setMethod("GET"),o.setURL("https://2ch.hk/boards.json"),o.loadText();break;default:a({result:!1})}}function A(){++Ce>=4&&(Ce=0),function(){switch(Ce){case 0:ge.setLayoutMode("detail");break;case 1:ge.setLayoutMode("list");break;case 2:ge.setLayoutMode("large_icon");break;case 3:ge.setLayoutMode("small_icon")}}()}function R(){T()}function T(e){var t,n,a,i,o,r,s,l,c,_,u,p,d,m;switch(t=Le+=1,n=function(t){pe.setDisabled(!1),e&&e(t)},a=function(){return t!=Le&&(n({result:!1}),!0)},pe.setDisabled(!0),Se){case"2ch":case"5ch":case"5ch_pc":case"open2ch":case"shitaraba":if("shitaraba"==Se){if(o||(s=ne.match(new RegExp("(http|https)://([^/]+[.](shitaraba)[.]net)/(test|bbs)/[^/]+[.]cgi/([^/]+/[0-9]+)","i")))&&(i=s[1],o=s[2],r=s[5]),o||(s=ne.match(new RegExp("(http|https)://([^/]+[.](shitaraba)[.]net)/([^/]+/[0-9]+)","i")))&&(i=s[1],o=s[2],r=s[4]),!o)return void n({result:!1});K.nodeValue=i+"://"+o+"/"+r+"/"}else{if(o||(s=ne.match(new RegExp("(http|https)://([^/]+[.](bbspink[.]com|open2ch[.]net|2ch[.]net|5ch[.]net))/test/read[.]cgi/([^/]+)","i")))&&(i=s[1],o=s[2],r=s[4]),o||(s=ne.match(new RegExp("(http|https)://([^/]+[.](bbspink[.]com|open2ch[.]net|2ch[.]net|5ch[.]net))/([^/]+)","i")))&&(i=s[1],o=s[2],r=s[4]),!o)return void n({result:!1});K.nodeValue=i+"://"+o+"/"+r+"/"}(l=new us).onload=function(e){var t,s,l,c,_,u,p,d;if(!a()){for(t=new RegExp("([0-9]+)[.](dat<>[ ]*|cgi,)(.*)[(]([0-9]+)[)]","i"),c=(s=ge.getItemList()).length,l=0;l<c;l++)(_=s[l].getData()).number="x",_.ppd=function(){var e=new Date,t=new Date(1e3*_.date_new),n=e.getTime()-t.getTime(),a=0;return n>0&&(a=_.res/(n/1e3/60/60/24)),a}();u=0,p=e.length,d=1,function s(){var l,c,_,m,g,f,h,x,b;if(!a()){try{if(u>=p)throw 0;if((l=e.indexOf("\n",u+1))<0&&(l=p),(c=e.substring(u,l).match(t))&&(_=ge.createItem(c[1]),"shitaraba"==Se?_.setURL(i+"://"+o+"/bbs/read.cgi/"+r+"/"+c[1]):(m="","5ch_pc"==Se&&(m="c/"),o.match(/bbspink[.]com$/)&&(m=""),_.setURL(i+"://"+o+"/test/read.cgi/"+m+r+"/"+c[1])),(g=_.getData()).number=d,g.id=parseInt(c[1]),g.title=Vi(c[3]),g.res=parseInt(c[4]),g.date_new=parseInt(g.id),g.ppd=(f=new Date,h=new Date(1e3*g.date_new),x=f.getTime()-h.getTime(),b=0,x>0&&(b=g.res/(x/1e3/60/60/24)),b),d+=1),u<l)return u=l,void s()}catch(l){}ge.commit(),n({result:!0})}}()}},l.onerror=function(){a()||n({result:!1})},l.setMethod("GET"),l.setURL(i+"://"+o+"/"+r+"/subject.txt"),"shitaraba"==Se?l.overrideMimeType("text/plain; charset=euc-jp"):l.overrideMimeType("text/plain; charset=Shift_JIS"),l.loadText();break;case"2chan":if(o||(s=ne.match(new RegExp("(http|https)://([^/]+[.]2chan[.]net)/([^/]+)","i")))&&(o=s[2],r=s[3]),!o)return void n({result:!1});K.nodeValue="https://"+o+"/"+r+"/futaba.htm",l=new us,c="https://"+o+"/"+r+"/futaba.php?mode=cat&cxyl=1x2000x2000x0x6",l.onload=function(e){var t,i,s,l,_,u,p,d,m,g,f,h;if(!a()){for(t=new RegExp("<a href='res/([0-9]+)[.]htm","i"),i=new RegExp("<img src='(.*)/(cat|thumb)/([^']*)","i"),s=new RegExp("<small>([^<]*)</small>","i"),l=new RegExp("<font[^>]*>([0-9]+)</font>","i"),_=new RegExp("/([0-9]+)s[.]jpg","i"),d=(u=ge.getItemList()).length,p=0;p<d;p++)(m=u[p].getData()).number="x",m.ppd=function(){var e=new Date,t=new Date(m.date_new),n=e.getTime()-t.getTime(),a=0;return n>0&&(a=m.res/(n/1e3/60/60/24)),a}();g=0,f=e.length,h=1,function u(){var p,d,m,x,b,v,w,y,E,k;if(!a()){try{if(g>=f)throw 0;if((g=e.indexOf("<tr><td>",g))<0)throw 0;if((p=e.indexOf("</td>",g+8))<0&&(p=f),(m=(d=e.substring(g,p)).match(t))&&((b=(x=ge.createItem(m[1])).getData()).number=h,b.id=parseInt(m[1]),x.setURL("https://"+o+"/"+r+"/res/"+b.id+".htm"),(m=d.match(s))&&(b.title=Vi(m[1])),(m=d.match(l))&&(b.res=parseInt(m[1])),m=d.match(_),b.date_new=m?parseInt(m[1]):0,(m=d.match(i))&&(b.image_url=Yi(m[1]+"/thumb/"+m[3],c),(v=new Image).src=b.image_url,b.image=v),b.ppd=(w=new Date,y=new Date(b.date_new),E=w.getTime()-y.getTime(),k=0,E>0&&(k=b.res/(E/1e3/60/60/24)),k),h+=1),g<p)return g=p,void u()}catch(p){}ge.commit(),n({result:!0})}}()}},l.onerror=function(){a()||n({result:!1})},l.setMethod("GET"),l.setURL(c),l.overrideMimeType("text/plain; charset=Shift_JIS"),l.loadText();break;case"4chan":if(o||(s=ne.match(new RegExp("(http|https)://([^/]+[.]4chan[.]org)/([^/]+)","i")))&&(o=s[2],r=s[3]),!o)return void n({result:!1});K.nodeValue="https://"+o+"/"+r+"/",(l=new us).onload=function(e){var t,i,s,l,c,_,u,p,d,m,g;if(!a()){for(s=(t=ge.getItemList()).length,i=0;i<s;i++)(l=t[i].getData()).number="x",l.ppd=function(){var e=new Date,t=new Date(1e3*l.date_new),n=e.getTime()-t.getTime(),a=0;return n>0&&(a=l.replies/(n/1e3/60/60/24)),a}();c=1;try{for(_=li(e),i=0;i<_.length;i++)for(p=_[i].threads,u=0;u<p.length;u++)d=p[u],(m=ge.createItem(d.no)).setURL("https://"+o+"/"+r+"/thread/"+d.no),(l=m.getData()).number=c,l.id=d.no,l.title=function(){if(d.sub)return d.sub;try{return gr((new DOMParser).parseFromString(d.com,"text/html").body)}catch(e){}return d.com||""}(),l.replies=d.replies,l.images=d.images,l.date_new=d.time,l.image_url="https://i.4cdn.org/"+r+"/"+d.tim+"s.jpg",l.image_url&&((g=new Image).src=l.image_url,l.image=g),l.ppd=function(){var e=new Date,t=new Date(1e3*l.date_new),n=e.getTime()-t.getTime(),a=0;return n>0&&(a=l.replies/(n/1e3/60/60/24)),a}(),c+=1}catch(e){}ge.commit(),n({result:!0})}},l.onerror=function(){a()||n({result:!1})},l.setMethod("GET"),l.setURL("https://a.4cdn.org/"+r+"/catalog.json"),l.loadText();break;case"8chan":if(o||(s=ne.match(new RegExp("(http|https)://(8ch[.]net)/([^/]+)","i")))&&(o=s[2],r=s[3]),!o)return void n({result:!1});K.nodeValue="https://"+o+"/"+r+"/",(l=new us).onload=function(e){var t,i,s,l,c,_,u,p,d,m,g;if(!a()){for(s=(t=ge.getItemList()).length,i=0;i<s;i++)(l=t[i].getData()).number="x",l.ppd=function(){var e=new Date,t=new Date(1e3*l.date_new),n=e.getTime()-t.getTime(),a=0;return n>0&&(a=l.replies/(n/1e3/60/60/24)),a}();c=1;try{for(_=li(e),i=0;i<_.length;i++)for(p=_[i].threads,u=0;u<p.length;u++)d=p[u],(m=ge.createItem(d.no)).setURL("https://"+o+"/"+r+"/res/"+d.no+".html"),(l=m.getData()).number=c,l.id=d.no,l.title=function(){if(d.sub)return d.sub;try{return gr((new DOMParser).parseFromString(d.com,"text/html").body)}catch(e){}return d.com||""}(),l.replies=d.replies,l.images=d.images,l.date_new=d.time,l.image_url=function(){var e,t=function(){if(!d.tim)return null;var e=d.ext||"";return e.match(/[.](bmp|gif|jpg|jpeg|png)/i)||(e=".jpg"),d.tim+e}();return t?"https://media.8ch.net/file_store/thumb/"+t:d.embed&&(e=d.embed.match(new RegExp("//img[.]youtube[.]com/vi/[^/]+/[0-9]+[.]jpg","i")))?"https:"+e[0]:null}(),l.image_url&&((g=new Image).src=l.image_url,l.image=g),l.ppd=function(){var e=new Date,t=new Date(1e3*l.date_new),n=e.getTime()-t.getTime(),a=0;return n>0&&(a=l.replies/(n/1e3/60/60/24)),a}(),c+=1}catch(e){}ge.commit(),n({result:!0})}},l.onerror=function(){a()||n({result:!1})},l.setMethod("GET"),l.setURL("https://8ch.net/"+r+"/catalog.json"),l.loadText();break;case"2ch.hk":if(o||(s=ne.match(new RegExp("(http|https)://(2ch[.]hk)/([^/]+)","i")))&&(o=s[2],r=s[3]),!o)return void n({result:!1});K.nodeValue="https://"+o+"/"+r+"/",l=new us,c="https://2ch.hk/"+r+"/catalog.json",l.onload=function(e){var t,i,s,l,_,u,p,d,m;if(!a()){for(s=(t=ge.getItemList()).length,i=0;i<s;i++)(l=t[i].getData()).number="x",l.ppd=function(){var e=new Date,t=new Date(1e3*l.date_new),n=e.getTime()-t.getTime(),a=0;return n>0&&(a=l.replies/(n/1e3/60/60/24)),a}();_=1;try{for(u=li(e).threads,i=0;i<u.length;i++)p=u[i],(d=ge.createItem(p.num)).setURL("https://"+o+"/"+r+"/res/"+p.num+".html"),(l=d.getData()).number=_,l.id=p.num,l.title=function(){if(p.subject)return p.subject;try{return gr((new DOMParser).parseFromString(p.comment,"text/html").body)}catch(e){}return p.com||""}(),l.replies=p.posts_count,l.images=p.files_count,l.date_new=p.timestamp,l.image_url=function(){try{return Yi(p.files[0].thumbnail,c)}catch(e){}return null}(),l.image_url&&((m=new Image).src=l.image_url,l.image=m),l.ppd=function(){var e=new Date,t=new Date(1e3*l.date_new),n=e.getTime()-t.getTime(),a=0;return n>0&&(a=l.replies/(n/1e3/60/60/24)),a}(),_+=1}catch(e){}ge.commit(),n({result:!0})}},l.onerror=function(){a()||n({result:!1})},l.setMethod("GET"),l.setURL(c),l.loadText();break;case"reddit":if(o||(s=ne.match(new RegExp("https://(www[.]reddit[.]com)/r/([^/]+)","i")))&&(o=s[1],r=s[2]),!o)return void n({result:!1});(s=ne.match(new RegExp("reddit[.]com/r/[^/]+/(hot|new|rising|controversial|top)")))&&(_=s[1]),u="https://"+o+"/r/"+r+"/",_&&(u+=_+"/"),K.nodeValue=u,p=0,d=0,m=function(e){var t,i=new us;i.onload=function(t){var i,r,s,l,c,_,u,g;if(!a()){try{for(i=li(t),e=i.data.after,l=(r=i.data.children).length,s=0;s<l;s++)c=r[s].data,(_=ge.createItem(c.id)).setURL("https://"+o+c.permalink),(u=_.getData()).number=p+1,u.id=c.id,u.title=c.title,u.score=c.score,u.comments=c.num_comments,u.date_new=c.created_utc,c.thumbnail.indexOf("thumbs.redditmedia.com")>=0&&(u.image_url=c.thumbnail),u.image_url&&((g=new Image).src=u.image_url,u.image=g),u.ppd=function(){var e=new Date,t=new Date(1e3*u.date_new),n=e.getTime()-t.getTime(),a=0;return n>0&&(a=u.comments/(n/1e3/60/60/24)),a}(),p+=1}catch(e){}ge.commit(),++d<10&&e?m(e):n({result:!0})}},i.onerror=function(){a()||n({result:!1})},t="https://"+o+"/r/"+r,_&&(t+="/"+_),t+=".json?count="+p+"&limit=100",e&&(t+="&after="+e),i.setMethod("GET"),i.setURL(t),i.loadText()},m();break;default:n({result:!1})}}function I(){ee.src=ae}function C(){L(!be)}function S(){F(!1),N(!ve)}function M(){N(!1),F(!we)}function L(e){be=e,u(),t()}function N(e){var n;ve=e,e&&he<=0&&(n=ho(Is).width-fe-6-6,(he=n*(2/3))<10&&(he=10)),g(),t()}function F(e){var n;we=e,e&&xe<=0&&(n=ho(Is).height-28-6,(xe=n*(2/3))<10&&(xe=10)),g(),t()}function O(){var e,t,n;if(n=!Ae,Z.style.display=n?"block":"none",j(),P(),v(),Ae){switch(e=!Boolean(ye),t=!Boolean(Ee),Te){case"category":e=!1;break;case"catalog":t=!1}oe.setDisabled(!e),re.setDisabled(!t),re.setVisible(!0)}else oe.setDisabled(!1),re.setDisabled(!1),re.setVisible(!1);if(Ae)switch(s(!1),l(!1),c(!1),Te){case"category":s(!0);break;case"catalog":l(!0)}else u(),m(),g()}function D(){j(),P(),v(),le.setVisible(Re)}function j(){var e;e=z(),Y.style.display=e?"block":"none"}function z(){return!Ae&&!Re}function P(){var e;e=U(),$.style.display=e?"block":"none"}function U(){return!Ae&&!Re}function V(e){var t,n,a,i=this;i.setVisible=function(e){t.style.display=e?"inline-block":"none"},i.setDisabled=function(e){t.disabled=e,t.style.opacity=e?.5:1},i.setLabel=function(e){t.value=e},i.setImageURL=function(e){a.src=e},i.setTooltip=function(e){t.title=e},i.onclick=function(){},Oo(t=yo("button"),"position:relative; width:24px; height:24px; vertical-align:top; padding:0px;"),t.onclick=f,e.appendChild(t),Oo(a=yo("img"),Rr()),Fo(a,"vertical-align:top; margin:0px auto; display:block; pointer-events:inherit;"),t.appendChild(a),Oo(n=yo("div"),"position:absolute; left:0px; top:0px; right:0px; bottom:0px; text-align:center;"),t.appendChild(n),t.onclick=function(e){i.onclick&&i.onclick(e)}}var B,H,W,G,Z,$,Y,q,K,J,ee,te,ne,ae,ie,oe,re,se,le,ce,_e,ue,pe,de,me,ge,fe,he,xe,be,ve,we,ye,Ee,ke,Ae,Re,Te,Ie,Ce,Se,Me,Le,Ne=this;Ne.setSite=function(e,t){Se!=e&&(ie.value=Se=e,a(t))},Ne.setCatalog=function(e,t){o(!1),Te="catalog",O(),ne=e,ge.clearItem(),T(t)},Ne.setThread=function(e){r(!1),ae=e,J.nodeValue=e,ee.src=e},Ne.clearThread=function(){r(!0),ae="about:blank",ee.src=ae,J.nodeValue=""},Ne.onreload=function(){},Ne.enableCompactMode=function(e){var n=Ae!=e;Ae=e,n&&(O(),t())},Ne.enableSidebarMode=function(e){var t=Re!=e;Re=e,t&&D()},Ne.setURL=function(e){var t,n,a;e&&(t=e.match(new RegExp("(http|https)://([^/]+)","i")))&&((n=t[2]).match(new RegExp("open2ch[.]net$","i"))?a="open2ch":n.match(new RegExp("shitaraba[.]net$","i"))?a="shitaraba":n.match(new RegExp("(5ch[.]net)$","i"))?a="5ch":n.match(new RegExp("(bbspink[.]com|2ch[.]net)$","i"))?a="2ch":n.match(new RegExp("2chan[.]net$","i"))?a="2chan":n.match(new RegExp("4chan[.]org","i"))?a="4chan":n.match(new RegExp("8ch[.]net|8chan.co","i"))?a="8chan":n.match(new RegExp("2ch[.]hk","i"))?a="2ch.hk":n.match(new RegExp("reddit[.]com$","i"))&&(a="reddit"),a?(Ne.setSite(a),Ne.setCatalog(e)):(Ne.setSite(""),ie.focus()))},Ne.initialize=function(e){var a={result:!1};mo(Ts)?e(a):Is.body?function(e){var t=new p;t.loadLocalStorage(function(){Nr=t,(Fr=new d).importObjectForBackground(Nr.getProject()),e()})}(function(){var s,l,c,u,p,d,m,g,v,k,j,z,P,U,ae,be,ve,we;new dt(Nr.getLanguage()),Ur.setOccupancyTime(Fr.getExecuteQueueOccupancyTime()),Ur.setSleepTime(Fr.getExecuteQueueSleepTime()),ve="data:image/gif;base64,R0lGODlhEAAQAIAAAAAAAP///yH5BAUUAAEALAAAAAAQABAAAAIrjI9pwBDt4Jru2Vsjna919lXKeEimh6UZp1lrCEvkfILyirOby3q1OEsUAAA7",we="data:image/gif;base64,R0lGODlhEAAQAIAAAP///wAAACH5BAUUAAAALAAAAAAQABAAAAIlhI+pyxD/UJDRQDdtptcymFUJGC5k2YzpuJlS02JmjG3dfK9MAQA7",sr(Is.head),sr(Is.body),Oo(s=Is.body,'font-family:"Meiryo","sans-serif"; margin:0px; padding:0px; background-color:#ccc; overflow:hidden; user-select:none; -moz-user-select:none; -webkit-user-select:none;'),Is.title="BBS Board",l=yo("div"),s.appendChild(l),c=l.attachShadow?l.attachShadow({mode:"closed"}):l,Oo(u=yo("div"),"position:absolute; top:0px; left:0px; right:0px; height:28px; color:#fff; background:#000;"),c.appendChild(u),Oo(p=yo("div"),"position:absolute; right:4px; top:2px;"),u.appendChild(p),(le=new V(p)).setImageURL(we),le.setTooltip("reload"),le.onclick=x,Oo(d=yo("div"),"position:absolute; left:4px; top:2px;"),u.appendChild(d),(ie=yo("select")).size=1,ie.onchange=n,Oo(ie,"height:24px; box-sizing:border-box; vertical-align:top;"),d.appendChild(ie),Oo(m=yo("option"),"color:#aaa;"),fr(m,"Select the site ..."),m.value="",ie.appendChild(m),fr(m=yo("option"),"2ch.net"),m.value="2ch",ie.appendChild(m),fr(m=yo("option"),"5ch.net"),m.value="5ch",ie.appendChild(m),fr(m=yo("option"),"5ch.net (PC)"),m.value="5ch_pc",ie.appendChild(m),fr(m=yo("option"),"open2ch.net"),m.value="open2ch",ie.appendChild(m),fr(m=yo("option"),"2chan.net"),m.value="2chan",ie.appendChild(m),fr(m=yo("option"),"4chan.org"),m.value="4chan",ie.appendChild(m),fr(m=yo("option"),"8ch.net"),m.value="8chan",ie.appendChild(m),fr(m=yo("option"),"2ch.hk"),m.value="2ch.hk",ie.appendChild(m),(oe=new V(d)).setImageURL("data:image/gif;base64,R0lGODlhEAAQAIAAAP///wAAACH5BAUUAAAALAAAAAAQABAAAAInRH6gy4bR4oORzWofbnRdy3nc1HWKaYhghoSb62mrmrJyvZWv0wIFADs="),oe.setTooltip("category"),oe.onclick=f,(re=new V(d)).setImageURL("data:image/gif;base64,R0lGODlhEAAQAIAAAP///wAAACH5BAUUAAAALAAAAAAQABAAAAIhhI9pwe2+mEIh1rns27iDDV6NJ0pdGULelD4W+Z5auyoFADs="),re.setTooltip("catalog"),re.onclick=h,(se=new V(d)).setImageURL("data:image/gif;base64,R0lGODlhEAAQAIAAAP///wAAACH5BAUUAAAALAAAAAAQABAAAAIojI9pwO2+VACITvmsTft6/kRKp2XmYmai17Fp+G2a+zZiy6I1I/VGAQA7"),se.setTooltip("thread"),se.onclick=b,Oo(B=yo("div"),"position:absolute; top:28px; left:0px; right:0px; bottom:0px;"),c.appendChild(B),Oo(Z=yo("div"),"position:absolute; width:2px; top:0px; bottom:0px; border-left:2px #fff solid; border-right:2px #666 solid; cursor:col-resize;"),B.appendChild(Z),Oo($=yo("div"),"position:absolute; width:2px; top:0px; bottom:0px; border-left:2px #fff solid; border-right:2px #666 solid; cursor:col-resize;"),B.appendChild($),Oo(Y=yo("div"),"position:absolute; height:2px; bottom:0px; border-top:2px #fff solid; border-bottom:2px #666 solid; cursor:row-resize;"),B.appendChild(Y),function(){function e(e){var n,a,i=!1,o=e.splitter;o.onmousedown=function(o){n&&n.release(),zr.setMouseEvent(o),a=zr.getPositionClient(),(n=$r.createTask()).setDestructorFunc(function(){i=!1,n=null}),n.setExecuteFunc(function(){var o,r,s;if(i||(r=(o=zr.getPositionClient()).x-a.x,s=o.y-a.y,Math.sqrt(r*r+s*s)>=3&&(i=!0,te.style.display="block",e.ondragstart())),i&&(e.ondrag(),t()),!zr.getButtonLeft())return i&&(te.style.display="none",e.ondragend()),void n.release()})},o.onclick=function(t){i||e.onclick(t)}}e({splitter:Z,onclick:C,ondragstart:function(){L(!0)},ondrag:function(){var e=zr.getPositionClient();fe=e.x-3},ondragend:function(){fe<10&&(fe=10,L(!1))}}),e({splitter:$,onclick:S,ondragstart:function(){F(!1),N(!0)},ondrag:function(){var e=ho(Is),t=zr.getPositionClient();he=e.width-t.x-3},ondragend:function(){he<10&&(he=10,N(!1))}}),e({splitter:Y,onclick:M,ondragstart:function(){N(!1),F(!0)},ondrag:function(){var e=ho(Is),t=zr.getPositionClient();xe=e.height-t.y-3},ondragend:function(){xe<10&&(xe=10,F(!1))}})}(),Oo(H=yo("div"),"position:absolute; left:0px; top:0px; bottom:0px; overflow:hidden;"),B.appendChild(H),Oo(W=yo("div"),"position:absolute; top:0px; overflow:hidden;"),B.appendChild(W),Oo(G=yo("div"),"position:absolute; top:0px; overflow:hidden;"),B.appendChild(G),Oo(g=yo("div"),"position:absolute; left:0px; top:0px; right:0px; height:28px; background:#444;"),H.appendChild(g),Oo(d=yo("div"),"position:absolute; left:8px; top:2px; right:56px;"),g.appendChild(d),Oo(p=yo("div"),"position:absolute; right:4px; top:2px;"),g.appendChild(p),Oo(v=yo("div"),"color:#fff; font-size:14px; padding-top:1px; width:100%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"),d.appendChild(v),(q=Is.createTextNode("")).nodeValue="Category Panel",v.appendChild(q),(ce=new V(p)).setImageURL(ve),ce.setTooltip("layout"),ce.onclick=w,(_e=new V(p)).setImageURL(we),_e.setTooltip("reload"),_e.onclick=E,Oo(k=yo("div"),"position:absolute; left:0px; top:28px; right:0px; bottom:0px;"),H.appendChild(k),(me=new Q(k)).onselect=function(e){if(1!=e.button){var t=me.getSelectedItem();return o(!1),Te="catalog",O(),ne=t.getURL(),ge.clearItem(),T(),!1}},y(),Oo(j=yo("div"),"position:absolute; left:0px; top:0px; right:0px; height:28px; background:#444;"),W.appendChild(j),Oo(d=yo("div"),"position:absolute; left:8px; top:2px; right:56px;"),j.appendChild(d),Oo(p=yo("div"),"position:absolute; right:4px; top:2px;"),j.appendChild(p),Oo(z=yo("div"),"color:#fff; font-size:14px; padding-top:1px; width:100%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"),d.appendChild(z),(K=Is.createTextNode("")).nodeValue="Catalog Panel",z.appendChild(K),(ue=new V(p)).setImageURL(ve),ue.setTooltip("layout"),ue.onclick=A,(pe=new V(p)).setImageURL(we),pe.setTooltip("reload"),pe.onclick=R,Oo(P=yo("div"),"position:absolute; left:0px; top:28px; right:0px; bottom:0px;"),W.appendChild(P),(ge=new X(P)).onselect=function(e){if(1!=e.button&&(r(!1),_())){var t=ge.getSelectedItem();return Ne.setThread(t.getURL()),!1}},Oo(U=yo("div"),"position:absolute; left:0px; top:0px; right:0px; height:28px; background:#444;"),G.appendChild(U),Oo(d=yo("div"),"position:absolute; left:8px; top:2px; right:40px;"),U.appendChild(d),Oo(p=yo("div"),"position:absolute; right:4px; top:2px;"),U.appendChild(p),Oo(ae=yo("div"),"color:#fff; font-size:14px; padding-top:1px; width:100%; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;"),d.appendChild(ae),(J=Is.createTextNode("")).nodeValue="Thread Panel",ae.appendChild(J),(de=new V(p)).setImageURL(we),de.setTooltip("reload"),de.onclick=I,Oo(be=yo("div"),"position:absolute; left:0px; top:28px; right:0px; bottom:0px;"),G.appendChild(be),(ee=yo("iframe")).name="thread",ee.frameBorder="0",ee.allowFullscreen=!0,Oo(ee,"position:absolute; display:block; background:#fff; left:0px; top:0px; width:100%; height:100%;"),be.appendChild(ee),Oo(te=yo("div"),"position:absolute; display:none; background:#000; opacity:0.2; left:0px; top:0px; right:0px; bottom:0px;"),be.appendChild(te),O(),D(),i(!0),o(!0),r(!0),Ts.removeEventListener?Ts.removeEventListener("resize",t,!1):Ts.detachEvent&&Ts.detachEvent("onresize",t),Ts.addEventListener?Ts.addEventListener("resize",t,!1):Ts.attachEvent&&Ts.attachEvent("onresize",t),fe=200,he=0,xe=0,t(),a.result=!0,e(a)}):e(a)},fe=0,he=0,xe=0,be=!1,ve=!1,we=!1,ye=!1,Ee=!1,ke=!1,Ae=!1,Re=!1,Te="",Ie=0,Ce=0,Se="",Me=0,Le=0}function Q(e){var t,n,a,i,o,r,s,l,c=this;c.createFolder=function(e){var n,a,r,s,l,_,u,p,d,m=new Object;return m.createItem=function(e){var t,n,a,i=new Object;return i.setLabel=function(e){n.nodeValue=e},i.setTooltip=function(e){t.title=e},i.getURL=function(){return t.href},i.setURL=function(e){t.href=e},d[e]=i,Oo(t=yo("a"),""),t.className="category_item",t.title=e,t.target="_blank",t.onclick=function(e){if(_selected_item=i,c.onselect)return c.onselect(e)},u.appendChild(t),n=Is.createTextNode(""),t.appendChild(n),(a=yo("div")).className="category_item_separator",u.appendChild(a),fr(a,"/"),i},m.setLabel=function(e){l.nodeValue=e},m.setOpen=function(e){var t;(p=Boolean(e))?(r.nodeValue="-",(t=u.style).height="auto",t.paddingBottom="10px"):(r.nodeValue="+",(t=u.style).height="0px",t.paddingBottom="0px")},o[e]=m,d=new Object,Oo(n=yo("div"),"position:relative; margin:2px; margin-bottom:2px; padding:1px;"),t.appendChild(n),(_=yo("div")).className="category_folder",_.onclick=function(){m.setOpen(!p)},n.appendChild(_),Oo(a=yo("div"),"display:inline-block; width:20px; text-align:center;"),_.appendChild(a),r=Is.createTextNode(""),a.appendChild(r),Oo(s=yo("span"),""),_.appendChild(s),l=Is.createTextNode(""),s.appendChild(l),Oo(u=yo("div"),"margin-left:10px; overflow:hidden; line-height:16px; font-size:14px;"),n.appendChild(u),m.setOpen(i),m},c.getFolder=function(e){return o[e]||null},c.setLayoutMode=function(e){var t;switch(e){case"inline":(t=n.style).display="inline-block",t.width="auto",t.whiteSpace="normal",t.overflow="visible",t.wordBreak="break-all",t.wordWrap="break-word",(t=a.style).display="inline";break;case"block":(t=n.style).display="block",t.width="100%",t.whiteSpace="nowrap",t.overflow="hidden",t.wordBreak="normal",t.wordWrap="normal",(t=a.style).display="none"}},c.setOpenMode=function(e){var t;for(t in i=e,o)o[t].setOpen(e)},c.clear=function(){o=new Object,sr(t)},c.getSelectedItem=function(){return _selected_item},c.onselect=function(){},o=new Object,Oo(t=yo("div"),"position:absolute; left:0px; top:0px; right:0px; bottom:0px; overflow-y:scroll; background:#fff;"),e.appendChild(t),r=yo("style"),e.appendChild(r),vr(s=br(r),".category_folder","margin-left:0px; font-size:14px; color:#000; background:#e8e8e8; border-radius:4px; cursor:pointer; padding:2px; user-select:none; -moz-user-select:none; -webkit-user-select:none;",0),vr(s,".category_folder:hover","color:#fff; background:#4281F4;",1),vr(s,".category_item","text-overflow:ellipsis;",2),vr(s,".category_item:hover","background-color:rgba(192,255,160,0.3);",3),vr(s,".category_item_separator","font-size:14px; color:ccc; margin-left:2px; margin-right:2px;",4),l=wr(s),n=l[2],a=l[4],c.setLayoutMode("block")}function X(e){function t(e){var t,n,a,i,o,r,s,l,_=e.getData(),u=e.renderer;if(u.layout_mode!=c)if(sr(e.element),u.update_list=new Array,u.layout_mode=c,"detail"===c)for(t=e.element,a=p.length,n=0;n<a;n++)i=p[n],(o=yo("div")).className="catalog_column_"+n,o.style.cssText="display:inline-block; vertical-align:top;",t.appendChild(o),(r=yo("div")).style.cssText="left:0px; right:0px; top:0px; bottom:0px; padding:4px; padding-top:1px; padding-bottom:1px; border-bottom:1px #eee solid; border-right:1px #ddd solid; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;",r.style.textAlign=i.text_align,o.appendChild(r),(s=new Object).item=e,s.data=_,s.layout_mode=c,s.parent=r,s.onupdate=null,s.column=i,s.key=i.key,L.onUpdateCell(s),s.onupdate&&u.update_list.push(s.onupdate);else(s=new Object).item=e,s.data=_,s.layout_mode=c,s.parent=e.element,s.onupdate=null,L.onUpdateItem(s),s.onupdate&&u.update_list.push(s.onupdate);for(a=(l=u.update_list).length,n=0;n<a;n++)l[n]()}function n(e,t){var n;return n=isNaN(e)||isNaN(t)?String(e).localeCompare(t):Number(e)-Number(t),g?-1*n:n}var a,i,o,r,s,l,c,_,u,p,d,m,g,f,h,x,b,v,w,y,E,k,A,R,T,I,C,S,M,L=this;L.createColumn=function(e){return _[e]||function(e){var t,n,i,r,s=new Object;return s.setLabel=function(e){i.nodeValue=e},s.setTextAlign=function(e){s.text_align=e},s.setWidthMin=function(e){s.width_min=e},s.setWidthMax=function(e){s.width_max=e},s.setWidth=function(e){s.width=e,s.width_auto=!1},s.setSortIcon=function(e){var t=n.style;switch(e){case"up":t.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAOAgMAAABvOLUFAAAAA3NCSVQICAjb4U/gAAAACVBMVEX////o6Ojo6OgQrkfNAAAAA3RSTlMARP9DYaFSAAAACXBIWXMAAAsSAAALEgHS3X78AAAAFnRFWHRDcmVhdGlvbiBUaW1lADEyLzMwLzE1azlJyQAAACF0RVh0U29mdHdhcmUATWFjcm9tZWRpYSBGaXJld29ya3MgNC4w6iYndQAAAB5JREFUeJxj4GBgACItMFrVAEIQEOoAQqIMIMQCQgBf3AQV/YKvewAAAABJRU5ErkJggg==)";break;case"down":t.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAOAgMAAABvOLUFAAAAA3NCSVQICAjb4U/gAAAACVBMVEX////o6Ojo6OgQrkfNAAAAA3RSTlMARP9DYaFSAAAACXBIWXMAAAsSAAALEgHS3X78AAAAFnRFWHRDcmVhdGlvbiBUaW1lADEyLzMwLzE1azlJyQAAACF0RVh0U29mdHdhcmUATWFjcm9tZWRpYSBGaXJld29ya3MgNC4w6iYndQAAAB5JREFUeJxjYGFgACJRMAp1ACEIWNUAQloMIMQBQgBM1AQV4OptKwAAAABJRU5ErkJggg==)";break;default:t.backgroundImage="none"}},s.key=e,_[e]=s,r=p.length,p.push(s),s.text_align="left",s.width=0,s.width_min=0,s.width_max=65535,s.width_auto=!0,s.index=r,Oo(t=yo("div"),"position:relative; display:inline-block; vertical-align:top; height:24px;"),t.className="catalog_column_"+r,t.draggable=!0,t.ondragstart=function(t){if(E||"center"!=b)return!1;t.dataTransfer.setData("text",e)},a.appendChild(t),(n=yo("div")).className="catalog_column",t.appendChild(n),i=Is.createTextNode(""),n.appendChild(i),wr(o)[r]||vr(o,".catalog_column_"+r,"width:200px;",r),s.element=t,s.setSortIcon(""),s}(e)},L.createItem=function(e){return u[e]||function(e){function a(e){var t,n,a,o,r=e,l=s.index,c=d.length;if(d[r]&&(t=d[r].element),r<l)for(d.splice(l,1),n=d.slice(0,r),a=d.slice(r),d=n.concat([s],a);r<c;r++)d[r].index=r;else for((n=d.slice(0,r)).splice(l,1),a=d.slice(r),d=n.concat([s],a);l<c;l++)d[l].index=l;o=s.element,i.insertBefore(o,t)}function o(e){if(x=s,L.onselect)return L.onselect(e)}var r,s=new Object;return s.getData=function(){return s.data},s.getURL=function(){return r.href},s.setURL=function(e){r.href=e},s.commit=function(){!function(e){var t,i,o,r,l;if(e=s.index,i=d[e].data[m],e+1>=(o=d.length))t=!0;else if(0>n(i,d[e+1].data[m]))t=!0;else if(e<=0)t=!1;else{if(!(0>n(d[e-1].data[m],i)))return;t=!1}if(t){for(r=e,l=1;r>=l&&!(0>n(d[r-1].data[m],i));)r--;e!=r&&a(r)}else{for(r=e+1,l=o;r<l&&!(0>n(i,d[r].data[m]));)r++;e!=r&&a(r)}}(),t(s)},function(){s.key=e,u[e]=s,s.renderer=new Object;var t=d.length;d.push(s),s.index=t,s.data=new Object,(r=yo("a")).className="catalog_item",r.target="_blank",r.onclick=o,i.appendChild(r),s.element=r}(),s}(e)},L.update=function(){var e,n,a;e=h+=1,n=0,a=function(){if(e==h){var i=d[n];n++,i&&(t(i),Ur.attachFirst(a,null))}},Ur.attachLast(a,null)},L.commit=function(){L.sort(),L.update()},L.getItemList=function(){return d.slice(0)},L.resize=function(){var e,t,n,s,l,_,u,d,m,g,h,x,b,v;switch(c){case"detail":if(e=jo(a),t=wr(o),n=e.right-e.left,s=new Array,u=p.length){for(d=n,m=0,l=0;l<u;l++){for((h={index:l,auto:(g=p[l]).width_auto}).auto?(d-=g.width_min,h.value=h.min=g.width_min,h.max=g.width_max,m+=1):(d-=g.width,h.value=h.min=h.max=g.width),_=0;_<l&&!(s[_].max>h.max);_++);s.splice(_,0,h)}if(d>0)for(m&&(d/=m),l=0;l<u;l++)(h=s[l]).auto&&(m-=1,(x=h.min+d-h.max)>0?(m&&(d=(d*m+x)/m),h.value=h.max):h.value+=d);for(b=0,l=0;l<u;l++)t[(h=s[l]).index].style.width=h.value+"px",b+=h.value;b<n&&(b=n),r.style.width=b+"px"}break;case"large_icon":d=(e=jo(i)).right-e.left-1,d-=i.offsetWidth-(i.clientWidth+i.clientLeft),d-=4,u=Math.floor(d/f.width),v=(d-f.width*u)/u,r.style.width=f.width+v-4+"px";default:r.style.width="audo"}},L.setLayoutMode=function(e){var t;switch(c=e){case"detail":(t=r.style).display="block",t.margin="0px",t.width="auto",t.height="auto",t.minHeight="0",t.whiteSpace="nowrap",t.border="hidden",(t=i.style).padding="0px",t.lineHeight="1.0";break;case"list":(t=r.style).display="block",t.margin="0px",t.marginBottom="2px",t.width="auto",t.height="auto",t.minHeight="0",t.whiteSpace="normal",t.border="1px solid #ddd",(t=i.style).padding="4px",t.lineHeight="13px";break;case"large_icon":(t=r.style).display="inline-block",t.margin="0px",t.marginRight="2px",t.marginBottom="2px",t.width=f.width+"px",t.height="auto",t.minHeight=f.height+"px",t.whiteSpace="normal",t.border="1px solid #ddd",(t=i.style).padding="0px",t.paddingLeft="4px",t.paddingTop="4px",t.lineHeight="13px";break;case"small_icon":(t=r.style).display="inline",t.margin="0px",t.marginRight="8px",t.width="auto",t.height="auto",t.minHeight="0",t.whiteSpace="normal",t.border="hidden",(t=i.style).padding="4px",t.lineHeight="14px"}"detail"===e?((t=a.style).display="block",(t=i.style).top="24px"):((t=a.style).display="none",(t=i.style).top="0px"),"small_icon"===e?(kr(s.style,"background-color"),kr(l.style,"background-color")):(yr(s.style,"background-color","#fafafa"),yr(l.style,"background-color","#ffffff")),L.resize(),L.update()},L.setTargetMode=function(){},L.onselect=function(){},L.onUpdateCell=function(){},L.onUpdateItem=function(){},L.sort=function(e,t){var a,o,r,s,l,c;for(void 0!==e&&(m=e),void 0!==t&&(g=t),r=p.length,a=0;a<r;a++)p[a].setSortIcon("");for(_[m].setSortIcon(g?"down":"up"),a=(r=d.length)-1;a>0;a--)for(o=a-1;o>=0;o--)0<n(d[o].data[m],d[a].data[m])&&(s=d[a],d[a]=d[o],d[o]=s);for(r&&((c=d[r-1]).index=r-1,i.lastChild!=c.element&&i.appendChild(c.element),l=c.element),a=r-2;a>=0;a--)(c=d[a]).index=a,l.previousSibling!=c.element&&i.insertBefore(c.element,l),l=c.element},L.moveColumn=function(e,t){var n,i,o,r,s,l,c=_[e];if(c){for((n=c.index)>t&&(t+=1),i=p[n],p.splice(n,1),t<0?p.unshift(i):p.splice(t,0,i),o=new Array,l=(r=a.childNodes).length,s=0;s<l;s++)o.push(r[s]);for(i=o[n],o.splice(n,1),t<0?o.unshift(i):o.splice(t,0,i),s=0;s<l;s++)(c=p[s]).index=s,a.appendChild(o[s]),o[s].className="catalog_column_"+s;for(l=d.length,s=0;s<l;s++)d[s].renderer.layout_mode="";L.resize(),L.update()}},L.clear=function(){L.clearColumn(),L.clearItem()},L.clearColumn=function(){_=new Object,p=new Array,sr(a)},L.clearItem=function(){h+=1,u=new Object,d=new Array,sr(i)},L.setBlockSize=function(e,t){f.width=e,f.height=t},L.getSelectedItem=function(){return x},E=!1,_=new Object,u=new Object,p=new Array,d=new Array,f={width:100,height:100},h=0,Oo(a=yo("div"),"position:absolute; left:0px; top:0px; right:0px; white-space:nowrap; height:24px; overflow:hidden; background:#888;"),e.appendChild(a),a.onmousemove=function(e){var t,n,i,o=function(){var e,t=new Array,n=a.childNodes,i=n.length;for(e=0;e<i;e++)t.push(jo(n[e]));return t}(),r=e.clientX,s=(e.clientY,o.length);for(w=s-1,t=0;t<s;t++)if(r<(n=o[t]).right){w=t;break}for(v=s-1,t=0;t<s;t++)if(r<(n=o[t]).right-6){v=t-1;break}for(y=s-1,t=0;t<s;t++)if(r<(n=o[t]).left+.5*(n.right-n.left)){y=t-1;break}for(b="center",t=0;t<s;t++){if(n=o[t],t<=0);else if(r<n.left+6){b="border";break}if(r<n.right-6)break}t>=s&&(b="border"),i="border"==b||!!E,a.style.cursor=i?"col-resize":"pointer"},a.onclick=function(){if("center"==b){var e=p[w];e&&L.sort(e.key,!g)}},a.ondblclick=function(){var e,t,n,i,o,r,s,l;if("border"==b&&(e=p[v])){for(t=10,i=d.length,n=0;n<i;n++)try{"detail"==(o=d[n]).renderer.layout_mode&&((r=o.element.childNodes[v].cloneNode(!0)).className="",r.style.cssText="position:absolute; left:0px; top:0px;",a.appendChild(r),s=jo(r),a.removeChild(r),t<(l=s.right-s.left)&&(t=l))}catch(e){}e.setWidth(t),L.resize()}},a.ondragover=function(e){return a.onmousemove(e),!1},a.ondrop=function(e){var t;try{t=e.dataTransfer.getData("text"),L.moveColumn(t,y)}catch(e){}return!1},M=null,a.onmousedown=function(e){zr.setMouseEvent(e),C&&C.release(),a.onmousemove(e),"border"==b&&(S=zr.getPositionClient(),(M=p[v])&&((C=$r.createTask()).setDestructorFunc(function(){E=!1,M=null,C=null}),C.setExecuteFunc(function(){var e,t,n,a,i;zr.getButtonLeft()?(E||(t=(e=zr.getPositionClient()).x-S.x,n=e.y-S.y,Math.sqrt(t*t+n*n)>=3&&(E=!0)),E&&(a=jo(M.element),(i=(e=zr.getPositionClient()).x-a.left)<10&&(i=10),M.setWidth(i),L.resize())):C.release()})))},Oo(i=yo("div"),"position:absolute; left:0px; top:32px; right:0px; bottom:0px; font-size:12px; line-height:1.0; overflow-x:auto; overflow-y:scroll; background:#fff;"),e.appendChild(i),k=function(){var e,t=yo("div");return Oo(t,"position:absolute; left:0px; top:0px; width:100px; overflow-y:scroll;"),Is.body.appendChild(t),e=t.offsetWidth-(t.clientWidth+t.clientLeft),rr(t),e}(),a.style.right=k+"px",i.onscroll=function(){a.scrollLeft=i.scrollLeft},A=yo("style"),e.appendChild(A),R=yo("style"),e.appendChild(R),vr(T=br(A),".catalog_item","margin:2px; vertical-align:top; text-decoration:none; border-radius:4px; user-select:none; -moz-user-select:none; -webkit-user-select:none;",0),vr(T,".catalog_item:nth-child(2n)","",1),vr(T,".catalog_item:nth-child(2n+1)","",2),vr(T,".catalog_item:hover","background-color:rgba(192,255,160,0.3);",3),vr(T,".catalog_column","font-size:14px; background-color:#646464; color:#fff; border-right:1px #888 solid; border-bottom:1px #888 solid; position:absolute; top:0px; bottom:0px; left:0px; right:0px; overflow:hidden; padding-left:4px; padding-top:2px; padding-right:10px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; text-align:center; background-repeat:no-repeat; background-position:center right; user-select:none; -moz-user-select:none; -webkit-user-select:none;",4),vr(T,".catalog_column:hover","background-color:#4281F4;",5),I=wr(T),r=I[0],s=I[1],l=I[2],I[3],o=br(R),L.setLayoutMode("detail")}function K(e){function t(){l=0,Ur.attachFirstForInsertDomNode(n,null)}function n(){for(;e;){if(u)for(;u[s];)if(i={node:u[s]},o=(r=_).p,i.p=o,i.n=r,o.n=i,r.p=i,s++,++l>c)return void t();switch(e.nodeType){case 1:Ur.attachForAnalyzeElement(J,e);break;case 3:ee(e)}if(Ts.addEventListener||Ye(e),i=_.n,o=i.p,r=i.n,o.n=r,r.p=o,(e=i.node)&&(s=0,u=e.childNodes,(a=os.getAnalyzeWork(e))&&a.a_inv&&(u=null)),++l>c)return void t()}}var a,i,o,r,s=0,l=0,c=100,_=new Object,u=e.childNodes;_.p=_,_.n=_,(a=os.getAnalyzeWork(e))&&a.a_inv||n()}function J(e){var t,n,a,i;if(!os.verifyGuest(e)&&!e.isContentEditable){if(os.verifyClone(e))return(t=new Tt).executeRemoveElementBefore(e),rr(e),void t.executeRemoveElementAfter(e);(n=os.getAnalyzeWork(e))||(n=Nt(e)),Ut(n)||("A"==e.tagName?(da(n),a=Kr.createElement(),la(n,a),a.setElement(e,"href"),a.setFunction(function(){na(n);var t=ra(n);t&&(t.dispatchEvent("anchor_href_change",null),t.dispatchEvent("release",null)),Jt(n),nn(n),gn(n),xn(n),wn(n),kn(n),Sn(n),Nn(n),Dn(n),rn(n),cn(n),J(e)}),ra(n).createEventHandler("destructor").setFunction(function(){a&&(a.release(),a=null,sa(n))}),Dt(n,e)):"IFRAME"==e.tagName&&da(n)),le(i={modify:ta(n),work:n}),Vn(n)||(Un(n),Ur.attachForExpandElement(se,i)),Fr.getEnableExpandBbs()&&(ss.initialized?ss.enable&&Ur.attachForExpandBbs(fe,i):ss.node_queue.push(i)),Fr.getEnableReplacementToAnchor()?Ur.attachForExpandElement(ue,i):te(i),Fr.getEnableReplacementToElement()?Ur.attachForExpandElement(ce,i):re(i)}}function ee(e){var t,n=os.getAnalyzeWork(e);n||(n=Nt(e)),t={modify:ta(n),work:n},Fr.getEnableReplacementToText()?Ur.attachForAnalyzeTextNode(_e,t):ie(t)}function te(e){aa(e.work,e.modify)&&(Fr.getEnableExpandShortUrl()?Ur.attachForExpandElement(me,e):ae(e))}function ne(e){aa(e.work,e.modify)&&(Fr.getEnableReplacementToAnchor()?Ur.attachForExpandElement(ue,e):ae(e))}function ae(e){aa(e.work,e.modify)&&(Fr.getEnableReplacementToLink()?Ur.attachForExpandElement(pe,e):Ur.attachForExpandElement(oe,e))}function ie(e){aa(e.work,e.modify)&&Fr.getEnableMakeLinkToText()&&Ur.attachForAnalyzeTextNode(de,e)}function oe(e){var t,n,a,i,o,r=e.work;if(aa(r,e.modify)&&(t=Ft(r),(n=jt(r))&&"A"==n.tagName&&lr(t))){if(void 0===(a=hr(t,"head *,script *,style *")))for(i=t,o={HEAD:1,SCRIPT:1,STYLE:1};i;){if(o[i.tagName])return;i=i.parentNode}else if(a)return;ln(r)||sn(r,n.href),Fr.getEnableExpandText()&&(vn(r)||(bn(r),Ur.attachForExpandElement(Ee,e))),Fr.getEnableExpandImage()&&(En(r)||(yn(r),Fr.getEnableThumbnailImage()&&Ur.attachForExpandElement(ke,e)),Rn(r)||(An(r),Fr.getEnablePopupImage()&&Ur.attachForExpandElement(Ae,e))),Fr.getEnableExpandSound()&&(Ln(r)||(Mn(r),Ur.attachForExpandElement(Re,e))),Fr.getEnableExpandVideo()&&(On(r)||(Fn(r),Ur.attachForExpandElement(Se,e))),Fr.getEnableExpandIframe()&&(zn(r)||(jn(r),Ur.attachForExpandElement(De,e)))}}function re(e){var t=e.work;aa(t,e.modify)&&(Fr.getEnablePopupReducedImage()&&Ur.attachForExpandElement(ge,e),Ft(t),Ht(t)&&jt(t)&&(Fr.getEnableReplacementToAnchor()?Ur.attachForExpandElement(ue,e):te(e)))}function se(e){var t,n=e.work;aa(n,e.modify)&&"IFRAME"==(t=Ft(n)).tagName&&lr(t)&&je(e)}function le(e){var t,n,a=e.work;aa(a,e.modify)&&("IMG"==(n=(t=Ft(a)).tagName)&&0==t.src.search(new RegExp("^(http|https)://"))&&(Fr.getDisableSameThumbnailImage()&&t.src&&Zr.addAddress("image",t.src),Hr.createItem().setURL(t.src)),Fr.getDisableSameInlineSound()&&"AUDIO"==n&&t.src&&Zr.addAddress("sound",t.src),Fr.getDisableSameInlineVideo()&&("EMBED"==n&&t.src&&Zr.addAddress("video",t.src),"OBJECT"==n&&t.src&&Zr.addAddress("video",t.src),"IFRAME"==n&&t.src&&Zr.addAddress("video",t.src)),Fr.getDisableSameInlineIframe()&&"IFRAME"==n&&t.src&&Zr.addAddress("iframe",t.src),((Ho(t,null)||{}).backgroundImage||"").replace(new RegExp("url[(]([^)]*?)[)]","ig"),function(e,t){t=Yi(t=Ki(t)||t,go(Ts)),Hr.createItem().setURL(t)}))}function ce(e){var t=e.work;aa(t,e.modify)&&lr(Ft(t))&&he(e)}function _e(e){var t,n,a,i,o,r=e.work;if(aa(r,e.modify)&&(n=(t=Ft(r)).parentNode)&&lr(n)){if(void 0===(a=hr(n,"script *,style *,script,style")))for(i=t,o={SCRIPT:1,STYLE:1};i;){if(o[i.tagName])return;i=i.parentNode}else if(a)return;xe(e)}}function ue(e){var t,n,a,i,o,r=e.work;if(aa(r,e.modify)&&(t=Ft(r),(n=jt(r))&&"A"==n.tagName&&lr(t))){if(void 0===(a=hr(t,"head *,script *,style *")))for(i=t,o={HEAD:1,SCRIPT:1,STYLE:1};i;){if(o[i.tagName])return;i=i.parentNode}else if(a)return;n.name&&!n.href||be(e)}}function pe(e){var t,n,a,i,o,r=e.work;if(aa(r,e.modify)&&(t=Ft(r),(n=jt(r))&&"A"==n.tagName&&lr(t))){if(void 0===(a=hr(t,"head *,script *,style *")))for(i=t,o={HEAD:1,SCRIPT:1,STYLE:1};i;){if(o[i.tagName])return;i=i.parentNode}else if(a)return;n.href&&ve(e)}}function de(e){var t,n,a,i,o,r=e.work;if(aa(r,e.modify)&&(n=(t=Ft(r)).parentNode)&&lr(n)){if(void 0===(a=hr(n,"script *,style *,a *,textarea *,script,style,a,textarea")))for(i=t,o={SCRIPT:1,STYLE:1,A:1,TEXTAREA:1};i;){if(o[i.tagName])return;i=i.parentNode}else if(a)return;we(e)}}function me(e){var t,n,a,i,o,r=e.work;if(aa(r,e.modify)&&(t=Ft(r),(n=jt(r))&&"A"==n.tagName&&lr(t))){if(void 0===(a=hr(t,"head *,script *,style *")))for(i=t,o={HEAD:1,SCRIPT:1,STYLE:1};i;){if(o[i.tagName])return;i=i.parentNode}else if(a)return;n.href&&ye(e)}}function ge(e){var t,n=e.work;aa(n,e.modify)&&"IMG"==(t=Ft(n)).tagName&&lr(t)&&ze(e)}function fe(e){var t,n,a,i,o=e.work;if(aa(o,e.modify)&&lr(t=Ft(o))){if(void 0===(n=hr(t,"head *,script *,style *")))for(a=t,i={HEAD:1,SCRIPT:1,STYLE:1};a;){if(i[a.tagName])return;a=a.parentNode}else if(n)return;Ue(e)}}function he(e){var t,n,a,i=e.work,o=e.modify;aa(i,o)&&(t=Ft(i),n=!1,qt(i)||(Yt(i),a={element:t},Fr.executeScriptReplacementToElement(a,function(t){if(aa(i,o)&&!n){if(n=!0,t.url){if(!Ht(i)){var a=yo("a");a.href=t.url,Dt(i,a),Bt(i),Gt(i)}da(i)}re(e)}})))}function xe(e){var t,n,a=e.work,i=e.modify;aa(a,i)&&(t=Ft(a),n=!1,Kt(a)||(Xt(a),Fr.executeScriptReplacementToText(t,function(){aa(a,i)&&(n||(n=!0,ie(e)))})))}function be(e){var t,n,a=e.work,i=e.modify;aa(a,i)&&(Ft(a),t=jt(a),n=!1,tn(a)||(en(a),Fr.executeScriptReplacementToAnchor(t,a.event_dispatcher,function(){aa(a,i)&&(n||(n=!0,hn(a)?ae(e):te(e)))})))}function ve(e){var t,n,a,i=e.work,o=e.modify;aa(i,o)&&(Ft(i),t=jt(i),n=Fr.getReplacementToLink(t),a=!1,on(i)||(an(i),n.getResult(function(n){var r,s,l,c,_;if(aa(i,o)&&!a){if(a=!0,r=n.getResult(),n.getEnableReflectToAnchor()&&r.result&&((s=ca(i))&&s.setBaseValue(r.url),t.href=r.url),r.result&&(r.url&&sn(i,r.url),r.content_type))try{for(_=(l=r.content_type).length,c=0;c<_;c++)"string"==typeof l[c]&&_n(i,l[c])}catch(e){}Ur.attachForExpandElement(oe,e)}})))}function we(e){var t,n,a=e.work,i=e.modify;aa(a,i)&&(t=Ft(a),n=!1,mn(a)||(dn(a),Fr.executeScriptMakeLinkToText(t,function(){aa(a,i)&&(n||(n=!0))})))}function ye(e){function t(t){aa(r,s)&&(a||(a=!0,t?(Jt(r),Ur.attachForExpandElement(ne,e)):ae(e)))}var n,a,i,o,r=e.work,s=e.modify;aa(r,s)&&(Ft(r),n=jt(r),a=!1,hn(r)||(fn(r),(i=n.href)&&Fr.checkExpandShortUrl(i)?((o=new us).onload=function(e){if(aa(r,s)){var a=ca(r);a&&a.setBaseValue(e),n.href=e,t(i!=e)}},o.onerror=function(){aa(r,s)&&t(!1)},o.setURL(i),o.setSendData(null),o.loadFinalURL()):t(!1)))}function Ee(e){var t,n=e.work,a=e.modify,i=Ft(n),o=ln(n);o=Fr.fixURL_PassiveContent(o),t=un(n),aa(n,a)&&Fr.executeScriptAllowInlineText(i,o,t,function(e){function t(){s.dispatchEvent("release",null)}function r(){l&&(l.onload=null,l.onerror=null,l=null),u&&(Zr.removeAddress("text",u),u=null),p&&(p.release(),p=null),d&&(d.release(),d=null),_&&(os.removeAnalyzeWork(_),_=null),c&&(rr(c),c=null)}var s,l,c,_,u,p,d;if(aa(n,a)&&e.result){if(s=ra(n),l=null,c=null,_=null,u=o,p=null,d=null,Fr.getDisableSameInlineText()){if(Zr.hasAddress("text",u))return u=null,void r();Zr.addAddress("text",u)}(p=s.createEventHandler("release")).setFunction(r),(l=new us).onload=function(e){(c=yo("textarea")).value=e,Oo(c,Fr.getStyleSheetExpandTextInline(u)),_=Nt(c);var a=new ma;a.SetOutsider(),os.attachAnalyzeWork(_,a),(d=new pr(c)).setFunction(t),Fr.executeScriptInsertInlineText(i,c,n.event_dispatcher,function(){})},l.onerror=function(){},l.setMethod("GET"),l.setURL(u),l.loadText()}})}function ke(e){var t,n,a=e.work,i=e.modify,o=Ft(a),r=ln(a);r=Fr.fixURL_PassiveContent(r),t=un(a),aa(a,i)&&(n={element:o,url:r,content_type:t,is_overridden_url:Zt(a)},Fr.executeScriptAllowThumbnailImage(n,function(e){function t(){if(u&&(u.onload=null,u.onerror=null,u=null),n(),g&&(Zr.removeAddress("image",g),g=null),f&&(f.release(),f=null),h&&(h.release(),h=null),b&&(b.release(),b=null),m&&(os.removeAnalyzeWork(m),m=null),d){var e=new Tt;e.executeRemoveElementBefore(d),rr(d),e.executeRemoveElementAfter(d),d=null}c()}function n(){p&&(p.suicide(),p=null)}function s(){t(),Tn(a),x&&(x.release(),x=null)}function l(){_.dispatchEvent("release",null)}function c(){x&&(x.onattach=function(){Fr.getEnableLoadNotifyExpandImage()&&(b=es.createElement()),b&&(b.setElementHitArea(o),b.setNotify(yt.NOTIFY_TYPE_LOADING)),(u=new us).onload=function(e){var t,i;Hn(m=Nt(d=e)),(t=new ma).SetOutsider(),os.attachAnalyzeWork(m,t),b&&(b.setNotify(yt.NOTIFY_TYPE_COMPLETE),b.release(),b=null),i=Mr(d),x.setByteSize(i.width*i.height*4),ts.removeOldElements(),d&&(Oo(d,Fr.getStyleSheetExpandImageThumbnail(g)),Fr.executeScriptInsertThumbnailImage(o,d,a.event_dispatcher,function(){function e(){if(Fr.getEnablePopupMouseoverToThumbnailImage()){Pe(o);var e=new us;e.setURL(g),e.onload=function(e){d&&((p=new rt(e)).setElementParent(Is.body),p.setElementAnchor(d),p.setElementHitArea(d),p.setElementBeginArea(d),p.setOriginalURL(g),In(a,p))},e.loadImage()}}var t;d&&((h=new pr(d)).setFunction(l),t=d.src,x.onattach=function(){d.src=t,e()},x.onremove=function(){d.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEHAAAALAAAAAABAAEAAAICRAEAOw==",n()},x.setElementHitArea(d),new ct(d).setOriginalURL(g),e())}))},u.onerror=function(){b&&b.setNotify(yt.NOTIFY_TYPE_ERROR)},u.setMethod("GET"),u.setURL(g),u.loadImage()},x.onremove=function(){t()},x.setElementHitArea(o),x.setEnablePreload(Fr.getEnablePreLoadThumbnailImage()))}var _,u,p,d,m,g,f,h,x,b;if(aa(a,i)&&e.result){if(_=ra(a),u=null,p=null,d=null,m=null,g=r,f=null,h=null,x=null,b=null,Hr.createItem().setURL(g),Fr.getDisableSameThumbnailImage()){if(Zr.hasAddress("image",g))return g=null,void s();Zr.addAddress("image",g)}(f=_.createEventHandler("release")).setFunction(s),x=ts.createElement(),c(),x.update()}}))}function Ae(e){var t,n,a=e.work,i=e.modify,o=Ft(a),r=ln(a);r=Fr.fixURL_PassiveContent(r),t=un(a),aa(a,i)&&(n={element:o,url:r,content_type:t,is_overridden_url:Zt(a)},Fr.executeScriptAllowPopupImage(n,function(e){function t(){c&&(c.onload=null,c.onerror=null,c=null),_&&(_.suicide(),_=null),p&&(p.release(),p=null),d&&(d.release(),d=null),g&&(g.release(),g=null)}function n(){t(),Tn(a),m&&(m.release(),m=null)}function s(){l.dispatchEvent("release",null)}var l,c,_,u,p,d,m,g;aa(a,i)&&e.result&&(l=ra(a),c=null,_=null,u=null,p=null,d=null,m=null,g=null,Hr.createItem().setURL(r),(p=l.createEventHandler("release")).setFunction(n),(m=ts.createElement()).onattach=function(){Fr.getEnableLoadNotifyExpandImage()&&(g=es.createElement()),g&&(g.setElementHitArea(o),g.setNotify(yt.NOTIFY_TYPE_LOADING)),(c=new us).onload=function(e){var t,i;if(t=Mr(e),m.setByteSize(t.width*t.height*4),ts.removeOldElements(),c){if(t.width>1);else if(!(t.height>1))return void n();!function(){var e,t,n,a,i=null;for("IMG"==o.tagName&&Bo(o)&&(i=o),n=(e=Co(o,"img")).length,t=0;t<n;t++)if(Bo(a=e[t])){if(i)return;i=a}i&&(u=i)}(),u||(i=dr(o)).bottom-i.top>t.height||i.right-i.left>t.width||(u=o),Pe(o),u&&(d=new pr(u)),d&&d.setFunction(s),(_=new rt(e)).setElementParent(Is.body),_.setElementAnchor(o),_.setElementHitArea(o),_.setElementBeginArea(u),_.setOriginalURL(r),In(a,_),g&&(g.setNotify(yt.NOTIFY_TYPE_COMPLETE),g.release(),g=null),Vo(o,zr.getPositionClient(),!0)&&_.popup()}},c.onerror=function(){g&&g.setNotify(yt.NOTIFY_TYPE_ERROR)},c.setMethod("GET"),c.setURL(r),c.loadImage()},m.onremove=function(){t()},m.setElementHitArea(o),m.setEnablePreload(Fr.getEnablePreLoadPopupImage()),m.update())}))}function Re(e){var t,n=e.work,a=e.modify,i=Ft(n),o=ln(n),r=un(n);aa(n,a)&&(t={element:i,url:o,content_type:r,is_overridden_url:Zt(n)},Fr.executeScriptAllowInlineSound(t,function(t){aa(n,a)&&t.result&&(Te(e),Ie(e),Ce(e))}))}function Te(e){var t,n=e.work,a=e.modify,i=Ft(n),o=ln(n);o=Fr.fixURL_PassiveContent(o),t=un(n),aa(n,a)&&Fr.executeScriptAllowAudioElement(i,o,t,function(e){function t(){s.dispatchEvent("release",null)}function r(){l&&(l.onload=null,l.onerror=null,l=null),u&&(Zr.removeAddress("sound",u),u=null),p&&(p.release(),p=null),d&&(d.onremove=null,d.release(),d=null),m&&(m.release(),m=null),g&&(g.release(),g=null),_&&(os.removeAnalyzeWork(_),_=null),c&&(rr(c),c=null)}var s,l,c,_,u,p,d,m,g;if(aa(n,a)&&e.result){if(s=ra(n),l=null,c=null,_=null,u=o,p=null,d=null,m=null,g=null,Fr.getDisableSameInlineSound()){if(Zr.hasAddress("sound",u))return u=null,void r();Zr.addAddress("sound",u)}(p=s.createEventHandler("release")).setFunction(r),(l=new us).onload=function(e){var a;_=Nt(c=e),(a=new ma).SetOutsider(),os.attachAnalyzeWork(_,a),Oo(c,Fr.getStyleSheetExpandSoundInlineAudioElement(u)),(m=new pr(c)).setFunction(t),(g=new ut(c)).createEventHandler("close").setFunction(t),Fr.executeScriptInsertInlineSound(i,c,n.event_dispatcher,function(){c&&((d=as.createElement()).onattach=function(){},d.onremove=function(){c.preload="none",c.load()},d.setElementHitArea(c),d.update())})},l.onerror=function(){},l.setMethod("GET"),l.setURL(u),l.loadAudio()}})}function Ie(e){function t(){Fr.getVisiblePlayerHtml5Soundcloud()&&function(){function e(){i.dispatchEvent("release",null)}function t(){a&&(Zr.removeAddress("sound",a),a=null),_&&(_.release(),_=null),u&&(u.onremove=null,u.release(),u=null),p&&(p.release(),p=null),d&&(d.release(),d=null),s&&(os.removeAnalyzeWork(s),s=null),o&&(rr(o),o=null)}var n,a="https://w.soundcloud.com/player/?url="+encodeURIComponent(c),i=ra(r),o=null,s=null,_=null,u=null,p=null,d=null;if(Fr.checkAllowExpandIframeElement(a)){if(Fr.getDisableSameInlineSound()){if(Zr.hasAddress("sound",a))return a=null,void t();Zr.addAddress("sound",a)}(_=i.createEventHandler("release")).setFunction(t),(o=yo("iframe")).frameBorder="0",o.scrolling="no",o.allowFullscreen=!0,Oo(o,Fr.getStyleSheetExpandSoundSoundcloudInlinePlayerHtml5()),o.style.height=parseInt(166)+"px",s=Nt(o),(n=new ma).SetOutsider(),os.attachAnalyzeWork(s,n),(p=new pr(o)).setFunction(e),(d=new ut(o)).createEventHandler("close").setFunction(e),Fr.executeScriptInsertInlineSound(l,o,r.event_dispatcher,function(){o&&((u=as.createElement()).onattach=function(){o.src=a},u.onremove=function(){o.src=""},u.setElementHitArea(o),u.update())})}else t()}()}var n,a,i,o,r=e.work,s=e.modify,l=Ft(r),c=ln(r);if(aa(r,s)){for(i=(n=["*://soundcloud.com/*","*://*.soundcloud.com/*"]).length,a=0;a<i;a++)if(Gi(Is.URL,n[a]))return;if(Fr.getVisiblePlayerHtml5Soundcloud())for(i=(o=["(http|https)://soundcloud\\.com/.+?/.+([?]|$)"]).length,a=0;a<i;a++)if(c.match(new RegExp(o[a],"i")))return void t()}}function Ce(e){function t(e){function t(){i.dispatchEvent("release",null)}function n(){s&&(Zr.removeAddress("sound",s),s=null),l&&(l.release(),l=null),_&&(_.onremove=null,_.release(),_=null),p&&(p.release(),p=null),d&&(d.release(),d=null),r&&(os.removeAnalyzeWork(r),r=null),o&&(rr(o),o=null)}var a,i=ra(c),o=null,r=null,s="https://www.mixcloud.com/widget/iframe/?hide_cover=1&light=1&feed="+encodeURIComponent(e),l=null,_=null,p=null,d=null;if((l=i.createEventHandler("release")).setFunction(n),Fr.checkAllowExpandIframeElement(s)){if(Fr.getDisableSameInlineSound()){if(Zr.hasAddress("sound",s))return s=null,void n();Zr.addAddress("sound",s)}(o=yo("iframe")).frameBorder="0",o.scrolling="no",o.allowFullscreen=!0,Oo(o,Fr.getStyleSheetExpandSoundMixcloudInlinePlayer()),o.style.height="120px",r=Nt(o),(a=new ma).SetOutsider(),os.attachAnalyzeWork(r,a),(p=new pr(o)).setFunction(t),(d=new ut(o)).createEventHandler("close").setFunction(t),Fr.executeScriptInsertInlineSound(u,o,c.event_dispatcher,function(){o&&((_=as.createElement()).onattach=function(){o.src=s},_.onremove=function(){o.src=""},_.setElementHitArea(o),_.update())})}else n()}var n,a,i,o,r,s,l,c=e.work,_=e.modify,u=Ft(c),p=ln(c);if(aa(c,_)){for(i=(n=["*://mixcloud.com/*","*://*.mixcloud.com/*"]).length,a=0;a<i;a++)if(Gi(Is.URL,n[a]))return;if(Fr.getVisiblePlayerMixcloud())for(r={live:1,discover:1,upload:1,pro:1},s={stream:1,uploads:1,favorites:1,listens:1,playlists:1},i=(o=["^(http|https)://[^.]+\\.mixcloud\\.com/([^/]+)[/]([^/]+)[/]([?]|$)"]).length,a=0;a<i;a++)if((l=p.match(new RegExp(o[a],"i")))&&!r[l[2]]&&!s[l[3]])return void t("/"+l[2]+"/"+l[3]+"/")}}function Se(e){var t,n=e.work,a=e.modify,i=Ft(n),o=ln(n),r=un(n);aa(n,a)&&(t={element:i,url:o,content_type:r,is_overridden_url:Zt(n)},Fr.executeScriptAllowInlineVideo(t,function(t){aa(n,a)&&t.result&&(Me(e),Le(e),Ne(e),Fe(e),Oe(e))}))}function Me(e){var t,n=e.work,a=e.modify,i=Ft(n),o=ln(n);o=Fr.fixURL_PassiveContent(o),t=un(n),aa(n,a)&&Fr.executeScriptAllowVideoElement(i,o,t,function(e){function t(){s.dispatchEvent("release",null)}function r(){l&&(l.onload=null,l.onerror=null,l=null),u&&(Zr.removeAddress("video",u),u=null),p&&(p.release(),p=null),d&&(d.onremove=null,d.release(),d=null),m&&(m.release(),m=null),g&&(g.release(),g=null),_&&(os.removeAnalyzeWork(_),_=null),c&&(rr(c),c=null)}var s,l,c,_,u,p,d,m,g;if(aa(n,a)&&e.result){if(s=ra(n),l=null,c=null,_=null,u=o,p=null,d=null,m=null,g=null,Fr.getDisableSameInlineVideo()){if(Zr.hasAddress("video",u))return u=null,void r();Zr.addAddress("video",u)}(p=s.createEventHandler("release")).setFunction(r),(l=new us).onload=function(e){var a;_=Nt(c=e),(a=new ma).SetOutsider(),os.attachAnalyzeWork(_,a),Oo(c,Fr.getStyleSheetExpandVideoInlineVideoElement(u)),(m=new pr(c)).setFunction(t),(g=new ut(c)).createEventHandler("close").setFunction(t),Fr.executeScriptInsertInlineVideo(i,c,n.event_dispatcher,function(){c&&((d=is.createElement()).onattach=function(){},d.onremove=function(){c.preload="none",c.load()},d.setElementHitArea(c),d.update())})},l.onerror=function(){},l.setMethod("GET"),l.setURL(u),l.loadVideo()}})}function Le(e){function t(e){function t(){i.dispatchEvent("release",null)}function n(){s&&(Zr.removeAddress("video",s),s=null),l&&(l.release(),l=null),_&&(_.onremove=null,_.release(),_=null),p&&(p.release(),p=null),d&&(d.release(),d=null),r&&(os.removeAnalyzeWork(r),r=null),o&&(rr(o),o=null)}var a,i=ra(c),o=null,r=null,s=e,l=null,_=null,p=null,d=null;if(Fr.checkAllowExpandIframeElement(s)){if(Fr.getDisableSameInlineVideo()){if(Zr.hasAddress("video",s))return s=null,void n();Zr.addAddress("video",s)}(l=i.createEventHandler("release")).setFunction(n),(o=yo("iframe")).frameBorder="0",o.scrolling="no",o.allowFullscreen=!0,Oo(o,Fr.getStyleSheetExpandVideoYoutubeInlineVideo()),r=Nt(o),(a=new ma).SetOutsider(),os.attachAnalyzeWork(r,a),(p=new pr(o)).setFunction(t),(d=new ut(o)).createEventHandler("close").setFunction(t),Fr.executeScriptInsertInlineVideo(u,o,c.event_dispatcher,function(){o&&((_=is.createElement()).onattach=function(){o.src=s},_.onremove=function(){o.src=""},_.setElementHitArea(o),_.update())})}else n()}function n(e,t){var n,a,i,o=Hi(e),r=function(e){var t,n,a,i,o=new Object,r=e.match(new RegExp("[#](.*?)([?]|$)"));if(!r)return o;for(a=(t=r[1].split("&")).length,n=0;n<a;n++)2==(i=t[n].split("=")).length&&(o[i[0]]=i[1]);return o}(e),s=o.t||r.t;return s&&(n=0,(a=s.match(/([0-9]+)h/i))&&(n+=60*parseInt(a[1])*60),(a=s.match(/([0-9]+)m/i))&&(n+=60*parseInt(a[1])),(a=s.match(/([0-9]+)s/i))&&(n+=parseInt(a[1])),n&&(s=n+""),a=s.match(/([0-9]+)/i),s=a?a[1]:""),i=(Fr.getSecureCurrent()?"https":"http")+"://www.youtube-nocookie.com/embed/"+t,s&&(i+="?start="+s),i}var a,i,o,r,s,l,c=e.work,_=e.modify,u=Ft(c),p=ln(c);if(aa(c,_)){for(o=(a=["*://*.youtube.com/*","*://youtube.com/*"]).length,i=0;i<o;i++)if(Gi(Is.URL,a[i]))return;if(Fr.getVisibleVideoYoutube()){for(o=(r=["*://www.youtube.com/watch?*","*://www.youtube.com/watch_popup?*","*://m.youtube.com/watch?*","*://m.youtube.com/#/watch?*"]).length,i=0;i<o;i++)if(Gi(p,r[i])&&(s=Hi(p)).v)return void t(n(p,s.v));for(o=(l=["(http|https)://www\\.youtube\\.com/v/","(http|https)://youtu\\.be/"]).length,i=0;i<o;i++)if(p.match(new RegExp(l[i],"i"))&&RegExp.rightContext.match(new RegExp("^([-_a-zA-Z0-9]+)","i")))return void t(n(p,RegExp.$1))}}}function Ne(e){function t(e){!function(){function t(){i.dispatchEvent("release",null)}function n(){l&&(Zr.removeAddress("video",l),l=null),_&&(_.release(),_=null),u&&(u.onremove=null,u.release(),u=null),p&&(p.release(),p=null),d&&(d.release(),d=null),r&&(os.removeAnalyzeWork(r),r=null),o&&(rr(o),o=null)}var a,i=ra(s),o=null,r=null,l="https://embed.nicovideo.jp/watch/"+e,_=null,u=null,p=null,d=null;if(Fr.checkAllowExpandIframeElement(l)){if(Fr.getDisableSameInlineVideo()){if(Zr.hasAddress("video",l))return l=null,void n();Zr.addAddress("video",l)}(_=i.createEventHandler("release")).setFunction(n),(o=yo("iframe")).frameBorder="0",o.scrolling="no",o.allowFullscreen=!0,Oo(o,Fr.getStyleSheetExpandVideoNicovideoInlineVideo()),r=Nt(o),(a=new ma).SetOutsider(),os.attachAnalyzeWork(r,a),(p=new pr(o)).setFunction(t),(d=new ut(o)).createEventHandler("close").setFunction(t),Fr.executeScriptInsertInlineVideo(c,o,s.event_dispatcher,function(){o&&((u=is.createElement()).onattach=function(){o.src=l},u.onremove=function(){o.src=""},u.setElementHitArea(o),u.update())})}else n()}()}var n,a,i,o,r,s=e.work,l=e.modify,c=Ft(s),_=ln(s);if(aa(s,l)){for(i=(n=["*://nicovideo.jp/*","*://*.nicovideo.jp/*"]).length,a=0;a<i;a++)if(Gi(Is.URL,n[a]))return;for(i=(o=["(http|https)://.*\\.nicovideo\\.jp/watch/","(http|https)://nicovideo\\.jp/watch/","(http|https)://nico\\.ms/.*/","(http|https)://nico\\.ms/"]).length,a=0;a<i;a++)if(_.match(new RegExp(o[a],"i"))){if((r=RegExp.rightContext).match(new RegExp("^(.*?)[?#]","i"))&&(r=RegExp.$1),r.match(/([a-z]{2})([0-9]+$)/i))switch(r=RegExp.$1+RegExp.$2,RegExp.$1){case"im":case"mg":case"lv":case"bk":case"nw":case"co":r=null}if(_.match(new RegExp("^(http|https)://([a-z]+?)\\.nicovideo\\.jp/","i"))){switch(RegExp.$2){case"de":case"es":case"tw":RegExp.$2}switch(RegExp.$2){case"live":case"news":case"seiga":r=null}}if(r&&Fr.getVisibleVideoNicovideo())return void t(r)}}}function Fe(e){function t(e){function t(){i.dispatchEvent("release",null)}function n(){s&&(Zr.removeAddress("video",s),s=null),l&&(l.release(),l=null),_&&(_.onremove=null,_.release(),_=null),p&&(p.release(),p=null),d&&(d.release(),d=null),r&&(os.removeAnalyzeWork(r),r=null),o&&(rr(o),o=null)}var a,i=ra(c),o=null,r=null,s=e,l=null,_=null,p=null,d=null;if(Fr.checkAllowExpandIframeElement(s)){if(Fr.getDisableSameInlineVideo()){if(Zr.hasAddress("video",s))return s=null,void n();Zr.addAddress("video",s)}(l=i.createEventHandler("release")).setFunction(n),(o=yo("iframe")).frameBorder="0",o.scrolling="no",o.allowFullscreen=!0,Oo(o,Fr.getStyleSheetExpandVideoDailymotionInlineVideo()),r=Nt(o),(a=new ma).SetOutsider(),os.attachAnalyzeWork(r,a),(p=new pr(o)).setFunction(t),(d=new ut(o)).createEventHandler("close").setFunction(t),Fr.executeScriptInsertInlineVideo(u,o,c.event_dispatcher,function(){o&&((_=is.createElement()).onattach=function(){o.src=s},_.onremove=function(){o.src=""},_.setElementHitArea(o),_.update())})}else n()}var n,a,i,o,r,s,l,c=e.work,_=e.modify,u=Ft(c),p=ln(c);if(aa(c,_)){for(i=(n=["*//www.dailymotion.com/*"]).length,a=0;a<i;a++)if(Gi(Is.URL,n[a]))return;if(Fr.getVisibleVideoDailymotion())for(i=(o=["*//www.dailymotion.com/video/*","*//touch.dailymotion.com/video/*"]).length,a=0;a<i;a++)if(Gi(p,o[a])&&((r=p.indexOf("/video/"))>=0&&(r+=7,l=(s=p.indexOf("_",r))>=0?p.substring(r,s):p.substring(r))))return void t((Fr.getSecureCurrent()?"https":"http")+"://www.dailymotion.com/embed/video/"+l)}}function Oe(e){function t(e){function t(){i.dispatchEvent("release",null)}function n(){s&&(Zr.removeAddress("video",s),s=null),l&&(l.release(),l=null),_&&(_.onremove=null,_.release(),_=null),p&&(p.release(),p=null),d&&(d.release(),d=null),r&&(os.removeAnalyzeWork(r),r=null),o&&(rr(o),o=null)}var a,i=ra(c),o=null,r=null,s=e,l=null,_=null,p=null,d=null;if(Fr.checkAllowExpandIframeElement(s)){if(Fr.getDisableSameInlineVideo()){if(Zr.hasAddress("video",s))return s=null,void n();Zr.addAddress("video",s)}(l=i.createEventHandler("release")).setFunction(n),(o=yo("iframe")).frameBorder="0",o.scrolling="no",o.allowFullscreen=!0,Oo(o,Fr.getStyleSheetExpandVideoVimeoInlineVideo()),r=Nt(o),(a=new ma).SetOutsider(),os.attachAnalyzeWork(r,a),(p=new pr(o)).setFunction(t),(d=new ut(o)).createEventHandler("close").setFunction(t),Fr.executeScriptInsertInlineVideo(u,o,c.event_dispatcher,function(){o&&((_=is.createElement()).onattach=function(){o.src=s},_.onremove=function(){o.src=""},_.setElementHitArea(o),_.update())})}else n()}var n,a,i,o,r,s,l,c=e.work,_=e.modify,u=Ft(c),p=ln(c);if(aa(c,_)){for(i=(n=["*//vimeo.com/*"]).length,a=0;a<i;a++)if(Gi(Is.URL,n[a]))return;if(Fr.getVisibleVideoVimeo())for(i=(o=["*//vimeo.com/*"]).length,a=0;a<i;a++)if(Gi(p,o[a])&&((r=p.indexOf("://vimeo.com/"))>=0&&(r+=13,(l=(s=p.indexOf("?",r))>=0?p.substring(r,s):p.substring(r))&&l.match(/^[0-9]+$/))))return void t("https://player.vimeo.com/video/"+l)}}function De(e){var t,n=e.work,a=e.modify,i=Ft(n),o=ln(n);o=Fr.fixURL_ActiveContent(o),t=un(n),aa(n,a)&&Fr.executeScriptAllowInlineIframe(i,o,t,function(e){function t(){s.dispatchEvent("release",null)}function r(){l&&(l.onload=null,l.onerror=null,l=null),u&&(Zr.removeAddress("iframe",u),u=null),p&&(p.release(),p=null),d&&(d.release(),d=null),_&&(os.removeAnalyzeWork(_),_=null),c&&(rr(c),c=null)}var s,l,c,_,u,p,d;if(aa(n,a)&&e.result)if(s=ra(n),l=null,c=null,_=null,u=o,p=null,d=null,Fr.checkAllowExpandIframeElement(u)){if(Fr.getDisableSameInlineIframe()){if(Zr.hasAddress("iframe",u))return u=null,void r();Zr.addAddress("iframe",u)}(p=s.createEventHandler("release")).setFunction(r),(l=new us).onload=function(){(c=yo("iframe")).frameBorder="0",c.src=u,Oo(c,Fr.getStyleSheetExpandIframeInline(u)),_=Nt(c);var e=new ma;e.SetOutsider(),os.attachAnalyzeWork(_,e),(d=new pr(c)).setFunction(t),Fr.executeScriptInsertInlineIframe(i,c,n.event_dispatcher,function(){})},l.onerror=function(){},l.setMethod("GET"),l.setURL(u),l.loadResponseHeader()}else r()})}function je(e){function n(){s&&(s.release(),s=null);try{var e=u.contentWindow;e.removeEventListener?e.removeEventListener("unload",a):e.detachEvent&&e.detachEvent("onunload",a)}catch(e){}}function a(){l=!1,i()}function i(){l||(n(),(s=new mt(1,1)).oncomplete=function(){if(!l)try{var e=u.contentWindow;r(e)&&(e.addEventListener?e.addEventListener("unload",a):e.attachEvent&&e.attachEvent("onunload",a),l=!0,Cs({execute_type:t.execute_type,admin:Rs,window:e,page_expand_parent:Dr}))}catch(e){}},s.start())}var o,s,l,c=e.work,_=e.modify,u=Ft(c);aa(c,_)&&(l=!1,da(c),ra(c).createEventHandler("release").setFunction(function(){n(),o&&(o.release(),o=null)}),(o=Kr.createElement()).setElement(u,"src"),o.setFunction(function(){i()}),i())}function ze(e){function t(){o&&(o.release(),o=null),a&&(a.suicide(),a=null),r=!0}var n,a,i,o,r,s=e.work,l=e.modify;aa(s,l)&&(n=Ft(s),Wn(s)||(Hn(s),r=!1,da(s),(i=ra(s)).createEventHandler("release_popup_image").setFunction(function(){a&&(a.release(),a=null),t();var e=ra(s);e&&(Ht(s)||e.dispatchEvent("destructor",null))}),i.createEventHandler("release").setFunction(t),(o=Kr.createElement()).setElement(n,"src"),o.setFunction(function(){var e=ra(s);e&&e.dispatchEvent("destructor",null),J(n)}),Sr(n,function(){var e,t,i,o,c,_;if(aa(s,l)&&!r){if(e=!0)try{n.src||(e=!1)}catch(t){e=!1}e&&(t=Mr(n),i=Fr.getScaleLessThenAllowPopupReducedImage(),n.width>t.width/100*i&&(e=!1),n.height>t.height/100*i&&(e=!1)),e&&n.src==Is.URL&&(e=!1),e&&function(){for(var t,a=n;a;){if((t=os.getAnalyzeWork(a))&&Cn(t)){e=!1;break}a=a.parentNode}}(),e?(o=Fr.fixURL_PassiveContent(n.src),(c=new us).setURL(o),c.onload=function(e){aa(s,l)&&(r||((a=new rt(e)).setElementParent(Is.body),a.setElementAnchor(n),a.setElementHitArea(n),a.setElementBeginArea(n),a.setOriginalURL(o),a.ontrim=function(){var e,t,i,o,r,s,l,c,_,u,p,d,m,g,f,h,x,b,v,w;if(a){for(e=!1,t=new Object,o=no(i=jo(n)),r={hidden:1},s={hidden:1},l={inline:1,none:1,"table-column":1,"table-column-group":1},c=n;c&&(_=jo(c))&&"BODY"!=c.tagName;)(u=Ho(c,null))&&(l[u.display]||(r[u.overflowX]&&(_.right<o.right&&(o.right=_.right),_.left>o.left&&(o.left=_.left),e=!0),s[u.overflowY]&&(_.bottom<o.bottom&&(o.bottom=_.bottom),_.top>o.top&&(o.top=_.top),e=!0))),c=c.parentNode;t&&(p=Mr(n),d=Ho(n,null),m=Es(d),g=Wo(d),f=i.left+m.left+g.left,h=i.top+m.top+g.top,x=i.right-f-m.right+g.right,b=i.bottom-h-m.bottom+g.bottom,v=p.width/x,w=p.height/b,t.left=(o.left-f)*v,t.top=(o.top-h)*w,t.right=(o.right-f)*v,t.bottom=(o.bottom-h)*w),e&&a.setTrimRect(t)}},a.ontrim(),In(s,a)))},c.loadImage()):(_=ra(s))&&_.dispatchEvent("release_popup_image",null)}})))}function Pe(e){function t(e){var t,n=os.getAnalyzeWork(e);n&&(t=ra(n))&&t.dispatchEvent("release_popup_image",null)}var n,a,i;if(1==e.nodeType)for("IMG"==e.tagName&&t(e),i=(n=Co(e,"img")).length,a=0;a<i;a++)t(n[a])}function Ue(e){var t,n,a=e.work,i=e.modify;aa(a,i)&&(t=Ft(a),n=!1,Qn(a)||(qn(a),Fr.executeScriptCallbackExpandBbs(t,function(e){function o(){Yn(a),s&&(s.release(),s=null),r&&(r.release(),r=null),os.removeAnalyzeWork(a)}var r,s;aa(a,i)&&(n||(n=!0,e&&e.useful&&((r=new pr(t)).setFunction(o),(s=jr.createEventHandler("release")).setFunction(o),os.attachAnalyzeWork(a))))})))}function Ve(){var e=this;e.release=function(){var t=e._child_list._prev,n=t._next;t._next=n,n._prev=t,e.remove(),e._parent=null},e.attachChild=function(t){var n,a;t.remove(),(a=(n=e._child_list)._prev)._next=t,n._prev=t,t._prev=a,t._next=n,t._parent=e},e.remove=function(){var t=e._prev,n=e._next;t._next=n,n._prev=t},e.getPageExpandRoot=function(){for(var t=e;t._parent;)t=t._parent;return t},function(){e._prev=e,e._next=e;var t=new Object;t._prev=t,t._next=t,e._child_list=t,e._parent=null}()}function Be(e){Ms=e}function He(e,t){var n=os.getAnalyzeWork(e);n&&_n(n,t)}function We(e){var t,n=os.getAnalyzeWork(e);return n&&(t=un(n))?t.join(","):""}function Ge(){}function Ze(){}function $e(e){ao(e,"_pageexpand_inserted")}function Ye(e){try{e._pageexpand_inserted=!0}catch(e){}}function qe(e){try{if(e._pageexpand_inserted)return!0}catch(e){}return!1}function Qe(){return{pattern:"",flags:{i:!1,g:!1}}}function Xe(e){try{return new RegExp(e.pattern,(e.flags.g?"g":"")+(e.flags.i?"i":""))}catch(e){return null}}function Ke(e){try{return new RegExp(e.pattern,(e.flags.g?"g":"")+(e.flags.i?"i":"")),""}catch(e){return e}}function Je(e){return{has_preset:Boolean(e),has_user:!1,preset:{asset:e||""},user:{script:""}}}function et(e){return e.has_user}function tt(e){e.has_preset=!0,e.has_user=!1,e.user.script=""}function nt(e,t){e.has_user=!0,e.user.script=t}function at(e,t){e.has_user=t.has_user,e.user.script=t.user.script}function it(e){if(e.has_user)return Bi(e.user.script);if(e.has_preset){ls||(ls=new G);var t=ls.getItem(e.preset.asset);if(t)return t}return[]}function ot(e){var t,n,a,i;if(e.has_user)return e.user.script;if(e.has_preset){for(ls||(ls=new G),t=["[\n"],i=(n=ls.getItem(e.preset.asset)).length,a=0;a<i;a++)t.push("\t"),t.push(n[a].toString()),t.push(",\n");return t.pop(),t.push("\n]"),t.join("")}}function rt(e){function t(){F&&(F.removeEventListener?F.removeEventListener("mouseover",c,!1):F.detachEvent&&F.detachEvent("onmouseover",c))}function n(){F&&(a(),F.addEventListener)}function a(){F&&F.removeEventListener}function i(){o(),D.addEventListener?(D.addEventListener("mousedown",_,!1),D.addEventListener("click",u,!1)):D.attachEvent&&(D.attachEvent("onmousedown",_),D.attachEvent("onclick",u))}function o(){D.removeEventListener?(D.removeEventListener("mousedown",_,!1),D.removeEventListener("click",u,!1)):D.detachEvent&&(D.detachEvent("onmousedown",_),D.detachEvent("onclick",u))}function r(){s(),D.addEventListener?Ts.WheelEvent?D.addEventListener("wheel",p,!1):Ts.MouseScrollEvent?D.addEventListener("DOMMouseScroll",d,!1):D.addEventListener("mousewheel",m,!1):D.attachEvent&&D.attachEvent("onmousewheel",m)}function s(){D.removeEventListener?Ts.WheelEvent?D.removeEventListener("wheel",p,!1):Ts.MouseScrollEvent?D.removeEventListener("DOMMouseScroll",d,!1):D.removeEventListener("mousewheel",m,!1):D.detachEvent&&D.detachEvent("onmousewheel",m)}function l(){G&&(G.release(),G=null)}function c(e){zr.setMouseEvent(e),h()}function _(e){if(Y.setMouseEvent(e),(Y.getButtonCenter()||Y.getButtonLeft()&&Y.getButtonRight())&&new lt(X).setInputMouse(Y),4&Ir(e)){if(!e.preventDefault)return!1;e.preventDefault()}}function u(e){Y.setMouseEvent(e),X.release()}function p(e){Y.setMouseEvent(e);var t={x:0,y:0};switch(e.deltaMode){case 0:case 2:t.x=e.deltaX,t.y=e.deltaY;break;case 1:t.x=e.deltaX/3*50,t.y=e.deltaY/3*50}g(e,t)}function d(e){Y.setMouseEvent(e),g(e,{x:0,y:e.detail/3*50})}function m(e){Y.setMouseEvent(e),g(e,{x:0,y:-e.wheelDelta/40*50})}function g(e,t){var n,a,i,o,r=Lr(t,O,D);if(r.result){if("absolute"==Fr.getStylePositionPopupImage()&&(n={x:-r.vector.x,y:-r.vector.y},j&&(i=(a=j.getUserWork()).begin_rect,o=a.end_rect,i.left+=n.x,i.right+=n.x,i.top+=n.y,i.bottom+=n.y,o.left+=n.x,o.right+=n.x,o.top+=n.y,o.bottom+=n.y,M(j))),!e.preventDefault)return!1;e.preventDefault()}}function f(e){var t={x:0,y:0};for(e=e.parentNode;e;)e.scrollLeft&&(t.x+=e.scrollLeft),e.scrollTop&&(t.y+=e.scrollTop),e=e.parentNode;return t}function h(){j&&"fade_out"===j.getUserWork().type&&(j.setExecuteFunc(C),j.execute(4294967295)),zr.getKeyShift()||zr.getButtonLeft()||j||(a(),(j=$r.createTask()).setLevel(Ls),j.setDestructorFunc(S),j.setExecuteFunc(v),j.execute(4294967295))}function x(){var e,t,a,i;if(j){if(e=j.getUserWork(),t=no(zr.getPositionClient()),(a=Uo(F,t,!0))||V&&(F&&lr(F)&&(i=f(F),H.x+=i.x-B.x,H.y+=i.y-B.y,B=i),t.x+=H.x,t.y+=H.y,(a=V.hitTestPosition(t,!0))||(V=null)),zr.getEnableMouse()||(a=!1),Fr.getEnableAnimationPopupImage())if(a)switch(e.type){case"wait_before_close":j.setExecuteFunc(A),j.execute(4294967295);break;case"fade_out":j.setExecuteFunc(w),j.execute(4294967295)}else switch(e.type){case"wait_before_open":j.setExecuteFunc(C),j.execute(4294967295);break;case"fade_in":j.setExecuteFunc(I),j.execute(4294967295);break;case"show":j.setExecuteFunc(T),j.execute(4294967295)}else if(a)"wait_before_close"===e.type&&(j.setExecuteFunc(A),j.execute(4294967295));else switch(e.type){case"wait_before_open":j.setExecuteFunc(C),j.execute(4294967295);break;case"show":j.setExecuteFunc(T),j.execute(4294967295)}a||n()}}function b(e){var t,n,a;j&&(n=(t=j.getUserWork()).begin_rect,a=t.end_rect,n.left+=e.x,n.right+=e.x,n.top+=e.y,n.bottom+=e.y,a.left+=e.x,a.right+=e.x,a.top+=e.y,a.bottom+=e.y,B.x+=e.x,B.y+=e.y,M(j))}function v(e){var t=e.getUserWork();t.type="initialize",t.anime_pos=0,t.anime_spd=0,V=null,F&&(V=new Po(F),B=f(F),H={x:0,y:0}),e.setExecuteFunc(w),e.execute(4294967295)}function w(e){var t=e.getUserWork();t.type="wait_before_open",t.frame=Fr.getTimeWaitOpenPopupImage()/1e3*60,e.setExecuteFunc(y),e.execute(4294967295)}function y(e){var t=e.getUserWork();if(x(),t.frame-=1,t.frame<0)return e.setExecuteFunc(E),void e.execute(4294967295)}function E(e){var t,n,a,i,o,r,s,l,c,_,u,p,d,m,g,f,h,x,v,w,y,E,R,T,I,C,S,F,j=e.getUserWork();switch(j.type="open",Oo(P,Rr()),Fo(D,Fr.getStyleSheetExpandImagePopup(q)),D.style.willChange="left,top,width,height,opacity",D.style.zIndex=2147483646,D.style.position=Fr.getStylePositionPopupImage(),D.style.left="0px",D.style.top="0px",D.style.width="0px",D.style.height="0px",X.ontrim&&X.ontrim(),z&&(P.style.position="absolute"),n={left:1,top:1,right:(t=ho(_s.getWindowRoot().document)).width-1,bottom:t.height-1},N.appendChild(D),a=jo(D),j.style_w=a.right-a.left,j.style_h=a.bottom-a.top,i=Mr(P),z&&(i.width=z.width,i.height=z.height),O&&lr(O)&&(o=z?zo(O):ks(O)),o||(r=.5*j.style_w,s=.5*j.style_h,l=zr.getPositionClient(),(o=new Object).left=l.x-r,o.right=l.x+r,o.top=l.y-s,o.bottom=l.y+s),c=_s.getPositionFromRoot(),o.left+=c.x,o.right+=c.x,o.top+=c.y,o.bottom+=c.y,(_=1/(_=wo(Ts)))<1&&(_=1),u=Fr.getScalePercentPopupImage()/100*_,p=i.width*u,d=i.height*u,D.style.width=p+"px",D.style.height=d+"px",Fr.getOriginPopupImage()){case"adsorb_element":n.bottom-=24,v=(g=(m={left:o.left-1,right:o.right+1,top:o.top-1,bottom:o.bottom+1}).left-n.left)<(f=n.right-m.right)?f:g,w=(h=m.top-n.top)<(x=n.bottom-m.bottom)?x:h,y=i.width*w/i.height,E=i.height*v/i.width,y>t.width&&(y=t.width),E>t.height&&(E=t.height),v*E>w*y?g>f?n.right=m.left:n.left=m.right:h>x?n.bottom=m.top:n.top=m.bottom;break;case"adsorb_mouse":n.bottom-=24,R=10,(l=zr.getPositionClient()).x+=c.x,l.y+=c.y,v=(g=l.x-R-n.left)<(f=n.right-(l.x+R))?f:g,w=(h=l.y-R-n.top)<(x=n.bottom-(l.y+R))?x:h,y=i.width*w/i.height,E=i.height*v/i.width,y>t.width&&(y=t.width),E>t.height&&(E=t.height),v*E>w*y?g>f?n.right=l.x-R:n.left=l.x+R:h>x?n.bottom=l.y-R:n.top=l.y+R}switch(n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<p+j.style_w&&(d*=(r=n.width-j.style_w)/p,p=r),n.height<d+j.style_h&&(p*=(s=n.height-j.style_h)/d,d=s),Fr.getOriginPopupImage()){default:case"center":C=.5*(o.right+o.left),S=.5*(o.bottom+o.top),T=C-.5*(p+j.style_w),I=S-.5*(d+j.style_h),o.right-o.left<j.style_w&&(o.left=C-j.style_w/2,o.right=o.left+j.style_w),o.bottom-o.top<j.style_h&&(o.top=S-j.style_h/2,o.bottom=o.top+j.style_h);break;case"upper_left":T=o.left,I=o.top;break;case"upper_right":T=o.right-p,I=o.top;break;case"client_center":T=.5*n.width-.5*(p+j.style_w),I=.5*n.height-.5*(d+j.style_h),C=.5*(o.right+o.left),S=.5*(o.bottom+o.top),o.right-o.left<j.style_w&&(o.left=C-j.style_w/2,o.right=o.left+j.style_w),o.bottom-o.top<j.style_h&&(o.top=S-j.style_h/2,o.bottom=o.top+j.style_h)}o.right-=j.style_w,o.bottom-=j.style_h,j.begin_rect=o,T<n.left&&(T=n.left),I<n.top&&(I=n.top),T+p+j.style_w>n.right&&(T=n.right-p-j.style_w),I+d+j.style_h>n.bottom&&(I=n.bottom-d-j.style_h),(F=new Object).left=T,F.top=I,F.right=F.left+p,F.bottom=F.top+d,j.end_rect=F,"absolute"==Fr.getStylePositionPopupImage()&&(o.left-=a.left,o.top-=a.top,o.right-=a.left,o.bottom-=a.top,F.left-=a.left,F.top-=a.top,F.right-=a.left,F.bottom-=a.top,_s.existWindowRoot()||(Z=jr.createEventHandler("revise_scroll")).setFunction(b)),Fr.getEnableScaleAnimationPopupImage()||(j.begin_rect=F,M(e)),Fr.getEnableAlphaAnimationPopupImage()||L(e,1),D.style.pointerEvents="auto",Fr.getEnableAnimationPopupImage()?e.setExecuteFunc(k):e.setExecuteFunc(A),e.execute(4294967295)}function k(e){var t,n=e.getUserWork();n.type="fade_in",x(),t=1-n.anime_pos,(t*=.4)>0&&(n.anime_spd+=.05,n.anime_spd>.2&&(n.anime_spd=.2),n.anime_spd>t&&(n.anime_spd=t)),n.anime_pos+=n.anime_spd,n.anime_pos>.999&&(n.anime_spd=0,n.anime_pos=1,e.setExecuteFunc(A)),Fr.getEnableAlphaAnimationPopupImage()&&L(e,n.anime_pos),Fr.getEnableScaleAnimationPopupImage()&&M(e)}function A(e){var t=e.getUserWork();t.type="show",t.anime_pos=1,t.anime_spd=0,t.frame=Fr.getTimeWaitClosePopupImage()/1e3*60,Fr.getEnableAlphaAnimationPopupImage()&&L(e,t.anime_pos),Fr.getEnableScaleAnimationPopupImage()&&M(e),e.setExecuteFunc(R),e.execute(4294967295)}function R(e){e.getUserWork(),x()}function T(e){var t=e.getUserWork();t.type="wait_before_close",x(),t.frame-=1,t.frame<0&&(Fr.getEnableAnimationPopupImage()?(D.style.pointerEvents="none",e.setExecuteFunc(I)):e.setExecuteFunc(C))}function I(e){var t,n=e.getUserWork();n.type="fade_out",x(),t=0-n.anime_pos,(t*=.4)<0&&(n.anime_spd-=.2,n.anime_spd<t&&(n.anime_spd=t)),n.anime_pos+=n.anime_spd,n.anime_pos<.001&&(n.anime_spd=0,n.anime_pos=0,e.setExecuteFunc(C)),Fr.getEnableAlphaAnimationPopupImage()&&L(e,n.anime_pos),Fr.getEnableScaleAnimationPopupImage()&&M(e)}function C(e){e.getUserWork(),kr(D.style,"will-change"),e.release()}function S(){Z&&(Z.release(),Z=null),rr(D),j=null,U&&X.release()}function M(e){var t,n,a,i,o=e.getUserWork(),r=o.begin_rect,s=o.end_rect,l=o.anime_pos,c=(s.left-r.left)*l+r.left,_=(s.right-r.right)*l+r.right,u=(s.top-r.top)*l+r.top,p=(s.bottom-r.bottom)*l+r.bottom,d=_-c,m=p-u,g=D.style;g.left=c+"px",g.top=u+"px",g.width=d+"px",g.height=m+"px",z&&(g=P.style,t=Mr(P),n=Wo(Ho(D,null)),a=d/z.width,i=m/z.height,_=(c=z.left*a)+d,p=(u=z.top*i)+m,g.left=-c+n.left+"px",g.top=-u+n.top+"px",g.width=t.width*a+"px",g.height=t.height*i+"px",g.clip="rect("+u+"px "+_+"px "+p+"px "+c+"px)")}function L(e,t){e.getUserWork(),D.style.opacity=t}var N,F,O,D,j,z,P,U,V,B,H,W,G,Z,$,Y,q,Q,X=this;X.release=function(){P&&($&&($.release(),$=null),Y&&(_s.existWindowRoot()&&Y.release(),Y=null),o(),s(),t(),a(),l(),j&&(j.release(),j=null),os.removeAnalyzeWork(W),ns.remove(X),P=null)},X.suicide=function(){j?(X.setElementHitArea(null),U=!0):X.release()},X.setElementParent=function(e){N=_s.existWindowRoot()?_s.getWindowRoot().document.body:e},X.setElementAnchor=function(e){X._element_anchor=e,ns.attach(X)},X.getElementAnchor=function(){return X._element_anchor},X.setElementHitArea=function(e){t(),a(),l(),(F=e)&&(t(),F.addEventListener?F.addEventListener("mouseover",c,!1):F.attachEvent&&F.attachEvent("onmouseover",c)),n(),F&&(l(),G||(G=new pr(F)).setFunction(X.suicide))},X.setElementBeginArea=function(e){O=e},X.setTrimRect=function(e){if(!z){o(),s();var t=yo("div");Oo(t,"overflow:hidden;"),Fo(D,Fr.getStyleSheetExpandImagePopup(q)),t.appendChild(P),D=t,i(),r()}(z=no(e)).width=z.right-z.left,z.height=z.bottom-z.top},X.setOriginalURL=function(e){q=e,Q&&Q.setOriginalURL(e)},X.getOriginalURL=function(){return q},X.getImage=function(){return P},X.popup=function(){h()},X.ontrim=function(){},function(){F=null,O=null,j=null,D=P=e,U=!1,V=null,_s.existWindowRoot()?(Y=new It(_s.getWindowRoot())).setInputMouse(zr):Y=zr,q="",e=null,ns.initializePopupImage(X),Hn(W=Nt(P));var t=new ma;t.SetOutsider(),_s.existWindowRoot()&&t.SetGuest(),os.attachAnalyzeWork(W,t),i(),r(),($=jr.createEventHandler("release")).setFunction(function(){X.release()}),Q=new ct(P)}()}function st(){var e,t=this;t.release=function(){for(;t!=t._next;)t.remove(t._next)},t.attach=function(n){var a,i,o,r;if(t.remove(n),a=n._element_anchor,i=t._prev,a.compareDocumentPosition)for(;i!=t&&!(a.compareDocumentPosition(i._element_anchor)&Is.DOCUMENT_POSITION_PRECEDING);)i=i._prev;r=(o=i)._next,o._next=n,r._prev=n,n._prev=o,n._next=r,e+=1},t.remove=function(t){var n,a;t!=t._next&&(n=t._prev,a=t._next,n._next=a,a._prev=n,t._prev=t,t._next=t,e-=1)},t.initializePopupImage=function(e){e._prev=e,e._next=e},t.getPrev=function(e){var n=e._prev;return n==e||n==t?null:n},t.getNext=function(e){var n=e._next;return n==e||n==t?null:n},t.getIndex=function(e){for(var n=0,a=t._next;a!=t&&a!=e;)n+=1,a=a._next;return n},t.getCount=function(){return e},t._prev=t,t._next=t,e=0}function lt(e){function t(){n(),G&&(G.release(),G=null),(G=$r.createTask()).setDestructorFunc(function(){G=null}),G.setExecuteFunc(function(){(Z-=.2)<0&&(Z=0,G.release(),a()),T.style.opacity=Z}),G.execute(4294967295),Yr|=Ls}function n(){var e,t,n,a;for(i(),ue&&(ue.release(),ue=null),T.style.pointerEvents="none",t=U.length,e=0;e<t;e++)a=(n=U.pop()).element.style,void 0===n.value||(n.value?yr(a,"overflow",n.value):kr(a,"overflow"))}function a(){f(),rr(T),rr(R),J&&(_s.existWindowRoot()&&J.release(),J=null),Q&&(Q.release(),Q=null),X&&(os.removeAnalyzeWork(X),X=null),W&&(W.releaseChild(),W.release(),W=null)}function i(){T.removeEventListener?(M.removeEventListener("mousedown",o,!1),T.removeEventListener("mousemove",r,!1),T.removeEventListener("mouseup",s,!1),T.removeEventListener("contextmenu",l,!1),C.removeEventListener("scroll",p,!1),Ts.MouseScrollEvent?C.removeEventListener("DOMMouseScroll",c,!1):C.removeEventListener("mousewheel",_,!1),C.removeEventListener("dragstart",m,!1),k.removeEventListener("resize",d,!1)):T.detachEvent&&(M.detachEvent("onmousedown",o),T.detachEvent("onmousemove",r),T.detachEvent("onmouseup",s),T.detachEvent("oncontextmenu",l),C.detachEvent("onscroll",p),C.detachEvent("onmousewheel",_),C.detachEvent("ondragstart",m),k.detachEvent("onresize",d))}function o(e){if(J.setMouseEvent(e),J.getButtonLeft()&&(1&se||(se|=1,le.working=!1,le.pos_old=J.getPositionClient())),J.getButtonRight()&&(2&se||(se|=2,ce.working=!1,ce.mouse_start=J.getPositionClient(),ce.origin=no(te),ce.scale=no(ne),ce.zoom=no(ae),ce.rotate=no(ie),ce.pos=no(oe),ce.center=no(re))),(J.getButtonCenter()||J.getButtonLeft()&&J.getButtonRight())&&t(),4&Ir(e)){if(!e.preventDefault)return!1;e.preventDefault()}}function r(e){var t,n,a,i;J.setMouseEvent(e),1&se&&(t=J.getPositionClient(),n=le.pos_old,a=t.x-n.x,i=t.y-n.y,Math.sqrt(a*a+i*i)>=3&&(le.working=!0,B=!0),le.working&&(a||i)&&(C.scrollLeft-=a,C.scrollTop-=i,le.pos_old=t)),2&se&&function(){var e,t,n,a,i,o,r,s,l,c,_,u,p,d,m,g,f=.5*C.clientWidth,h=.5*C.clientHeight,x=ce.mouse_start,v=J.getPositionClient(),w=v.x-x.x,y=v.y-x.y,E=x.x-f,k=x.y-h,A=v.x-f,R=v.y-h,T=Math.sqrt(E*E+k*k),I=Math.sqrt(A*A+R*R),S=Math.atan2(k,E),z=Math.atan2(R,A);if(ce.working){for(ae=ce.zoom,ie=ce.rotate,e=Math.atan2(R,A)-Math.atan2(k,E),e*=180/Math.PI,(ie+=e)<-180&&(ie+=360),ie>180&&(ie-=360),b("Zoom: "+(100*(ae*=I/T)).toFixed(2)+" % , Rotate: "+ie.toFixed(2)),ne.y=ne.x=ae/_e,(t=new $o).translate(-te.x,-te.y),t.scale(ne.x,ne.y),t.rotate(ie*Math.PI/180),(n=new Array).push(t.transformPosition({x:-te.x,y:-te.y})),n.push(t.transformPosition({x:-te.x,y:te.y})),n.push(t.transformPosition({x:te.x,y:-te.y})),n.push(t.transformPosition({x:te.x,y:te.y})),a=n[0].x,i=n[0].x,o=n[0].y,r=n[0].y,l=n.length,s=1;s<l;s++)a>(c=n[s]).x&&(a=c.x),i<c.x&&(i=c.x),o>c.y&&(o=c.y),r<c.y&&(r=c.y);p=2*(_=C.clientWidth)+(i-a),d=2*(u=C.clientHeight)+(r-o),H=!0,(m=L.style).width=p+"px",m.height=d+"px",oe={x:.5*p,y:.5*d},t.translate(oe.x,oe.y),Go(N.style,t.toString()),g=t.transformPosition(re),C.scrollLeft=g.x-.5*_,C.scrollTop=g.y-.5*u,(t=new $o).translate(-T-5,-T-5),t.translate(g.x,g.y),Go(O.style,t.toString()),O.style.width=2*T+"px",O.style.height=2*T+"px",(t=new $o).translate(-2.5,-2.5),t.rotate(S),t.translate(g.x,g.y),Go(D.style,t.toString()),D.style.width=T+5+"px",(t=new $o).translate(-2.5,-2.5),t.rotate(z),t.translate(g.x,g.y),Go(j.style,t.toString()),j.style.width=I+5+"px",M.appendChild(F)}else I<100||Math.sqrt(w*w+y*y)<3||(V=!0,ce.working=!0,ce.mouse_start=J.getPositionClient(),ce.origin=no(te),ce.scale=no(ne),ce.zoom=no(ae),ce.rotate=no(ie),ce.pos=no(oe),ce.center=no(re))}(),le.working?w("move"):ce.working?w("crosshair"):v()}function s(e){J.setMouseEvent(e),1&se&&(J.getButtonLeft()||(se&=-2,le.working=!1,B||E(1),B=!1)),2&se&&(J.getButtonRight()||(se&=-3,ce.working=!1,rr(F))),B||v()}function l(e){if(J.setMouseEvent(e),V=!0,(J.getKeyShift()||J.getKeyCtrl())&&(V=!1),V){if(V=!1,!e.preventDefault)return!1;e.preventDefault()}}function c(e){u(e,e.detail)}function _(e){u(e,-e.wheelDelta/40)}function u(e,t){J.setMouseEvent(e);var n=!1;if(J.getButtonRight()&&(V=!0,y(t),ce.working=!1,rr(F),ce.mouse_start=J.getPositionClient(),n=!0),J.getButtonLeft()&&(w(t>0?"zoom-out":"zoom-in"),x(-t),B=!0,n=!0),n){if(V=!0,!e.preventDefault)return!1;e.preventDefault()}}function p(){var e,n,a,i,o,r,s;if(H)H=!1;else if(wo(Ts)==_e){if(e=C.scrollLeft,n=C.scrollTop,a=C.scrollWidth-C.clientWidth,i=C.scrollHeight-C.clientHeight,o=C.clientWidth,r=C.clientHeight,(s=new $o).translate(-te.x,-te.y),s.scale(ne.x,ne.y),s.rotate(ie*Math.PI/180),s.translate(oe.x,oe.y),s.invert(),re=s.transformPosition({x:e+.5*o,y:n+.5*r}),e<=2);else if(n<=2);else if(e>=a-2);else if(!(n>=i-2))return;t()}}function d(){var e,t,n,a,i,o,r,s,l,c,_,u,p,d,m=ho(k.document),g=T.style;for(g.width=m.width+"px",g.height=m.height+"px",_e=wo(Ts),ne.y=ne.x=ae/_e,(e=new $o).translate(-te.x,-te.y),e.scale(ne.x,ne.y),e.rotate(ie*Math.PI/180),(t=new Array).push(e.transformPosition({x:-te.x,y:-te.y})),t.push(e.transformPosition({x:-te.x,y:te.y})),t.push(e.transformPosition({x:te.x,y:-te.y})),t.push(e.transformPosition({x:te.x,y:te.y})),n=t[0].x,a=t[0].x,i=t[0].y,o=t[0].y,s=t.length,r=1;r<s;r++)n>(l=t[r]).x&&(n=l.x),a<l.x&&(a=l.x),i>l.y&&(i=l.y),o<l.y&&(o=l.y);u=2*(c=C.clientWidth)+(a-n),p=2*(_=C.clientHeight)+(o-i),H=!0,(g=L.style).width=u+"px",g.height=p+"px",oe={x:.5*u,y:.5*p},e.translate(oe.x,oe.y),Go(N.style,e.toString()),d=e.transformPosition(re),C.scrollLeft=d.x-.5*c,C.scrollTop=d.y-.5*_}function m(e){if(!e.preventDefault)return!1;e.preventDefault()}function g(e){var t,n,a=e.getImage(),i=Mr(a);f(),Oo(N=yo("img"),Rr()),Fo(N,"position:absolute; left:0px; top:0px; border:5px solid #666; cursor:inherit;"),(t=N.style).width=i.width+"px",t.height=i.height+"px",N.src=a.src,Kn(K=Nt(N)),(n=new ma).SetOutsider(),_s.existWindowRoot()&&n.SetGuest(),os.attachAnalyzeWork(K,n),M.appendChild(N),h()}function f(){K&&(os.removeAnalyzeWork(K),K=null),N&&(rr(N),N=null)}function h(){var e,t,n,a,i,o,r,s,l=Mr(P.getImage()),c=(l.width+10)/_e,_=(l.height+10)/_e,u=C.clientWidth,p=C.clientHeight,d=ee;switch(d==lt.SCALE_MODE_AUTO&&(c<u&&_<p?d=lt.SCALE_MODE_NO_SCALE:(e=1/_e,c>u&&(e*=u/c),d=_*e*.75>p?lt.SCALE_MODE_LONG_VERTICAL:lt.SCALE_MODE_SHOW_ALL)),d==lt.SCALE_MODE_LONG_VERTICAL&&(c<u&&_<p?d=lt.SCALE_MODE_NO_SCALE:c>u&&_*(t=u/c)<p&&(d=lt.SCALE_MODE_SHOW_ALL)),e=1/_e,t=1/_e,d){case lt.SCALE_MODE_LONG_VERTICAL:c>u&&(t=e*=u/c);break;case lt.SCALE_MODE_SHOW_ALL:c>u&&(e*=u/c),_>p&&(t*=p/_),e>t?e=t:t=e;break;case lt.SCALE_MODE_SHOW_FULL:(e*=u/c)>(t*=p/_)?e=t:t=e}n=2*u+c*(ae=e*_e),a=2*p+_*ae,te={x:.5*l.width+5,y:.5*l.height+5},ne={x:e,y:t},ie=0,oe={x:.5*n,y:.5*a},i=.5*n-.5*u,o=d===lt.SCALE_MODE_LONG_VERTICAL?.5*a-(l.height+10)*t*.5:.5*a-.5*p,H=!0,(r=L.style).width=n+"px",r.height=a+"px",(s=new $o).translate(-te.x,-te.y),s.scale(ne.x,ne.y),s.rotate(ie*Math.PI/180),s.translate(oe.x,oe.y),Zo(N.style,"0% 0%"),Go(N.style,s.toString()),s.invert(),re=s.transformPosition({x:i+.5*u,y:o+.5*p}),C.scrollLeft=i,C.scrollTop=o}function x(e){var t,n,a,i,o,r,s,l,c,_,u,p,d,m,g,f,h=ae;if(ae*=e>0?1+.01*e:1/(1-.01*e),e>0){for(t=1;h>=1;)h/=2,t*=2;t<ae&&(ae=t)}else{for(t=0,h>1&&(t=1);h>2;)h/=2,t*=2;t>ae&&(ae=t)}for(b("Zoom: "+(100*ae).toFixed(2)+" %"),ne.y=ne.x=ae/_e,(n=new $o).translate(-te.x,-te.y),n.scale(ne.x,ne.y),n.rotate(ie*Math.PI/180),(a=new Array).push(n.transformPosition({x:-te.x,y:-te.y})),a.push(n.transformPosition({x:-te.x,y:te.y})),a.push(n.transformPosition({x:te.x,y:-te.y})),a.push(n.transformPosition({x:te.x,y:te.y})),i=a[0].x,o=a[0].x,r=a[0].y,s=a[0].y,c=a.length,l=1;l<c;l++)i>(_=a[l]).x&&(i=_.x),o<_.x&&(o=_.x),r>_.y&&(r=_.y),s<_.y&&(s=_.y);d=2*(u=C.clientWidth)+(o-i),m=2*(p=C.clientHeight)+(s-r),H=!0,(g=L.style).width=d+"px",g.height=m+"px",oe={x:.5*d,y:.5*m},n.translate(oe.x,oe.y),Go(N.style,n.toString()),f=n.transformPosition(re),C.scrollLeft=f.x-.5*u,C.scrollTop=f.y-.5*p}function b(e){if(W){$&&$.release(),z.nodeValue=e,T.appendChild(S);var t=180;($=$r.createTask(W)).setDestructorFunc(function(){$=null}),$.setExecuteFunc(function(){var e=Y;(t-=1)<0?(Y-=.1)<0&&(Y=0,$.release(),rr(S)):(Y+=.2)>1&&(Y=1),e!=Y&&(S.style.opacity=Y)}),$.execute(4294967295)}}function v(){if(M.style.cursor="default",q&&q.release(),W){var e=60;(q=$r.createTask(W)).setDestructorFunc(function(){q=null}),q.setExecuteFunc(function(){(e-=1)<0&&(M.style.cursor="none",q.release())}),q.execute(4294967295)}}function w(e){M.style.cursor=e,q&&q.release()}function y(e){var t=null;e>0&&(t=ns.getNext(P)),e<0&&(t=ns.getPrev(P)),t&&g(P=t),b(ns.getIndex(P)+1+" / "+ns.getCount())}function E(e){(ee+=e)<0&&(ee+=lt.SCALE_MODE_MAX),ee>=lt.SCALE_MODE_MAX&&(ee-=lt.SCALE_MODE_MAX),b("ScaleMode: "+['"AUTO"','"NO SCALE"','"LONG VERTICAL"','"SHOW ALL"','"SHOW FULL"'][ee]),h()}var k,A,R,T,I,C,S,M,L,N,F,O,D,j,z,P,U,V,B,H,W,G,Z,$,Y,q,Q,X,K,J,ee,te,ne,ae,ie,oe,re,se,le,ce,_e,ue,pe=this;pe.release=function(){n(),a()},pe.setInputMouse=function(e){J.setInputMouse(e),V=J.getButtonRight(),B=J.getButtonLeft()},function(){var n,a,u,f,h,w,N,$,q,K,de,me,ge,fe,he,xe,be,ve,we,ye,Ee,ke,Ae,Re,Te,Ie,Ce,Se,Me,Le,Ne;for(a=(n=(k=_s.getWindowRoot()).document).documentElement,A=n.body,J=_s.existWindowRoot()?new It(k):zr,V=J.getButtonRight(),B=J.getButtonLeft(),H=!1,ee=lt.SCALE_MODE_AUTO,te={x:0,y:0},ne={x:1,y:1},ae=1,ie=0,oe={x:0,y:0},re={x:0,y:0},se=0,le=new Object,ce=new Object,_e=wo(Ts),P=e,e=null,U=new Array,h=(u=[{element:a,value_list:["hidden","initial"]},{element:A,value_list:["hidden"]}]).length,f=0;f<h;f++)for(N=(w=u[f]).value_list,q=($=w.element).style,U.push({element:$,value:Er(q,"overflow")}),de=N.length,K=0;K<de;K++)q.overflow=N[K];Oo(T=yo("div"),Ar()),Fo(T,"position:fixed; left:0px; top:0px; z-index:2147483646; line-height:0;"),me=ho(n),(q=T.style).width=me.width+"px",q.height=me.height+"px",Oo(I=yo("div"),Ar()),Fo(I,"background:#fcfcfc; color:#000; font-size:14px; top:10px; right:30px; line-height:1; position:absolute; border-radius:10px; box-shadow:0px 0px 5px #c0c0c0; pointer-events:inherit;"),ge="margin:0px; padding:0px; font-size:12px; font-weight:bold; text-align:center; width:24px; height:24px; display:inline-block; pointer-events:inherit;",fe="vertical-align:top; margin:0px -6px; pointer-events:inherit;",(he=yo("button")).title="prev image",Oo(he,Tr()),Fo(he,ge),he.onclick=function(){y(-1)},Oo(xe=yo("img"),Rr()),Fo(xe,fe),xe.src="data:image/gif;base64,R0lGODlhEAAQAIAAACAgIP///yH5BAUUAAEALAAAAAAQABAAAAIjjI+py50AVzwQvIqwqXpHzmXgKI4h9ZklenpW+bpS7NT2HRQAOw==",he.appendChild(xe),(be=yo("button")).title="next image",Oo(be,Tr()),Fo(be,ge),be.onclick=function(){y(1)},Oo(ve=yo("img"),Rr()),Fo(ve,fe),ve.src="data:image/gif;base64,R0lGODlhEAAQAIAAACAgIP///yH5BAUUAAEALAAAAAAQABAAAAIljI+py50AFoxn0gqRzWbqnXkYaH2k2JEBum6jeaUx99DOjedBAQA7",be.appendChild(ve),(we=yo("button")).title="zoom out",Oo(we,Tr()),Fo(we,ge),we.onclick=function(){x(-10)},Oo(ye=yo("img"),Rr()),Fo(ye,fe),ye.src="data:image/gif;base64,R0lGODlhEAAQAIAAACAgIP///yH5BAUUAAEALAAAAAAQABAAAAIXjI+py+0P4wK0WoquBnnb7mHSSJZmWQAAOw==",we.appendChild(ye),(Ee=yo("button")).title="zoom in",Oo(Ee,Tr()),Fo(Ee,ge),Ee.onclick=function(){x(10)},Oo(ke=yo("img"),Rr()),Fo(ke,fe),ke.src="data:image/gif;base64,R0lGODlhEAAQAIAAACAgIP///yH5BAUUAAEALAAAAAAQABAAAAIfjI+pywYP2oFRBmovZLTv6XVIKILkw30SZrGrmsVSAQA7",Ee.appendChild(ke),(Ae=yo("button")).title="change scale mode",Oo(Ae,Tr()),Fo(Ae,ge),Ae.onclick=function(){E(1)},Oo(Re=yo("img"),Rr()),Fo(Re,fe),Re.src="data:image/gif;base64,R0lGODlhEAAQAIAAACAgIP///yH5BAUUAAEALAAAAAAQABAAAAIshI9pwe2+EDwhrkftZTLWm33Q2GzPaZ4Tya3A98KVKJXZS2EWHHO3qlIIEQUAOw==",Ae.appendChild(Re),(Te=yo("button")).title="download",Oo(Te,Tr()),Fo(Te,ge),Te.onclick=function(){var e;b("Wait..."),P.getImage(),(e=new bt).setURL(P.getOriginalURL()),e.setSaveAs(!1),e.setSilent(!1),e.setAllowSameRequest(!0),e.onprogress=function(e){var t=0,n=e.bytesLoaded,a=e.bytesTotal;a&&(t=Math.floor(n/a*100)),b("Loading... "+t+"% "+n+"Byte")},e.oncomplete=function(e){e.result?b("Download success"):b("Download failure ( "+e.error+" )")},e.start()},Oo(Ie=yo("img"),Rr()),Fo(Ie,fe),Ie.src="data:image/gif;base64,R0lGODlhEAAQAIAAACAgIP///yH5BAUUAAEALAAAAAAQABAAAAIgjA8Jx63b4otSUWcvyjpM+oScIX6YqKGduULdW8ZyXAAAOw==",Te.appendChild(Ie),(Ce=yo("button")).title="close and scroll",Oo(Ce,Tr()),Fo(Ce,ge),Ce.onclick=function(){t(),P.getElementAnchor().scrollIntoView()},Oo(Se=yo("img"),Rr()),Fo(Se,fe),Se.src="data:image/gif;base64,R0lGODlhEAAQAIAAACAgIP///yH5BAUUAAEALAAAAAAQABAAAAIwRBypatDr4HnJxTpPtbc9zmkRMl0iVZKetpmrajEZ7M5MjI1p+LZ475PpbpLholgAADs=",Ce.appendChild(Se),(Me=yo("button")).title="close",Oo(Me,Tr()),Fo(Me,ge),Me.onclick=function(){t()},Oo(Le=yo("img"),Rr()),Fo(Le,fe),Le.src="data:image/gif;base64,R0lGODlhEAAQAIAAACAgIP///yH5BAUUAAEALAAAAAAQABAAAAIgjI+py50AFQQvnrlw0Hna5jlG6HifZHGIqm7n+Iry3BQAOw==",Me.appendChild(Le),Oo(C=yo("div"),Ar()),Fo(C,"position:absolute; left:0px; top:0px; right:0px; bottom:0px; overflow:scroll; line-height:0; user-select:none; pointer-events:inherit; -webkit-user-select:none; -moz-user-select:none; -khtml-user-select:none;"),Oo(M=yo("div"),Ar()),v(),Oo(L=yo("div"),Ar()),Fo(L,"background:#000; opacity:0.9; width:0px; height:0px; position:absolute; cursor:inherit; pointer-events:inherit;"),Oo(S=yo("div"),Ar()),Fo(S,"background:#fcfcfc; color:#000; font-size:14px; top:10px; left:10px; line-height:1; position:absolute; padding:5px 10px; border-radius:10px; box-shadow:0px 0px 5px #c0c0c0; pointer-events:inherit;"),z=Is.createTextNode(""),S.appendChild(z),Y=0,(Q=new pr(T)).setFunction(pe.release),Kn(X=Nt(T)),(Ne=new ma).SetOutsider(),_s.existWindowRoot()&&Ne.SetGuest(),os.attachAnalyzeWork(X,Ne),T.appendChild(C),C.appendChild(M),M.appendChild(L),R=yo("div"),A.appendChild(R),(R.attachShadow?R.attachShadow({mode:"closed"}):R).appendChild(T),i(),T.addEventListener?(M.addEventListener("mousedown",o,!1),T.addEventListener("mousemove",r,!1),T.addEventListener("mouseup",s,!1),T.addEventListener("contextmenu",l,!1),C.addEventListener("scroll",p,!1),Ts.MouseScrollEvent?C.addEventListener("DOMMouseScroll",c,!1):C.addEventListener("mousewheel",_,!1),C.addEventListener("dragstart",m,!1),k.addEventListener("resize",d,!1)):T.attachEvent&&(M.attachEvent("onmousedown",o),T.attachEvent("onmousemove",r),T.attachEvent("onmouseup",s),T.attachEvent("oncontextmenu",l),C.attachEvent("onscroll",p),C.attachEvent("onmousewheel",_),C.attachEvent("ondragstart",m),k.attachEvent("onresize",d)),Oo(F=yo("div"),Ar()),Fo(F,"cursor:inherit;"),Oo(O=yo("div"),Ar()),Fo(O,"position:absolute; left:0px; top:0px; cursor:inherit; opacity:0.25; background:#FFF; border-radius:50%; border:5px dotted #444;"),Zo(O.style,"0% 0%"),Oo(D=yo("div"),Ar()),Fo(D,"position:absolute; left:0px; top:0px; cursor:inherit; opacity:0.25; height:3px; background:#F88; border:1px solid #800; border-radius:2.5px;"),Zo(D.style,"0% 0%"),Oo(j=yo("div"),Ar()),Fo(j,"position:absolute; left:0px; top:0px; cursor:inherit; opacity:0.25; height:3px; background:#88F; border:1px solid #008; border-radius:2.5px;"),Zo(j.style,"0% 0%"),F.appendChild(O),F.appendChild(D),F.appendChild(j),g(P),function(){function e(e){var t,n,a,i;switch(p=e,t=I.style,p){case lt.MENU_TYPE_HORIZONTAL:n=g,t.width="auto",t.padding="4px 10px";break;case lt.MENU_TYPE_VERTICAL:n=f,t.width="24px",t.padding="10px 4px"}for(i=n.length,a=0;a<i;a++)I.appendChild(n[a])}function t(e){rr(I),e.setExecuteFunc(n),e.execute(4294967295)}function n(t){var n=C.clientWidth,i=J.getPositionClient();i.y<=d?(e(lt.MENU_TYPE_HORIZONTAL),t.setExecuteFunc(a)):i.x>=n-d&&(e(lt.MENU_TYPE_VERTICAL),t.setExecuteFunc(a))}function a(e){T.appendChild(I),e.setExecuteFunc(i),e.execute(4294967295)}function i(e){(m+=.2)>1&&(m=1,e.setExecuteFunc(o)),I.style.opacity=m}function o(e){e.setExecuteFunc(r),e.execute(4294967295)}function r(e){var t=C.clientWidth,n=J.getPositionClient();p==lt.MENU_TYPE_HORIZONTAL&&n.y>d&&e.setExecuteFunc(s),p==lt.MENU_TYPE_VERTICAL&&n.x<t-d&&e.setExecuteFunc(s)}function s(e){e.getUserWork().frame=0,e.setExecuteFunc(l),e.execute(4294967295)}function l(e){var t=e.getUserWork();t.frame-=1,t.frame<0&&e.setExecuteFunc(c)}function c(e){e.setExecuteFunc(_),e.execute(4294967295)}function _(e){(m-=.1)<0&&(m=0,e.setExecuteFunc(t)),I.style.opacity=m}function u(){if(I.removeEventListener?I.removeEventListener("mouseover",u,!1):I.detachEvent&&I.detachEvent("onmouseover",u),W){var e=$r.createTask(W);e.setDestructorFunc(function(){e=null}),e.setExecuteFunc(a),e.execute(4294967295)}}var p,d=50,m=1,g=[he,be,we,Ee,Ae,Te,Ce,Me],f=[Me,Ce,Te,Ae,Ee,we,he,be];e(lt.MENU_TYPE_HORIZONTAL),T.appendChild(I),I.addEventListener?I.addEventListener("mouseover",u,!1):I.attachEvent&&I.attachEvent("onmouseover",u)}(),(W=$r.createTask()).setDestructorFunc(function(){W=null}),Z=0,(G=$r.createTask(W)).setDestructorFunc(function(){G=null}),G.setExecuteFunc(function(){(Z+=.2)>1&&(Z=1,G.release()),T.style.opacity=Z}),G.execute(4294967295),Yr&=~Ls,(ue=jr.createEventHandler("release")).setFunction(function(){pe.release()})}()}function ct(e){function t(){o&&(o.release(),o=null),null!==r&&(clearTimeout(r),r=null)}function n(e){if(zr.setMouseEvent(e),t(),s)try{var n=e.dataTransfer;n.setData("url",s),n.setData("text",s)}catch(e){}r=setTimeout(function(){r=null,o=new _t},1)}function a(e){"none"==e.dataTransfer.dropEffect&&t()}function i(){e.removeEventListener?(e.removeEventListener("dragstart",n,!1),e.removeEventListener("dragend",a,!1)):e.detachEvent&&(e.detachEvent("ondragstart",n),e.detachEvent("ondragend",a))}var o,r,s;this.release=function(){i(),t()},this.setOriginalURL=function(e){s=e},o=null,r=null,s=null,i(),e.addEventListener?(e.addEventListener("dragstart",n,!1),e.addEventListener("dragend",a,!1)):e.attachEvent&&(e.attachEvent("ondragstart",mouseMove),e.attachEvent("ondragend",a))}function _t(){function e(){var e;t(),(e=$r.createTask()).setDestructorFunc(function(){e=null}),e.setExecuteFunc(function(){if((g-=.2)<0)return g=0,e.release(),void n();u.style.opacity=g}),e.execute(4294967295)}function t(){a(),x&&(x.release(),x=null),u.style.pointerEvents="none",m&&m.releaseChild()}function n(){rr(_),f&&(f.release(),f=null),h&&(os.removeAnalyzeWork(h),h=null),m&&(m.releaseChild(),m.release(),m=null)}function a(){p.removeEventListener?(p.removeEventListener("dragenter",o,!1),p.removeEventListener("dragleave",r,!1),p.removeEventListener("dragover",i,!1),p.removeEventListener("drop",l,!1)):p.detachEvent&&(p.detachEvent("ondragenter",o),p.detachEvent("ondragleave",r),p.detachEvent("ondragover",i),p.detachEvent("ondrop",l))}function i(e){if(o(e),!e.preventDefault)return!1;e.preventDefault()}function o(e){s(e.currentTarget)}function r(e){var t;(t=e.currentTarget.style).backgroundImage="linear-gradient(to bottom, #f8f8f8, #e8e8e8)",t.boxShadow="0px 0px 2px #808080"}function s(e){var t=e.style;t.backgroundImage="linear-gradient(to top, #f0f4ff, #c8cff0)",t.boxShadow="0px 0px 6px #6070d0"}function l(t){var n,a,i;if(r(t),n=t.dataTransfer.getData("url"),a=new c(d),(i=new bt).setURL(n),i.setSaveAs(!1),i.setSilent(!1),i.setAllowSameRequest(!0),i.onprogress=function(e){var t=0,n=e.bytesLoaded,i=e.bytesTotal;i&&(t=n/i),a.setValue(t),p.title="Loading... "+Math.floor(100*t)+"% "+n+"Byte"},i.oncomplete=function(t){var n,a,i=Is.createElementNS("http://www.w3.org/2000/svg","path");or(d,i),t.error?(i.setAttribute("fill","rgba(255,128,128,0.75)"),i.setAttribute("d","M78,16.099c-0.174,0.404-0.346,0.75-0.519,1.037c-0.174,0.289-0.376,0.599-0.607,0.908c-3.543,4.736-7.181,9.417-10.564,13.982c-3.384,4.565-9.663,11.308-9.786,13.975c-0.041,0.892,1.771,3.257,2.723,4.927c0.95,1.669,1.967,3.428,3.047,5.271c1.081,1.844,2.24,3.786,3.479,5.832c1.237,2.046,2.641,4.252,4.017,6.57c0.35,0.589,0.655,1.195,0.929,1.771c0.274,0.576,0.469,1.138,0.584,1.685c-0.397-0.225-0.595-0.337-0.992-0.562c0.173,0.57,0.257,0.855,0.43,1.426c-0.346,0.035-0.519,0.053-0.864,0.088c0.207,0.847,0.312,1.271,0.519,2.118c-0.951-0.778-1.425-1.167-2.375-1.945c0.276,1.176,0.415,1.763,0.691,2.938c-0.536-0.294-0.805-0.442-1.341-0.736c-0.241,0.813-0.361,1.219-0.603,2.031c-0.984-0.985-1.479-1.477-2.463-2.462c0.207,1.072,0.311,1.608,0.518,2.681c-0.535-0.501-0.804-0.755-1.34-1.256c-0.104,0.207-0.157,0.313-0.261,0.52c-0.276-0.312-0.415-0.466-0.691-0.777c-0.035,0.415-0.049,0.622-0.084,1.037c-0.489-0.49-0.886-0.914-1.188-1.275c-0.302-0.36-0.584-0.763-0.845-1.189c-1.913-3.129-3.823-6.202-5.595-9.184c-1.771-2.982-5.085-8.793-5.121-8.794c-0.361-0.007-2.664,4.35-3.931,6.481c-1.268,2.133-2.544,4.338-3.825,6.613c-1.282,2.276-2.592,4.676-3.932,7.196c-1.338,2.521-2.758,5.265-4.256,8.23c-0.116,0.23-0.222,0.444-0.323,0.646c-0.102,0.201-0.239,0.427-0.413,0.672c-0.172,0.244-0.382,0.502-0.626,0.775c-0.244,0.272-0.555,0.6-0.929,0.974c-0.138-0.622-0.207-0.933-0.345-1.555c-0.881,0.881-1.322,1.321-2.204,2.202c0.276-1.382,0.496-2.075,0.772-3.457C28.579,86.444,28,86.921,27,87.871c0-0.674,0-1.01,0-1.684c-1,0.432-1.455,0.646-2.371,1.078c0.536-1.244,0.763-1.865,1.299-3.109c-0.985,0.743-1.498,1.113-2.482,1.856c0.242-0.812,0.352-1.217,0.594-2.029c-0.536,0.104-0.81,0.155-1.345,0.259c0.501-1.02,0.75-1.528,1.251-2.548c-0.777,0.483-1.167,0.727-1.944,1.21c0.085-0.345,0.194-0.706,0.323-1.08c0.129-0.375,0.335-0.756,0.54-1.123c3.2-5.729,6.356-12.1,9.828-17.891s10.755-14.004,10.911-17.156c0.104-2.084-4.027-7.568-5.942-11.296c-1.915-3.728-3.904-7.594-5.768-11.519c-0.175-0.368-0.339-0.755-0.497-1.144c-0.159-0.389-0.28-0.742-0.367-1.06c0.45,0.104,0.674,0.155,1.124,0.259c-0.311-0.882-0.468-1.323-0.779-2.204c0.536,0.035,0.804,0.052,1.34,0.087c-0.069-0.898-0.104-1.348-0.174-2.246c1.02,0.933,1.532,1.399,2.552,2.333c-0.432-1.487-0.626-2.229-1.058-3.716C34.812,15.702,35,15.978,36,16.531c0-0.778,0-1.167,0-1.944c1,0.968,1.429,1.452,2.396,2.42c-0.259-0.933-0.398-1.401-0.658-2.334c0.709,0.64,1.057,0.959,1.765,1.599c0.259-0.519,0.387-0.777,0.646-1.296c0.432,0.577,0.784,1.109,1.057,1.599c0.273,0.49,0.627,1.075,0.971,1.728c1.632,3.105,3.076,6.26,4.473,9.012c1.397,2.752,4.033,8.012,4.083,8.016c1.278,0.091,10.41-14.775,15.943-21.78c0.385-0.487,0.822-0.943,1.255-1.36c0.432-0.417,0.964-0.756,1.598-1.016c-0.121,0.449-0.182,0.674-0.303,1.123c0.674-0.501,1.013-0.751,1.688-1.252c-0.208,1.002-0.313,1.504-0.521,2.506c1.21-0.916,1.814-1.375,3.024-2.29c0.035,0.777,0.054,1.167,0.089,1.944c0.951-0.328,1.426-0.493,2.377-0.821c-0.605,1.175-0.907,1.764-1.513,2.938c1.072-0.743,1.606-1.115,2.679-1.858c-0.259,0.743-0.39,1.115-0.648,1.858c0.501-0.293,0.753-0.441,1.254-0.735c-0.501,0.899-0.753,1.348-1.254,2.247C77.04,16.54,77.36,16.393,78,16.099z"),p.title="Download failure ( "+t.error+" )"):(i.setAttribute("fill","rgba(96,255,96,0.75)"),i.setAttribute("d","M18.882,60.969c-0.601-0.636-1.068-1.181-1.386-1.635c-0.318-0.454-0.478-0.892-0.478-1.315c0-0.545,0.266-1.093,0.795-1.638c0.53-0.545,1.211-1.029,2.045-1.453c0.832-0.424,1.74-0.767,2.725-1.024c0.983-0.257,1.931-0.384,2.84-0.384c0.969,0,1.764,0.127,2.384,0.384c0.62,0.257,1.22,0.691,1.795,1.297c2.332,2.453,4.444,4.959,6.336,7.518c1.893,2.56,5.564,7.927,5.564,7.927c0.546-0.063,3.572-9.229,5.45-13.604c1.877-4.376,3.869-8.66,5.974-12.854c2.104-4.194,4.361-8.331,6.77-12.403c2.407-4.072,5.063-8.175,7.836-12.285c1.031-1.529,2.551-2.681,4.564-3.407S76.691,15,79.841,15c0.938,0,1.694,0.136,2.27,0.408s0.865,0.637,0.865,1.091c0,0.394-0.091,0.787-0.272,1.181s-0.461,0.85-0.818,1.363c-6.759,9.716-13.279,19.88-18.76,30.161c-5.623,10.548-10.722,22.024-14.673,33.254c-0.288,0.817-0.939,1.481-2,1.906C45.393,84.788,43.834,85,41.774,85c-0.969,0-1.786-0.03-2.451-0.091c-0.667-0.062-1.228-0.175-1.682-0.341c-0.454-0.166-0.834-0.371-1.136-0.613c-0.304-0.242-0.558-0.552-0.771-0.908c-1.26-2.109-2.566-4.097-3.793-5.93c-1.227-1.831-2.5-3.612-3.816-5.338c-1.317-1.726-2.725-3.467-4.224-5.223S20.729,62.922,18.882,60.969z"),p.title="Download success"),n=180,(a=$r.createTask()).setDestructorFunc(function(){a=null}),a.setExecuteFunc(function(){if((n-=1)<0)return e(),void a.release()}),a.execute(4294967295)},i.start(),!t.preventDefault)return!1;t.preventDefault()}function c(e){var t;this.release=function(){rr(t)},this.setValue=function(e){var n,a,i,o,r,s,l,c,_,u,p,d,m,g;n=48,o=.5*((i=(a=-90)+360*e)-a)+a,r=a*Math.PI/180,s=o*Math.PI/180,l=i*Math.PI/180,c=Math.cos(r)*n+50,_=Math.sin(r)*n+50,u=Math.cos(s)*n+50,p=Math.sin(s)*n+50,d=Math.cos(l)*n+50,m=Math.sin(l)*n+50,(g=new Array).push("M"),g.push(50),g.push(50),g.push("L"),g.push(c),g.push(_),g.push("A"),g.push(n),g.push(n),g.push(a),g.push(0),g.push(1),g.push(u),g.push(p),g.push("A"),g.push(n),g.push(n),g.push(o),g.push(0),g.push(1),g.push(d),g.push(m),g.push("Z"),t.setAttribute("d",g.join(" "))},ir(e,t=Is.createElementNS("http://www.w3.org/2000/svg","path")),t.setAttribute("fill","rgba(0,128,255,0.1)")}var _,u,p,d,m,g,f,h,x,b,v,w,y,E,k,A,R,T,I,C,S=this;S.release=function(){t(),n()},_=yo("div"),(f=new pr(_)).setFunction(S.release),Kn(h=Nt(_)),(b=new ma).SetOutsider(),os.attachAnalyzeWork(h,b),Is.body.appendChild(_),v=_.attachShadow?_.attachShadow({mode:"closed"}):_,Oo(u=yo("div"),Ar()),Fo(u,"background:#fcfcfc; color:#000; font-size:14px; line-height:1; position:fixed; padding:15px; z-index:2147483646; border-radius:10px; box-shadow:0px 0px 5px #c0c0c0; pointer-events:inherit;"),v.appendChild(u),Fo(p=Is.createElement("div"),"margin:0px; padding:0px; background:#ffc; font-size:12px; font-weight:bold; text-align:center; width:100px; height:100px; display:inline-block; pointer-events:inherit; border-radius:10px; overflow:hidden;"),s(p),u.appendChild(p),(d=Is.createElementNS("http://www.w3.org/2000/svg","svg")).innerHTML='<rect x="10" y="80" fill="#252525" width="80" height="10"/><polygon fill="#252525" points="50,75 20,45 40,45 40,10 60,10 60,45 80,45 "/>',p.appendChild(d),a(),p.addEventListener?(p.addEventListener("dragenter",o,!1),p.addEventListener("dragleave",r,!1),p.addEventListener("dragover",i,!1),p.addEventListener("drop",l,!1)):p.attachEvent&&(p.attachEvent("ondragenter",o),p.attachEvent("ondragleave",r),p.attachEvent("ondragover",i),p.attachEvent("ondrop",l)),w=jo(u),y=zr.getPositionClient(),E=w.right-w.left,k=w.bottom-w.top,A=y.x-.5*E,R=y.y-.5*k,A-=(T=_s.getPositionFromRoot()).x,R-=T.y,(I=u.style).left=A+"px",I.top=R+"px",(m=$r.createTask()).setDestructorFunc(function(){m=null}),function(){g=0;var e=$r.createTask(m);e.setDestructorFunc(function(){e=null}),e.setExecuteFunc(function(){(g+=.2)>1&&(g=1,e.release()),u.style.opacity=g}),e.execute(4294967295)}(),(C=$r.createTask(m)).setDestructorFunc(function(){C=null}),C.setExecuteFunc(function(){var t=zr.getPositionClient(),n=_s.getPositionFromRoot();t.x-=n.x,t.y-=n.y,Uo(u,t,!0)||(C.release(),e())}),C.execute(4294967295),(x=jr.createEventHandler("release")).setFunction(function(){S.release()})}function ut(e){function t(){v.dispatchEvent("close",z),rr(b),z.release()}function n(){Ts.removeEventListener?(b.removeEventListener("mouseover",a,!1),h.removeEventListener("mousedown",_,!1),m.removeEventListener("dragstart",p,!1)):Ts.detachEvent&&(b.detachEvent("onmouseover",a),h.detachEvent("onmousedown",_),m.detachEvent("ondragstart",p))}function a(e){zr.setMouseEvent(e),A||((A=$r.createTask(k)).setLevel(Ls),A.setDestructorFunc(function(){A=null}),A.setExecuteFunc(i),A.execute(4294967295))}function i(e){e.getUserWork().spd=0,Is.body.appendChild(m),d(),e.setExecuteFunc(o),e.execute(4294967295)}function o(e){var t,n=e.getUserWork();n.spd+=.1,n.spd>.5&&(n.spd=.5),t=.3*(1-T),n.spd>t&&(n.spd=t),(T+=n.spd)<0&&(T=0),T>.99&&(T=1,e.setExecuteFunc(r)),u(zr.getPositionClient())||e.setExecuteFunc(l),d()}function r(e){e.getUserWork(),e.setExecuteFunc(s),e.execute(4294967295)}function s(e){e.getUserWork(),u(zr.getPositionClient())||e.setExecuteFunc(l)}function l(e){var t,n=e.getUserWork();n.spd-=.01,n.spd<-.5&&(n.spd=-.5),t=.4*(0-T),n.spd<t&&(n.spd=t),(T+=n.spd)>1&&(T=1),T<.01&&(T=0,e.setExecuteFunc(c)),u(zr.getPositionClient())&&e.setExecuteFunc(o),d()}function c(e){e.getUserWork(),rr(m),e.release()}function _(e){var t,n,a,i;zr.setMouseEvent(e),t=jo(h),n=zr.getPositionClient(),a=n.x-t.left-4,i=n.y-t.top-4,R||zr.getButtonLeft()&&(nr(h,x),(R=$r.createTask(k)).setLevel(Ls),R.setDestructorFunc(function(){R=null}),R.setExecuteFunc(function(){var e,t,n,o,r,s;if(!zr.getButtonLeft())return rr(x),void R.release();e=jo(b),t=ys(b.style),(o=(n=zr.getPositionClient()).x-a-e.left-(t.offsetWidth-t.width))<0&&(o=0),(r=n.y-i-e.top-(t.offsetHeight-t.height))<0&&(r=0),(s=b.style).minWidth="0",s.minHeight="0",s.maxWidth="none",s.maxHeight="none",s.width=o+"px",s.height=r+"px",d()}),R.execute(4294967295))}function u(e){var t,n,a,i,o;if(R)return!0;if(Uo(f,e,!0))return!0;if(Uo(h,e,!0))return!0;if(Uo(b,e,!0))return!0;if(i=(n=(t=jo(b)).right+16)-32,o=(a=t.bottom+16)-32,n<e.x);else if(a<e.y);else if(i>e.x);else if(!(o>e.y))return!0;return!1}function p(e){if(!e.preventDefault)return!1;e.preventDefault()}function d(){var e,t,n,a,i,o,r=lo(Ts),s=jo(b);s.left+=r.x,s.right+=r.x,s.top+=r.y,s.bottom+=r.y,e=s.right-s.left,t=s.bottom-s.top,(n=g.style).width=e+"px",i=(a=jo(g)).bottom-a.top,o=s.top-i,n.left=s.left+"px",n.top=o+"px",(n=f.style).top=(1-T)*i+"px",(n=x.style).left=s.left+"px",n.top=s.top+"px",n.width=e+"px",n.height=t+"px",(n=h.style).left=s.right-4+"px",n.top=s.bottom-4+"px",n.opacity=T}var m,g,f,h,x,b,v,w,y,E,k,A,R,T,I,C,S,M,L,N,F,O,D,j,z=this;z.release=function(){n(),k&&(k.releaseChild(),k.release(),k=null),v&&(v.release(),v=null),w&&(w.release(),w=null),y&&(y.release(),y=null),E&&(os.removeAnalyzeWork(E),E=null),rr(m)},z.createEventHandler=function(e){return v.createEventHandler(e)},b=e,e=null,v=new Rt,T=0,(y=new pr(b)).setFunction(z.release),(m=yo("div")).draggable=!0,Oo(m,Ar()),Oo(g=yo("div"),Ar()),Fo(g,"position:absolute; z-index:2147483646; overflow:hidden; text-align:right;"),Oo(f=yo("div"),Ar()),Fo(f,"position:relative; background-color:rgba(128,128,128,0.9); display:inline-block; border-radius:10px 10px 0px 0px; border:2px solid #666; border-bottom-width:0px; top:0px;"),Oo(I=yo("div"),Ar()),Fo(I,"padding:5px 10px; text-align:right;"),f.appendChild(I),C="margin:0px; padding:0px; font-size:12px; font-weight:bold; text-align:center; width:24px; height:24px; display:inline-block;",S="vertical-align:top; margin:0px -6px;",(M=yo("button")).title="close",Oo(M,Tr()),Fo(M,C),M.onclick=function(){t()},Oo(L=yo("img"),Rr()),Fo(L,S),L.src="data:image/gif;base64,R0lGODlhEAAQAIAAACAgIP///yH5BAUUAAEALAAAAAAQABAAAAIgjI+py50AFQQvnrlw0Hna5jlG6HifZHGIqm7n+Iry3BQAOw==",M.appendChild(L),(N=yo("button")).title="full screen",Oo(N,Tr()),Fo(N,C),N.onclick=function(){xr(b)},Oo(F=yo("img"),Rr()),Fo(F,S),F.src="data:image/gif;base64,R0lGODlhEAAQAIAAACAgIP///yH5BAUUAAEALAAAAAAQABAAAAIshI9pwe2+EDwhrkftZTLWm33Q2GzPaZ4Tya3A98KVKJXZS2EWHHO3qlIIEQUAOw==",N.appendChild(F),(O=yo("button")).title="popup window",Oo(O,Tr()),Fo(O,C),O.onclick=function(e){var n,a,i,o,r,s,l,c,_,u;e||(e=Ts.event),n=e.screenX-e.clientX,a=e.screenY-e.clientY,o=(i=jo(b)).right-i.left,r=i.bottom-i.top,s="left="+(i.left+n)+",top="+(i.top+a)+",width="+o+",height="+r,l=Ts;try{l.wrappedJSObject&&"object"==typeof l.wrappedJSObject&&l.wrappedJSObject.open&&(l=l.wrappedJSObject),(c=(l=l.open("","_blank",s)).document).body.style.cssText="margin:0px; padding:0px; line-height:0; overflow:hidden; width:100%; height:100%;",c.title="PageExpand Media Player"}catch(e){}t(),Oo(b,Ar()),Fo(b,"width:100%; height:100%;"),Kn(_=Nt(b)),(u=new ma).SetOutsider(),u.SetGuest(),os.attachAnalyzeWork(_,u),c.adoptNode&&c.adoptNode(b),c.body.appendChild(b)},Oo(D=yo("img"),Rr()),Fo(D,S),D.src="data:image/gif;base64,R0lGODlhEAAQAIAAACAgIP///yH5BAUUAAEALAAAAAAQABAAAAInjI9pwO2+lALrWRYlooHr7H1cqI1fh6aSqSbUm7kpu6FwW1bXc0oFADs=",O.appendChild(D),I.appendChild(O),I.appendChild(N),I.appendChild(M),Oo(x=yo("div"),Ar()),Fo(x,"position:absolute; z-index:2147483646; background:rgba(255,0,0,0.25);"),Oo(h=yo("div"),Ar()),Fo(h,"position:absolute; z-index:2147483646; cursor:se-resize; width:16px; height:16px; background:url(data:image/gif;base64,R0lGODlhEAAQAJEAACAgIP///////wAAACH5BAUUAAIALAAAAAAQABAAAAIwjI9pwO2+lAJxUYFxoNuykFXUc3XcSG6jSH4nqKav1nZdKEd0fsePzZEcTq2UUFgAADs=);"),m.appendChild(g),g.appendChild(f),m.appendChild(h),Kn(E=Nt(m)),(j=new ma).SetOutsider(),os.attachAnalyzeWork(E,j),(k=$r.createTask()).setDestructorFunc(function(){k=null}),(w=jr.createEventHandler("release")).setFunction(function(){z.release()}),n(),Ts.addEventListener?(b.addEventListener("mouseover",a,!1),h.addEventListener("mousedown",_,!1),m.addEventListener("dragstart",p,!1)):Ts.attachEvent&&(b.attachEvent("onmouseover",a),h.attachEvent("onmousedown",_),m.attachEvent("ondragstart",p))}function pt(e){function t(e){var t,n;this.setMessage=function(e){e||(e="　"),n.nodeValue=e},Oo(t=yo("div"),"width:100%; font-size:12px; text-align:left; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; margin-bottom:5px;"),n=Eo("　"),t.appendChild(n),e.appendChild(t)}function n(e){var t,n,a;this.release=function(){rr(t||n)},this.setValue=function(e){var n;n=e,t?t.value=n:a.style.width=100*n+"%"},Ts.HTMLProgressElement?(Oo(t=yo("progress"),"display:block; width:100%;"),e.appendChild(t)):(Oo(n=yo("div"),"height:16px; min-height:0; border:1px #888 solid; margin-bottom:5px; line-height:1.0;"),e.appendChild(n),Oo(a=yo("div"),"height:16px; min-height:0; background-color :#888; margin:0px; width:0%; line-height:1.0;"),n.appendChild(a))}function a(){var e=lo(Ts),t=ho(Is),n=jo(s),a=n.right-n.left,i=n.bottom-n.top;s.style.left=t.width/2-a/2+e.x+"px",t.height>i?(s.style.top=t.height/2-i/2+e.y+"px",h=!1):h||(s.style.top=e.y+"px",h=!0)}function i(){g&&(g.release(),g=null),Ts.removeEventListener?(Ts.removeEventListener("scroll",a),Ts.removeEventListener("resize",a)):Ts.detachEvent&&(Ts.detachEvent("onscroll",a),Ts.detachEvent("onresize",a))}var o,r,s,l,c,_,u,p,d,m,g,f,h,x=this;x.release=function(){f&&f.release(),i(),rr(s),rr(r),rr(o)},x.setWidth=function(e){s.style.width=e+"px"},x.setMessage=function(e,t){(0===t?_:u).setMessage(e)},x.setValueProgress=function(e,t){(0===t?p:d).setValue(e)},x.setAnchor=function(e){d.release(),m.value="OK";var t=yo("a");fr(t,e.download),t.href=e.href,t.download=e.download,Oo(t,"width:100%; font-size:14px; text-align:left; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; margin-bottom:5px;"),c.appendChild(t)},x.open=function(t){e.appendChild(s),Ts.addEventListener?(Ts.addEventListener("scroll",a),Ts.addEventListener("resize",a)):Ts.attachEvent&&(Ts.attachEvent("onscroll",a),Ts.attachEvent("onresize",a)),a(),f&&f.release();var n=0;(f=$r.createTask(null)).setDestructorFunc(function(){f=null}),f.setExecuteFunc(function(){var e=!1;(n+=.2)>1&&(n=1,e=!0),r.style.opacity=.5*n,e&&(f.release(),x.setEnable(!0),t())}),f.execute(4294967295)},x.setEnable=function(e){m.disabled=!e},x.close=function(){rr(s),i(),x.setEnable(!1),f&&f.release();var e=1;(f=$r.createTask(null)).setDestructorFunc(function(){f=null}),f.setExecuteFunc(function(){var t=!1;if((e-=.2)<0&&(e=0,t=!0),r.style.opacity=.5*e,t)return x.oncomplete(),f.release(),void x.release()}),f.execute(4294967295)},x.getElement=function(){return s},x.oncomplete=function(){},x.onclose=function(){},o=yo("div"),e.appendChild(o),e=o.attachShadow?o.attachShadow({mode:"closed"}):o,Oo(r=yo("div"),"position:fixed; top:0px; bottom:0px; left:0px; right:0px; opacity:0.0; background:#000; line-height:1.0; z-index:2147483646;"),e.appendChild(r),Oo(s=yo("div"),"position:absolute; width:800px; padding:25px; background:#00F; background-color:#FFF; border-radius:5px; box-shadow:5px 5px 10px #444; z-index:2147483646;"),Oo(l=yo("div"),"min-height:50px;"),s.appendChild(l),_=new t(l),p=new n(l),Oo(c=yo("div"),"min-height:60px;"),s.appendChild(c),u=new t(c),d=new n(c),(m=yo("input")).type="button",m.value="CANCEL",Oo(m,"width:100%; height:50px;"),s.appendChild(m),m.onclick=function(){x.onclose&&x.onclose(),x.close()},x.setMessage("",0),x.setMessage("",1),x.setValueProgress(0,0),x.setValueProgress(0,1),x.setEnable(!1),(g=jr.createEventHandler("release")).setFunction(function(){x.release()})}function dt(e){var t,n;this.getMessage=function(e){return t[e]?t[e].message:"XXXXX NO LOCALE MESSAGE XXXXX"},e||(e=""),e=e.toLowerCase(),t||(t=dt.locales[e]),t||(n=e.match(new RegExp("[^-]+"),""))&&(t=dt.locales[n[0]]),t||(t=dt.locales.en)}function mt(e,t){function n(){i&&(o.ontimer&&o.ontimer(),o.currentCount>=o.repeatCount&&(o.oncomplete&&o.oncomplete(),o.release()))}var a,i,o=this;o.release=function(){o.stop(),i&&(i.release(),i=null)},o.ontimer=function(){},o.oncomplete=function(){},o.start=function(){null===a&&(o.running=!0,a=setInterval(function(){o.currentCount++,Ur.attachFirst(n,null),null===o.repeatCount||o.currentCount>=o.repeatCount&&o.stop()},o.delay),(i=jr.createEventHandler("release")).setFunction(o.release))},o.stop=function(){null!==a&&(clearInterval(a),a=null,o.running=!1)},o.reset=function(){o.currentCount=0},a=null,isNaN(e)?o.delay=0:o.delay=Number(e),o.currentCount=0,isNaN(t)?o.repeatCount=null:o.repeatCount=Number(t),o.running=!1}function gt(){function e(e){this.url=e,this.id=n,n+=1}var t,n,a,i=this;e.prototype={release:function(){if(this.url){var e=this.url.toLowerCase();delete t[e],delete this.url,this.releaseBlobURL()}},getId:function(){return this.id},getURL:function(){return this.url},analyzeRedirect:function(){var e,t=this;return this.analyze_redirect||void 0!==this.redirect?null:((e=this.analyze_redirect=new Object).release=function(){e.released||(e.released=!0,e.event_dispatcher.release(),delete t.analyze_redirect)},e.success=function(n){t.redirect=n,e.event_dispatcher.dispatchEvent("success",null),e.release()},e.failure=function(n){t.redirect=null,e.event_dispatcher.dispatchEvent("failure",n),e.release()},e.released=!1,e.event_dispatcher=new Rt,e)},getRedirect:function(e){function t(){i&&(i.release(),i=null),o&&(o.release(),o=null),e(a.redirect)}var n,a=this,i=null,o=null,r=a.analyze_redirect;r&&void 0===a.redirect?(n=r.event_dispatcher,(i=n.createEventHandler("success")).setFunction(function(){t()}),(o=n.createEventHandler("failure")).setFunction(function(){t()})):t()},analyzeBlobURL:function(){var e,t=this;return this.analyze_blob_url||void 0!==this.blob_url?null:((e=this.analyze_blob_url=new Object).release=function(){e.released||(e.released=!0,e.event_dispatcher.release(),delete t.analyze_blob_url)},e.success=function(n){t.blob_url=n,e.event_dispatcher.dispatchEvent("success",null),e.release()},e.failure=function(n){t.blob_url="",e.event_dispatcher.dispatchEvent("failure",n),e.release()},e.released=!1,e.event_dispatcher=new Rt,e)},getBlobURL:function(e){function t(){i&&(i.release(),i=null),o&&(o.release(),o=null),e(a.blob_url)}var n,a=this,i=null,o=null,r=a.analyze_blob_url;r&&void 0===a.blob_url?(n=r.event_dispatcher,(i=n.createEventHandler("success")).setFunction(function(){t()}),(o=n.createEventHandler("failure")).setFunction(function(){t()})):t()},releaseBlobURL:function(){this.blob_url&&(mi(this.blob_url),delete this.blob_url)},getCached:function(e){function t(){i&&(i.release(),i=null),o&&(o.release(),o=null),e(a.cached,null)}var n,a=this,i=null,o=null,r=a.analyze_cached;if(!r&&void 0===a.cached)return a.analyze_cached=function(){var e=new Object;return e.release=function(){e.released||(e.released=!0,e.event_dispatcher.release(),delete a.analyze_cached)},e.success=function(){a.cached={ok:!0},e.event_dispatcher.dispatchEvent("success",null),e.release()},e.failure=function(t){a.cached={ok:!1},e.event_dispatcher.dispatchEvent("failure",t),e.release()},e.released=!1,e.event_dispatcher=new Rt,e}(),void e(a.cached,a.analyze_cached);r&&void 0===a.cached?(n=r.event_dispatcher,(i=n.createEventHandler("success")).setFunction(function(){t()}),(o=n.createEventHandler("failure")).setFunction(function(){t()})):t()},getMimeType:function(){return this.mimetype},setMimeType:function(e){this.mimetype=e},getExt:function(){return this.ext},setExt:function(e){this.ext=e},attachDone:function(e){this.done||(this.done={}),this.done[e]=!0},removeDone:function(e){this.done&&delete this.done[e]},getDone:function(e){return!!this.done&&Boolean(this.done[e])},url:"",id:0,analyze_redirect:null,analyze_blob_url:null,analyze_cached:null,redirect:void 0,blob_url:void 0,cached:void 0,category:"",mimetype:"",ext:""},i.release=function(){var e;for(e in t)t[e].release();t=null},i.addURL=function(n){var a=n.toLowerCase(),i=t[a];return i||(t[a]=i=new e(n)),i},i.getUrlInfo=function(e){var n=e.toLowerCase();return t[n]},i.getRedirectURL=function(e,t){var n,o,r=!1,s=i.getUrlInfo(e),l=function(){t({redirected:r,url_info:s})};s?(n=0,(o=function(){s.getRedirect(function(e){e&&(r=!0,s=e,++n<a)?o():l()})})()):l()},t=new Object,n=0,a=16}function ft(){var e,t,n=this;n.release=function(){e=null,t=0},n.addAddress=function(n,a){var i=e[n];return i||(e[n]=i=new Object),!i[a]&&(i[a]=!0,t+=1,!0)},n.removeAddress=function(n,a){var i=e[n];return!!i&&!!i[a]&&(i[a]=!1,t-=1,!0)},n.hasAddress=function(t,n){var a=e[t];return!!a&&!!a[n]},n.getCountAddress=function(){return t},t=0,e=new Object}function ht(){function e(e){r+=1,e<i&&(n=a[i=e]),null===c&&(c=setTimeout(function(){t()},u))}function t(){var e,d,m,g;c=setTimeout(function(){t()},u),e=p();do{m=(d=n._next)._prev,g=d._next,m._next=g,g._prev=m;try{d.func(d.param),s+=1}catch(e){Fr.getEnableDebugMode()&&ti(e.stack),l+=1}for(;i<o&&n._next==n;)i++,n=a[i];if((r-=1)<=0)return void(null!==c&&(clearTimeout(c),c=null))}while(p()-e<=_)}var n,a,i,o,r,s,l,c,_,u,p,d=this;for(d.release=function(){var e,t,n,i;for(e=0;e<o;e++)n=(t=a[e])._prev,i=t._next,n._next=i,i._prev=n,t._prev=t,t._next=t;null!==c&&(clearTimeout(c),c=null)},d.attachFirst=function(t,n){var i={func:t,param:n},o=a[0],r=o._next;i._prev=o,i._next=r,o._next=i,r._prev=i,e(0)},d.attachLastForInterrupt=function(t,n){var i={func:t,param:n},o=a[0],r=o._prev;i._prev=r,i._next=o,r._next=i,o._prev=i,e(0)},d.attachFirstForRemoveDomNode=function(t,n){var i={func:t,param:n},o=a[1],r=o._next;i._prev=o,i._next=r,o._next=i,r._prev=i,e(1)},d.attachLastForRemoveDomNode=function(t,n){var i={func:t,param:n},o=a[1],r=o._prev;i._prev=r,i._next=o,r._next=i,o._prev=i,e(1)},d.attachFirstForInsertDomNode=function(t,n){var i={func:t,param:n},o=a[2],r=o._next;i._prev=o,i._next=r,o._next=i,r._prev=i,e(2)},d.attachLastForInsertDomNode=function(t,n){var i={func:t,param:n},o=a[2],r=o._prev;i._prev=r,i._next=o,r._next=i,o._prev=i,e(2)},d.attachForExpandBbs=function(t,n){var i={func:t,param:n},o=a[3],r=o._prev;i._prev=r,i._next=o,r._next=i,o._prev=i,e(3)},d.attachForExpandElement=function(t,n){var i={func:t,param:n},o=a[4],r=o._prev;i._prev=r,i._next=o,r._next=i,o._prev=i,e(4)},d.attachForAnalyzeElement=function(t,n){var i={func:t,param:n},o=a[5],r=o._prev;i._prev=r,i._next=o,r._next=i,o._prev=i,e(5)},d.attachForAnalyzeTextNode=function(t,n){var i={func:t,param:n},o=a[6],r=o._prev;i._prev=r,i._next=o,r._next=i,o._prev=i,e(6)},d.attachLast=function(t,n){var i={func:t,param:n},o=a[7],r=o._prev;i._prev=r,i._next=o,r._next=i,o._prev=i,e(7)},d.getCountQueue=function(){return r},d.getCountSuccess=function(){return s},d.getCountError=function(){return l},d.getPhase=function(){return i},d.setOccupancyTime=function(e){_=e},d.setSleepTime=function(e){u=e},r=0,s=0,l=0,c=null,_=5,u=0,i=0,o=8,a=new Array;i<o;)(n=new Object)._prev=n,n._next=n,a[i]=n,i++;(p=Date.now)||(p=function(){return(new Date).getTime()})}function xt(){function e(e){this._prev=this,this._next=this,this._released=!1,this._waiting=!1,this._loading=!1,this._rule=h[e],f[g]=this,this._unique=g,g+=1,_+=1}function t(e){null!==e._time_handler&&(clearTimeout(e._time_handler),e._time_handler=null)}function n(e){return!(e._thread_count>=e._thread_max||function(e){return Boolean(null!==e._time_handler)}(e))}function a(e){e._loading||(e._loading=!0,o(e),u+=1,e._rule._thread_count+=1,e.onstart())}function i(e){var n,a;e._loading&&(e._loading=!1,u-=1,n=e._rule,a=Boolean(n._thread_count>=n._thread_max),n._thread_count-=1,a&&n._cooltime&&(t(n),n._time_handler=setTimeout(function(){t(n),l()},n._cooltime)))}function o(e){var t=e._prev,n=e._next;t._next=n,n._prev=t,e._prev=e,e._next=e,e._waiting=!1}function r(e){if(e._loading||e._waiting){var t=e.onabort;t&&t()}o(e),i(e)}function s(e){e._released||(e._released=!0,o(e),i(e),delete f[e._unique],_-=1)}function l(){var e,t;if(!m)for(t=(e=v.queue)._next;t!=v.queue&&!(u>=p);)n(t._rule)?(a(t),t=e._next):(e=t,t=t._next)}var c,_,u,p,d,m,g,f,h,x,b,v=this;v.release=function(){var e,t,n;if(!m){for(m=!0,e=v.queue;e!=e._next;)s(e._next);for(n=h.length,t=0;t<n;t++)h[t].release()}},v.createElement=function(){return new e(0)},e.prototype={onstart:function(){},onabort:function(){},complete:function(){o(this),i(this),l()},getId:function(){return this._unique},release:function(){s(this),l()},abort:function(){r(this),l()},attachFirst:function(){var e,t;r(this),t=(e=v.queue)._next,e._next=this,t._prev=this,this._prev=e,this._next=t,this._waiting=!0,l()},attachLast:function(){var e,t;r(this),(t=(e=v.queue)._prev)._next=this,e._prev=this,this._prev=t,this._next=e,this._waiting=!0,l()}},v.createRule=function(){return new c},c=function(){function e(){this._thread_count=0,this._thread_max=0,this._cooltime=0,this._time_handler=null}return e.prototype={release:function(){t(this)},setMaxThread:function(e){this._thread_max=e},setCoolTime:function(e){this._cooltime=e}},e}(),v.getElementById=function(e){return f[e]},v.getCountQueue=function(){return _},v.getCountThread=function(){return u},v.getCountError=function(){return d},v.addCountError=function(){d+=1},v.getMaxThread=function(){return p},v.setMaxThread=function(e){p=e},_=0,u=0,v.setMaxThread(10),d=0,m=!1,g=1,f=new Object,h=new Array,(x=new Object)._prev=x,x._next=x,v.queue=x,(b=v.createRule()).setCoolTime(100),b.setMaxThread(2147483647),h.push(b)}function bt(){var e,t=this;t.setURL=function(e){t._url=e},t.setFileName=function(e){t._file_name=e},t.setSaveAs=function(e){t._save_as=e},t.setSilent=function(e){t._silent=e},t.setAllowSameRequest=function(e){t._allow_same_request=e},t.start=function(){var n=Br.createElement();n.onstart=function(){var a,i,o,r,s,l,c=function(){e.shift()(_)},_=function(e){var a=e.response;switch(e.state){case"progress":t.onprogress&&t.onprogress(a);break;case"complete":a.result||Br.addCountError(),n.complete(),n.release(),t.oncomplete&&t.oncomplete(a),t._blob_url&&(mi(t._blob_url),t._blob_url=null);break;case"unsupported":c()}},u=Xi(t._url);u&&(a=u.mimetype,"base64"==u.format?i=ui(t._url.slice(u.data_offset)):(i=(new TextEncoder).encode(t._url.slice(u.data_offset)).buffer,a||(a="text/plain")),(o=new gi).initialize(),r=o.getFromArrayBuffer(i,i.byteLength),(s=gs(a))||(s=fi(i)),a||(a=fs(s)),t._short_url="data:"+a.replace(/[/]/g,"-")+"/"+r.toString(16).toUpperCase(),s&&(t._short_url+="."+s),l=new Blob([i],{type:a}),t._url=t._blob_url=di(l)),c()},n.attachLast()},t.onprogress=function(){},t.oncomplete=function(){},t._url="",t._short_url="",t._file_name="",t._save_as=!1,t._silent=!0,t._allow_same_request=!1,t._blob_url=null,(e=new Array).push(function(e){if(!t._allow_same_request){if(Zr.hasAddress("download",t._url))return void e({state:"complete",response:{result:!1,error:"Request is duplicated."}});Zr.addAddress("download",t._url)}e({state:"unsupported",response:{}})}),e.push(function(e){var n,a;vi()?(n=H(t._file_name||Fr.getSaveFileDownload(t._short_url||t._url))).length>65535?e({state:"unsupported",response:{}}):(a={url:t._url,saveAs:t._save_as,name:n,onload:function(){e({state:"complete",response:{result:!0,completed:!0,error:""}})},onerror:function(t){e({state:"complete",response:{result:!1,completed:!0,error:t.error}})},onprogress:function(t){e({state:"progress",response:{bytesLoaded:t.loaded||0,bytesTotal:t.total||0}})}},GM_download(a)):e({state:"unsupported",response:{}})}),e.push(function(e){var n,a,i=yo("a");void 0!==i.download?(n=function(n){i.target="PageExpandDownload",i.href=n,i.download=H(t._file_name||Fr.getSaveFileDownload(t._short_url||t._url)),Is.body.appendChild(i),i.click(),rr(i),i.href="",i.download="",e({state:"complete",response:{result:!0,completed:!1,error:""}})},t._url.search(new RegExp("^(data|blob):","i"))>=0?n(t._url):((a=new us).onprogress=function(e){t.onprogress&&t.onprogress(e)},a.onload=n,a.onerror=function(){e({state:"complete",response:{result:!1,error:"Loader is failed."}})},a.setMethod("GET"),a.setURL(t._url),a.loadDataUriScheme())):e({state:"unsupported",response:{}})}),e.push(function(e){e({state:"complete",response:{result:!1,error:"Downloader is not supported."}})})}function vt(){var e,t=this;t.release=function(){for(;e!=e._next;)e._next.release()},t.createItem=function(){var t,n,a=new Object;return a.release=function(){var e=a._prev,t=a._next;e._next=t,t._prev=e,a._prev=a,a._next=a},a.setURL=function(e){a._url=e,a._file_name||a.setFileName(Fr.getSaveFileBatchDownload(e))},a.setFileName=function(e){a._file_name=H(e)},(n=(t=e)._prev)._next=a,t._prev=a,a._prev=n,a._next=t,a},t.createArchive=function(){function n(){o&&(o.release(),o=null),a&&(mi(a),a=null),c&&(c.dispatchEvent("close",t),c.release(),c=null)}var a,o,r=new gi,s=new pt(Is.body),l=!1,c=new Rt;s.onclose=function(){l=!0,n()},(o=jr.createEventHandler("release")).setFunction(function(){s.onclose()}),s.open(function(){function t(e,t){var n=new us;n.onload=function(e){t(e)},n.onerror=function(){t(null)},n.setMethod("GET"),n.setURL(e),n.overrideMimeType("text/plain; charset=x-user-defined"),n.loadText()}function o(e,t){var n,a,i,o;s.setMessage("Converting ...",0),s.setMessage("",1),s.setValueProgress(0,0),s.setValueProgress(0,1),n=new Object,a=new Array,i=0,o=e.length,function r(){var c,_;l||(i>=o?t(a):(c=1,o>1&&(c=i/(o-1)),item=e[i],i++,s.setValueProgress(c,1),s.setMessage(item._url,1),void 0===n[item._url]?((_=hi(item._file_name))&&a.push({file_name:_,item:item}),n[item._url]=!0):item.release(),Ur.attachFirst(r,null)))}()}function _(e,t){var n,a;s.setMessage("Calculate CRC ...",0),s.setMessage("",1),s.setValueProgress(0,0),s.setValueProgress(0,1),n=0,a=e.length,function i(){var o,c,_,u;l||(n>=a?t(e):(o=1,a>1&&(o=n/a),item=e[n],n++,s.setValueProgress(.5*o,0),s.setValueProgress(0,1),s.setMessage(item.item._url,1),c=0,_=10240,u=item.file_size,r.initialize(),Ur.attachLastForInterrupt(function e(){if(u-c<_&&(_=u-c),_<=0)Ur.attachLastForInterrupt(i,null);else{c+=_;var t=1;u>0&&(t=c/u),s.setValueProgress(.5*(o+t/a),0),s.setValueProgress(t,1),item.crc32=r.getFromStringOfBinaryData(item.binary,_),Ur.attachFirst(e,null)}},null)))}()}function u(e){function t(e){return 30+e.file_name.byteLength+0}function o(e){return e.file_size}function _(e){return 46+e.file_name.byteLength+0+0}function u(e){var t=e.date,n=(31&t.getHours())<<11|(63&t.getMinutes())<<5|31&Math.round(t.getSeconds()/2);b.setUint16(v,n,k),v+=2}function p(e){var t=e.date,n=(t.getFullYear()-1980&127)<<9|(t.getMonth()+1&15)<<5|31&t.getDate();b.setUint16(v,n,k),v+=2}function d(e){var t=e.file_name,n=new Uint8Array(t),a=t.byteLength,o=e.file_size;for(b.setUint32(v,67324752,k),v+=4,b.setUint16(v,10,k),v+=2,b.setUint16(v,128,k),v+=2,b.setUint16(v,0,k),v+=2,u(e),p(e),b.setUint32(v,e.crc32,k),v+=4,b.setUint32(v,o,k),v+=4,b.setUint32(v,o,k),v+=4,b.setUint16(v,a,k),v+=2,b.setUint16(v,0,k),v+=2,i=0;i<a;i++)b.setUint8(v,n[i],k),v+=1}function m(e){var t=e.file_name,n=new Uint8Array(t),a=t.byteLength,o=e.file_size;for(b.setUint32(v,33639248,k),v+=4,b.setUint16(v,10,k),v+=2,b.setUint16(v,0,k),v+=2,b.setUint16(v,128,k),v+=2,b.setUint16(v,0,k),v+=2,u(e),p(e),b.setUint32(v,e.crc32,k),v+=4,b.setUint32(v,o,k),v+=4,b.setUint32(v,o,k),v+=4,b.setUint16(v,a,k),v+=2,b.setUint16(v,0,k),v+=2,b.setUint16(v,0,k),v+=2,b.setUint16(v,0,k),v+=2,b.setUint16(v,0,k),v+=2,b.setUint32(v,0,k),v+=4,b.setUint32(v,e.offset,k),v+=4,i=0;i<a;i++)b.setUint8(v,n[i],k),v+=1}function g(){var t=e.length;b.setUint32(v,101010256,k),v+=4,b.setUint16(v,0,k),v+=2,b.setUint16(v,0,k),v+=2,b.setUint16(v,t,k),v+=2,b.setUint16(v,t,k),v+=2,b.setUint32(v,E,k),v+=4,b.setUint32(v,y,k),v+=4,b.setUint16(v,0,k),v+=2}function f(e,t){var n,a;s.setMessage("Write File Data ...",0),s.setMessage("",1),s.setValueProgress(.5,0),s.setValueProgress(0,1),n=0,a=e.length,function i(){var o,c,_,u,p,m;l||(n>=a?t(e):(o=1,a>1&&(o=n/a),item=e[n],n++,s.setValueProgress(.5*o+.5,0),s.setValueProgress(0,1),s.setMessage(item.item._url,1),d(item),c=0,_=10240,u=item.file_size,m=item.binary,delete item.binary,r.initialize(),Ur.attachLastForInterrupt(function e(){if(u-c<_&&(_=u-c),_<=0)Ur.attachLastForInterrupt(i,null);else{for(p=c+_;c<p;)b.setUint8(v,255&m.charCodeAt(c),k),v+=1,c++;var t=1;u>0&&(t=c/u),s.setValueProgress(t,1),s.setValueProgress(.5*(o+t/a)+.5,0),Ur.attachFirst(e,null)}},null)))}()}function h(e,t){var n,a;s.setMessage("Write Central Directory ...",0),s.setMessage("",1),s.setValueProgress(1,0),s.setValueProgress(0,1),n=0,a=e.length,function i(){if(!l){if(n>=a)return g(),void t(e);item=e[n],n++;var o=1;a>1&&(o=n/a),s.setValueProgress(o,1),s.setMessage(item.item._url,1),m(item),Ur.attachLastForInterrupt(i,null)}}()}var x,b,v=0,w=0,y=0,E=0,k=!0;!function(){var i,r,u=new Date,p=e.length;for(i=0;i<p;i++)(r=e[i]).offset=w,w+=t(r),w+=o(r),r.index=i,r.date=u;for(y=w,i=0;i<p;i++)r=e[i],E+=_(r);w+=E,w+=22,x=new ArrayBuffer(w),b=new DataView(x),f(e,function(e){h(e,function(e){function t(){c.createEventHandler("close").setFunction(function(){var t=0,n=e.length;for(t=0;t<n;t++)e[t].item.release()})}function i(e){l||(t(),s.setMessage("Complete",0),s.setMessage("Save Zip File As ...",1),s.setAnchor({href:e,download:o}))}var o="PageExpand_"+u.getTime()+".zip";s.setMessage("",1),s.setValueProgress(1,0),s.setValueProgress(1,1),s.setMessage("Create Blob URL ...",0),setTimeout(function(){try{var e=new Blob([new Uint8Array(x)],{type:"application/zip"});a=di(e)}catch(e){}a?(s.setMessage("Wait ...",0),setTimeout(function(){var e=new bt;e.setURL(a),e.setFileName(o),e.setSaveAs(!0),e.onprogress=function(e){var t=e.bytesLoaded,n=e.bytesTotal;n<t&&(n=t),s.setValueProgress(t/n,1),s.setMessage(t+" / "+n+" Byte",1)},e.oncomplete=function(e){s.setMessage("Complete",0),e.result&&e.completed?l||(t(),s.close(),n()):i(a)},e.start()},1)):(s.setMessage("Create Data URI Scheme ...",0),ci(x,function(e){s.setMessage("Wait ...",0),s.setMessage("",1),s.setValueProgress(1,1),setTimeout(function(){i("data:application/zip;base64,"+e)},1)},{onprogress:function(e){s.setMessage(e.loaded+"/"+e.total+" Byte",1),s.setValueProgress(e.loaded/e.total,1)}}))},1)})})}()}var p,d,m,g;p=function(){for(var n=new Array,a=e._next;e!=a;)n.push(a),a=a._next;o(n,function(e){!function(e,n){var a,i,o,r,c;for(s.setMessage("Downloading ...",0),s.setMessage("",1),s.setValueProgress(0,0),s.setValueProgress(0,1),a=new Array,i=0,r=e.length,c=0,o=0;o<r;o++)(function(){var _=e[o];t(_.item._url,function(e){if(!l){e&&(a.push(_),_.binary=e,_.file_size=e.length,c+=_.file_size),i++,r<=i&&n(a);var t=1;r>1&&(t=i/(r-1)),s.setMessage(c+" Byte ("+i+"/"+r+")",1),s.setValueProgress(t,1)}})})();r||n(a)}(e,function(e){_(e,function(e){u(e)})})})},s.setMessage("Wait Analyze ...",0),s.setValueProgress(0,0),s.setValueProgress(0,1),d=Ur.getCountQueue(),m=d,(g=$r.createTask()).setDestructorFunc(function(){g=null}),g.setExecuteFunc(function(){if(l)g.release();else{if(m=Ur.getCountQueue(),d<m&&(d=m),m<=0)return g.release(),void p();var e=1;d>0&&(e=m/d),e=1-e,s.setValueProgress(e,1),s.setMessage(Math.floor(100*e)+"% ("+m+"/"+d+")",1)}})})},t.clear=function(){e._prev=e,e._next=e},(e=new Object)._prev=e,e._next=e}function wt(){function e(e){var t,n=e._prio_next;e!=n&&((t=e._prio_prev)._prio_next=n,n._prio_prev=t,e._prio_prev=e,e._prio_next=e)}function t(e){e._alive&&(e._alive=!1,e._destructor_func&&e._destructor_func(e),e.removeParent(),e._user_work=null,1==(a-=1)&&o&&o())}var n,a,i,o,r=this;r.createTask=function(n){var o=new Object;return o.execute=function(e){if(o._alive&&o._execute_func&&e&o._level)try{o._execute_func(o)}catch(e){Fr.getEnableDebugMode()&&ti(e.stack)}},o.release=function(){o.releaseChild(),t(o)},o.releaseChild=function(){for(var e,n,a=new Array,i=o._child,r=i._next;r!=i;)a.push(r),r=r._next;for(n=a.length,e=0;e<n;e++)(r=a[e]).releaseChild(),t(r)},o.attachChild=function(e){var t,n;e.removeParent(),n=(t=o._child)._next,t._next=e,n._prev=e,e._prev=t,e._next=n,e._parent=o,o._child_count+=1},o.removeParent=function(){var e,t;o._parent&&(o._parent._child_count-=1,e=o._prev,t=o._next,e._next=t,t._prev=e,o._prev=o,o._next=o,o._parent=null)},o.removeChild=function(){for(var e,t,n=new Array,a=o._child,i=a._next;i!=a;)n.push(i),i=i._next;for(t=n.length,e=0;e<t;e++)(i=n[e]).removeParent()},o.getChild=function(e){for(var t,n,a=new Array,i=o._child,r=i._next;r!=i;)a.push(r),r=r._next;for(n=a.length,t=0;t<n;t++)e(r=a[t])},o.getParent=function(){return o._parent},o.getExecuteFunc=function(){return o._execute_func},o.setExecuteFunc=function(e){o._execute_func=e},o.getDestructorFunc=function(){return o._destructor_func},o.setDestructorFunc=function(e){o._destructor_func=e},o.attachPrioPrev=function(t){var n,a;e(t),n=o._prio_prev,a=o,n._prio_next=t,a._prio_prev=t,t._prio_prev=n,t._prio_next=a},o.attachPrioNext=function(t){var n,a;e(t),n=o,a=o._prio_next,n._prio_next=t,a._prio_prev=t,t._prio_prev=n,t._prio_next=a},o.getPrioPrev=function(){return o._prio_prev},o.getPrioNext=function(){return o._prio_next},o.getCountChild=function(){return o._child_count},o.getLevel=function(){return o._level},o.setLevel=function(e){o._level=e},o.getAlive=function(){return o._alive},o.getUserWork=function(){return o._user_work},o._prio_prev=o,o._prio_next=o,o._prev=o,o._next=o,o._parent=null,o._child_count=0,o._child=new Object,o._child._prev=o._child,o._child._next=o._child,o._alive=!0,o._level=4294967295,o._user_work=new Object,o._execute_func=null,o._destructor_func=null,n&&n.attachChild(o),r.attachPrioLast(o),1==a&&i&&i(),a+=1,o},r.execute=function(e){for(var t,n,a,i,o=new Array,s=r._prio_next;s!=r;)o.push(s),s=s._prio_next;for(n=o.length,t=0;t<n;t++)(s=o[t]).getAlive()?s.execute(e):(a=s._prio_prev,i=s._prio_next,a._prio_next=i,i._prio_prev=a,s._prio_prev=s,s._prio_next=s)},r.release=function(){for(var e,n,a,i,o=new Array,s=r._prio_next;s!=r;)o.push(s),s=s._prio_next;for(i=o.length,a=0;a<i;a++)t(s=o[a]),e=s._prio_prev,n=s._prio_next,e._prio_next=n,n._prio_prev=e,s._prio_prev=s,s._prio_next=s},r.attachChild=function(e){n.attachChild(e)},r.attachPrioFirst=function(t){var n,a;e(t),a=(n=r)._prio_next,n._prio_next=t,a._prio_prev=t,t._prio_prev=n,t._prio_next=a},r.attachPrioLast=function(t){var n,a;e(t),(a=(n=r)._prio_prev)._prio_next=t,n._prio_prev=t,t._prio_prev=a,t._prio_next=n},r.getCountTask=function(){return a-1},r.setStartFunc=function(e){i=e},r.setEndFunc=function(e){o=e},i=null,o=null,a=0,r._prio_prev=r,r._prio_next=r,n=r.createTask(null)}function yt(){function e(e){p=e,m?m.setExecuteFunc(r):((m=$r.createTask()).setDestructorFunc(o),m.setExecuteFunc(i),m.execute(4294967295))}function t(e){e==p&&m&&m.setExecuteFunc(c)}function n(e,t){if(e==p&&d!=t){switch(t){case yt.NOTIFY_TYPE_LOADING:u.src="data:image/gif;base64,R0lGODlhGAAYALMAAP//3vf31sXFtYyMjHuEjGNrc0pSY0JKUv///wAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCAAIACwAAAAAGAAYAAAEexDJSZExNetpQsBbRVQHABwhNQgFVZ6pRAhA0EovGiNFUN+dz07Sq4Euw0lRl6wYmM2o5nk4gFJUq8VnEoY6JiO4e51yjZaqNpYtS7FQlzuzzJRsoaIXuf1p9EAeIIAiNHg4JkxFAiMqLC6JFAUCAxqNEzkiSUFzTXwhEQAh+QQJCAAIACwAAAAAFgAYAAAEfxDJSZExNWsbAt4TUR0AcFQiNQgFRZpUIQyhAASt9J5SEQCCFMJ3yxk6HyKuovxcJMeihshzSTeG6ugD6mayhwPXC/2VPORJ9Dwmg8XpuByqdbVjvzqCtMw0oU4/fRNKRkg9gjkIBDaDO4Q/QRMrinslWjI0FEI6lyhuh3OAIBEAIfkECQgACAAsAAAAABgAGAAABHoQyUmRMTXraULAW0VUBwAcojYIBVWeVCEMogAErfSiUhEAglHsh5N0Pj1iruK7gS5GZajJc92WG0OVBAp5vdrDoRsKjy0/E7KcdnZMTnAbaSZnxeevXqPdb6h+TERPdlNSaGteBDZFOiZbIStYO35CE5SBFEeFgVBeEQAh+QQJCAAIACwAAAAAGAAWAAAEexDJSZExNetpQsBbRVQHAByiNggFVZ5UIQyiAASt9KJSEQCCUeyHk3Q+PWKu4ruBLkZlqMlz3ZYbQ5UECnm92sOhGwqPLT8Tspx2dkxOcBtpJmfF569eo93kpz9bOleAcRVvRRlNiYpSFAQ2jBpNQRUrWBsyNBlCep0IEQAh+QQJCAAIACwAAAAAGAAYAAAEeRDJSZExNetpQsBbRVQHAByiNggFVZ5UIQyiAASt9KJSEQCCUeyHk3Q+PWKu4ruBLkZlqMlz3ZYbQ5UECnm92sOhGwqPLT8Tspx2dkxOcBtpJmfF569+77LzdVd/Fk9Se0cgTUV6OxNNQYsmWzI0kDAUQnqHghVQXhEAIfkECQgACAAsAgAAABYAGAAABH0QyTmNoThTE8LVFIEdAHBgIjUIBUWaVCEMEyEAQSu9p1QEAEEK8cPpOB4fMIcpJhEWCceoKfZcVJDhOvqAvuDw5kD2iqHA0vM8VZvF2/J5vgUd3jEgd5dtLj9RaH1KWUgfTjoINn08E0VCEyuJCI2OMygjJXtDX4ZzGIFfEQAh+QQJCAAIACwAAAAAGAAYAAAEfBDJSZExNetpQsBbKB0AcFSESJEmVQiDOpanVASAkKrdZ+OBgkxyIQKFwwopmNQcQM2k4UCFhqZVC67ku24Bn04JbM2IuRjsU6YuR0XTzVp0aynBSE29W9Ti9UdGXXt5EgQCfzN2CHU6FQMChSw1NjAaOxOTKFIebk19IREAIfkECQgACAAsAAACABgAFgAABHgQSUSmvbLiIQrGhTBchAAE3icVASBoE3umYIt+cmBghk3XgAPmMFNNDMLPYWdsOpGHpRMBlfYAWF3zmjVwT0zVV1sNG8vTNC85NONa7AnxpsoxvZIr/ZJL9bQIfSQme0RBMS0vFxw/hnEhIxgwEo4kan9uanmZFxEAOw==";break;case yt.NOTIFY_TYPE_COMPLETE:u.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAA3NCSVQICAjb4U/gAAAAwFBMVEX///+A/4CA/4D///+A/4CA/4CA/4CA/4Dn5+eA/4CA/4CA/4CA/4CA/4CSkpIqWyr5+fng4OB9fX0REREAAAAgSiAxajH6+vrz8/Pw8PDq6urX19fHx8fExMSqqqqnp6ejo6Oenp6ZmZmWlpYtLS0lJSUeHh6Mx4yu564IHAg0RTQ5TTk4STgqNioLIAtxd3FwfXBcdVyP+Y9Ci0ImUibT09O7u7uJiYmCgoJ6enpsbGxgYGBHR0c+Pj42NjYnJyeRSLVtAAAAQHRSTlMA7iL/iFUzRP8Rd6rdzP/u///////M7v////////////////////8iM3eZqqq7u8zd3e7u7v//////////////aE0y2QAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDEvMDcvMTOlb7SWAAAA4UlEQVQokZ3R1xKCMBAFUNJIKFawF6zYe+///1dmJaA4vOh9PDczm9nVtH9jYBUj7ljnnMlwruO4M5O+YjJ9GHNq2UjGtig7ea3721NI5Vgn5OAGcz/dKxORd4MfYG5aocvnIu1yrApqK6+BO4WwYFR57uVFyr4K8I5fRFGxXEldowZ4L4OiolVrdGWzJ4S0waNisSuVyqIpvXoFt2k4/JHLEoi4bGGUZarCGN8q0Ii8A56iTFcrxtNzBdwNPVownnSz1bSzCZb4uXg8a7b7BbX2+EH8/jzpUJo2GCWf9oc8AZktDpWygbAkAAAAAElFTkSuQmCC";break;case yt.NOTIFY_TYPE_ERROR:u.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAAA3NCSVQICAjb4U/gAAAAwFBMVEX/////VVX3UlJNbGyULi4mDw86GhoMERHoTEzPRET/pqb/ZmZ0MTGZMzN0JCQYIiIMERH/xcWfqqrDWVnUS0u+T0+SPz9sQkJ6OTkRGBj84ODzZmboWVl3YmJhIiJMIiJBIiIGCAgRGBiIv79okpIuQUEGCAjk///N9va66enW3Ny11tb/trbqkpKOm5u7hYWGfHyycXFZfHzgVFSsX1+cTk6xQUF3SEhTTExSOzt5JCRiKysXCAh/srIRGBgpOTlzKqofAAAAQHRSTlMA///////////////////M3f//////////3f////////+ZzN3d3d3/////////////////////////////mZnMlM/YUAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDEvMDcvMTOlb7SWAAABLElEQVQokV2SZ2OCMBCG7yCJQAEBqWKdbUVbtzg6tPX//6teBiK9T8n75HYAjNmTwpYGdXtdzOOl53mrzSC/199n8QNq6x2+Kv3tqZSl7f2a7gw558J3LbTSs4mj3g+f1UW0ibhjlXem4hgAzQzRYl06LWIV2R39anI90oVcfubkkNKrNGtq8tlDK7RhQg6nqQgodEl2iEEExRJRAIxORPwXBbYEGmB7iJxu50cK58uksK4B6EjSliRBZBoIqEh+AytEMwNJ8FhACzGMwN5Q2doFPkiivmk+gsY/oLIzXQ4MWnqOTGbND7Ic08Ja6Y6Yqk77MqnZQir174sJTQT7u+06SVpK5+VCOnur2pMT3nQaCHMNchi/3C+9Ow5ZwBgLBZ/++yd21CCLbt/nD9ghFMIF8V9xAAAAAElFTkSuQmCC"}d=t}}function a(){var e;m&&(m.getUserWork(),e=zr.getPositionClient(),u.style.left=e.x-12+"px",u.style.top=e.y-24-2+"px")}function i(e){var t=e.getUserWork();t.anime_pos=0,t.anime_spd=0,u.style.zIndex=2147483647,u.style.position="fixed",u.style.pointerEvents="none",Is.body.appendChild(u),e.setExecuteFunc(r),e.execute(4294967295)}function o(){rr(u),m=null}function r(e){var t,n=e.getUserWork();a(),t=1-n.anime_pos,(t*=.4)>0&&(n.anime_spd+=.05,n.anime_spd>.2&&(n.anime_spd=.2),n.anime_spd>t&&(n.anime_spd=t)),n.anime_pos+=n.anime_spd,n.anime_pos>.999&&(n.anime_spd=0,n.anime_pos=1,e.setExecuteFunc(s)),u.style.opacity=n.anime_pos}function s(e){var t=e.getUserWork();t.anime_pos=1,t.anime_spd=0,u.style.opacity=t.anime_pos,e.setExecuteFunc(l),e.execute(4294967295)}function l(e){e.getUserWork(),a()}function c(e){var t,n=e.getUserWork();a(),t=0-n.anime_pos,(t*=.4)<0&&(n.anime_spd-=.2,n.anime_spd<t&&(n.anime_spd=t)),n.anime_pos+=n.anime_spd,n.anime_pos<.001&&(n.anime_spd=0,n.anime_pos=0,e.setExecuteFunc(_)),u.style.opacity=n.anime_pos}function _(e){e.getUserWork(),e.release()}var u,p,d,m;this.release=function(){m&&(m.release(),m=null)},this.createElement=function(){function a(){l.removeEventListener?l.removeEventListener("mouseover",o,!1):l.detachEvent&&l.detachEvent("onmouseover",o)}function i(){l.removeEventListener}function o(e){zr.setMouseEvent(e),r()}function r(){_||(u=!0,e(p),n(p,c),(_=$r.createTask()).setDestructorFunc(function(){u=!1,t(p),_=null}),_.setExecuteFunc(function(){var e;_&&(_.getUserWork(),e=Uo(l,zr.getPositionClient(),!0),zr.getEnableMouse()||(e=!1),e||s())}),_.execute(4294967295))}function s(){_&&(_.release(),_=null)}var l,c,_,u,p=new Object;return p.release=function(){a(),i(),s()},p.setElementHitArea=function(e){l=e,a(),l.addEventListener?l.addEventListener("mouseover",o,!1):l.attachEvent&&l.attachEvent("onmouseover",o),i(),l.addEventListener,Vo(e,zr.getPositionClient(),!0)&&r()},p.setNotify=function(e){n(p,c=e)},p.hitTest=function(){return u},l=null,c=yt.NOTIFY_TYPE_UNKNOWN,_=null,u=!1,p},u=yo("img"),d=yt.NOTIFY_TYPE_UNKNOWN}function Et(){function e(e){var t,a,i,o,r,l,c,_=e.getUserWork(),u=s.style;u.left="0px",u.top="0px",u.width="0px",Is.body.appendChild(s),t=_.pos,a=_.vec,i=jo(s),o=.5*a.x,r=.5*a.y,l=Math.atan2(a.y,a.x),c=Math.sqrt(a.x*a.x+a.y*a.y),u.left=t.x-i.left-o-.5*c+"px",u.top=t.y-i.top-0-r+"px",u.width=c+"px",u.transform=u.MozTransform=u.webkitTransform="rotate("+l+"rad)",u.opacity=.5,_.anime_pos=0,_.anime_spd=0,e.setExecuteFunc(n),e.execute(4294967295)}function t(){rr(s),l=null}function n(e){e.getUserWork().frame=30,e.setExecuteFunc(a),e.execute(4294967295)}function a(e){var t=e.getUserWork();t.frame-=1,t.frame<0&&e.setExecuteFunc(i)}function i(e){var t=e.getUserWork();t.anime_pos=1,t.anime_spd=0,e.setExecuteFunc(o),e.execute(4294967295)}function o(e){var t=e.getUserWork(),n=0-t.anime_pos;(n*=.5)<0&&(t.anime_spd-=.25,t.anime_spd<n&&(t.anime_spd=n)),t.anime_pos+=t.anime_spd,t.anime_pos<.01&&(t.anime_spd=0,t.anime_pos=0,e.setExecuteFunc(r)),s.style.opacity=.5*t.anime_pos}function r(e){e.getUserWork(),e.release()}var s,l;this.release=function(){l&&l.release(),s=null},this.setShow=function(n,a){l&&(l.release(),l=null),(l=$r.createTask()).setDestructorFunc(t),l.setExecuteFunc(e);var i=l.getUserWork();i.pos=n,i.vec=a,l.execute(4294967295)},(s=yo("div")).style.cssText="height:2px; border:1px solid #000; background:#FFF; border-radius:2px; box-shadow:0px 0px 2px #888;",s.style.zIndex=2147483647,s.style.position="absolute",s.style.pointerEvents="none"}function kt(){function e(e){var t=e._prev,n=e._next;t._next=n,n._prev=t,e._prev=e,e._next=e}function t(t){var n,i;e(t),i=(n=a)._next,n._next=t,i._prev=t,t._prev=n,t._next=i,t._use=!1}var n,a,i,o,r,s=this;s.release=function(){for(;n!=n._next;)n._next.release();for(;a!=a._next;)a._next.release()},s.createElement=function(){function a(){s(),l||(l=Jr.createElement()).setFunction(_.update)}function s(){l&&(l.release(),l=null)}var l,c,_=new Object;return _.release=function(){_.remove(),s(),e(_),i-=1},_.setElementHitArea=function(e){_._element_hit_area=e},_.onattach=function(){},_.onremove=function(){},_.attach=function(){var t,a,i;_._use||(_._use=!0,o+=1,e(t=_),i=(a=n)._next,a._next=t,i._prev=t,t._prev=a,t._next=i,t._use=!0,s(),_.onattach())},_.remove=function(){_._use&&(_._use=!1,o-=1,t(_),a(),_.onremove&&_.onremove())},_.update=function(){var e,t,a;if(o<r)_.attach();else{if(e=ho(Is),(t=dr(_._element_hit_area)).right<0);else if(e.width<t.left);else if(t.bottom<0);else if(!(e.height<t.top))return c||(a=function(){for(var e,t,a,i,o=ho(Is),r=.5*o.width,s=.5*o.height,l=null,c=0,_=n._next;_!=n;)_._next,(i=(t=.5*((e=dr(_._element_hit_area)).left+e.right)-r)*t+(a=.5*(e.top+e.bottom)-s)*a)>c&&(c=i,l=_),_=_._next;return l}(),a&&a.remove(),_.attach()),void(c=!0);c=!1}},_._use=!1,_._prev=_,_._next=_,_._element_hit_area=null,a(),t(_),c=!1,i+=1,_},s.getCountUse=function(){return o},s.getMaxUse=function(){return r},s.setMaxUse=function(e){r=e},s.getCount=function(){return i},n=new Object,a=new Object,i=0,o=0,r=0,n._prev=n,n._next=n,a._prev=a,a._next=a}function At(){function e(e){var t=e._prev,n=e._next;t._next=n,n._prev=t,e._prev=e,e._next=e}function t(t){var n,i;e(t),i=(n=a)._next,n._next=t,i._prev=t,t._prev=n,t._next=i,t._use=!1}var n,a,i,o,r,s,l,c,_=this;_.release=function(){for(;n!=n._next;)n._next.release();for(;a!=a._next;)a._next.release()},_.createElement=function(){function a(){s(),l||(l=Jr.createElement()).setFunction(p.update)}function s(){l&&(l.release(),l=null)}var l,u,p=new Object;return p.release=function(){p.remove(),s(),e(p),i-=1},p.setEnablePreload=function(e){p._preload=e},p.setElementHitArea=function(e){p._element_hit_area=e},p.setByteSize=function(e){p._byte_size=e,r+=e},p.onattach=function(){},p.onremove=function(){},p.attach=function(){var t,a,i;p._use||(p._use=!0,o+=1,e(t=p),i=(a=n)._next,a._next=t,i._prev=t,t._prev=a,t._next=i,t._use=!0,s(),p.onattach())},p.remove=function(){p._use&&(p._use=!1,o-=1,t(p),a(),p.onremove&&p.onremove(),r-=p._byte_size,p._byte_size=0)},p.update=function(){var e,t,n=!1;if(p._preload&&(c||(n=!0)),n)p.attach();else{if(e=ho(Is),(t=dr(p._element_hit_area)).right<0);else if(e.width<t.left);else if(t.bottom<0);else if(!(e.height<t.top))return u||(_.removeOldElements(),p.attach()),void(u=!0);u=!1}},p._use=!1,p._byte_size=0,p._prev=p,p._next=p,p._element_hit_area=null,p.setEnablePreload(!0),a(),t(p),u=!1,i+=1,p},_.removeOldElements=function(){var e,t,a;if(l&&r>s){c=!0,e=ho(Is),t=n._prev;do{if(t==n)return;if((a=dr(t._element_hit_area)).right<0);else if(e.width<a.left);else if(a.bottom<0);else if(!(e.height<a.top)){t=t._prev;continue}(t=t._prev)._next.remove()}while(r>s)}},_.getCountUse=function(){return o},_.getByteSizeNow=function(){return r},_.setByteSizeMax=function(e){s=1024*e*1024},_.setEnableUnload=function(e){l=e},_.getCount=function(){return i},n=new Object,a=new Object,i=0,o=0,r=0,s=0,c=!1,n._prev=n,n._next=n,a._prev=a,a._next=a}function Rt(){var e,t=this;t.release=function(){t.removeAll()},t.createEventHandler=function(t){var n,a,i,o=new Object;return o.release=function(){var n,a=o._prev,i=o._next;a._next=i,i._prev=a,o._prev=o,o._next=o,o._func=null,(n=e[t])&&n==n._next&&ao(e,t)},o.setFunction=function(e){o._func=e},o._func=null,o._prev=o,o._next=o,(n=e[t])||((n=new Object)._prev=n,n._next=n,e[t]=n),(i=(a=n)._prev)._next=o,a._prev=o,o._prev=i,o._next=a,o},t.dispatchEvent=function(t,n){var a,i,o,r,s=e[t];if(s){for(a=new Array,i=s._next;s!=i;)a.push(i),i=i._next;for(r=a.length,o=0;o<r;o++)(i=a[o])._func&&i._func(n)}},t.removeAll=function(){var t,n,a;for(t in e)for(n=e[t];n!=(a=n._next);)a.release()},e=new Object}function Tt(){function e(){n=lo(Ts),a=bo(Is)}function t(){var e,t,r={x:0,y:0},s=bo(Is);i&&(e=s.width-a.width,r.x=e,_o(Ts,n.x+e)),o&&(t=s.height-a.height,r.y=t,uo(Ts,n.y+t)),jr.dispatchEvent("revise_scroll",r)}var n,a,i,o,r=this;r.executeAttachElementBefore=function(){e()},r.executeAttachElementAfter=function(e){var n=dr(e);i=n.right<0,o=n.bottom<0,t()},r.executeRemoveElementBefore=function(t){var n=dr(t);i=n.right<0,o=n.bottom<0,e()},r.executeRemoveElementAfter=function(){t()},i=!1,o=!1,e()}function It(e){function t(e){p=!0,d(e,!1)}function n(e){var t=ho(Is);e.clientX<0&&(p=!1),e.clientY<0&&(p=!1),e.clientX>=t.width&&(p=!1),e.clientY>=t.height&&(p=!1),d(e,!1)}function a(e){d(e,!1)}function i(e){d(e,!0)}function o(e){!0!==e.defaultPrevented&&!1!==e.returnValue&&(c&=-3)}function r(){c=0,_=!1,u=!1}var s,l,c,_,u,p,d,m,g,f,h=this;h.release=function(){d&&(s.removeEventListener?(s.removeEventListener("mousemove",t,!0),s.removeEventListener("mouseout",n,!0),s.removeEventListener("mousedown",a,!0),s.removeEventListener("mouseup",i,!0),s.removeEventListener("dragstart",a,!0),s.removeEventListener("drag",t,!0),s.removeEventListener("dragend",i,!0),e.removeEventListener("contextmenu",o),e.removeEventListener("blur",r)):s.detachEvent&&(s.detachEvent("onmousemove",t),s.detachEvent("onmouseout",n,!0),s.detachEvent("onmousedown",a),s.detachEvent("onmouseup",i),s.detachEvent("ondragstart",a),s.detachEvent("ondrag",t),s.detachEvent("ondragend",i),e.detachEvent("oncontextmenu",o),e.detachEvent("onblur",r)),d=null)},h.setMouseEvent=function(e){d&&t(e)},h.setInputMouse=function(e){c=e.getButtons(),_=e.getKeyShift(),u=e.getKeyCtrl(),p=e.getEnableMouse()},h.setInputTouch=function(e){d&&(e.getEnableTouch()||(c=0),l=e.getPositionAverage())},h.getPositionClient=function(){return no(l)},h.getButtons=function(){return c},h.getButtonLeft=function(){return!!(1&c)},h.getButtonRight=function(){return!!(2&c)},h.getButtonCenter=function(){return!!(4&c)},h.getKeyShift=function(){return _},h.getKeyCtrl=function(){return u},h.getEnableMouse=function(){return p},s=e.document,(l=new Object).x=-1,l.y=-1,c=0,_=!1,u=!1,p=!1,m={mousedown:!0,dragstart:!0},g={mousemove:!0,drag:!0},f={mouseup:!0,dragend:!0},s.addEventListener?(s.addEventListener("mousemove",t,!0),s.addEventListener("mouseout",n,!0),s.addEventListener("mousedown",a,!0),s.addEventListener("mouseup",i,!0),s.addEventListener("dragstart",a,!0),s.addEventListener("drag",t,!0),s.addEventListener("dragend",i,!0),e.addEventListener("contextmenu",o),e.addEventListener("blur",r),d=function(e){void 0!==e.buttons&&g[e.type]&&(c=e.buttons),m[e.type]?(0==e.button&&(c|=1),1==e.button&&(c|=4),2==e.button&&(c|=2)):f[e.type]&&(0==e.button&&(c&=-2),1==e.button&&(c&=-5),2==e.button&&(c&=-3)),(e.clientX||e.clientY)&&(l.x=e.clientX,l.y=e.clientY),_=e.shiftKey,u=e.ctrlKey}):s.attachEvent&&(s.attachEvent("onmousemove",t),s.attachEvent("onmouseout",n,!0),s.attachEvent("onmousedown",a),s.attachEvent("onmouseup",i),s.attachEvent("ondragstart",a),s.attachEvent("ondrag",t),s.attachEvent("ondragend",i),e.attachEvent("oncontextmenu",o),e.attachEvent("onblur",r),d=function(e){f[e.type]?c&=~e.button:c=e.button,(e.clientX||e.clientY)&&(l.x=e.clientX,l.y=e.clientY),_=e.shiftKey,u=e.ctrlKey})}function Ct(){function e(e){var t,n,a,r,s,l=e.changedTouches,c=l.length;for(t=0;t<c;t++)n=l[t],o[n.identifier]=n;for(a=0,r=0,s=0,c=o.length,t=0;t<c;t++)(n=o[t])&&(a+=n.clientX,r+=n.clientY,s++);s&&(i.x=a/s,i.y=r/s)}function t(t){r=!0,e(t),s.dispatchEvent("update",l)}function n(t){var n,a,i,c;for(e(t),i=(n=t.changedTouches).length,a=0;a<i;a++)c=n[a],o[c.identifier]=null;for(a=o.length-1;a>=0&&!o[a];)a--;o.length=a+1,o.length||(r=!1),s.dispatchEvent("update",l)}function a(){r=!1,o.length,s.dispatchEvent("update",l)}var i,o,r,s,l=this;l.release=function(){Is.removeEventListener&&(Is.removeEventListener("touchstart",t,!0),Is.removeEventListener("touchmove",t,!0),Is.removeEventListener("touchend",n,!0),Is.removeEventListener("touchcancel",n,!0),Ts.removeEventListener("blur",a)),s&&(s.release(),s=null)},l.setTouchEvent=function(e){t(e)},l.getPositionAverage=function(){return no(i)},l.getEnableTouch=function(){return r},l.getTouchList=function(){return o},l.createEventHandler=function(e){return s.createEventHandler(e)},o=new Array,(i=new Object).x=-1,i.y=-1,r=!1,s=new Rt,Is.addEventListener&&(Is.addEventListener("touchstart",t,!0),Is.addEventListener("touchmove",t,!0),Is.addEventListener("touchend",n,!0),Is.addEventListener("touchcancel",n,!0),Ts.addEventListener("blur",a))}function St(e){function t(){for(var t,i=e.elementFromPoint(a.x,a.y);i&&!os.getAnalyzeWork(i);)i=i.parentNode;i!=n&&i&&((t=e.createEvent("MouseEvent")).initMouseEvent("mouseover",!1,!1,e.defaultView,0,0,0,a.x,a.y,!1,!1,!1,!1,0,i),i.dispatchEvent(t)),n=i}var n,a,i=this;i.release=function(){n=null},i.setPosition=function(e){a=e,t()},i.addVector=function(e){var n,i,o,r={x:a.x+e.x,y:a.y+e.y},s=Math.sqrt(e.x*e.x+e.y*e.y),l=Math.floor(s/1);for(s=1/s*1,n=e.x*s,i=e.y*s,o=0;o<l;o++)a.x+=n,a.y+=i,t();a=r,t()},n=null,(a=new Object).x=-1,a.y=-1}function Mt(){var e,t,n,a;this.getObject=function(i){var o,r,s,l;return i.length>260?{}:(o=e[i])?(r=o.prev,s=o.next,r.next=s,s.prev=r,(r=(r=t).next).next=o,s.prev=o,o.prev=r,o.next=s,o):((o=new Object).url=i,s=(r=t).next,r.next=o,s.prev=o,o.prev=r,o.next=s,n++,e[i]=o,n>=a&&(r=(l=t.prev).prev,s=l.next,r.next=s,s.prev=r,n--,delete e[l.url]),o)},this.setCacheMax=function(e){a=e},e=new Object,(t=new Object).prev=t,t.next=t,n=0,a=16}function Lt(e,t){var n,a,i,o=this;o.release=function(){n&&(i&&(i.release(),i=null),os.removeAnalyzeWork(a),rr(n),n=null)},o.analyze=function(){Xn(a),Ur.attachLastForInsertDomNode(K,n)},function(){n=e,e=null,(i=new pr(n)).setFunction(o.release),(a=os.getAnalyzeWork(n))||(a=Nt(n));var r=new ma;t&&r.SetOutsider(),os.attachAnalyzeWork(a,r),Kn(a)}()}function Nt(e){return{node:e,modify:1}}function Ft(e){return e.node}function Ot(e){ao(e,"anchor")}function Dt(e,t){e.anchor=t}function jt(e){return e.anchor}function zt(e){ao(e,"i_obs")}function Pt(e){e.i_obs=!0}function Ut(e){return Boolean(e.i_obs)}function Vt(e){ao(e,"o_anc")}function Bt(e){e.o_anc=!0}function Ht(e){return Boolean(e.o_anc)}function Wt(e){ao(e,"o_url")}function Gt(e){e.o_anc=!0}function Zt(e){return Boolean(e.o_anc)}function $t(e){ao(e,"a_rte")}function Yt(e){e.a_rte=!0}function qt(e){return Boolean(e.a_rte)}function Qt(e){ao(e,"a_rtt")}function Xt(e){e.a_rtt=!0}function Kt(e){return Boolean(e.a_rtt)}function Jt(e){ao(e,"a_rta")}function en(e){e.a_rta=!0}function tn(e){return Boolean(e.a_rta)}function nn(e){ao(e,"a_rtl")}function an(e){e.a_rtl=!0}function on(e){return Boolean(e.a_rtl)}function rn(e){ao(e,"expand_url")}function sn(e,t){e.expand_url=t}function ln(e){return e.expand_url}function cn(e){ao(e,"expand_content_type")}function _n(e,t){e.expand_content_type||(e.expand_content_type=new Array),e.expand_content_type.push(t)}function un(e){return e.expand_content_type?e.expand_content_type:[]}function pn(e){ao(e,"a_mlt")}function dn(e){e.a_mlt=!0}function mn(e){return Boolean(e.a_mlt)}function gn(e){ao(e,"a_esu")}function fn(e){e.a_esu=!0}function hn(e){return Boolean(e.a_esu)}function xn(e){ao(e,"a_eit")}function bn(e){e.a_eit=!0}function vn(e){return Boolean(e.a_eit)}function wn(e){ao(e,"a_eti")}function yn(e){e.a_eti=!0}function En(e){return Boolean(e.a_eti)}function kn(e){ao(e,"a_epi")}function An(e){e.a_epi=!0}function Rn(e){return Boolean(e.a_epi)}function Tn(e){ao(e,"popup_image")}function In(e,t){e.popup_image=t}function Cn(e){return e.popup_image}function Sn(e){ao(e,"a_eis")}function Mn(e){e.a_eis=!0}function Ln(e){return Boolean(e.a_eis)}function Nn(e){ao(e,"a_eiv")}function Fn(e){e.a_eiv=!0}function On(e){return Boolean(e.a_eiv)}function Dn(e){ao(e,"a_eif")}function jn(e){e.a_eif=!0}function zn(e){return Boolean(e.a_eif)}function Pn(e){ao(e,"a_eic")}function Un(e){e.a_eic=!0}function Vn(e){return Boolean(e.a_eic)}function Bn(e){ao(e,"a_pri")}function Hn(e){e.a_pri=!0}function Wn(e){return Boolean(e.a_pri)}function Gn(e){ao(e,"a_imp")}function Zn(e){e.a_imp=!0}function $n(e){return Boolean(e.a_imp)}function Yn(e){ao(e,"a_ebb")}function qn(e){e.a_ebb=!0}function Qn(e){return Boolean(e.a_ebb)}function Xn(e){ao(e,"a_inv")}function Kn(e){e.a_inv=!0}function Jn(e){return Boolean(e.a_inv)}function ea(e){e.modify=1}function ta(e){return e.modify}function na(e){e.modify+=1}function aa(e,t){return e.modify?t==e.modify:0==t}function ia(e){ao(e,"event_dispatcher")}function oa(e,t){e.event_dispatcher=t}function ra(e){return e.event_dispatcher}function sa(e){ao(e,"observer_modify_anchor")}function la(e,t){e.observer_modify_anchor=t}function ca(e){return e.observer_modify_anchor}function _a(e){ao(e,"bbs_control")}function ua(e,t){e.bbs_control=t}function pa(e){return e.bbs_control}function da(e){function t(){var t=ra(e);t&&(t.dispatchEvent("remove",null),t.dispatchEvent("destructor",null))}var n,a,i,o;Ut(e)||(n=Ft(e),Pt(e),os.attachAnalyzeWork(e),a=new Rt,oa(e,a),(i=new pr(n)).setFunction(t),(o=jr.createEventHandler("release")).setFunction(t),a.createEventHandler("destructor").setFunction(function(){na(e);var t=ra(e);t&&(t.dispatchEvent("release",null),t.release(),ia(e)),i&&(i.release(),i=null),o&&(o.release(),o=null),os.removeAnalyzeWork(e),Ts.addEventListener||$e(n)}))}function ma(){var e=this;e.SetOutsider=function(){e._flag|=ps},e.SetGuest=function(){e._flag|=ds},e._flag=0}function ga(){var e,t,n=this;n.release=function(){for(var e in t)n.removeAnalyzeWork(t[e]);t=null},n.attachAnalyzeWork=function(n,a){var i,o,r;return!!n.id||!!(i=Ft(n))&&(o=0,a&&(o=a._flag),t[r=e<<ms|o]=n,e+=1,n.id=r,i._pageexpand_=r,i.setAttribute&&i.setAttribute("_pageexpand_",r),!0)},n.removeAnalyzeWork=function(e){var n=e.id;if(!n)return!1;try{ao(t,n),ao(e,"id")}catch(e){}},n.getAnalyzeWork=function(e){var n,a=e._pageexpand_;return a&&(n=t[parseInt(a)])&&Ft(n)==e?n:null},n.verifyClone=function(e){var n,a;if(e.getAttribute&&(n=e.getAttribute("_pageexpand_"))&&(n=parseInt(n))&ps){if(!(a=t[n]))return!0;if(Ft(a)!=e)return!0}return!1},n.verifyRemoved=function(e){var n,a;if(e.getAttribute&&(n=e.getAttribute("_pageexpand_"))){if(n=parseInt(n),!(a=t[n]))return!0;if(Ft(a)!=e)return!0}return!1},n.verifyGuest=function(e){var t;return!!(e.getAttribute&&(t=e.getAttribute("_pageexpand_"))&&(t=parseInt(t))&ds)},e=1,t=new Array}function fa(){function e(e,t){var n=new Object;return n.release=function(){var e,t,a,i=n._follower_prev,o=n._follower_next;i._follower_next=o,o._follower_prev=i,n._follower_prev=n,n._follower_next=n,e=n._following_prev,t=n._following_next,e._following_next=t,t._following_prev=e,n._following_prev=n,n._following_next=n,(a=n.getResponseFollowing())&&a.addCountFollower(-1)},n.getResponseFollower=function(){return e},n.getResponseFollowing=function(){return t},n._follower_prev=n,n._follower_next=n,n._following_prev=n,n._following_next=n,n}function t(e,t){e.count+=t,e.counter_event.dispatchEvent("update",e.count)}function a(e,t){var n,a,i,r=o[e];return r||(r=o[e]=new Object),(n=r[t])||((a=new Object).dic_prev=a,a.dic_next=a,i=new Rt,n=r[t]={count:0,counter_event:i,list:a}),n}var i,o,r,s=this;s.release=function(){for(n in i)i[n].release()},s.getExist=function(e){return!!i[e]},s.getResponse=function(n){var o=i[n];return o||(o=function(n){function o(){s(),b.clearOriginalElements(),b.clearFollowing(),function(){for(var e in _)l(e)}(),x.dispatchEvent("release",null)}function s(){var e,t=d.length;for(e=0;e<t;e++)h[e]&&(d[e],h[e].release(),h[e]=null)}function l(e){var t=_[e];if(t)for(;t.ary_next!=t;)c(t.ary_next)}function c(e){var n,a,i,o;t(e.container,-1),n=e.dic_prev,a=e.dic_next,n.dic_next=a,a.dic_prev=n,i=e.ary_prev,o=e.ary_next,i.ary_next=o,o.ary_prev=i}var _,u,p,d,m,g,f,h,x,b=new Object;return b.release=function(){var e,t;if(!p){for(p=!0,o(),u=!1,e=b._follow;e!=(t=e._follower_next);)t.release();x&&(x.release(),x=null),delete i[n]}},b.erase=function(){b.onerase&&b.onerase(),o()},b.getNumber=function(){return n},b.getId=function(){return b.getDataList("id")[0]},b.setId=function(e){l("id"),b.attachData("id",e)},b.getName=function(){return b.getDataList("name")[0]},b.setName=function(e){l("name"),b.attachData("name",e)},b.getHost=function(){return b.getDataList("host")[0]},b.setHost=function(e){l("host"),b.attachData("host",e)},b.getDataList=function(e){var t,n=[],a=_[e];if(!a)return n;for(t=a.ary_next;t!=a;)n.push(t.data),t=t.ary_next;return n},b.hasData=function(e,t){var n,a=_[e];if(!a)return!1;for(n=a.ary_next;n!=a;){if(n.data===t)return!0;n=n.ary_next}return!1},b.attachData=function(e,n){!function(e,n){for(var i,o,r,s,l,c,u=a(e,n),p=u.list,d=p.dic_prev;d!=p&&!(b.getNumber()>=d.owner.getNumber());)d=d.dic_prev;_[e]||((i=new Object).ary_prev=i,i.ary_next=i,_[e]=i),(o=Object()).data=n,o.owner=b,o.container=u,s=(r=d).dic_next,r.dic_next=o,s.dic_prev=o,o.dic_prev=r,o.dic_next=s,c=(l=_[e].ary_prev).ary_next,l.ary_next=o,c.ary_prev=o,o.ary_prev=l,o.ary_next=c,t(u,1)}(e,n)},b.clearAnalyzed=function(){u=!1},b.getAnalyzed=function(){return u},b.setAnalyzed=function(){u=!0},b.clearOriginalElements=function(){var e,t;for(s(),t=m.length,e=0;e<t;e++)Yn(m[e]),os.removeAnalyzeWork(m[e]);d.length=0,g.length=0,m.length=0},b.getOriginalElements=function(){return d},b.addOriginalElements=function(e,t){d.push({name:e,element:t});var n=os.getAnalyzeWork(t);n||(n=Nt(t)),m.push(n),os.attachAnalyzeWork(n),qn(n),g.push({name:e,element:mr(t,!0)}),function(){var e,t,n;for(s(),t=d.length,e=0;e<t;e++)h[e]||(n=d[e],h[e]=new pr(n.element),h[e].setFunction(b.release))}()},b.getCloneElements=function(){var e,t,n=new Array,a=g.length;for(e=0;e<a;e++)t=g[e],n.push({name:t.name,element:mr(t.element,!0)});return n},b.clearFollowing=function(){for(var e,t=b._follow;t!=(e=t._following_next);)e.release()},b.getCountFollower=function(){return f},b.addCountFollower=function(e){f+=e;var t=r[n];t&&t.dispatchEvent("update",f)},b.getFollower=function(){for(var e=new Array,t=b._follow._follower_next;t!=b._follow;)e.push(t.getResponseFollower()),t=t._follower_next;return e},b.addFollower=function(t){for(var n,a,i=e(t,b),o=b._follow._follower_prev;o!=b._follow&&!(t.getNumber()>=o.getResponseFollower().getNumber());)o=o._follower_prev;a=(n=o)._follower_next,n._follower_next=i,a._follower_prev=i,i._follower_prev=n,i._follower_next=a,a=(n=t._follow._following_prev)._following_next,n._following_next=i,a._following_prev=i,i._following_prev=n,i._following_next=a,b.addCountFollower(1)},b.getEventDispatcher=function(){return x},b.onerase=function(){},_=new Object,u=!1,p=!1,d=new Array,m=new Array,g=new Array,f=0,b._follow=e(null,null),h=new Array,x=new Rt,b}(n),i[n]=o),o},s.getResponsesFromId=function(e){return s.getResponsesFromData("id",e)},s.getResponsesFromName=function(e){return s.getResponsesFromData("name",e)},s.getResponsesFromHost=function(e){return s.getResponsesFromData("host",e)},s.getResponsesFromData=function(e,t){for(var n=new Array,i=a(e,t).list,o=i.dic_next;o!=i;)n.push(o.owner),o=o.dic_next;return n},s.createEventHandlerForIdCounter=function(e){return s.createEventHandlerForDataCounter("id",e)},s.createEventHandlerForNameCounter=function(e){return s.createEventHandlerForDataCounter("name",e)},s.createEventHandlerForHostCounter=function(e){return s.createEventHandlerForDataCounter("host",e)},s.createEventHandlerForDataCounter=function(e,t){return a(e,t).counter_event.createEventHandler("update")},s.createEventHandlerForFollowerCounter=function(e){var t=r[e];return t||(t=new Rt,r[e]=t),t.createEventHandler("update")},s.getCountId=function(e){return s.getCountData("id",e)},s.getCountName=function(e){return s.getCountData("name",e)},s.getCountHost=function(e){return s.getCountData("host",e)},s.getCountData=function(e,t){return a(e,t).count},i=new Object,o=new Object,r=new Object}function ha(){function e(e){for(var t,n=new Array,a=M._child,i=a._next;i!=a;)n.push(i),i=i._next;for(;t=n.shift();){for(i=(a=t._child)._next;i!=a;)n.push(i),i=i._next;if(e(t))return}}function t(){v&&(v.removeEventListener?v.removeEventListener("mouseover",i,!1):v.detachEvent&&v.detachEvent("onmouseover",i))}function n(){v&&v.removeEventListener}function a(){I&&(I.release(),I=null)}function i(e){zr.setMouseEvent(e),E&&(E=!1,(new Date).getTime()-k<100)||(b&&"fade_out"===b.getUserWork().type&&(b.setExecuteFunc(f),b.execute(4294967295)),zr.getKeyShift()||zr.getButtonLeft()||b||((b=$r.createTask()).setLevel(Ls),b.setDestructorFunc(h),b.setExecuteFunc(s),b.execute(4294967295)))}function o(){var t,n,a,i;if(b)if(t=b.getUserWork(),n=zr.getPositionClient(),(a=Uo(v,n,!1))||(a=Boolean(Is.elementFromPoint(n.x,n.y)==v)),a||(a=M.hittestWindow(n)),a||e(function(e){return a=e.hittestWindow(n)}),a&&(i=ho(Is),n.x<1&&(a=!1),n.y<1&&(a=!1),i.width-2<n.x&&(a=!1),i.height-2<n.y&&(a=!1),zr.getEnableMouse()||(a=!1)),Fr.getEnableAnimationPopupBbsResponse())if(a)switch(t.type){case"wait_before_close":b.setExecuteFunc(p),b.execute(4294967295);break;case"fade_out":b.setExecuteFunc(u),b.execute(4294967295)}else switch(t.type){case"wait_before_open":b.setExecuteFunc(f),b.execute(4294967295);break;case"fade_in":b.setExecuteFunc(g),b.execute(4294967295);break;case"show":b.setExecuteFunc(m),b.execute(4294967295)}else if(a)"wait_before_close"===t.type&&(b.setExecuteFunc(p),b.execute(4294967295));else switch(t.type){case"wait_before_open":b.setExecuteFunc(f),b.execute(4294967295);break;case"show":b.setExecuteFunc(m),b.execute(4294967295)}}function r(e){var t;b&&((t=b.getUserWork().pos).x+=e.x,t.y+=e.y,x(b))}function s(e){var t=e.getUserWork();t.type="initialize",t.anime_pos=0,t.anime_spd=0,e.setExecuteFunc(l),e.execute(4294967295)}function l(e){var t=e.getUserWork();t.type="wait_before_open",t.frame=Fr.getTimeWaitOpenPopupExpandBbsResponse()/1e3*60,e.setExecuteFunc(c),e.execute(4294967295)}function c(e){var t=e.getUserWork();if(o(),t.frame-=1,t.frame<0)return e.setExecuteFunc(_),void e.execute(4294967295)}function _(e){function t(t){var n,a,s,c,_,d,m,g,h,E,k,A,R;if(e.getAlive()&&!o){if(o=!0,!t.result)return b.setExecuteFunc(f),void b.execute(4294967295);switch(n=ho(Is),lo(Ts),a=Fr.getPercentPopupBbsResponse(),s=Math.floor(n.width*(a.x/100))-l.style_w-2,c=Math.floor(n.height*(a.y/100))-l.style_h-2,y.style.width=s+"px",y.style.height="auto",y.style.maxHeight=c+"px",w?w.appendChild(y):Is.body.appendChild(y),v&&lr(v)&&(_=jo(v)),_||(_={left:(d=no(zr.getPositionClient())).x,right:d.x,top:d.y,bottom:d.y}),_.left=Math.ceil(_.left),_.top=Math.ceil(_.top),_.right=Math.floor(_.right),_.bottom=Math.floor(_.bottom),m=jo(y),E=.5*(_.left+_.right),k=.5*(_.top+_.bottom),Fr.getOriginPopupExpandBbsResponse()){default:case"adsorb_left_right":g=E/n.width<.5?_.right-m.left:_.left-m.right,h=k/n.height<.5?_.top-m.top:_.bottom-m.bottom;break;case"adsorb_top_bottom":g=E/n.width<.5?_.left-m.left:_.right-m.right,h=k/n.height<.5?_.bottom-m.top:_.top-m.bottom}m.left+=g,m.right+=g,m.top+=h,m.bottom+=h,A={x:m.left,y:m.top},l.pos=A,n.width<m.right+1&&(A.x+=n.width-1-m.right),n.height<m.bottom+1&&(A.y+=n.height-1-m.bottom),A.x<1&&(A.x=1),A.y<1&&(A.y=1),(R=n.height-A.y-l.style_h-1)<c&&(c=R,y.style.maxHeight=c+"px"),"absolute"==Fr.getStylePositionPopupBbsResponse()&&(A.x-=i.left,A.y-=i.top,(C=jr.createEventHandler("revise_scroll")).setFunction(r)),x(e),Is.addEventListener||Ur.attachLastForInsertDomNode(K,y),y.style.pointerEvents="auto",Fr.getEnableAnimationPopupBbsResponse()?e.setExecuteFunc(u):e.setExecuteFunc(p),e.execute(4294967295)}}var n,a,i,o,s,l=e.getUserWork();l.type="open",l.anime_pos=0,l.anime_spd=0,y=yo("div"),T=Nt(y),(n=new ma).SetOutsider(),os.attachAnalyzeWork(T,n),Oo(y,Fr.getStyleSheetExpandBbsPopupResponse()),y.style.zIndex=2147483646,y.style.position=Fr.getStylePositionPopupBbsResponse();try{y.style.minWidth="0",y.style.minHeight="0",y.style.maxWidth="none",y.style.maxHeight="none"}catch(e){}y.style.left="0px",y.style.top="0px",y.style.width="0px",y.style.height="0px",a=mr(y,!1),w?w.appendChild(a):Is.body.appendChild(a),i=jo(a),l.style_w=i.right-i.left,l.style_h=i.bottom-i.top,rr(a),o=!1,b.setExecuteFunc(null),void 0!==(s=M.oncreate(y,t))&&t({result:s})}function u(e){var t,n=e.getUserWork();n.type="fade_in",o(),t=1-n.anime_pos,(t*=.4)>0&&(n.anime_spd+=.05,n.anime_spd>.2&&(n.anime_spd=.2),n.anime_spd>t&&(n.anime_spd=t)),n.anime_pos+=n.anime_spd,n.anime_pos>.999&&(n.anime_spd=0,n.anime_pos=1,e.setExecuteFunc(p)),y.style.opacity=n.anime_pos}function p(e){var t=e.getUserWork();t.type="show",t.anime_pos=1,t.anime_spd=0,t.frame=Fr.getTimeWaitClosePopupExpandBbsResponse()/1e3*60,y.style.opacity=t.anime_pos,e.setExecuteFunc(d),e.execute(4294967295)}function d(e){e.getUserWork(),o()}function m(e){var t=e.getUserWork();t.type="wait_before_close",o(),t.frame-=1,t.frame<0&&(Fr.getEnableAnimationPopupBbsResponse()?(y.style.pointerEvents="none",e.setExecuteFunc(g)):e.setExecuteFunc(f))}function g(e){var t,n=e.getUserWork();n.type="fade_out",t=0-n.anime_pos,(t*=.4)<0&&(n.anime_spd-=.2,n.anime_spd<t&&(n.anime_spd=t)),n.anime_pos+=n.anime_spd,n.anime_pos<.001&&(n.anime_spd=0,n.anime_pos=0,e.setExecuteFunc(f)),y.style.opacity=n.anime_pos}function f(e){e.getUserWork(),e.release()}function h(){C&&(C.release(),C=null),T&&(os.removeAnalyzeWork(T),T=null),y&&(rr(y),y=null),b=null,A&&M.release()}function x(e){var t=e.getUserWork().pos;y.style.left=t.x+"px",y.style.top=t.y+"px"}var b,v,w,y,E,k,A,R,T,I,C,S,M=this;M.release=function(){R||(R=!0,S&&(S.release(),S=null),e(function(e){return e.release(),!1}),M.removeParent(),t(),n(),a(),b&&(b.release(),b=null))},M.suicide=function(){b?(M.setElementHitArea(null),A=!0):M.release()},M.setElementHitArea=function(e){t(),n(),a(),(v=e)&&(k=(new Date).getTime(),E=!0),v&&(t(),v.addEventListener?v.addEventListener("mouseover",i,!1):v.attachEvent&&v.attachEvent("onmouseover",i)),v&&(n(),v.addEventListener),v&&(a(),I||(I=new pr(v)).setFunction(M.suicide))},M.setElementParent=function(e){w=e},M.hittestWindow=function(e){return!!y&&Uo(y,e,!1)},M.attachChild=function(e){var t,n;e.removeParent(),n=(t=M._child)._next,e._prev=t,e._next=n,t._next=e,n._prev=e,M._parent=e},M.removeParent=function(){var e=M._prev,t=M._next;e._next=t,t._prev=e,M._prev=M,M._next=M,M._parent=null},M.oncreate=function(){},function(){b=null,y=null,E=!1,k=0,A=!1,R=!1,M._parent=null,M._prev=M,M._next=M;var e=new Object;e._prev=e,e._next=e,M._child=e,(S=jr.createEventHandler("release")).setFunction(function(){M.release()})}()}function xa(e){for(;e;){var t=os.getAnalyzeWork(e);if(t&&t.id&ps)return!0;e=e.parentNode}return!1}function ba(e,t){var n,a,i,o,r,s,l,c,_=this;_.getType=function(){return"res_a"},_.getResponseAnchorNumbers=function(){return n},_.setResponseAnchorNumbers=function(e){n=e},_.setResponse=function(e){if(!s){s=e;var t=e.getEventDispatcher();(l=t.createEventHandler("release")).setFunction(_.release)}},_.getElement=function(){return a},_.getTextNode=function(){return i},_.setTextNode=function(e){i=e},_.release=function(){n=null,_.onchange(0),l&&(l.release(),l=null),c&&(c.release(),c=null),r&&(r.release(),r=null),o&&(_a(o),os.removeAnalyzeWork(o),o=null),a&&(t&&rr(a),a=null)},_.onchange=function(){},function(){e?(a=e,e=null):a=yo("a"),ua(o=Nt(a),_),Kn(o);var n=new ma;t&&n.SetOutsider(),os.attachAnalyzeWork(o,n),(r=new pr(a)).setFunction(_.release),(c=jr.createEventHandler("release")).setFunction(function(){_.release()})}()}function va(e){var t,n,a,i=Co(e,"*"),o=i.length;for(t=0;t<o;t++)if((n=os.getAnalyzeWork(i[t]))&&(a=pa(n))&&"res_a"==a.getType())return!0;return!1}function wa(e,t){var n,a,i,o=null,r=Co(e,"*"),s=r.length;for(n=0;n<s;n++)if((a=os.getAnalyzeWork(r[n]))&&(i=pa(a))&&"res_a"==i.getType()&&(o=t(i)))return o;return o}function ya(e,t){function n(){u.release()}var a,i,o,r,s,l,c,_,u=this;u.getType=function(){return"res_q"},u.getResponseAnchorNumbers=function(){return a},u.setResponseAnchorNumbers=function(e){a=e},u.setResponse=function(e){if(!l){l=e;var t=e.getEventDispatcher();(c=t.createEventHandler("release")).setFunction(u.release)}},u.getElement=function(){return i},u.getTextNode=function(){return o},u.setTextNode=function(e){o=e},u.release=function(){a=null,u.onchange(0),c&&(c.release(),c=null),_&&(_.release(),_=null),s&&(s.release(),s=null),r&&(_a(r),os.removeAnalyzeWork(r),r=null),i&&(i.removeEventListener&&i.removeEventListener("click",n),t&&rr(i),i=null)},u.onchange=function(){},function(){e?(i=e,e=null):((i=yo("span")).style.cursor="pointer",i.title="remove"),i.addEventListener&&i.addEventListener("click",n),ua(r=Nt(i),u),Kn(r);var a=new ma;t&&a.SetOutsider(),os.attachAnalyzeWork(r,a),(s=new pr(i)).setFunction(u.release),(_=jr.createEventHandler("release")).setFunction(function(){u.release()})}()}function Ea(e){var t,n=Co(e,"*"),a=n.length;for(t=0;t<a;t++)if(ka(n[t]))return!0;return!1}function ka(e){var t,n=os.getAnalyzeWork(e);return!(!n||!(t=pa(n))||"res_q"!=t.getType())}function Aa(e,t){var n,a,i,o=null,r=Co(e,"*"),s=r.length;for(n=0;n<s;n++)if((a=os.getAnalyzeWork(r[n]))&&(i=pa(a))&&"res_q"==i.getType()&&(o=t(i)))return o;return o}function Ra(e,t){function n(){var e,t,n;a(),t=(e=rs.getResponsesFromId(c)).length,n=t-1,Ur.attachFirst(function t(){e[n].erase(),--n>=0?Ur.attachFirst(t,null):d.release()},null)}function a(){i.removeEventListener?i.removeEventListener("click",n):i.detachEvent&&i.detachEvent("onclick",n)}var i,o,r,s,l,c,_,u,p,d=this;d.getType=function(){return"id"},d.getId=function(){return c},d.setId=function(e){c||(c=e,(_=rs.createEventHandlerForIdCounter(c)).setFunction(function(e){d.onchange(e)}))},d.setResponse=function(e){if(!l){l=e;var t=e.getEventDispatcher();(u=t.createEventHandler("release")).setFunction(d.release)}},d.getElement=function(){return i},d.getTextNode=function(){return o},d.setTextNode=function(e){o=e},d.update=function(){var e=rs.getCountId(c);d.onchange(e)},d.release=function(){d.onchange(0),_&&(_.release(),_=null),u&&(u.release(),u=null),p&&(p.release(),p=null),s&&(s.release(),s=null),r&&(_a(r),os.removeAnalyzeWork(r),r=null),i&&(a(),t&&rr(i),i=null)},d.onchange=function(){},function(){e?(i=e,e=null):((i=yo("span")).style.cursor="pointer",i.title="remove"),i.addEventListener?i.addEventListener("click",n):i.attachEvent&&i.attachEvent("onclick",n),ua(r=Nt(i),d),Kn(r);var a=new ma;t&&a.SetOutsider(),os.attachAnalyzeWork(r,a),(s=new pr(i)).setFunction(d.release),(p=jr.createEventHandler("release")).setFunction(function(){d.release()})}()}function Ta(e){var t,n,a,i=Co(e,"*"),o=i.length;for(t=0;t<o;t++)if((n=os.getAnalyzeWork(i[t]))&&(a=pa(n))&&"id"==a.getType())return!0;return!1}function Ia(e,t){var n,a,i,o=null,r=Co(e,"*"),s=r.length;for(n=0;n<s;n++)if((a=os.getAnalyzeWork(r[n]))&&(i=pa(a))&&"id"==i.getType()&&(o=t(i)))return o;return o}function Ca(e,t){function n(){var e,t,n;a(),t=(e=rs.getResponsesFromName(c)).length,n=t-1,Ur.attachFirst(function t(){e[n].erase(),--n>=0?Ur.attachFirst(t,null):d.release()},null)}function a(){i.removeEventListener?i.removeEventListener("click",n):i.detachEvent&&i.detachEvent("onclick",n)}var i,o,r,s,l,c,_,u,p,d=this;d.getType=function(){return"name"},d.getName=function(){return c},d.setName=function(e){c||(c=e,(_=rs.createEventHandlerForNameCounter(c)).setFunction(function(e){d.onchange(e)}))},d.setResponse=function(e){if(!l){l=e;var t=e.getEventDispatcher();(u=t.createEventHandler("release")).setFunction(d.release)}},d.getElement=function(){return i},d.getTextNode=function(){return o},d.setTextNode=function(e){o=e},d.update=function(){var e=rs.getCountName(c);d.onchange(e)},d.release=function(){d.onchange(0),_&&(_.release(),_=null),u&&(u.release(),u=null),p&&(p.release(),p=null),s&&(s.release(),s=null),r&&(_a(r),os.removeAnalyzeWork(r),r=null),i&&(a(),t&&rr(i),i=null)},d.onchange=function(){},function(){e?(i=e,e=null):((i=yo("span")).style.cursor="pointer",i.title="remove"),i.addEventListener?i.addEventListener("click",n):i.attachEvent&&i.attachEvent("onclick",n),ua(r=Nt(i),d),Kn(r);var a=new ma;t&&a.SetOutsider(),os.attachAnalyzeWork(r,a),(s=new pr(i)).setFunction(d.release),(p=jr.createEventHandler("release")).setFunction(function(){d.release()})}()}function Sa(e){var t,n,a,i=Co(e,"*"),o=i.length;for(t=0;t<o;t++)if((n=os.getAnalyzeWork(i[t]))&&(a=pa(n))&&"name"==a.getType())return!0;return!1}function Ma(e,t){var n,a,i,o=null,r=Co(e,"*"),s=r.length;for(n=0;n<s;n++)if((a=os.getAnalyzeWork(r[n]))&&(i=pa(a))&&"name"==i.getType()&&(o=t(i)))return o;return o}function La(e,t){function n(){var e,t,n;a(),t=(e=rs.getResponsesFromHost(c)).length,n=t-1,Ur.attachFirst(function t(){e[n].erase(),--n>=0?Ur.attachFirst(t,null):d.release()},null)}function a(){i.removeEventListener?i.removeEventListener("click",n):i.detachEvent&&i.detachEvent("onclick",n)}var i,o,r,s,l,c,_,u,p,d=this;d.getType=function(){return"host"},d.getHost=function(){return c},d.setHost=function(e){c||(c=e,(_=rs.createEventHandlerForHostCounter(c)).setFunction(function(e){d.onchange(e)}))},d.setResponse=function(e){if(!l){l=e;var t=e.getEventDispatcher();(u=t.createEventHandler("release")).setFunction(d.release)}},d.getElement=function(){return i},d.getTextNode=function(){return o},d.setTextNode=function(e){o=e},d.update=function(){var e=rs.getCountHost(c);d.onchange(e)},d.release=function(){d.onchange(0),_&&(_.release(),_=null),u&&(u.release(),u=null),p&&(p.release(),p=null),s&&(s.release(),s=null),r&&(_a(r),os.removeAnalyzeWork(r),r=null),i&&(a(),t&&rr(i),i=null)},d.onchange=function(){},function(){e?(i=e,e=null):((i=yo("span")).style.cursor="pointer",i.title="remove"),i.addEventListener?i.addEventListener("click",n):i.attachEvent&&i.attachEvent("onclick",n),ua(r=Nt(i),d),Kn(r);var a=new ma;t&&a.SetOutsider(),os.attachAnalyzeWork(r,a),(s=new pr(i)).setFunction(d.release),(p=jr.createEventHandler("release")).setFunction(function(){d.release()})}()}function Na(e){var t,n,a,i=Co(e,"*"),o=i.length;for(t=0;t<o;t++)if((n=os.getAnalyzeWork(i[t]))&&(a=pa(n))&&"host"==a.getType())return!0;return!1}function Fa(e,t){var n,a,i,o=null,r=Co(e,"*"),s=r.length;for(n=0;n<s;n++)if((a=os.getAnalyzeWork(r[n]))&&(i=pa(a))&&"host"==i.getType()&&(o=t(i)))return o;return o}function Oa(e,t){function n(){var e,t,n;a(),t=(e=l.getFollower()).length,n=t-1,Ur.attachFirst(function t(){rs.getResponse(e[n].getNumber()).erase(),--n>=0?Ur.attachFirst(t,null):p.release()},null)}function a(){i.removeEventListener?i.removeEventListener("click",n):i.detachEvent&&i.detachEvent("onclick",n)}var i,o,r,s,l,c,_,u,p=this;p.getType=function(){return"follower"},p.setResponse=function(e){if(!l){l=e,(c=rs.createEventHandlerForFollowerCounter(e.getNumber())).setFunction(function(e){p.onchange(e)});var t=e.getEventDispatcher();(_=t.createEventHandler("release")).setFunction(p.release)}},p.getElement=function(){return i},p.getTextNode=function(){return o},p.setTextNode=function(e){o=e},p.update=function(){var e=l.getCountFollower();p.onchange(e)},p.release=function(){c&&(c.release(),c=null),_&&(_.release(),_=null),u&&(u.release(),u=null),s&&(s.release(),s=null),r&&(_a(r),os.removeAnalyzeWork(r),r=null),i&&(a(),t&&rr(i),i=null)},p.onchange=function(){},function(){e?(i=e,e=null):((i=yo("span")).style.cursor="pointer",i.title="remove"),i.addEventListener?i.addEventListener("click",n):i.attachEvent&&i.attachEvent("onclick",n),ua(r=Nt(i),p),Kn(r);var a=new ma;t&&a.SetOutsider(),os.attachAnalyzeWork(r,a),(s=new pr(i)).setFunction(p.release),(u=jr.createEventHandler("release")).setFunction(function(){p.release()})}()}function Da(e){var t,n,a,i=Co(e,"*"),o=i.length;for(t=0;t<o;t++)if((n=os.getAnalyzeWork(i[t]))&&(a=pa(n))&&"follower"==a.getType())return!0;return!1}function ja(e,t){var n,a,i,o=null,r=Co(e,"*"),s=r.length;for(n=0;n<s;n++)if((a=os.getAnalyzeWork(r[n]))&&(i=pa(a))&&"follower"==i.getType()&&(o=t(i)))return o;return o}function za(e,t){function n(e){if(_.onclick&&_.onclick(e),!e.preventDefault)return!1;e.preventDefault()}var a,i,o,r,s,l,c,_=this;_.getType=function(){return"reply"},_.setResponse=function(e){if(!s){s=e;var t=e.getEventDispatcher();(l=t.createEventHandler("release")).setFunction(_.release)}},_.getElement=function(){return a},_.getTextNode=function(){return i},_.setTextNode=function(e){i=e},_.release=function(){l&&(l.release(),l=null),c&&(c.release(),c=null),r&&(r.release(),r=null),o&&(_a(o),os.removeAnalyzeWork(o),o=null),a&&(a.removeEventListener?a.removeEventListener("click",n):a.detachEvent&&a.detachEvent("onclick",n),t&&rr(a),a=null)},_.onclick=function(){},function(){e?(a=e,e=null):((a=yo("span")).style.cursor="pointer",a.title="reply"),a.addEventListener?a.addEventListener("click",n):a.attachEvent&&a.attachEvent("onclick",n),ua(o=Nt(a),_),Kn(o);var i=new ma;t&&i.SetOutsider(),os.attachAnalyzeWork(o,i),(r=new pr(a)).setFunction(_.release),(c=jr.createEventHandler("release")).setFunction(function(){_.release()})}()}function Pa(e){var t,n=Co(e,"*"),a=n.length;for(t=0;t<a;t++)if(Ua(n[t]))return!0;return!1}function Ua(e){var t,n=os.getAnalyzeWork(e);return!(!n||!(t=pa(n))||"reply"!=t.getType())}function Va(e,t){var n,a,i,o=null,r=Co(e,"*"),s=r.length;for(n=0;n<s;n++)if((a=os.getAnalyzeWork(r[n]))&&(i=pa(a))&&"reply"==i.getType()&&(o=t(i)))return o;return o}function Ba(){function e(e){if(zr.setMouseEvent(e),4&Ir(e)){if(n(e),!e.preventDefault)return!1;e.preventDefault()}}function t(e){zr.setMouseEvent(e),4&Ir(e)||n(e)}function n(e){I.onclick&&(d?v&&I.init():(e.ctrlKey||e.shiftKey||4&Ir(e)?(v=!0,p.style.color="#d00"):p.disabled=!0,d=$r.createTask(),v?T()-m<h?d.setExecuteFunc(s):d.setExecuteFunc(c):T()-m<g?d.setExecuteFunc(o):d.setExecuteFunc(c)))}function a(){Ts.removeEventListener?Ts.removeEventListener("scroll",i):Ts.detachEvent&&Ts.detachEvent("onscroll",i)}function i(){a(),E=0,u()}function o(){d.setExecuteFunc(r),d.execute(4294967295)}function r(){var e=T()-m,t=Math.ceil((g-e)/1e3);t<0&&(t=0),_("wait ... "+t),e>g&&d.setExecuteFunc(c)}function s(){d.setExecuteFunc(l),d.execute(4294967295)}function l(){var e=T()-m,t=Math.ceil((h-e)/1e3);t<0&&(t=0),_("auto ... "+t),e>h&&d.setExecuteFunc(c)}function c(){_("loading..."),d.setExecuteFunc(null),I.onclick(function(e){if(v)if(e.result){if(e.add_count)h*=.5,E+=e.add_count,u(),a(),Ts.addEventListener?Ts.addEventListener("scroll",i):Ts.attachEvent&&Ts.attachEvent("onscroll",i);else{var t=.5*h;t<5e3&&(t=5e3),h+=t}(h=1e3*Math.ceil(h/1e3))>b&&(h=b),h<x&&(h=x),m=T(),d.setExecuteFunc(s)}else I.init();else I.init()})}function _(e){e!=w&&(p.value=w=e)}function u(){var e,t;try{(t=(e=Is.title).match(new RegExp("\\([0-9]+\\) (.*)","i")))?y!=t[1]&&(y=t[1]):y=e,Is.title=E?"("+E+") "+y:y}catch(e){}}var p,d,m,g,f,h,x,b,v,w,y,E,k,A,R,T,I=this;I.getType=function(){return"read_more"},I.release=function(){R&&(R.release(),R=null),A&&(A.release(),A=null),a(),k&&(_a(k),os.removeAnalyzeWork(k),k=null),p&&(p.removeEventListener?(p.removeEventListener("mousedown",e),p.removeEventListener("click",t)):p.detachEvent&&(p.detachEvent("onmousedown",e),p.detachEvent("onclick",t)),rr(p),p=null)},I.getElement=function(){return p},I.setWaitTime=function(e){g=e},I.init=function(){v=!1,_("Read More"),p.style.color="#000",p.disabled=!1,m=T(),h=f,d&&(d.release(),d=null),i()},function(){I.onclick=null,m=0,g=5e3,f=1e4,x=5e3,b=6e4,w="",E=0,y="",(p=yo("input")).type="button",Oo(p,Tr()),Fo(p,"width:100%; height:50px; margin:25px 0px; padding:0px;"),p.addEventListener?(p.addEventListener("mousedown",e),p.addEventListener("click",t)):p.attachEvent&&(p.attachEvent("onmousedown",e),p.attachEvent("onclick",t)),ua(k=Nt(p),I),Kn(k);var n=new ma;n.SetOutsider(),os.attachAnalyzeWork(k,n),(A=new pr(p)).setFunction(I.release),(R=jr.createEventHandler("release")).setFunction(function(){I.release()}),(T=Date.now)||(T=function(){return(new Date).getTime()}),I.init()}()}function Ha(e){function t(){s.src="",Ts.removeEventListener?(Ts.removeEventListener("scroll",a),Ts.removeEventListener("resize",a)):Ts.detachEvent&&(Ts.detachEvent("onscroll",a),Ts.detachEvent("onresize",a)),_&&(_.release(),_=null),i.style.pointerEvents="none"}function n(){rr(i),c&&(c.release(),c=null),m&&(os.removeAnalyzeWork(m),m=null),u&&(u.releaseChild(),u.release(),u=null)}function a(){var e=lo(Ts),t=ho(Is),n=jo(r),a=n.right-n.left,i=n.bottom-n.top;r.style.left=t.width/2-a/2+e.x+"px",t.height>i?(r.style.top=t.height/2-i/2+e.y+"px",g=!1):g||(r.style.top=e.y+"px",g=!0)}var i,o,r,s,l,c,_,u,p,d,m,g,f=this;f.release=function(){t(),n()},f.close=function(){t(),p&&(p.release(),p=null),(p=$r.createTask()).setDestructorFunc(function(){p=null}),p.setExecuteFunc(function(){(d-=.2)<0&&(d=0,p.release(),n()),i.style.opacity=d}),p.execute(4294967295)},f.getIFrameElement=function(){return s},f.setWindowSize=function(e,t){r.style.width=e+"px",s.style.height=t+"px",a()},f.onclose=function(){},function(){Oo(i=yo("div"),Ar()),Oo(o=yo("div"),Ar()),Fo(o,"position:fixed; top:0px; bottom:0px; left:0px; right:0px; opacity:0.5; background:#000; line-height:1.0; z-index:2147483646; pointer-events:inherit;"),i.appendChild(o),Oo(r=yo("div"),Ar()),Fo(r,"position:absolute; width:600px; padding:25px; background:#00F; background-color:#FFF; border-radius:5px; box-shadow:5px 5px 10px #444; z-index:2147483646; pointer-events:inherit;"),i.appendChild(r),(s=yo("iframe")).name=e,Oo(s,"width:100%; height:400px; margin-bottom:20px; padding:0px; background:#f8f8f8; pointer-events:inherit;"),r.appendChild(s),(l=yo("input")).type="button",l.value="CANCEL",Oo(l,Tr()),Fo(l,"width:100%; height:50px; pointer-events:inherit;"),r.appendChild(l),l.onclick=function(){f.onclose&&f.onclose(),f.close()},Kn(m=Nt(i));var t=new ma;t.SetOutsider(),os.attachAnalyzeWork(m,t),Is.body.appendChild(i),Ts.addEventListener?(Ts.addEventListener("scroll",a),Ts.addEventListener("resize",a)):Ts.attachEvent&&(Ts.attachEvent("onscroll",a),Ts.attachEvent("onresize",a)),f.setWindowSize(640,480),(c=new pr(i)).setFunction(f.release),(_=jr.createEventHandler("release")).setFunction(function(){f.release()}),(u=$r.createTask()).setDestructorFunc(function(){u=null}),d=0,(p=$r.createTask(u)).setDestructorFunc(function(){p=null}),p.setExecuteFunc(function(){(d+=.2)>1&&(d=1,p.release()),i.style.opacity=d}),p.execute(4294967295)}()}function Wa(e,t){function n(){I.onreset&&I.onreset()}function a(e){var t,a=e.target||e.srcElement;if(!E[a.tagName]){if(zr.setMouseEvent(e),t=jo(m),x={x:e.clientX-t.left,y:e.clientY-t.top},k&&(k.release(),k=null),(k=$r.createTask()).setDestructorFunc(function(){k=null}),k.setExecuteFunc(r),k.execute(4294967295),4&Ir(e)&&(p("original"),n()),!e.preventDefault)return!1;e.preventDefault()}}function i(e){if(zr.setMouseEvent(e),k&&(k.release(),k=null),(k=$r.createTask()).setDestructorFunc(function(){k=null}),k.setExecuteFunc(function(){var e=0,t=zr.getPositionClient(),n=ho(Is);switch(b){case"left":e=t.x;break;case"top":e=t.y;break;case"right":e=n.width-t.x;break;case"bottom":e=n.height-t.y}d(e),zr.getButtonLeft()||k.release()}),k.execute(4294967295),!e.preventDefault)return!1;e.preventDefault()}function o(e){var t,a,i,o,r,s=e.target||e.srcElement;if(!E[s.tagName])switch(zr.setMouseEvent(e),b){case"original":t=jo(m),x={x:e.clientX-t.left,y:e.clientY-t.top},p("popup"),a=no(zr.getPositionClient()),i=m.style,o=a.x-x.x,r=a.y-x.y,i.left=o+"px",i.top=r+"px";break;case"popup":p("original"),n();break;default:d(w?0:y)}}function r(e){e.getUserWork().exec=l,k.setExecuteFunc(s),k.execute(4294967295)}function s(e){var t=e.getUserWork();t.exec&&t.exec(e),zr.getButtonLeft()||e.release()}function l(e){var t=e.getUserWork();t.mouse_pos_start=zr.getPositionClient(),t.exec=c,t.exec(e)}function c(e){var t=e.getUserWork(),n=zr.getPositionClient(),a=n.x-t.mouse_pos_start.x,i=n.y-t.mouse_pos_start.y;Math.sqrt(a*a+i*i)>5&&(t.exec=_)}function _(e){var t=e.getUserWork();t.exec=u,t.exec(e)}function u(e){e.getUserWork();var t,n,a,i=no(zr.getPositionClient()),o=ho(Is);i.x<10?p("left"):i.y<10?p("top"):i.x>o.width-10?p("right"):i.y>o.height-10?p("bottom"):p("popup"),"popup"==b&&(t=m.style,n=i.x-x.x,a=i.y-x.y,t.left=n+"px",t.top=a+"px")}function p(e){var t,n,a,i,o,r,s,l,c;if(b!=e){switch(t=m.style,n=Is.documentElement.style,a=g.style,b){case"left":n.marginLeft="0px";break;case"top":n.marginTop="0px";break;case"right":n.marginRight="0px";break;case"bottom":n.paddingBottom="0px"}switch(b=e,v=0,rr(g),t.cssText=f,t.position="fixed",t.left="0px",t.top="0px",t.right="auto",t.bottom="auto",t.width="auto",t.height="auto",i=jo(m),x.x<2&&(x.x=2),x.y<2&&(x.y=2),x.x>i.right-2&&(x.x=i.right-2),x.y>i.bottom-2&&(x.y=i.bottom-2),r=.5*(o=ho(Is)).width,s=.5*o.height,(l=i.right-i.left)>r&&(l=r),(c=i.bottom-i.top)>s&&(c=s),"original"===e?t.cssText=h:(t.cssText=f,t.position="fixed",t.zIndex=2147483645,t.width="auto",t.height="auto","popup"===e||(t.overflow="auto",a.cssText="position:fixed;",a.zIndex=2147483645,Is.body.appendChild(g))),t.cursor="move",e){case"left":t.left="0px",a.left="0px";break;case"right":t.right="0px",a.right="0px";break;case"top":t.top="0px",a.top="0px";break;case"bottom":t.bottom="0px",a.bottom="0px"}switch(b){case"left":case"right":t.top="0px",t.bottom="0px",a.cursor="col-resize",a.top="0px",a.bottom="0px",a.width="6px",d(l);break;case"top":case"bottom":t.left="0px",t.right="0px",a.cursor="row-resize",a.left="0px",a.right="0px",a.height="6px",d(c)}}}function d(e){var t,n,a,i,o,r,s=m.style,l=Is.documentElement.style,c=g.style,_=ys(Ho(m,""));switch(b){case"left":case"right":(t=e-_.paddingLeft-_.paddingRight-_.borderLeft-_.borderRight)<0&&(t=0),s.width=t+"px";break;case"top":case"bottom":(n=e-_.paddingTop-_.paddingBottom-_.borderTop-_.borderBottom)<0&&(n=0),s.height=n+"px"}switch(w=!0,a=jo(m),b){case"left":case"right":e<(t=a.right-a.left)&&(w=!1,e=t);break;case"top":case"bottom":e<(n=a.bottom-a.top)&&(w=!1,e=n)}switch(i=e-3,b){case"left":c.marginLeft=i+"px";break;case"top":c.marginTop=i+"px";break;case"right":c.marginRight=i+"px";break;case"bottom":c.marginBottom=i+"px"}switch(i=e+10,o=e-v,r=lo(Ts),b){case"left":l.marginLeft=i+"px";break;case"top":l.marginTop=i+"px";break;case"right":l.marginRight=i+"px",_o(Ts,r.x+o);break;case"bottom":l.paddingBottom=i+"px",uo(Ts,r.y+o)}v=e,w&&(y=e)}var m,g,f,h,x,b,v,w,y,E,k,A,R,T,I=this;I.setStyle=function(e){f=e},I.getElement=function(){return m},I.onreset=function(){},I.release=function(){p("original"),k&&(k.release(),k=null),T&&(T.release(),T=null),R&&(R.release(),R=null),A&&(_a(A),os.removeAnalyzeWork(A),A=null),m&&(m.removeEventListener?(m.removeEventListener("mousedown",a),m.removeEventListener("dblclick",o),g.removeEventListener("mousedown",i)):m.detachEvent&&(m.detachEvent("onmousedown",a),m.detachEvent("ondblclick",o),g.detachEvent("onmousedown",i)),t&&rr(m),m=null),rr(g)},I.popupForReply=function(e){var t,n,a,i,o,r,s,l,c,_;"original"===b&&(p("popup"),t=ho(Is),e&&lr(e)&&(n=jo(e)),n||(n={left:(a=no(zr.getPositionClient())).x,right:a.x,top:a.y,bottom:a.y}),n.left=Math.ceil(n.left),n.top=Math.ceil(n.top),n.right=Math.floor(n.right),n.bottom=Math.floor(n.bottom),i=jo(m),s=.5*(n.left+n.right),l=.5*(n.top+n.bottom),o=s/t.width<.5?n.left-i.left:n.right-i.right,r=l/t.height<.5?n.bottom-i.top:n.top-i.bottom,i.left+=o,i.right+=o,i.top+=r,i.bottom+=r,c={x:i.left,y:i.top},t.width<i.right+1&&(c.x+=t.width-1-i.right),t.height<i.bottom+1&&(c.y+=t.height-1-i.bottom),c.x<1&&(c.x=1),c.y<1&&(c.y=1),(_=m.style).left=c.x+"px",_.top=c.y+"px")},function(){e?(m=e,e=null):m=yo("div"),g=yo("div"),h=m.style.cssText,x={x:0,y:0},b="",v=0,w=!1,y=0,E={INPUT:!0,BUTTON:!0,TEXTAREA:!0,SELECT:!0,FIELDSET:!0,KEYGEN:!0,OBJECT:!0,EMBED:!0,CANVAS:!0},m.addEventListener?(m.addEventListener("mousedown",a),m.addEventListener("dblclick",o),g.addEventListener("mousedown",i)):m.attachEvent&&(m.attachEvent("onmousedown",a),m.attachEvent("ondblclick",o),g.attachEvent("onmousedown",i)),Kn(A=Nt(m));var n=new ma;t&&n.SetOutsider(),os.attachAnalyzeWork(A,n),(R=new pr(m)).setFunction(I.release),(T=jr.createEventHandler("release")).setFunction(function(){I.release()}),p("original")}()}function Ga(e,t){var n,a=null,i=Co(e,"*");for(n=i.length-1;n>=0;n--)if(os.verifyRemoved(i[n])&&(a=t(i[n])))return a;return a}function Za(){var e,t=this;t.addNumber=function(t){for(var n,a,i,o=e.n;o!=e&&!(o.num>=t);)o=o.n;o!=e&&o.num==t||(i={num:t,d:0},n=(a=o).p,i.p=n,i.n=a,n.n=i,a.p=i)},t.addNumbers=function(t,n){var a,i,o,r,s,l;for(t>n&&(a=n,n=t,t=a),r=e.n;r!=e&&!(r.num>=t);)r=r.n;for(r!=e&&r.num==t?r.d+=1:(s={num:t,d:1},i=(o=r).p,s.p=i,s.n=o,i.n=s,o.p=s,r=s);r!=e&&!(r.num>=n);)r=r.n;r!=e&&r.num==n?r.d-=1:(l={num:n,d:-1},i=(o=r).p,l.p=i,l.n=o,i.n=l,o.p=l)},t.getNumbers=function(t){for(var n,a=0,i=0,o=0,r=e.n;r!=e;){if(0==(a+=r.d))t(r.num);else if(a>0){for(i=r.num,r=r.n;r!=e;){if(0==(a+=r.d)){o=r.num+1;break}r=r.n}for(n=i;n<o;n++)t(n)}r=r.n}},t.getNumberList=function(){for(var t,n=new Array,a=0,i=0,o=0,r=e.n;r!=e;){if(0==(a+=r.d))n.push(r.num);else if(a>0){for(i=r.num,r=r.n;r!=e;){if(0==(a+=r.d)){o=r.num+1;break}r=r.n}for(t=i;t<o;t++)n.push(t)}r=r.n}return n},t.getCount=function(){for(var t=0,n=0,a=0,i=0,o=e.n;o!=e;){if(0==(n+=o.d))t+=1;else if(n>0){for(a=o.num,o=o.n;o!=e;){if(0==(n+=o.d)){i=o.num+1;break}o=o.n}t+=i-a}o=o.n}return t},(e=new Object).p=e,e.n=e}function $a(){return-1==Ts.navigator.userAgent.indexOf("Sleipnir")&&-1!=Ts.navigator.userAgent.indexOf("MSIE")}function Ya(){return-1!=Ts.navigator.userAgent.indexOf("Firefox")}function qa(){return-1!=Ts.navigator.userAgent.indexOf("Chrome")}function Qa(){return-1!=Ts.navigator.userAgent.indexOf("Opera")}function Xa(){return-1==Ts.navigator.userAgent.indexOf("Chrome")&&-1!=Ts.navigator.userAgent.indexOf("Safari")}function Ka(){return-1!=Ts.navigator.userAgent.indexOf("Sleipnir")}function Ja(){try{return(Ts.navigator.browserLanguage||Ts.navigator.language||Ts.navigator.userLanguage).substr(0,2)}catch(e){return}}function ei(e){try{console.log(e)}catch(e){}}function ti(e){try{console.error(e)}catch(e){}}function ni(e){var t,n,a,i,o,r,s,l;try{return new Promise(e)}catch(e){}return t=!1,(s=new Object).then=function(e,t){a=e,i=t,l()},l=function(){if(t)if(n){if(!a)return;a(o)}else{if(!i)return;i(r)}},e(function(e){t=!0,n=!0,o=e,l()},function(e){t=!0,n=!1,r=e,l()}),s}function ai(e){var t;if(Ts.DOMParser)return(new DOMParser).parseFromString(e,"application/xml");try{return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t}catch(e){}return null}function ii(){try{if(Ts.MutationObserver||Ts.WebKitMutationObserver)return!0}catch(e){}return!1}function oi(e){try{return new(Ts.MutationObserver||Ts.WebKitMutationObserver)(e)}catch(e){}return null}function ri(){try{if(JSON)return!0}catch(e){}return!1}function si(e){return ri()?JSON.stringify(e):""}function li(e){return ri()?JSON.parse(e):eval("("+e+")")}function ci(e,t,n){var a,i,o,r,s=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],l=[],c=new Uint8Array(e),_=c.length,u=0,p=0;"object"!=typeof n&&(n={}),a=n.increment||1024,i=n.onprogress||null,o=0,r=0,Ur.attachFirst(function e(){for(;o<_&&(p=c[o],l.push(s[p>>2]),u=(3&p)<<4,!(++o>=_))&&(p=c[o],l.push(s[u|p>>4]),u=(15&p)<<2,!(++o>=_));)if(p=c[o],l.push(s[u|p>>6]),l.push(s[63&p]),o++,(r+=3)>a)return r=0,i&&i({loaded:o,total:_}),void Ur.attachFirst(e,null);var n=_%3;n&&l.push(s[u]),1==n?l.push("=="):2==n&&l.push("="),t(l.join(""))},null)}function _i(e,t,n){var a,i,o,r,s=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],l=[],c=e.length,_=0,u=0;"object"!=typeof n&&(n={}),a=n.increment||1024,i=n.onprogress||null,o=0,r=0,Ur.attachFirst(function n(){for(;o<c&&(u=255&e.charCodeAt(o),l.push(s[u>>2]),_=(3&u)<<4,!(++o>=c))&&(u=255&e.charCodeAt(o),l.push(s[_|u>>4]),_=(15&u)<<2,!(++o>=c));)if(u=255&e.charCodeAt(o),l.push(s[_|u>>6]),l.push(s[63&u]),o++,(r+=3)>a)return r=0,i&&i({loaded:o,total:c}),void Ur.attachFirst(n,null);var p=c%3;p&&l.push(s[_]),1==p?l.push("=="):2==p&&l.push("="),t(l.join(""))},null)}function ui(e){var t,n,a,i,o,r,s,l,c=new Object;switch(c[65]=0,c[66]=1,c[67]=2,c[68]=3,c[69]=4,c[70]=5,c[71]=6,c[72]=7,c[73]=8,c[74]=9,c[75]=10,c[76]=11,c[77]=12,c[78]=13,c[79]=14,c[80]=15,c[81]=16,c[82]=17,c[83]=18,c[84]=19,c[85]=20,c[86]=21,c[87]=22,c[88]=23,c[89]=24,c[90]=25,c[97]=26,c[98]=27,c[99]=28,c[100]=29,c[101]=30,c[102]=31,c[103]=32,c[104]=33,c[105]=34,c[106]=35,c[107]=36,c[108]=37,c[109]=38,c[110]=39,c[111]=40,c[112]=41,c[113]=42,c[114]=43,c[115]=44,c[116]=45,c[117]=46,c[118]=47,c[119]=48,c[120]=49,c[121]=50,c[122]=51,c[48]=52,c[49]=53,c[50]=54,c[51]=55,c[52]=56,c[53]=57,c[54]=58,c[55]=59,c[56]=60,c[57]=61,c[43]=62,c[47]=63,t=e.length,n=0,a=0,i=3*Math.ceil(t/4),t%4){case 0:"="==e.charAt(t-1)&&(i-=1),"="==e.charAt(t-2)&&(i-=1);break;case 2:i-=2;break;case 3:i-=1;break;case 1:return null}for(o=new ArrayBuffer(i),r=new Uint8Array(o),s=0,l=0;l<i;){if(void 0===(a=c[e.charCodeAt(s)]))return null;if(n=a<<2,s++,void 0===(a=c[e.charCodeAt(s)]))return null;if(r[l]=n|a>>4&3,n=(15&a)<<4,s++,++l>=i)break;if(void 0===(a=c[e.charCodeAt(s)]))return null;if(r[l]=n|a>>2&15,n=(3&a)<<6,s++,++l>=i)break;if(void 0===(a=c[e.charCodeAt(s)]))return null;r[l]=n|a,s++,l++}return o}function pi(e,t,n){var a,i,o,r,s,l,c,_,u,p,d=new Object;switch(d[65]=0,d[66]=1,d[67]=2,d[68]=3,d[69]=4,d[70]=5,d[71]=6,d[72]=7,d[73]=8,d[74]=9,d[75]=10,d[76]=11,d[77]=12,d[78]=13,d[79]=14,d[80]=15,d[81]=16,d[82]=17,d[83]=18,d[84]=19,d[85]=20,d[86]=21,d[87]=22,d[88]=23,d[89]=24,d[90]=25,d[97]=26,d[98]=27,d[99]=28,d[100]=29,d[101]=30,d[102]=31,d[103]=32,d[104]=33,d[105]=34,d[106]=35,d[107]=36,d[108]=37,d[109]=38,d[110]=39,d[111]=40,d[112]=41,d[113]=42,d[114]=43,d[115]=44,d[116]=45,d[117]=46,d[118]=47,d[119]=48,d[120]=49,d[121]=50,d[122]=51,d[48]=52,d[49]=53,d[50]=54,d[51]=55,d[52]=56,d[53]=57,d[54]=58,d[55]=59,d[56]=60,d[57]=61,d[43]=62,d[47]=63,a=e.length,i=0,o=0,"object"!=typeof n&&(n={}),s=n.increment||1024,n.onprogress,r=3*Math.ceil(a/4),a%4){case 0:"="==e.charAt(a-1)&&(r-=1),"="==e.charAt(a-2)&&(r-=1);break;case 2:r-=2;break;case 3:r-=1;break;case 1:return void t(null)}l=new ArrayBuffer(r),c=new Uint8Array(l),_=0,u=0,p=0,Ur.attachFirst(function n(){for(;p<r;){if(void 0===(o=d[e.charCodeAt(_)]))return void t(null);if(i=o<<2,_++,void 0===(o=d[e.charCodeAt(_)]))return void t(null);if(c[p]=i|o>>4&3,i=(15&o)<<4,_++,++p>=r)break;if(void 0===(o=d[e.charCodeAt(_)]))return void t(null);if(c[p]=i|o>>2&15,i=(3&o)<<6,_++,++p>=r)break;if(void 0===(o=d[e.charCodeAt(_)]))return void t(null);if(c[p]=i|o,_++,p++,(u+=4)>s)return u=0,void Ur.attachFirst(n,null)}t(l)},null)}function di(e){var t=Ts.URL||Ts.webkitURL;return t?t.createObjectURL(e):null}function mi(e){var t=Ts.URL||Ts.webkitURL;if(t)return t.revokeObjectURL(e)}function gi(){var e,t,n;this.initialize=function(){e=4294967295,t=0},this.setPosition=function(e){t=e},this.getFromArrayBuffer=function(a,i){var o,r=new Uint8Array(a,t,i);for(o=0;o<i;o++)e=n[255&(e^r[o])]^e>>>8;return t+=i,(4294967295^e)>>>0},this.getFromStringOfBinaryData=function(a,i){for(i+=t;t<i;)e=n[255&(e^255&a.charCodeAt(t))]^e>>>8,t++;return(4294967295^e)>>>0},this.getFromString=function(a,i){for(i+=t;t<i;){var o=a.charCodeAt(t);e=n[255&(e^o>>>8&255)]^e>>>8,e=n[255&(e^o>>>0&255)]^e>>>8,t++}return(4294967295^e)>>>0},n=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],this.initialize()}function fi(e){var t=new DataView(e),n=e.byteLength;if(n<2)return"";switch(t.getUint16(0,!1)){case 16973:return"bmp";case 65496:return"jpg"}return n<4?"":t.getUint32(0,!1)>>>8==4671814?"gif":1380533830===t.getUint32(0,!1)?"webp":n<8?"":2303741511==t.getUint32(0,!1)&&218765834==t.getUint32(4,!1)?"png":""}function hi(e){for(var t,n,a,i,o,r=new Array,s=0,l=0,c=e.length;l<c;)n=e.charCodeAt(l),l+=1,55296==(64512&n)&&56320==(64512&(a=e.charCodeAt(l)||0))&&(n=65536+(n-55296<<10|a-56320&1023),l+=1),s+=n<128?1:n<2048?2:n<65536?3:n<2097152?4:n<67108864?5:6,r.push(n);for(i=new Uint8Array(s),l=0,c=r.length,t=0;t<c;t++)(o=r[t])<128?(i[l]=(127&o)>>>0,l+=1):o<2048?(i[l]=(1984&o)>>>6|192,i[l+=1]=(63&o)>>>0|128,l+=1):o<65536?(i[l]=(61440&o)>>>12|224,i[l+=1]=(4032&o)>>>6|128,i[l+=1]=(63&o)>>>0|128,l+=1):o<2097152?(i[l]=(1835008&o)>>>18|240,i[l+=1]=(258048&o)>>>12|128,i[l+=1]=(4032&o)>>>6|128,i[l+=1]=(63&o)>>>0|128,l+=1):o<67108864?(i[l]=(50331648&o)>>>24|248,i[l+=1]=(16515072&o)>>>18|128,i[l+=1]=(258048&o)>>>12|128,i[l+=1]=(4032&o)>>>6|128,i[l+=1]=(63&o)>>>0|128,l+=1):(i[l]=(1073741824&o)>>>30|252,i[l+=1]=(1056964608&o)>>>24|128,i[l+=1]=(16515072&o)>>>18|128,i[l+=1]=(258048&o)>>>12|128,i[l+=1]=(4032&o)>>>6|128,i[l+=1]=(63&o)>>>0|128,l+=1);return i.buffer}function xi(e){for(var t,n=new Array,a=new Uint8Array(e),i=a.byteLength,o=0;o<i;)if(128==(192&a[o+0]))o+=1;else if(128&a[o+0])if(192==(224&a[o+0]))t=(28&a[o+0])>>2<<8|(3&a[o+0])<<6|63&a[o+1],n.push(String.fromCharCode(t)),o+=2;else if(224==(240&a[o+0]))t=((15&a[o+0])<<4|(60&a[o+1])>>2)<<8|(3&a[o+1])<<6|63&a[o+2],n.push(String.fromCharCode(t)),o+=3;else if(240==(248&a[o+0]))t=((7&a[o+0])<<2|(48&a[o+1])>>4)<<16|((15&a[o+1])<<4|(60&a[o+2])>>2)<<8|(3&a[o+2])<<6|63&a[o+3],n.push(String.fromCharCode((t-65536>>>10)+55296,56320+(t-65536&1023))),o+=4;else if(248==(252&a[o+0]))t=(3&a[o+0])<<24|((63&a[o+1])<<2|(48&a[o+2])>>4)<<16|((15&a[o+2])<<4|(60&a[o+3])>>2)<<8|(3&a[o+3])<<6|63&a[o+4],n.push(String.fromCodePoint(t)),o+=5;else{if(252!=(254&a[o+0]))break;t=((1&a[o+0])<<6|63&a[o+1])<<24|((63&a[o+2])<<2|(48&a[o+3])>>4)<<16|((15&a[o+3])<<4|(60&a[o+4])>>2)<<8|(3&a[o+4])<<6|63&a[o+5],n.push(String.fromCodePoint(t)),o+=6}else t=127&a[o+0],n.push(String.fromCharCode(t)),o+=1;return n.join("")}function bi(e){var t=this,n=new Object;!function(){var a,i,o=e.replace(/\r\n?/g,"\n").split("\n"),r=0,s=o.length;for(a=0;a<s;a++)(i=o[a].match(new RegExp("^(.*):[ ](.*)$","i")))&&(t[r]=i[1],t[i[1]]=i[2],n[i[1].toLowerCase()]=i[2],r+=1);t.length=r}(),t.getResponseHeader=function(e){return n[e.toLowerCase()]||""}}function vi(){try{if(GM_download)return!0}catch(e){}return!1}function wi(e,t){try{if(GM.openInTab)return void GM.openInTab(e,t)}catch(e){}try{if(GM_openInTab)return void GM_openInTab(e,t)}catch(e){}}function yi(){function e(e){if(a.readyState=e.readyState,a.status=e.status||0,e.responseHeaders&&(n||(a.responseHeaders=e.responseHeaders,n=new bi(e.responseHeaders))),4==e.readyState){try{a.responseText=e.responseText}catch(e){}try{a.response=e.response}catch(e){}a.responseURL=e.finalUrl}a.onreadystatechange&&a.onreadystatechange(a),4==a.readyState&&(a.onreadystatechange=null)}var t,n,a=this;a.setRequestHeader=function(e,n){t.headers[e]=n},a.overrideMimeType=function(e){t.overrideMimeType=e},a.getResponseHeader=function(e){return n?n.getResponseHeader(e):""},a.getAllResponseHeaders=function(){return a.responseHeaders},a.open=function(e,n){t.method=e,t.url=n},a.send=function(n){t.data=n,t.onprogress=function(e){a.onprogress&&a.onprogress(e)},t.onreadystatechange=function(t){e(t)},t.onerror=function(t){e(t)},a.timeout&&(t.timeout=a.timeout),a.responseType&&(t.responseType=a.responseType);try{return void GM.xmlHttpRequest(t)}catch(e){}try{return void GM_xmlhttpRequest(t)}catch(e){}e({readyState:4,status:0})},a.onreadystatechange=function(){},a.onprogress=function(){},(t=new Object).headers=new Object,a.readyState=0,a.status=0,a.responseHeaders=null,a.responseText="",a.responseType=""}function Ei(){var e=this;e.setItem=function(e,t){try{if(GM.setValue)return GM.setValue(e,t)}catch(e){}try{if(GM_setValue)return ni(function(n){GM_setValue(e,t),n()})}catch(e){}return ni(function(e,t){t()})},e.getItem=function(e){try{if(GM.getValue)return GM.getValue(e)}catch(e){}try{if(GM_getValue)return ni(function(t){t(GM_getValue(e))})}catch(e){}return ni(function(e,t){t()})},e.removeItem=function(e){try{if(GM.deleteValue)return GM.deleteValue(e)}catch(e){}try{if(GM_deleteValue)return ni(function(t){t(GM_deleteValue(e))})}catch(e){}return ni(function(e,t){t()})}}function ki(){var e;this.release=function(){var t;for(t=e.length-1;t>=0;t--)e[t],delete e[t]},this.addItem=function(t,n,a){var i,o=0;a&&(o=a.toLocaleUpperCase().charCodeAt(0)||0),i={caption:t,callback:n,key_code:o},e.push(i);try{return void(i.id=GM.registerMenuCommand(t,n,a))}catch(e){}try{return void(i.id=GM_registerMenuCommand(t,n,a))}catch(e){}},e=new Array}function Ai(e,t){Ei.isSupported()?(new Ei).getItem(e).then(function(e){t({result:!0,value:e})},function(e){t({result:!1,message:e})}):t({result:!1,message:"Do not support storage."})}function Ri(e,t,n){var a=new Object;Ei.isSupported()?(new Ei).setItem(e,t).then(function(e){n({result:!0,value:e})},function(e){n({result:!1,message:e})}):(a.result=!1,a.message="Do not support storage."),n(a)}function Ti(e,t){var n=new Object;Ei.isSupported()?(new Ei).removeItem(e).then(function(e){t({result:!0,value:e})},function(e){t({result:!1,message:e})}):(n.result=!1,n.message="Do not support storage."),t(n)}function Ii(){}function Ci(){}function Si(){}function Mi(e){var t;return t=new RegExp("[ａ-ｚＡ-Ｚ]","g"),e.replace(t,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})}function Li(e){var t;return t=new RegExp("[a-zA-Z-.]","g"),e.replace(t,function(e){return String.fromCharCode(e.charCodeAt(0)+65248)})}function Ni(e){var t;return t=new RegExp("[０-９－．]","g"),e.replace(t,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})}function Fi(e){var t;return t=new RegExp("[0-9]","g"),e.replace(t,function(e){return String.fromCharCode(e.charCodeAt(0)+65248)})}function Oi(e){e=(e=(e=e.replace(/”/g,'"')).replace(/’/g,"'")).replace(/￥/g,"\\");var t=new RegExp("[！-／：-＠［-｀｛-～]","g");return e.replace(t,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})}function Di(e){e=(e=(e=e.replace(/\"/g,"”")).replace(/\'/g,"’")).replace(/\\/g,"￥");var t=new RegExp("[!-/:-@[-`{-~]","g");return e.replace(t,function(e){return String.fromCharCode(e.charCodeAt(0)+65248)})}function ji(e){return e.replace(/　/g," ")}function zi(e){return e.replace(/ /g,"　")}function Pi(e){var t=new RegExp("[ぁ-ん]","g");return e.replace(t,function(e){return String.fromCharCode(e.charCodeAt(0)+96)})}function Ui(e){var t=new RegExp("[ァ-ン]","g");return e.replace(t,function(e){return String.fromCharCode(e.charCodeAt(0)-96)})}function Vi(e){var t=Is.createElement("span"),n=new RegExp("(&#[0-9]{1,};)|(&#x[0-9a-f]{1,};)|(&[0-9a-z]{2,};)","gi");return e.replace(n,function(e){return t.innerHTML=e,gr(t)})}function Bi(e){var t,n,a,i,o;try{if(t=eval(e),"function"==typeof t)return[t];if(n=!1,t&&"object"==typeof t&&t.constructor==Array){for(a=new Array,o=t.length,i=0;i<o;i++)"function"==typeof t[i]&&a.push(t[i]);return a}}catch(e){}return[]}function Hi(e){var t,n,a,i,o=new Object,r=e.match(new RegExp("[?](.*?)(#|$)"));if(!r)return o;for(a=(t=r[1].split("&")).length,n=0;n<a;n++)2==(i=t[n].split("=")).length&&(o[i[0]]=i[1]);return o}function Wi(e,t){e.length;var n,a=t.length,i=0,o=0,r=t.indexOf("*");if(r<0)return e==t;if(r>0){if(n=r-o,0!=(r=e.indexOf(t.substring(o,r),i)))return!1;i=r+n,o+=n}for(;;){for(;o++,(r=t.indexOf("*",o))==o;);if(r<0){if(o>=a)return!0;r=a}if(n=r-o,(r=e.indexOf(t.substring(o,r),i))<0)return!1;i=r+n,o+=n}return!1}function Gi(e,t){for(var n,a,i,o,r=new Array,s=new RegExp(":|/|[.]|[?]|#|[*]+","i");;){if(!(n=t.match(s))){t&&r.push(t);break}RegExp.leftContext&&r.push(RegExp.leftContext),"*"==n[0].charAt(0)?r.push("*"):r.push(n[0]),t=RegExp.rightContext}for(i=e.length,o=0;;){if(!(t=r.shift()))return o>=i;if("*"==t){if(!(t=r.shift()))return!0;if((a=e.indexOf(t,o))<0)return!1;o=a+t.length}else{if(e.indexOf(t,o)!=o)return!1;o+=t.length}}}function Zi(e){for(var t,n="^",a=new Array,i=new RegExp(":|/|[.]|[?]|#|[*]+");;){if(!(t=e.match(i))){if((t=e.match(new RegExp("(.*)$")))[0]||n.length>1){n+=t[0]+"$",a.push(new RegExp(n));break}break}"*"==t[0].charAt(0)?n+=RegExp.leftContext+".*?":(n+=RegExp.leftContext+"["+t[0]+"]",a.push(new RegExp(n)),n="^"),e=RegExp.rightContext}return a}function $i(e,t){var n,a=t.length;for(n=0;n<a;n++){if(!e.match(t[n]))return!1;e=RegExp.rightContext}return""==e}function Yi(e,t,n){var a,i,o,r;return e||(e=""),t||(t=""),n||(n=""),(a=t.match(new RegExp("^.*/","i")))?(i=a[0],(a=t.match(new RegExp("^[^:]+://[^/]+/","i")))?(o=a[0],(a=t.match(new RegExp("^[^:]+:","i")))?(r=a[0],(a=n.match(new RegExp(".*/","i")))&&(n=a[0]),n=0==n.indexOf("//")?r+n:0==n.indexOf("/")?o+n.substr(1):i+n,0==e.indexOf("//")?r+e:0==e.indexOf("/")?o+e.substr(1):e.match(new RegExp("^[a-z]+:[^/]","i"))||e.match(new RegExp("://","i"))?e:n+e):""):""):""}function qi(e){return Qi(e).origin}function Qi(e){var t,n,a,i,o="",r="",s="",l="",c="",_="",u="",p="",d="",m="",g="",f="",h="";try{return(p=(n=new URL(e)).pathname).length<=2048&&((a=p.match(/([^/]+)([/]*)$/))&&(d=a[1]),(a=d.match(/[.]([^.]*)$/))?(g=a[1],m=RegExp.leftContext):m=d,(a=g.match(/^([^":*?<>|~]+)/))&&(g=a[1])),{protocol:n.protocol,username:n.username,password:n.password,port:n.port,host:n.host,hostname:n.hostname,origin:n.origin,pathname:p,filename:d,name:m,ext:g,search:n.search,hash:n.hash}}catch(e){}return i=e,e.length<=2048&&((a=i.match(/([#].*)$/))&&(h=a[1],i=RegExp.leftContext),(a=i.match(/([?].*)/))&&(f=a[1],i=RegExp.leftContext),(a=i.match(/^([^:]+:)/))&&(o=a[1],i=RegExp.rightContext),a=o.match(/^(http|https|ftp|file|ws|wss):/),(t=Boolean(a))?((a=i.match(/^([/]*)/))&&(i=RegExp.rightContext),o.match(/^(file):/)&&(i="/"+i),(a=i.match(/^([^/]*)/))&&(p=RegExp.rightContext,i=a[1])):(p=i,i=""),(a=p.match(/([^/]+)([/]*)$/))&&(d=a[1]),(a=d.match(/[.]([^.]*)$/))?(g=a[1],m=RegExp.leftContext):m=d,(a=i.match(/([^@]*)@/))?(c=RegExp.rightContext,i=a[1]):(c=i,i=""),(a=c.match(/:([^:]*)$/))?(l=a[1],_=RegExp.leftContext):_=c,(a=i.match(/[:]([^:]*)$/))?(s=a[1],r=RegExp.leftContext):r=i,t&&(u=o+"//"+_,l&&(u+=":"+l))),{protocol:o,username:r,password:s,port:l,host:c,hostname:_,origin:u,pathname:p,filename:d,name:m,ext:g,search:f,hash:h}}function Xi(e){var t,n,a="",i="",o=0,r=e.match(/^data:/i);return r?(o=e.indexOf(","))<0?null:((r=(n=(t=e.slice(5,o).split(";")).shift()||"").match(/.+[/].+/))&&(a=r[0],n=t.shift()||""),(r=n.match(/^charset=(.*)/i))&&(i=r[1],n=t.shift()||""),{mimetype:a,charset:i,format:n.match(/^base64$/i)?"base64":"text",data_offset:o+=1,data_size:e.length-o}):null}function Ki(e){function t(e){var t,n,a=0,i=1;for(t=e.length-1;t>=0;t--)(n=e.charCodeAt(t))>=97&&(n-=87),n>=65&&(n-=55),n>=48&&(n-=48),a+=i*n,i*=16;return String.fromCharCode(a)}var n,a,i;return n||(a=e.match(/^"(.*)"$/))&&(n='"',e=a[1]),n||(a=e.match(/^'(.*)'$/))&&(n='"',e=a[1]),n?(e=(e=e.replace(new RegExp("\\\\u([0-9a-f]{4})","ig"),function(e,n){return t(n)})).replace(new RegExp("\\\\x([0-9a-f]{2})","ig"),function(e,n){return t(n)}),i={"\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v","'":"'",'"':'"',"/":"/"},e=e.replace(new RegExp("\\\\(.)","g"),function(e,t){return i[t]?i[t]:t})):null}function Ji(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,i=t.getDate(),o=t.getHours(),r=t.getMinutes(),s=t.getSeconds(),l="";return n<1e3&&(l+="0"),n<100&&(l+="0"),n<10&&(l+="0"),l+=n,l+="/",a<10&&(l+="0"),l+=a,l+="/",i<10&&(l+="0"),l+=i,l+=" ",o<10&&(l+="0"),l+=o,l+=":",r<10&&(l+="0"),l+=r,l+=":",s<10&&(l+="0"),l+s}function eo(e){return Ji(1e3*e)}function to(e){var t,n,a,i,o,r,s,l,c,_,u,p,d,m,g,f,h,x,b,v,w,y,E,k,A,R,T,I=new Object;I[" "]=I["　"]=I["\t"]=I["\r"]=I["\n"]=I[">"]=I["="]=!0,(t=new Object)[" "]=t["　"]=t["\t"]=t["\r"]=t["\n"]=t[">"]=!0,(n=new Object)[" "]=n["　"]=n["\t"]=n["\r"]=n["\n"]=!0,(a=new Object).AREA=a.BASE=a.BASEFONT=a.BR=a.COL=a.FRAME=a.HR=a.IMG=a.INPUT=a.ISINDEX=a.LINK=a.META=a.PARAM=a.WBR=!0,(i=new Object).BODY=i.COLGROUP=i.DD=i.DT=i.HEAD=i.HTML=i.LI=i.OPTION=i.P=i.TBODY=i.TD=i.TFOOT=i.TH=i.THEAD=i.TR=!0,o=new Array,r=new Array,_=0,u=e.length,p={element:null,name:"",depth:0},r.push(p);try{for(;;){if("SCRIPT"==p.name||"STYLE"==p.name)for(;;){for(;u>_&&(s=e.charAt(_),_++,"<"!=s););if(_>=u)throw"end";for(;u>_&&(s=e.charAt(_),_++,n[s]););if(_>=u)throw"end";if("/"==s){for(;u>_&&n[s=e.charAt(_)];)_++;if(_>=u)throw"end";if(d=p.name,e.substr(_,d.length).toUpperCase()==d){for(_+=d.length;u>_&&(s=e.charAt(_),_++,n[s]););if(_>=u)throw"end";if(">"==s&&"\\"!=e.charAt(_-2)){p.depth&&(r.pop(),p=r[r.length-1]);break}}}}for(l=_,c=-1;u>_;)if(s=e.charAt(_),_++,"<"==s){c=_-1;break}if(l<c&&(m=Vi(m=e.substring(l,c)),(g=Is.createTextNode(m))&&(p.depth?p.element&&p.element.appendChild(g):o.push(g))),_>=u)throw"end";if("!--"!=e.substr(_,3)){for(;u>_;)if(s=e.charCodeAt(_),_++,65<=s&&s<=90||97<=s&&s<=122||47==s){l=_-1;break}if(_>=u)throw"end";if(47==s){for(;u>_;)if(s=e.charCodeAt(_),_++,65<=s&&s<=90||97<=s&&s<=122){l=_-1;break}if(_>=u)throw"end";for(;u>_;){if(!(65<=(s=e.charCodeAt(_))&&s<=90||97<=s&&s<=122||48<=s&&s<=57)){c=_;break}_++}if(_>=u)throw"end";for(d=e.substring(l,c).toUpperCase();u>_&&(s=e.charAt(_),_++,">"!=s););for(l=c=r.length,f=c-1;f>=0;f--)if(r[f].name==d){l=f;break}for(;l<c;l++)p.depth&&(r.pop(),p=r[r.length-1])}else{for(;u>_;){if(!(65<=(s=e.charCodeAt(_))&&s<=90||97<=s&&s<=122||48<=s&&s<=58)){c=_;break}_++}if(_>=u)throw"end";if(i[d=e.substring(l,c).toUpperCase()]){for(l=c=r.length,f=c-1;f>=0;f--)if(i[r[f].name]){l=f;break}for(;l<c;l++)p.depth&&(r.pop(),p=r[r.length-1])}for(h=p.element,x=!1,b=new Array,v=null,(y=(w=vs).elements[d])&&y.allow&&(b.push(w.globals),b.push(y.attributes)),(y=(w=bs).elements[d])&&y.allow&&(b.push(w.globals),b.push(y.attributes)),b.length&&(v=Is.createElement(d)),v&&(p.depth?h&&v&&h.appendChild(v):o.push(v)),a[d]&&(x=!0),p={element:v,name:d,depth:p.depth+1},r.push(p);;){for(;u>_;){if(!n[s=e.charAt(_)]){l=_;break}_++}if(_>=u)throw"end";if(">"==s){x&&p.depth&&(r.pop(),p=r[r.length-1]),_+=1;break}if("/"==s)x=!0,_+=1;else{for(;u>_;){if(I[s=e.charAt(_)]){c=_;break}_++}if(_>=u)throw"end";for(E=e.substring(l,c),k=void 0;u>_&&n[s=e.charAt(_)];)_++;if(_>=u)throw"end";if("="==s){for(_++;u>_&&n[s=e.charAt(_)];)_++;if(_>=u)throw"end";for(A="",'"'!=s&&"'"!=s||(A=s,_++),l=_;u>_;){if(s=e.charAt(_),A){if(s==A&&"\\"!=e.charAt(_-1)){c=_,_++;break}}else if(t[s]){c=_;break}_++}if(_>=u)throw"end";k=e.substring(l,c)}if(p.element)for(R in E=E.toLowerCase(),b)if(b[R][E]){void 0===k&&(k=""),(T=Is.createAttribute(E)).value=k,p.element.setAttributeNode(T);break}}}}}else _+=3,(c=e.indexOf("--\x3e",_))>=0&&(_=c+3)}}catch(c){}return o}function no(e){var t,n,a,i,o;if(null===e)return null;if("object"!=typeof e)return e;for(i=new e.constructor,(o=new Array).push({o:i,s:e});a=o.pop();)for(a in n=a.o,t=a.s)"object"==typeof t[a]&&t[a]?(n[a]=new t[a].constructor,o.push({o:n[a],s:t[a]})):n[a]=t[a];return i}function ao(e,t){try{e[t]=null,delete e[t]}catch(e){}}function io(e,t,n){var a,i;return e&&(a=t.match(e))?(i=a.length,n.replace(new RegExp("\\\\\\\\|\\\\[0-9]","g"),function(e){if("\\\\"==e)return"\\";var t=parseInt(e[1]);return t>0&&t<=i?a[t]:0==t?a[0]:""})):t}function oo(e,t,n){var a,i;return e&&(a=t.match(e))?(i=a.length,n.replace(new RegExp("[$][$]|[$][0-9]","g"),function(e){if("$$"==e)return"$";var t=parseInt(e[1]);return t>0&&t<=i?a[t]:0==t?a[0]:""})):t}function ro(){}function so(e){var t,n,a,i=this;i.release=function(){t=null,n=null,a=null},i.getWindowRoot=function(){return t},i.existWindowRoot=function(){return t!=n},i.getPositionFromRoot=function(){var e,t,n,i,o,r,s=0,l=0;try{for(r=a.length,o=0;o<r&&(e=a[o].frameElement);o++)t=Ho(e,""),n=ys(t),s+=(i=jo(e)).left+n.paddingLeft+n.borderLeft,l+=i.top+n.paddingTop+n.borderTop}catch(e){}return{x:s,y:l}},function(){var i,o;n=e,a=new Array;try{for(i=e.top;e!=i;)(o=e.parent).location.href,o.document.URL,a.push(e),e=o}catch(e){}t=e}()}function lo(e){if(void 0===e.pageXOffset);else if(void 0!==e.pageYOffset)return{x:e.pageXOffset,y:e.pageYOffset};var t=e.document;return{x:t.documentElement.scrollLeft||t.body.scrollLeft,y:t.documentElement.scrollTop||t.body.scrollTop}}function co(e,t){_o(e,t.x),uo(e,t.y)}function _o(e,t){var n=e.document;n.body&&(n.body.scrollLeft=t),n.documentElement&&(n.documentElement.scrollLeft=t)}function uo(e,t){var n=e.document;n.body&&(n.body.scrollTop=t),n.documentElement&&(n.documentElement.scrollTop=t)}function po(e){var t,n;try{for(t=e.top;e!=t;)(n=e.parent).location.href,n.document.URL,e=n}catch(e){}return e}function mo(e){return e.top!=e.self}function go(e){var t,n="",a=new RegExp("^(blob|data|about):","i");try{for(n=e.document.URL,t=e.top;e!=t&&n.match(a);)(e=e.parent).location.href,n=e.document.URL}catch(e){}return n}function fo(e){var t,n,a;if(e.head)return e.head;for(a=(t=e.documentElement.childNodes).length,n=0;n<a;n++)if("HEAD"==t[n].tagName)return t[n];return null}function ho(e){var t=e.body,n=e.documentElement,a=t.clientWidth;return a<n.clientWidth&&(a=n.clientWidth),{width:a,height:"BackCompat"==e.compatMode?t.clientHeight:n.clientHeight?n.clientHeight:t.clientHeight}}function xo(){return{x:Is.body.scrollLeft||Is.documentElement.scrollLeft,y:Is.body.scrollTop||Is.documentElement.scrollTop}}function bo(e){var t=0,n=0,a=e.body;return a&&(t<a.clientWidth&&(t=a.clientWidth),t<a.scrollWidth&&(t=a.scrollWidth),n<a.clientHeight&&(n=a.clientHeight),n<a.scrollHeight&&(n=a.scrollHeight)),(a=e.documentElement)&&(t<a.clientWidth&&(t=a.clientWidth),t<a.scrollWidth&&(t=a.scrollWidth),n<a.clientHeight&&(n=a.clientHeight),n<a.scrollHeight&&(n=a.scrollHeight)),{width:t,height:n}}function vo(e,t){switch(e.readyState){case"interactive":case"complete":return void t()}e.addEventListener?e.addEventListener("DOMContentLoaded",function n(){e.removeEventListener("DOMContentLoaded",n),t()}):e.attachEvent&&e.attachEvent("onreadystatechange",function n(){switch(e.readyState){case"interactive":case"complete":e.detachEvent("onreadystatechange",n),t()}})}function wo(e){return void 0===e.devicePixelRatio?1:e.devicePixelRatio}function yo(e){return Is.createElement(e)}function Eo(e){return Is.createTextNode(e)}function ko(){return Hi(Is.URL)}function Ao(){var e,t,n=this;n.release=function(){for(;e!=e.next;)e.next.release()},n.createElement=function(){var n,a,i,o=new Object;return o.setFunction=function(e){o.callback=e},o.setBaseValue=function(e){o.base=e},o.setElement=function(e,t){o.element=e,o.key=t,o.base=e[o.key],ii()&&(n=oi(function(e){var t,n,a=e.length;for(t=0;t<a;t++)if(n=e[t].target,o.base!=n[o.key])return o.base=n[o.key],void o.callback()})).observe(e,{attributes:!0,attributeFilter:[t]})},o.release=function(){var a,i;e==o&&(e=o.next),a=o.next,(i=o.prev).next=a,a.prev=i,o.prev=o,o.next=o,t--,n&&(n.disconnect(),n=null)},o.callback=null,o.element=null,o.key=null,o.base=null,(i=(a=e).prev).next=o,a.prev=o,o.prev=i,o.next=a,t++,o},n.execute=function(){var t=0,n=e;do{if(e.element&&e.base!=e.element[e.key]&&(e.base=e.element[e.key],e.callback()),e=e.next,5<=++t)break}while(n!=e)},n.getCount=function(){return t},(e=new Object).prev=e,e.next=e,t=0}function Ro(){function e(e){function t(){c=0,Ur.attachFirstForRemoveDomNode(a,null)}function a(){for(var a,d,m,g,f,h;e;){if(p)for(;p[l];)if(i={node:p[l]},r=(s=u).p,i.p=r,i.n=s,r.n=i,s.p=i,l++,++c>_)return void t();if((a=o?o.get(e):e._pageexpand_remove)&&!lr(e)){for(d=new Array,g=(m=n[a])._next;g!=m;)d.push(g),g=g._next;for(h=d.length,f=0;f<h;f++)d[f].callback()}if(i=u.n,r=i.p,s=i.n,r.n=s,s.p=r,(e=i.node)&&(l=0,p=e.childNodes),++c>_)return void t()}}var i,r,s,l=0,c=0,_=100,u=new Object,p=e.childNodes;u.p=u,u.n=u,a()}var t,n,a,i,o,r,s,l=this;l.release=function(){var e,a;if(t){for(e in n)for(a=n[e];a!=a._next;)a._next.release();t.disconnect(),t=null,o=null}else for(;n!=n._next;)n._next.release()},l.createElement=function(){var e,l,c,_=new Object;return _.setFunction=function(e){_.callback=e},_.setDomNode=function(a){var i,r,l;_.node=a,t&&((e=o?o.get(a):a._pageexpand_remove)||(o?(e=s,o.set(a,e)):e=a._pageexpand_remove=s,s++),n[e]||((i=new Object)._prev=i,i._next=i,n[e]=i),l=(r=n[e])._next,r._next=_,l._prev=_,_._prev=r,_._next=l)},_.release=function(){var s,l;t?(s=_._prev,l=_._next,s._next=l,l._prev=s,_._prev=_,_._next=_,n[e]==n[e]._next&&(ao(n,e),o&&o.delete(_.node))):(i==_&&(i=_._prev),a==_&&(a=_._prev),s=_._prev,l=_._next,s._next=l,l._prev=s,_._prev=_,_._next=_),r-=1,_.node=null},t?(_._prev=_,_._next=_):(c=(l=a)._prev,_._prev=c,_._next=l,l._prev=_,c._next=_,i=_),_.callback=null,_.node=null,r+=1,_},l.getCount=function(){return r},l.execute=function(){var e;for(i=a,e=0;e<5;e++)if(a.node&&(lr(a.node)||a.callback()),(a=a._next)==i)return},r=0,ii()&&(n=new Array,Ts.WeakMap&&(o=new WeakMap),s=1,(t=oi(function(t){var n,a,i,o,r=t.length;for(n=0;n<r;n++)for(o=(a=t[n].removedNodes).length,i=0;i<o;i++)Ur.attachLastForRemoveDomNode(e,a[i])})).observe(Is.documentElement,{childList:!0,subtree:!0})),t||((n=new Object)._prev=n,n._next=n,a=n,i=n)}function To(){function e(){n?r=o:((n=$r.createTask()).setDestructorFunc(function(){n=null}),n.setExecuteFunc(function(){var e;for(e=0;e<10;e++)if(o.callback&&o.callback(),(o=o._next)==r)return void n.release()}),r=o=i,n.execute(4294967295))}function t(){Ts.removeEventListener?Ts.removeEventListener("scroll",e,!0):Ts.attachEvent&&Ts.detachEvent("onscroll",e)}var n,a,i,o,r,s,l=this;l.release=function(){for(t();i!=i._next;)i._next.release();a&&(a.release(),a=null),n&&n.release()},l.createElement=function(){var n,i,l=new Object;return l.setFunction=function(e){l.callback=e},l.release=function(){var e,n;r==l&&(r=l._prev),o==l&&(o=l._prev),e=l._prev,n=l._next,e._next=n,n._prev=e,l._prev=l,l._next=l,(s-=1)||t()},i=(n=o)._prev,l._prev=i,l._next=n,n._prev=l,i._next=l,r=l,l.callback=null,s||(Ts.addEventListener?Ts.addEventListener("scroll",e,!0):Ts.attachEvent&&Ts.attachEvent("onscroll",e),a&&(a.release(),a=null),(a=new mt(1,1)).oncomplete=function(){e()},a.start()),s+=1,l},l.getCount=function(){return s},s=0,(i=new Object)._prev=i,i._next=i,o=i,r=i}function Io(){var e,t,n=this;n.release=function(){e=null},n.createElement=function(n){var a,i,o,r=new Object;return r.setData=function(e){r.data=e},r.getData=function(){return r.data},r.release=function(){var n,a,i=r.owner;i&&(r.owner=null,n=r._prev,a=r._next,n._next=a,a._prev=n,i.count-=1,i.count||delete e[i.key],t-=1)},(o=e[n])||((o={key:n,count:0})._prev=o,o._next=o,e[n]=o),(i=(a=o)._prev)._next=r,a._prev=r,r._prev=i,r._next=a,r.owner=o,o.count+=1,t+=1,r},n.get=function(t){var n=e[t];return n?n._next:null},n.getCount=function(){return t},t=0,e=new Object}function Co(e,t){var n,a,i,o,r,s,l,c;if(e.getElementsByTagName)return e.getElementsByTagName(t);if(e.querySelectorAll)return e.querySelectorAll(t);for(t=t.toUpperCase(),n=new Array,o={p:r=new Object,n:r,node:e},r.p=o,r.n=o;r.n!=r;)if(a=(o=r.n).p,i=o.n,a.n=i,i.p=a,1===(e=o.node).nodeType){for(c=(l=e.childNodes).length,s=0;s<c;s++)o={p:a=(i=r).p,n:i,node:l[s]},a.n=o,i.p=o;e.tagName!=t&&"*"!=t||n.push(e)}return n}function So(e,t){var n,a,i,o,r=new Array,s=new Object,l={p:s,n:s,node:e};for(s.p=l,s.n=l;s.n!=s;)if(n=(l=s.n).p,a=l.n,n.n=a,a.p=n,1===(e=l.node).nodeType){for(o=(r=e.childNodes).length,i=0;i<o;i++)l={p:n=(a=s).p,n:a,node:r[i]},n.n=l,a.p=l;e.getAttribute("name")==t&&r.push(e)}return r}function Mo(e,t){var n,a,i,o,r,s,l;if(e.getElementsByClassName)return e.getElementsByClassName(t);if(n=new Array,!t)return n;for(a=new RegExp("[ \t\r\n]*([^ \t\r\n]+)[ \t\r\n]*","g"),i=new Object,t.replace(a,function(e,t){i[t]=!0}),o=function(e){var t,r,s,l,c,_;if(1==e.nodeType){for(s in t=new Object,(void 0===e.className.baseVal?e.className:e.className.baseVal).replace(a,function(e,n){t[n]=!0}),i)if(!(r=t[s]))break;for(r&&n.push(e),_=(l=e.childNodes).length,c=0;c<_;c++)o(l[c])}},e.documentElement&&(e=e.documentElement),l=(r=e.childNodes).length,s=0;s<l;s++)o(r[s]);return n}function Lo(e){return void 0!==e.className.baseVal?e.className.baseVal:e.className}function No(e){return e.style.cssText}function Fo(e,t){e.style.cssText+=t}function Oo(e,t){e.style.cssText=t}function Do(e){for(var t;e&&!(t=e.clientWidth);)e=e.parentNode;return e?t:0}function jo(e){var t,n;return e.getBoundingClientRect?(n={left:(t=e.getBoundingClientRect()).left,right:t.right,top:t.top,bottom:t.bottom},($a()||Ka())&&(n.left-=2,n.right-=2,n.top-=2,n.bottom-=2),n):null}function zo(e){for(var t,n,a=jo(e),i={hidden:1},o={hidden:1},r={inline:1,none:1,"table-column":1,"table-column-group":1};e&&(t=jo(e))&&"BODY"!=e.tagName;)(n=Ho(e,null))&&(r[n.display]||(i[n.overflowX]&&(t.right<a.right&&(a.right=t.right),t.left>a.left&&(a.left=t.left)),o[n.overflowY]&&(t.bottom<a.bottom&&(a.bottom=t.bottom),t.top>a.top&&(a.top=t.top)))),e=e.parentNode;return a}function Po(e){var t=this;t.hitTestPosition=function(e,n){for(var a,i,o,r,s,l,c=t.parentNode;c&&(a=c.boundingClientRect);){if(a.bottom+1<e.y)return!1;if(a.top-1>e.y)return!1;if(a.right+1<e.x)return!1;if(a.left-1>e.x)return!1;c=c.parentNode}for((i=new Array).push(t);c=i.pop();){for(s=(o=c.childNodes).length,r=0;r<s;r++)i.push(o[r]);for(s=(l=c.clientRects).length,r=0;r<s;r++)if((a=l[r]).bottom+5<e.y);else if(a.top-5>e.y);else if(a.right+2<e.x);else if(!(a.left-2>e.x))return!0;if(!n)return!1}return!1},function(){for(var n,a,i,o,r,s,l,c,_,u,p={scroll:1,hidden:1,auto:1},d={inline:1,none:1,"table-column":1,"table-column-group":1},m={relative:1,absolute:1,fixed:1,sticky:1},g=!1,f=t,h=e;h&&(n=jo(h))&&"BODY"!=h.tagName;){if(a=Ho(h,null)){if("fixed"==a.position)break;(g=g?!Boolean(m[a.position]):Boolean("absolute"==a.position))||d[a.display]||p[a.overflow]&&(f.parentNode={boundingClientRect:n},f=f.parentNode)}h=h.parentNode}for(t.childNodes=new Array,t.clientRects=new Array,(i=new Array).push({node:e,node_obj:t});o=i.pop();){if(f=o.node_obj,r=!0,a=null,1==(h=o.node).nodeType&&(a=Ho(h,null)),a&&(d[a.display]||p[a.overflow]&&(r=!1)),r)for(c=(s=h.childNodes).length,l=0;l<c;l++)_={childNodes:new Array,clientRects:new Array},i.push({node:s[l],node_obj:_}),f.childNodes.push(_);if(h.getClientRects)for(c=(u=h.getClientRects()).length,l=0;l<c;l++)f.clientRects.push(u[l])}}()}function Uo(e,t,n){var a,i,o,r,s,l,c,_,u,p,d,m,g;if(!e)return!1;for(a={scroll:1,hidden:1,auto:1},i={inline:1,none:1,"table-column":1,"table-column-group":1},o={relative:1,absolute:1,fixed:1,sticky:1},r=!1,s=e;s&&(l=jo(s))&&"BODY"!=s.tagName;){if(c=Ho(s,null)){if("fixed"==c.position)break;if(!(r=r?!Boolean(o[c.position]):Boolean("absolute"==c.position))&&!i[c.display]&&a[c.overflow]){if(l.bottom+1<t.y)return!1;if(l.top-1>t.y)return!1;if(l.right+1<t.x)return!1;if(l.left-1>t.x)return!1}}s=s.parentNode}for((_=new Array).push(e);e=_.pop();){if(u=!0,c=null,1==e.nodeType&&(c=Ho(e,null)),c&&(i[c.display]||a[c.overflow]&&(u=!1)),u)for(m=(p=e.childNodes).length,d=0;d<m;d++)_.push(p[d]);if(e.getClientRects)for(m=(g=e.getClientRects()).length,d=0;d<m;d++)if((l=g[d]).bottom+5<t.y);else if(l.top-5>t.y);else if(l.right+2<t.x);else if(!(l.left-2>t.x))return!0;if(!n)return!1}return!1}function Vo(e,t,n){var a=Is.elementFromPoint(t.x,t.y);if(n){for(;a;){if(a==e)return!0;a=a.parentNode}return!1}return a==e}function Bo(e){for(var t,n={visible:1},a={none:1};e;){if(t=Ho(e,null)){if(!n[t.visibility])return!1;if(a[t.display])return!1}e=e.parentNode}return!0}function Ho(e,t){var n,a;try{if((n=e.ownerDocument)&&(a=n.defaultView)&&void 0!==a.getComputedStyle)return a.getComputedStyle(e,t);if(void 0!==e.currentStyle)return e.currentStyle}catch(e){}return null}function Wo(e){var t,n,a,i=new RegExp("([-0-9.]+)px","i"),o=[{i:"paddingLeft",o:"left"},{i:"paddingTop",o:"top"},{i:"paddingRight",o:"right"},{i:"paddingBottom",o:"bottom"}],r=o.length,s=new Object;for(t=0;t<r;t++)a=e[(n=o[t]).i].match(i),s[n.o]=a?parseFloat(a[1]):0;return s}function Go(e,t){var n,a=["transform","webkitTransform","MozTransform","msTransform","OTransform"],i=a.length;for(n=0;n<i;n++)if(void 0!==e[a[n]])return e[a[n]]=t,!0;return!1}function Zo(e,t){var n,a=["transformOrigin","webkitTransformOrigin","MozTransformOrigin","msTransformOrigin","OTransformOrigin"],i=a.length;for(n=0;n<i;n++)if(void 0!==e[a[n]])return e[a[n]]=t,!0;return!1}function $o(e,t,n,a,i,o){this.a=void 0===e?1:e,this.b=void 0===t?0:t,this.c=void 0===n?0:n,this.d=void 0===a?1:a,this.tx=void 0===i?0:i,this.ty=void 0===o?0:o}function Yo(e){for(e=e.previousSibling;e&&1!=e.nodeType;)e=e.previousSibling;return e}function qo(e){for(e=e.nextSibling;e&&1!=e.nodeType;)e=e.nextSibling;return e}function Qo(e){var t,n=e.childNodes,a=n.length;for(t=0;t<a;t++)if(1==n[t].nodeType)return n[t];return null}function Xo(e){var t,n=e.childNodes;for(t=n.length-1;t>=0;t--)if(1==n[t].nodeType)return n[t];return null}function Ko(e,t){var n=t.parentNode;return!!n&&n.insertBefore(e,t)==e}function Jo(e,t){var n=t.parentNode;return!!n&&n.insertBefore(e,t.nextSibling)==e}function er(e,t){var n;try{return n=t.firstChild,t.insertBefore(e,n)==e}catch(e){return!1}}function tr(e,t){try{return t.appendChild(e)==e}catch(e){return!1}}function nr(e,t){var n=e.parentNode;return!!n&&n.insertBefore(t,e)==t}function ar(e,t){var n=e.parentNode;return!!n&&n.insertBefore(t,e.nextSibling)==t}function ir(e,t){var n;try{return n=e.firstChild,e.insertBefore(t,n)==t}catch(e){return!1}}function or(e,t){try{return e.appendChild(t)==t}catch(e){return!1}}function rr(e){var t=e.parentNode;return!!t&&t.removeChild(e)==e}function sr(e){var t,n=e.childNodes;for(t=n.length-1;t>=0;t--)e.removeChild(n[t])}function lr(e){if(e.offsetParent)return!0;var t=hr(e,"html *");if(void 0===t)try{for(;e;){if(e==Is)return!0;e=e.parentNode}}catch(e){}else if(t)return!0;return!1}function cr(e,t){return function n(a){var i,o=a.childNodes,r=o.length,s=new Array;for(i=0;i<r;i++)s[i]=o[i];for(i=0;i<r;i++){if(e=t(s[i]))return e;if(e=n(s[i]))return e}return null}(e)}function _r(e){try{return e.nodeValue}catch(e){}return""}function ur(e,t){try{e.nodeValue=t}catch(e){}}function pr(e){function t(e){a&&a(e)}function n(e){Ur.attachLastForRemoveDomNode(t,e)}var a,i;this.release=function(){i?(i.release(),i=null):e.removeEventListener&&e.removeEventListener("DOMNodeRemovedFromDocument",n)},this.setFunction=function(e){a=e},ii()?((i=Xr.createElement()).setDomNode(e),i.setFunction(t)):e.addEventListener&&e.addEventListener("DOMNodeRemovedFromDocument",n)}function dr(e){var t,n,a,i,o,r={inline:1};return e.getBoundingClientRect?(o=e.getBoundingClientRect(),t=o.left,n=o.top,a=o.right,i=o.bottom,function e(o){var s,l,c,_,u;if(o.getBoundingClientRect&&(s=o.getBoundingClientRect(),t>s.left&&(t=s.left),n>s.top&&(n=s.top),a<s.right&&(a=s.right),i<s.bottom&&(i=s.bottom)),l=null,1==o.nodeType&&(l=Ho(o,null)),l&&r[l.display])for(u=(c=o.childNodes).length,_=0;_<u;_++)e(c[_])}(e),{left:t,top:n,right:a,bottom:i}):null}function mr(e,t){return e.cloneNode(t)}function gr(e){return void 0!==e.textContent?e.textContent:void 0!==e.innerText?e.innerText:""}function fr(e,t){void 0!==e.textContent&&(e.textContent=t),void 0!==e.innerText&&(e.innerText=t)}function hr(e,t){return e.matches?e.matches(t):e.webkitMatchesSelector?e.webkitMatchesSelector(t):e.mozMatchesSelector?e.mozMatchesSelector(t):e.oMatchesSelector?e.oMatchesSelector(t):e.msMatchesSelector?e.msMatchesSelector(t):void 0}function xr(e){var t,n=["requestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],a=n.length;for(t=0;t<a;t++)if(e[n[t]])return e[n[t]](),!0;return!1}function br(e){return void 0!==e.sheet?e.sheet:void 0!==e.styleSheet?e.styleSheet:null}function vr(e,t,n,a){return void 0!==e.insertRule?e.insertRule(t+"{"+n+"}",a):void 0!==e.addRule&&e.addRule(t,n,a),a}function wr(e){try{if(void 0!==e.cssRules)return e.cssRules;if(void 0!==e.rules)return e.rules}catch(e){}return null}function yr(e,t,n){if(e.setProperty)e.setProperty(t,n);else try{e[t=t.replace(/[-]([a-z])/g,function(e,t){return t.toUpperCase()})]=n}catch(e){}}function Er(e,t){if(void 0!==e.getPropertyValue)return e.getPropertyValue(t);try{return e[t.replace(/([a-z]+)-([a-z])/g,function(e,t,n){return t+n.toUpperCase()})]}catch(e){}return null}function kr(e,t){if(e.removeProperty)e.removeProperty(t);else try{e[t=t.replace(/[-]([a-z])/g,function(e,t){return t.toUpperCase()})]="none",delete e[t]}catch(e){}}function Ar(){return"background-attachment: scroll;background-blend-mode: normal;background-clip: border-box;background-color: rgba(0, 0, 0, 0);background-image: none;background-origin: padding-box;background-position: 0% 0%;background-repeat: repeat;background-size: auto;border-bottom-color: rgb(0, 0, 0);border-bottom-left-radius: 0px;border-bottom-right-radius: 0px;border-bottom-style: none;border-bottom-width: 0px;border-collapse: separate;border-image-outset: 0px;border-image-repeat: stretch;border-image-slice: 100%;border-image-source: none;border-image-width: 1;border-left-color: rgb(0, 0, 0);border-left-style: none;border-left-width: 0px;border-right-color: rgb(0, 0, 0);border-right-style: none;border-right-width: 0px;border-top-color: rgb(0, 0, 0);border-top-left-radius: 0px;border-top-right-radius: 0px;border-top-style: none;border-top-width: 0px;bottom: auto;box-shadow: none;box-sizing: content-box;caption-side: top;clear: none;clip: auto;color: rgb(0, 0, 0);cursor: auto;direction: ltr;display: block;empty-cells: show;float: none;font-family: 'MS PGothic';font-kerning: auto;font-size: 16px;font-style: normal;font-variant: normal;font-variant-ligatures: normal;font-weight: normal;height: auto;image-rendering: auto;left: auto;letter-spacing: normal;line-height: normal;list-style-image: none;list-style-position: outside;list-style-type: disc;margin-bottom: 0px;margin-left: 0px;margin-right: 0px;margin-top: 0px;max-height: none;max-width: none;min-height: 0px;min-width: 0px;object-fit: fill;object-position: 50% 50%;opacity: 1;orphans: auto;outline-color: rgb(0, 0, 0);outline-offset: 0px;outline-style: none;outline-width: 0px;overflow-wrap: normal;overflow: visible;padding-bottom: 0px;padding-left: 0px;padding-right: 0px;padding-top: 0px;page-break-after: auto;page-break-before: auto;page-break-inside: auto;pointer-events: auto;position: static;resize: none;right: auto;speak: normal;table-layout: auto;tab-size: 8;text-align: start;text-decoration: none solid rgb(0, 0, 0);text-indent: 0px;text-rendering: auto;text-shadow: none;text-overflow: clip;text-transform: none;top: auto;transition-delay: 0s;transition-duration: 0s;transition-property: all;transition-timing-function: ease;unicode-bidi: normal;vertical-align: baseline;visibility: visible;white-space: normal;widows: auto;width: auto;word-break: normal;word-spacing: 0px;word-wrap: normal;z-index: auto;zoom: 1;align-content: stretch;align-items: stretch;align-self: stretch;flex-basis: auto;flex-grow: 0;flex-shrink: 1;flex-direction: row;flex-wrap: nowrap;justify-content: flex-start;order: 0;buffered-rendering: auto;clip-path: none;clip-rule: nonzero;mask: none;filter: none;flood-color: rgb(0, 0, 0);flood-opacity: 1;lighting-color: rgb(255, 255, 255);stop-color: rgb(0, 0, 0);stop-opacity: 1;color-interpolation: srgb;color-interpolation-filters: linearrgb;color-rendering: auto;fill: rgb(0, 0, 0);fill-opacity: 1;fill-rule: nonzero;marker-end: none;marker-mid: none;marker-start: none;mask-type: luminance;shape-rendering: auto;stroke: none;stroke-dasharray: none;stroke-dashoffset: 0;stroke-linecap: butt;stroke-linejoin: miter;stroke-miterlimit: 4;stroke-opacity: 1;stroke-width: 1;alignment-baseline: auto;baseline-shift: baseline;dominant-baseline: auto;kerning: 0;text-anchor: start;writing-mode: lr-tb;glyph-orientation-horizontal: 0deg;glyph-orientation-vertical: auto;vector-effect: none;paint-order: fill stroke markers;"}function Rr(){return"all:revert;"}function Tr(){return"all:revert;"}function Ir(e){try{if(e instanceof MouseEvent){var t=0;return 0==e.button&&(t|=1),1==e.button&&(t|=4),2==e.button&&(t|=2),t}}catch(e){}return e.button}function Cr(e){var t=Is.createElement("img");return t.src=e.src,t}function Sr(e,t){function n(){_||(_=!0,u&&(u.release(),u=null),s&&(e.removeEventListener("load",s),s=null),l&&(e.removeEventListener("error",l),l=null),c&&(c.release(),c=null))}function a(){n(),t()}function i(){_||a()}function o(){_||a()}function r(){s=i,l=o,e.addEventListener("load",s),e.addEventListener("error",l)}var s,l,c,_=!1,u=jr.createEventHandler("release");u.setFunction(function(){n()}),e.complete?0===e.naturalHeight?((c=new mt(1e3,1)).oncomplete=function(){e.complete?a():r()},c.start()):a():r()}function Mr(e){var t,n,a;if(void 0===e.naturalWidth);else if(void 0!==e.naturalHeight)return{width:e.naturalWidth,height:e.naturalHeight};return Qa()?(t=e.width,n=e.height,e.removeAttribute("width"),e.removeAttribute("height"),a={width:e.width,height:e.height},e.width=t,e.height=n,a):{width:(e=mr(e,!1)).width,height:e.height}}function Lr(e,t,n){for(var a,i,o,r,s,l,c,_={result:!1,vector:{x:0,y:0},target:null},u={hidden:1},p={hidden:1};t&&t!=n&&!(n.compareDocumentPosition&&n.compareDocumentPosition(t)&Is.DOCUMENT_POSITION_CONTAINS)&&((a=Ho(t,null))||(a={}),i=t.scrollWidth-t.clientWidth,r=(o=t.scrollLeft)+e.x,e.x&&(u[a.overflowX]||e.x<0&&0>=o||e.x>0&&i<=o||(r<0&&(r=0),r>i&&(r=i),t.scrollLeft=r,t.scrollLeft!=o&&(_.result=!0,_.target=t,_.vector.x=r-o))),s=t.scrollHeight-t.clientHeight,c=(l=t.scrollTop)+e.y,e.y&&(p[a.overflowY]||e.y<0&&0>=l||e.y>0&&s<=l||(c<0&&(c=0),c>s&&(c=s),t.scrollTop=c,t.scrollTop!=l&&(_.result=!0,_.target=t,_.vector.y=c-l))),!_.result);)t=t.parentElement;return _}var Nr,Fr,Or,Dr,jr,zr,Pr,Ur,Vr,Br,Hr,Wr,Gr,Zr,$r,Yr,qr,Qr,Xr,Kr,Jr,es,ts,ns,as,is,os,rs,ss,ls,cs,_s,us,ps,ds,ms,gs,fs,hs,xs,bs,vs,ws,ys,Es,ks,As=null,Rs=t.admin,Ts=t.window,Is=Ts.document,Cs=arguments.callee,Ss=!1,Ms=!0,Ls=1,Ns,Fs,Os,Ds,js,zs,Ps,Us,Vs,Bs,Hs;if($.MENU_TYPE_SETTING_STANDARD=0,$.MENU_TYPE_SETTING_ACCESS_BLOCK=1,$.MENU_TYPE_SETTING_REPLACEMENT_TO_REFERER=2,$.MENU_TYPE_SETTING_REPLACEMENT_TO_USERAGENT=3,$.MENU_TYPE_SETTING_REPLACEMENT_TO_ELEMENT=4,$.MENU_TYPE_SETTING_REPLACEMENT_TO_TEXT=5,$.MENU_TYPE_SETTING_REPLACEMENT_TO_ANCHOR=6,$.MENU_TYPE_SETTING_REPLACEMENT_TO_LINK=7,$.MENU_TYPE_SETTING_MAKE_LINK_TO_TEXT=8,$.MENU_TYPE_SETTING_EXPAND_SHORT_URL=9,$.MENU_TYPE_SETTING_EXPAND_TEXT=10,$.MENU_TYPE_SETTING_EXPAND_IMAGE=11,$.MENU_TYPE_SETTING_EXPAND_SOUND=12,$.MENU_TYPE_SETTING_EXPAND_VIDEO=13,$.MENU_TYPE_SETTING_EXPAND_IFRAME=14,$.MENU_TYPE_SETTING_STYLE_SHEET=15,$.MENU_TYPE_SETTING_EXPERIMENTAL=16,$.MENU_TYPE_SETTING_URL_MAPPING=17,$.MENU_TYPE_SETTING_EXPAND_BBS=18,$.MENU_TYPE_SETTING_DOWNLOAD=19,$.MENU_TYPE_SETTING_LANGUAGE=20,$.MENU_TYPE_CREDIT=21,lt.SCALE_MODE_AUTO=0,lt.SCALE_MODE_NO_SCALE=1,lt.SCALE_MODE_LONG_VERTICAL=2,lt.SCALE_MODE_SHOW_ALL=3,lt.SCALE_MODE_SHOW_FULL=4,lt.SCALE_MODE_MAX=5,lt.MENU_TYPE_HORIZONTAL=0,lt.MENU_TYPE_VERTICAL=1,dt.locales={ja:{extension_name:{message:"PageExpand"},extension_description:{message:"画像の一括ダウンロード、画像のポップアップ、サムネイルやビデオの展開、短縮URLの展開、URL文字列のリンク化、リファラ置換、主要掲示板の拡張表示など..."},page_expand_config:{message:"PageExpand 設定"},menu_setting_standard:{message:"基本設定"},menu_setting_standard_filter_url:{message:"動作を制限するＵＲＬ"},menu_setting_standard_filter_url_combo_box_item_deny:{message:"指定したアドレスのみ動作させない（それ以外はすべて動作する）"},menu_setting_standard_filter_url_combo_box_item_allow:{message:"指定したアドレスのみ動作させる（それ以外はすべて動作しない）"},menu_setting_standard_filter_url_hint:{message:"URL を記述します。アスタリスク使用可。複数行指定可。"},menu_setting_standard_check_box_container:{message:"基本設定"},menu_setting_standard_enable_icon_address_bar:{message:"アドレスバーにアイコンを表示"},menu_setting_standard_enable_context_menu:{message:"コンテキストメニューを表示"},menu_setting_standard_enable_startup:{message:"ロード完了時から動作を開始"},menu_setting_standard_enable_debug_mode:{message:"デバッグモードで動作"},menu_setting_standard_enable_output_log:{message:"コンソールにログを出力（デバッグ用）"},menu_setting_standard_execute_queue:{message:"実行キュー設定（通常は変更の必要はありません）"},menu_setting_standard_execute_queue_time_sleep:{message:"スリープ時間（ミリ秒）"},menu_setting_standard_execute_queue_time_occupancy:{message:"最大CPU占有時間（ミリ秒）"},menu_setting_standard_execute_queue_hint:{message:"最大CPU占有時間が大きいほど、操作レスポンスが悪くなり、スクリプトが高速に動作します。スリープ時間が小さいほど、CPU使用率が高くなり、スクリプトが高速に動作します。"},menu_setting_standard_touch:{message:"タッチ操作設定"},menu_setting_standard_enable_input_touch:{message:"タッチ操作を有効"},menu_setting_standard_enable_double_touch_assist:{message:"ダブルタッチ補助線を表示"},menu_setting_standard_command:{message:"メニューの実行（モバイル用）"},menu_setting_standard_command_execute_button:{message:"実行する"},menu_setting_standard_command_execute_dialog:{message:"メニューの実行"},menu_setting_standard_command_execute_dialog_tab_list:{message:"実行対象となるタブを選択"},menu_setting_standard_command_execute_dialog_command_list:{message:"実行するコマンドを選択"},menu_setting_standard_command_execute_dialog_confirm:{message:"選択したメニューを実行しますか？"},menu_setting_standard_export_import:{message:"設定のエクスポート / インポート"},menu_setting_standard_export_button:{message:"エクスポート"},menu_setting_standard_import_button:{message:"インポート"},menu_setting_standard_export_dialog:{message:"設定のエクスポート"},menu_setting_standard_export_dialog_export:{message:"エクスポート"},menu_setting_standard_export_dialog_export_hint:{message:"テキストエリアの値をコピーして下さい。"},menu_setting_standard_import_dialog:{message:"設定のインポート"},menu_setting_standard_import_dialog_explanation:{message:"インポートについて"},menu_setting_standard_import_dialog_explanation_0:{message:"インポートを行うと、現在の設定は全て失われます。"},menu_setting_standard_import_dialog_explanation_1:{message:"インポートを行う前に、エクスポート機能でバックアップを取ることをお勧めします。"},menu_setting_standard_import_dialog_explanation_2:{message:"信頼の無い人物が作成した設定データを、絶対にインポートしないで下さい。悪意のあるスクリプトが含まれる恐れがあります。"},menu_setting_standard_import_dialog_import:{message:"インポート"},menu_setting_standard_import_dialog_import_hint:{message:"エクスポートから出力したテキストをペーストして下さい。"},menu_setting_standard_import_dialog_confirm:{message:"インポートを実行しますか？"},menu_setting_standard_import_alert:{message:"インポートの結果"},menu_setting_standard_import_alert_success:{message:"インポートが完了しました。"},menu_setting_standard_import_alert_failure:{message:"インポートに失敗しました。"},menu_setting_standard_storage_sync:{message:"同期ストレージ"},menu_setting_standard_storage_sync_load_button:{message:"読込"},menu_setting_standard_storage_sync_save_button:{message:"保存"},menu_setting_standard_storage_sync_delete_button:{message:"削除"},menu_setting_standard_storage_sync_load_dialog:{message:"同期ストレージの読み込み"},menu_setting_standard_storage_sync_load_dialog_explanation:{message:"同期ストレージの読み込みについて"},menu_setting_standard_storage_sync_load_dialog_explanation_0:{message:"同期ストレージからデータを読み込んで設定に反映します。"},menu_setting_standard_storage_sync_load_dialog_explanation_1:{message:"読み込みを行うと、現在の設定は全て失われます。"},menu_setting_standard_storage_sync_load_dialog_explanation_2:{message:"読み込みを行う前に、エクスポート機能でバックアップを取ることをお勧めします。"},menu_setting_standard_storage_sync_load_dialog_confirm:{message:"同期ストレージから設定データを読み込みますか？"},menu_setting_standard_storage_sync_load_alert:{message:"読み込みの結果"},menu_setting_standard_storage_sync_load_alert_success:{message:"読み込みが完了しました。"},menu_setting_standard_storage_sync_load_alert_failure:{message:"読み込みに失敗しました。"},menu_setting_standard_storage_sync_save_dialog:{message:"同期ストレージの保存"},menu_setting_standard_storage_sync_save_dialog_explanation:{message:"同期ストレージの保存について"},menu_setting_standard_storage_sync_save_dialog_explanation_0:{message:"現在の設定を、同期ストレージに保存します。"},menu_setting_standard_storage_sync_save_dialog_explanation_1:{message:"ブラウザの同期機能が有効である必要があります。"},menu_setting_standard_storage_sync_save_dialog_explanation_2:{message:"容量に制限があります。サイズが大きすぎる場合失敗します。"},menu_setting_standard_storage_sync_save_dialog_confirm:{message:"同期ストレージに設定データを保存しますか？"},menu_setting_standard_storage_sync_save_alert:{message:"保存の結果"},menu_setting_standard_storage_sync_save_alert_success:{message:"保存が完了しました。"},menu_setting_standard_storage_sync_save_alert_failure:{message:"保存に失敗しました。"},menu_setting_standard_storage_sync_delete_dialog:{message:"同期ストレージの削除"},menu_setting_standard_storage_sync_delete_dialog_explanation:{message:"同期ストレージの削除について"},menu_setting_standard_storage_sync_delete_dialog_explanation_0:{message:"同期ストレージに保存した設定データをすべて削除します。"},menu_setting_standard_storage_sync_delete_dialog_confirm:{message:"同期ストレージの設定データを削除しますか？"},menu_setting_standard_storage_sync_delete_alert:{message:"削除の結果"},menu_setting_standard_storage_sync_delete_alert_success:{message:"削除が完了しました。"},menu_setting_standard_storage_sync_delete_alert_failure:{message:"削除に失敗しました。"},menu_setting_standard_reset:{message:"設定の初期化"},menu_setting_standard_reset_button:{message:"すべての設定を削除して初期状態に戻す"},menu_setting_standard_reset_dialog:{message:"設定の初期化"},menu_setting_standard_reset_dialog_explanation:{message:"設定の初期化について"},menu_setting_standard_reset_dialog_explanation_0:{message:"すべての設定をデフォルトの状態に戻します。"},menu_setting_standard_reset_dialog_explanation_1:{message:"設定の初期化を行うと現在の設定は全て失われます。"},menu_setting_standard_reset_dialog_confirm:{message:"設定の初期化を実行しますか？"},menu_setting_standard_reset_alert:{message:"設定の初期化の結果"},menu_setting_standard_reset_alert_success:{message:"設定の初期化が完了しました。"},menu_setting_standard_reset_alert_failure:{message:"設定の初期化に失敗しました。"},menu_setting_download:{message:"ダウンロード設定"},menu_setting_download_load:{message:"ロード設定（XHR通信）"},menu_setting_download_load_thread_max:{message:"最大同時ロード数"},menu_setting_download_load_timeout:{message:"タイムアウト（ミリ秒）"},menu_setting_download_load_timeout_hint:{message:"タイムアウトエラーと判定する時間をミリ秒で指定。0 で無制限。"},menu_setting_download_load_cache_for_media:{message:"キャッシュモード（メディア用）"},menu_setting_download_load_cache_for_media_hint:{message:"通常は変更の必要はありません。fetch API を経由し、かつメディア系の読み込み時に作用します。"},menu_setting_expand_image_load_cache_for_media_combo_box_item_default:{message:"デフォルトの最適な動作"},menu_setting_expand_image_load_cache_for_media_combo_box_item_no_store:{message:"キャッシュを使用せず、必ずリクエストする"},menu_setting_expand_image_load_cache_for_media_combo_box_item_force_cache:{message:"キャッシュが残ってる限り、二度とリクエストしない（一生古いデータのまま）"},menu_setting_download_download:{message:"ダウンロード設定"},menu_setting_download_download_thread_max:{message:"最大同時ダウンロード数"},menu_setting_download_download_save_file:{message:"保存先の設定"},menu_setting_download_download_save_file_combo_box_item_simple:{message:"簡易設定"},menu_setting_download_download_save_file_combo_box_item_detail:{message:"詳細設定"},menu_setting_download_download_save_file_simple:{message:"保存先を選択"},menu_setting_download_download_save_file_detail:{message:"保存先を編集"},menu_setting_download_download_save_file_variable:{message:"変数一覧"},menu_setting_download_download_conflict_type:{message:"ファイル名衝突時の処理"},menu_setting_download_download_conflict_type_combo_box_item_rename:{message:"別名にリネーム"},menu_setting_download_download_conflict_type_combo_box_item_overwrite:{message:"同名で上書き"},menu_setting_download_batch_download:{message:"一括ダウンロード設定"},menu_setting_expand_bbs:{message:"掲示板拡張設定"},menu_setting_expand_bbs_list:{message:"掲示板拡張設定一覧"},menu_setting_expand_bbs_list_hint:{message:"リストを選択すると下部のコントロールの入力が可能です。上から順番に動作条件スクリプトを実行し、許可があればその設定が使用されます。複数選択可。複数選択時は同時編集。灰色はプリセット設定。プリセット設定は削除不可（無効化は可能）。"},menu_setting_expand_bbs_button_add:{message:"追加"},menu_setting_expand_bbs_button_delete:{message:"削除"},menu_setting_expand_bbs_button_prio_up:{message:"優先度を上げる"},menu_setting_expand_bbs_button_prio_down:{message:"優先度を下げる"},menu_setting_expand_bbs_button_export:{message:"エクスポート"},menu_setting_expand_bbs_button_import:{message:"インポート"},menu_setting_expand_bbs_add_dialog:{message:"掲示板拡張設定の新規作成"},menu_setting_expand_bbs_add_dialog_name:{message:"名前"},menu_setting_expand_bbs_add_dialog_copy_define:{message:"既存の設定から複製"},menu_setting_expand_bbs_add_dialog_define_list_box_item_new:{message:"複製せずに新規作成する"},menu_setting_expand_bbs_export_dialog:{message:"掲示板拡張設定のエクスポート"},menu_setting_expand_bbs_export_dialog_export:{message:"エクスポート"},menu_setting_expand_bbs_export_dialog_export_hint:{message:"テキストエリアの値をコピーして下さい。"},menu_setting_expand_bbs_import_dialog:{message:"掲示板拡張設定のインポート"},menu_setting_expand_bbs_import_dialog_explanation:{message:"インポートについて"},menu_setting_expand_bbs_import_dialog_explanation_0:{message:"プリセット設定は上書き、ユーザー設定は新規追加されます。"},menu_setting_expand_bbs_import_dialog_explanation_1:{message:"インポートを行う前に、基本設定のエクスポート機能でバックアップを取ることをお勧めします。"},menu_setting_expand_bbs_import_dialog_explanation_2:{message:"信頼の無い人物が作成した設定データを、絶対にインポートしないで下さい。悪意のあるスクリプトが含まれる恐れがあります。"},menu_setting_expand_bbs_import_dialog_import:{message:"インポート"},menu_setting_expand_bbs_import_dialog_import_hint:{message:"エクスポートから出力したテキストをペーストして下さい。"},menu_setting_expand_bbs_import_dialog_confirm:{message:"インポートを実行しますか？"},menu_setting_expand_bbs_import_alert:{message:"インポートの結果"},menu_setting_expand_bbs_import_alert_success:{message:"インポートが完了しました。"},menu_setting_expand_bbs_import_alert_failure:{message:"インポートに失敗しました。"},menu_setting_expand_bbs_name:{message:"名前"},menu_setting_expand_bbs_check_box_container:{message:"有効 / 無効"},menu_setting_expand_bbs_enable_setting:{message:"この設定を使用する"},menu_setting_expand_bbs_filter_url:{message:"動作URLの設定"},menu_setting_expand_bbs_popup_check_box_container:{message:"ポップアップの設定"},menu_setting_expand_bbs_popup_enable_animation:{message:"ポップアップ時のアニメーション動作を有効"},menu_setting_expand_bbs_popup_origin_type:{message:"ポップアップの配置基点"},menu_setting_expand_bbs_popup_origin_type_combo_box_item_adsorb_top_bottom:{message:"上下に吸着"},menu_setting_expand_bbs_popup_origin_type_combo_box_item_adsorb_left_right:{message:"左右に吸着"},menu_setting_expand_bbs_popup_position_type:{message:"ポップアップの配置位置"},menu_setting_expand_bbs_popup_position_type_combo_box_item_absolute:{message:"絶対座標系に配置"},menu_setting_expand_bbs_popup_position_type_combo_box_item_fixed:{message:"クライアント座標系に配置"},menu_setting_expand_bbs_popup_percent:{message:"ポップアップサイズ"},menu_setting_expand_bbs_popup_percent_h:{message:"横方向パーセント (0～100)"},menu_setting_expand_bbs_popup_percent_v:{message:"縦方向パーセント (0～100)"},menu_setting_expand_bbs_popup_time:{message:"ポップアップ時間"},menu_setting_expand_bbs_popup_time_wait_open:{message:"開くまでに待機する時間（ミリ秒）"},menu_setting_expand_bbs_popup_time_wait_close:{message:"閉じるまでに待機する時間（ミリ秒）"},menu_setting_expand_bbs_popup_style_sheet:{message:"ポップアップのスタイル"},menu_setting_expand_bbs_script_initialize:{message:"初期化スクリプト"},menu_setting_expand_bbs_script_callback:{message:"コールバックスクリプト"},menu_setting_urlmap:{message:"URLマッピング設定"},menu_setting_urlmap_list:{message:"URLマッピング設定一覧"},menu_setting_urlmap_list_hint:{message:"リストを選択すると下部のコントロールの入力が可能です。上から順番にURLの比較を行いマッチすればその設定が使用されます。複数選択可。複数選択時は同時編集。灰色はプリセット設定。プリセット設定は削除不可（無効化は可能）。"},menu_setting_urlmap_button_add:{message:"追加"},menu_setting_urlmap_button_delete:{message:"削除"},menu_setting_urlmap_button_prio_up:{message:"優先度を上げる"},menu_setting_urlmap_button_prio_down:{message:"優先度を下げる"},menu_setting_urlmap_add_dialog:{message:"URLマッピング設定の新規作成"},menu_setting_urlmap_add_dialog_name:{message:"名前"},menu_setting_urlmap_add_dialog_copy_define:{message:"既存の設定から複製"},menu_setting_urlmap_add_dialog_define_list_box_item_new:{message:"複製せずに新規作成する"},menu_setting_urlmap_name:{message:"名前"},menu_setting_urlmap_check_box_container:{message:"有効 / 無効"},menu_setting_urlmap_enable_setting:{message:"この設定を使用する"},menu_setting_urlmap_filter_url:{message:"動作URLの設定"},menu_setting_urlmap_mixed_passive_content_container:{message:"Mixed Passive Content のセキュリティ"},menu_setting_urlmap_mixed_passive_content_unsafe:{message:"http:// のままリクエスト"},menu_setting_urlmap_mixed_passive_content_safe:{message:"https:// に変換してリクエスト（失敗なら表示しない）"},menu_setting_urlmap_mixed_passive_content_hint:{message:"画像や動画などのコンテンツが赤枠付きで表示されている場合、暗号化されておらず、信頼性が低く、中間者攻撃で改ざん可能であることを意味します。"},menu_setting_urlmap_mixed_active_content_container:{message:"Mixed Active Content のセキュリティ"},menu_setting_urlmap_mixed_active_content_unsafe:{message:"http:// のままリクエスト"},menu_setting_urlmap_mixed_active_content_safe:{message:"https:// に変換してリクエスト（失敗なら表示しない）"},menu_setting_urlmap_mixed_active_content_hint:{message:"ブラウザはデフォルトで混在アクティブコンテンツをブロックします。実際に表示するには、サイトの権限の設定から「安全ではないコンテンツ」のブロックを解除する必要があります（危険）"},menu_setting_urlmap_define_button_edit:{message:"編集"},menu_setting_urlmap_define_button_add:{message:"追加"},menu_setting_urlmap_define_button_remove:{message:"除外"},menu_setting_urlmap_define_button_prio_up:{message:"上へ"},menu_setting_urlmap_define_button_prio_down:{message:"下へ"},menu_setting_urlmap_define_combo_box_item_no_use:{message:"定義を使用しない"},menu_setting_define_multi_select_add_dialog:{message:"定義の追加"},menu_setting_define_multi_select_add_dialog_list:{message:"追加する定義を選択"},menu_setting_access_block:{message:"アクセス遮断定義"},menu_setting_access_block_filter_url:{message:"アクセス遮断URLを設定"},menu_setting_replacement_to_element:{message:"エレメント置換定義"},menu_setting_replacement_to_element_script:{message:"コールバックスクリプト"},menu_setting_replacement_to_text:{message:"テキスト置換定義"},menu_setting_replacement_to_text_script:{message:"コールバックスクリプト"},menu_setting_replacement_to_anchor:{message:"アンカー置換定義"},menu_setting_replacement_to_anchor_script:{message:"コールバックスクリプト"},menu_setting_replacement_to_link:{message:"ハイパーリンク置換定義"},menu_setting_replacement_to_link_filter_list:{message:"フィルタ一覧"},menu_setting_replacement_to_link_filter_name:{message:"フィルタ名"},menu_setting_replacement_to_link_filter:{message:"フィルタ設定"},menu_setting_replacement_to_link_filter_filter_url:{message:"動作リンク先URLの設定"},menu_setting_replacement_to_link_check_box_container:{message:"ハイパーリンク置換の設定"},menu_setting_replacement_to_link_enable_reflect_to_anchor:{message:"リンクの変更をアンカーに反映する"},menu_setting_replacement_to_link_enable_cache:{message:"コールバックスクリプトの実行結果をキャッシュする"},menu_setting_replacement_to_link_filter_script:{message:"コールバックスクリプト"},menu_setting_replacement_to_referer:{message:"リファラ置換定義"},menu_setting_replacement_to_referer_filter_list:{message:"フィルタ一覧"},menu_setting_replacement_to_referer_filter_name:{message:"フィルタ名"},menu_setting_replacement_to_referer_filter:{message:"フィルタ設定"},menu_setting_replacement_to_referer_filter_filter_url:{message:"動作リンク先URLの設定"},menu_setting_replacement_to_referer_filter_send_type:{message:"基本リファラ"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item:{message:"基本リファラ値"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item_default:{message:"改変しない"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item_current_url:{message:"現在のURL"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item_link_url:{message:"リンク先のURL"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item_custom:{message:"カスタム文字列"},menu_setting_replacement_to_referer_filter_send_custom:{message:"カスタム文字列"},menu_setting_replacement_to_referer_filter_send_regexp:{message:"基本リファラを正規表現で置換"},menu_setting_replacement_to_referer_filter_send_regexp_match:{message:"マッチ条件"},menu_setting_replacement_to_referer_filter_send_regexp_replacement:{message:"置換後の文字列"},menu_setting_replacement_to_referer_filter_send_regexp_replacement_hint:{message:"$0…マッチした全体文字列。$1～$9…マッチした部分文字列。$$…ドルのエスケープシーケンス"},menu_setting_replacement_to_useragent:{message:"ユーザーエージェント置換定義"},menu_setting_replacement_to_useragent_filter_list:{message:"フィルタ一覧"},menu_setting_replacement_to_useragent_filter_name:{message:"フィルタ名"},menu_setting_replacement_to_useragent_filter:{message:"フィルタ設定"},menu_setting_replacement_to_useragent_filter_filter_url:{message:"動作リンク先URLの設定"},menu_setting_replacement_to_useragent_filter_send:{message:"基本ユーザーエージェント"},menu_setting_replacement_to_useragent_filter_send_custom:{message:"カスタム文字列"},menu_setting_make_link_to_text:{message:"ハイパーリンク化定義"},menu_setting_make_link_to_text_script:{message:"コールバックスクリプト"},menu_setting_expand_short_url:{message:"短縮URL展開定義"},menu_setting_expand_short_url_filter_url:{message:"対象URLを設定"},menu_setting_expand_text:{message:"テキスト展開定義"},menu_setting_expand_text_inline:{message:"インライン表示の設定"},menu_setting_expand_text_inline_check_box_container:{message:"インライン表示の設定"},menu_setting_expand_text_inline_disable_same_text:{message:"同じURLは展開しない"},menu_setting_expand_text_inline_script_allow:{message:"リンクからインライン表示する条件"},menu_setting_expand_text_inline_script_insert:{message:"テキストの挿入位置"},menu_setting_expand_image:{message:"イメージ展開定義"},menu_setting_expand_image_thumbnail:{message:"サムネイル表示設定"},menu_setting_expand_image_thumbnail_enable_check_box_container:{message:"有効 / 無効"},menu_setting_expand_image_thumbnail_enable_thumbnail:{message:"サムネイルを表示する"},menu_setting_expand_image_thumbnail_check_box_container:{message:"サムネイル表示設定"},menu_setting_expand_image_thumbnail_enable_popup_mouseover:{message:"サムネイルにマウスオーバーするとポップアップ表示"},menu_setting_expand_image_thumbnail_disable_same_thumbnail_image:{message:"同じイメージがすでに配置されている場合サムネイルを表示しない"},menu_setting_expand_image_thumbnail_size:{message:"サムネイルの表示サイズ"},menu_setting_expand_image_thumbnail_size_min:{message:"最小許容限界（ピクセル値）"},menu_setting_expand_image_thumbnail_size_scale:{message:"基本拡大率（パーセント）"},menu_setting_expand_image_thumbnail_size_max:{message:"最大許容限界（ピクセル値）"},menu_setting_expand_image_thumbnail_script_allow:{message:"リンクからサムネイル化する条件"},menu_setting_expand_image_thumbnail_script_insert:{message:"サムネイルの挿入位置"},menu_setting_expand_image_popup:{message:"ポップアップ表示設定"},menu_setting_expand_image_popup_enable_check_box_container:{message:"有効 / 無効"},menu_setting_expand_image_popup_enable_popup_mouseover:{message:"アンカーをマウスオーバーするとポップアップ表示"},menu_setting_expand_image_popup_check_box_container:{message:"アニメーション設定"},menu_setting_expand_image_popup_enable_animation_scale:{message:"拡大縮小フェードを有効"},menu_setting_expand_image_popup_enable_animation_alpha:{message:"半透明フェードを有効"},menu_setting_expand_image_popup_origin_type:{message:"ポップアップイメージの配置基点"},menu_setting_expand_image_popup_origin_type_combo_box_item_center:{message:"中心を基点"},menu_setting_expand_image_popup_origin_type_combo_box_item_upper_left:{message:"左上を基点"},menu_setting_expand_image_popup_origin_type_combo_box_item_upper_right:{message:"右上を基点"},menu_setting_expand_image_popup_origin_type_combo_box_item_client_center:{message:"クライアント中央"},menu_setting_expand_image_popup_origin_type_combo_box_item_adsorb_element:{message:"エレメントに吸着"},menu_setting_expand_image_popup_origin_type_combo_box_item_adsorb_mouse:{message:"マウスカーソルに吸着"},menu_setting_expand_image_popup_time:{message:"ポップアップ時間"},menu_setting_expand_image_popup_time_wait_open:{message:"開くまでに待機する時間（ミリ秒）"},menu_setting_expand_image_popup_time_wait_close:{message:"閉じるまでに待機する時間（ミリ秒）"},menu_setting_expand_image_popup_position_type:{message:"ポップアップイメージの配置位置"},menu_setting_expand_image_popup_position_type_combo_box_item_absolute:{message:"絶対座標系に配置"},menu_setting_expand_image_popup_position_type_combo_box_item_fixed:{message:"クライアント座標系に配置"},menu_setting_expand_image_popup_size:{message:"ポップアップイメージの表示サイズ"},menu_setting_expand_image_popup_size_scale:{message:"拡大率（パーセント）"},menu_setting_expand_image_popup_script_allow:{message:"リンクからポップアップ表示する条件"},menu_setting_expand_image_reduced_image:{message:"縮小イメージ設定"},menu_setting_expand_image_reduced_image_check_box_container:{message:"有効 / 無効"},menu_setting_expand_image_popup_enable_popup:{message:"縮小されたイメージをマウスオーバーするとポップアップ表示"},menu_setting_expand_image_reduced_image_allow_slcale_less_then:{message:"縮小イメージのポップアップ条件"},menu_setting_expand_image_reduced_image_allow_slcale_less_then_text:{message:"以下の拡大率の場合"},menu_setting_expand_image_load:{message:"イメージのロード設定"},menu_setting_expand_image_load_check_box_container:{message:"イメージのロード設定"},menu_setting_expand_image_load_enable_notify:{message:"ロード進捗を表示"},menu_setting_expand_image_load_start_type:{message:"イメージのロード設定"},menu_setting_expand_image_load_start_type_preload:{message:"すべて事前に読み込む"},menu_setting_expand_image_load_start_type_scroll:{message:"スクロールと連動して読み込む"},menu_setting_expand_image_load_src_type:{message:"イメージのソースタイプ"},menu_setting_expand_image_load_src_type_combo_box_item_url:{message:"URL 形式 (混在コンテンツを除く)"},menu_setting_expand_image_load_src_type_combo_box_item_blob_url:{message:"Blob URL に変換（すべて）"},menu_setting_expand_image_load_decode:{message:"イメージのデコード設定"},menu_setting_expand_image_load_decode_combo_box_item_auto:{message:"表示される瞬間から開始"},menu_setting_expand_image_load_decode_combo_box_item_pre_decode:{message:"すべて事前にデコードする"},menu_setting_expand_image_load_unload_check_box_container:{message:"イメージのアンロード設定"},menu_setting_expand_image_load_enable_unload:{message:"イメージのアンロードを有効"},menu_setting_expand_image_load_unload:{message:"イメージのアンロード条件"},menu_setting_expand_image_load_allow_unload_more_then_text:{message:"MByte以上ロードした場合、古いイメージを解放する"},menu_setting_expand_sound:{message:"サウンド展開定義"},menu_setting_expand_sound_inline:{message:"インライン表示の設定"},menu_setting_expand_sound_inline_check_box_container:{message:"インライン表示の設定"},menu_setting_expand_sound_inline_disable_same_text:{message:"同じURLは展開しない"},menu_setting_expand_sound_inline_sound_max:{message:"最大同時表示数"},menu_setting_expand_sound_inline_script_allow:{message:"リンクからインライン表示する条件"},menu_setting_expand_sound_inline_script_insert:{message:"オーディオの挿入位置"},menu_setting_expand_sound_inline_element:{message:"HTMLAudioElement の設定"},menu_setting_expand_sound_inline_element_script_allow:{message:"HTMLAudioElement を表示する条件"},menu_setting_expand_sound_inline_element_src_type:{message:"ソースタイプ"},menu_setting_expand_sound_inline_element_src_type_combo_box_item_url:{message:"URL 形式 (ストリーミング再生)"},menu_setting_expand_sound_inline_element_src_type_combo_box_item_blob_url:{message:"Blob URL に変換（すべて読み込む）"},menu_setting_expand_sound_inline_soundcloud:{message:"soundcloud.com の設定"},menu_setting_expand_sound_inline_soundcloud_check_box_container:{message:"soundcloud.com の設定"},menu_setting_expand_sound_inline_soundcloud_visible_player_html5:{message:"HTML5 版のプレイヤーを表示"},menu_setting_expand_sound_inline_mixcloud:{message:"www.mixcloud.com の設定"},menu_setting_expand_sound_inline_mixcloud_check_box_container:{message:"www.mixcloud.com の設定"},menu_setting_expand_sound_inline_mixcloud_visible_player:{message:"プレイヤーを表示"},menu_setting_expand_video:{message:"ビデオ展開定義"},menu_setting_expand_video_inline:{message:"インライン表示の設定"},menu_setting_expand_video_inline_check_box_container:{message:"インライン表示の設定"},menu_setting_expand_video_inline_disable_same_video:{message:"同じURLは展開しない"},menu_setting_expand_video_inline_video_max:{message:"最大同時表示数"},menu_setting_expand_video_inline_size:{message:"ビデオの表示サイズ"},menu_setting_expand_video_inline_width_max:{message:"幅の最大許容限界（ピクセル値）"},menu_setting_expand_video_inline_height_max:{message:"高さの最大許容限界（ピクセル値）"},menu_setting_expand_video_inline_script_allow:{message:"リンクからインライン表示する条件"},menu_setting_expand_video_inline_script_insert:{message:"エレメントの挿入位置"},menu_setting_expand_video_inline_element:{message:"HTMLVideoElement の設定"},menu_setting_expand_video_inline_element_script_allow:{message:"HTMLVideoElement を表示する条件"},menu_setting_expand_video_inline_element_src_type:{message:"ソースタイプ"},menu_setting_expand_video_inline_element_src_type_combo_box_item_url:{message:"URL 形式 (ストリーミング再生)"},menu_setting_expand_video_inline_element_src_type_combo_box_item_blob_url:{message:"Blob URL に変換（すべて読み込む）"},menu_setting_expand_video_inline_youtube:{message:"www.youtube.com の設定"},menu_setting_expand_video_inline_youtube_check_box_container:{message:"www.youtube.com の設定"},menu_setting_expand_video_inline_youtube_visible_video:{message:"ビデオを表示"},menu_setting_expand_video_inline_nicovideo:{message:"www.nicovideo.jp の設定"},menu_setting_expand_video_inline_nicovideo_check_box_container:{message:"www.nicovideo.jp の設定"},menu_setting_expand_video_inline_nicovideo_visible_video:{message:"ビデオを表示"},menu_setting_expand_video_inline_dailymotion:{message:"www.dailymotion.com の設定"},menu_setting_expand_video_inline_dailymotion_check_box_container:{message:"www.dailymotion.com の設定"},menu_setting_expand_video_inline_dailymotion_visible_video:{message:"ビデオを表示"},menu_setting_expand_video_inline_video:{message:"vimeo.com の設定"},menu_setting_expand_video_inline_video_check_box_container:{message:"vimeo.com の設定"},menu_setting_expand_video_inline_video_visible_video:{message:"ビデオを表示"},menu_setting_expand_iframe:{message:"インラインフレーム展開定義"},menu_setting_expand_iframe_inline:{message:"インライン表示の設定"},menu_setting_expand_iframe_inline_check_box_container:{message:"インライン表示の設定"},menu_setting_expand_iframe_inline_disable_same_iframe:{message:"同じURLは展開しない"},menu_setting_expand_iframe_inline_script_allow:{message:"リンクからインライン表示する条件"},menu_setting_expand_iframe_inline_script_insert:{message:"HTMLIFrameElement の挿入位置"},menu_setting_style_sheet:{message:"スタイルシート定義"},menu_setting_style_sheet_expand_text:{message:"テキスト展開のスタイル"},menu_setting_style_sheet_expand_text_element:{message:"HTMLTextAreaElement の設定"},menu_setting_style_sheet_expand_text_element_inline:{message:"テキストのインライン表示"},menu_setting_style_sheet_expand_text_element_inline_unsafe:{message:"テキストのインライン表示（混在コンテンツ）"},menu_setting_style_sheet_expand_image:{message:"イメージ展開のスタイル"},menu_setting_style_sheet_expand_image_element:{message:"HTMImageElement の設定"},menu_setting_style_sheet_expand_image_element_inline:{message:"イメージのサムネイル表示"},menu_setting_style_sheet_expand_image_element_inline_unsafe:{message:"イメージのサムネイル表示（混在コンテンツ）"},menu_setting_style_sheet_expand_image_element_popup:{message:"イメージのポップアップ表示"},menu_setting_style_sheet_expand_image_element_popup_unsafe:{message:"イメージのポップアップ表示（混在コンテンツ）"},menu_setting_style_sheet_expand_sound:{message:"サウンド展開のスタイル"},menu_setting_style_sheet_expand_sound_element:{message:"HTMLAudioElement の設定"},menu_setting_style_sheet_expand_sound_element_inline_audio:{message:"オーディオのインライン表示"},menu_setting_style_sheet_expand_sound_element_inline_audio_unsafe:{message:"オーディオのインライン表示（混在コンテンツ）"},menu_setting_style_sheet_expand_sound_soundcloud:{message:"soundcloud.com の設定"},menu_setting_style_sheet_expand_sound_soundcloud_inline_player_html5:{message:"HTML5 版プレイヤーのインライン表示"},menu_setting_style_sheet_expand_sound_mixcloud:{message:"www.mixcloud.com の設定"},menu_setting_style_sheet_expand_sound_mixcloud_inline_player:{message:"プレイヤーのインライン表示"},menu_setting_style_sheet_expand_video:{message:"ビデオ展開のスタイル"},menu_setting_style_sheet_expand_video_element:{message:"HTMLVideoElement の設定"},menu_setting_style_sheet_expand_video_element_inline_video:{message:"ビデオのインライン表示"},menu_setting_style_sheet_expand_video_element_inline_video_unsafe:{message:"ビデオのインライン表示（混在コンテンツ）"},menu_setting_style_sheet_expand_video_youtube:{message:"www.youtube.com の設定"},menu_setting_style_sheet_expand_video_youtube_inline_video:{message:"ビデオのインライン表示"},menu_setting_style_sheet_expand_video_nicovideo:{message:"www.nicovideo.jp の設定"},menu_setting_style_sheet_expand_video_nicovideo_inline_video:{message:"ビデオのインライン表示"},menu_setting_style_sheet_expand_video_dailymotion:{message:"www.dailymotion.com の設定"},menu_setting_style_sheet_expand_video_dailymotion_inline_video:{message:"ビデオのインライン表示"},menu_setting_style_sheet_expand_video_vimeo:{message:"vimeo.com の設定"},menu_setting_style_sheet_expand_video_vimeo_inline_video:{message:"ビデオのインライン表示"},menu_setting_style_sheet_expand_iframe:{message:"インラインフレーム展開のスタイル"},menu_setting_style_sheet_expand_iframe_element:{message:"HTMLIFrameElement の設定"},menu_setting_style_sheet_expand_iframe_element_inline:{message:"インラインフレームのインライン表示"},menu_setting_style_sheet_expand_iframe_element_inline_unsafe:{message:"インラインフレームのインライン表示（混在コンテンツ）"},menu_setting_experimental:{message:"試験運用機能の定義"},menu_setting_experimental_revise_scroll:{message:"スクロール補正機能"},menu_setting_experimental_revise_scroll_check_box_container:{message:"スクロール補正の設定"},menu_setting_experimental_revise_scroll_enable:{message:"有効"},menu_setting_experimental_revise_scroll_threshold_vertical:{message:"補正対象とする縦方向のしきい値（ 0 [画面上端] ～ 100 [画面下端] ）"},menu_setting_language:{message:"LANGUAGE (言語設定)"},menu_credit:{message:"クレジット"},menu_credit_info_version:{message:"バージョン情報"},menu_credit_info_copyright:{message:"製作"},menu_credit_info_translator:{message:"翻訳者"},menu_setting_define_list:{message:"定義一覧"},menu_setting_define_list_hint:{message:"リストを選択すると下部のコントロールの入力が可能です。複数選択可。複数選択時は同時編集。灰色はプリセット設定。プリセット設定は削除不可。"},menu_setting_define_button_add:{message:"追加"},menu_setting_define_button_delete:{message:"削除"},menu_setting_define_button_move_up:{message:"上に移動"},menu_setting_define_button_move_down:{message:"下に移動"},menu_setting_define_button_export:{message:"エクスポート"},menu_setting_define_button_import:{message:"インポート"},menu_setting_define_add_dialog:{message:"定義の新規作成"},menu_setting_define_add_dialog_name:{message:"名前"},menu_setting_define_add_dialog_copy_define:{message:"既存の定義から複製"},menu_setting_define_add_dialog_define_list_box_item_new:{message:"複製せずに新規作成する"},menu_setting_define_delete_dialog:{message:"定義の削除"},menu_setting_define_delete_dialog_name:{message:"削除する定義名"},menu_setting_define_delete_dialog_change_define:{message:"定義の代替選択"},menu_setting_define_delete_dialog_define_list_box_item_no_use:{message:"定義を使用しない"},menu_setting_define_name:{message:"定義名"},menu_setting_define_export_dialog:{message:"定義のエクスポート"},menu_setting_define_export_dialog_export:{message:"エクスポート"},menu_setting_define_export_dialog_export_hint:{message:"テキストエリアの値をコピーして下さい。"},menu_setting_define_import_dialog:{message:"定義のインポート"},menu_setting_define_import_dialog_explanation:{message:"インポートについて"},menu_setting_define_import_dialog_explanation_0:{message:"プリセット設定は上書き、ユーザー設定は新規追加されます。"},menu_setting_define_import_dialog_explanation_1:{message:"インポートを行う前に、基本設定のエクスポート機能でバックアップを取ることをお勧めします。"},menu_setting_define_import_dialog_explanation_2:{message:"信頼の無い人物が作成した設定データを、絶対にインポートしないで下さい。悪意のあるスクリプトが含まれる恐れがあります。"},menu_setting_define_import_dialog_import:{message:"インポート"},menu_setting_define_import_dialog_import_hint:{message:"エクスポートから出力したテキストをペーストして下さい。"},menu_setting_define_import_dialog_confirm:{message:"インポートを実行しますか？"},menu_setting_define_import_alert:{message:"インポートの結果"},menu_setting_define_import_alert_success:{message:"インポートが完了しました。"},menu_setting_define_import_alert_failure:{message:"インポートに失敗しました。"},menu_setting_define_wildcard_detail:{message:"ワイルドカードについて"},menu_setting_define_wildcard_detail_0:{message:"ワイルドカードは、最後に必ず実行されます。"},menu_setting_define_wildcard_detail_1:{message:"ワイルドカードは、ブラウザのすべての通信に影響します。"},menu_setting_define_wildcard_detail_2:{message:"ワイルドカードは、定義ではありません。「URL マッピング設定」にて使用する事はできません。"},menu_setting_filter_list:{message:"フィルタ一覧"},menu_setting_filter_list_hint:{message:"リストを選択すると下部のコントロールの入力が可能です。上から順番にURLの比較を行いマッチすればその設定が使用されます。"},menu_setting_filter_button_add:{message:"追加"},menu_setting_filter_button_delete:{message:"削除"},menu_setting_filter_button_prio_up:{message:"優先度を上げる"},menu_setting_filter_button_prio_down:{message:"優先度を下げる"},menu_setting_filter_button_export:{message:"エクスポート"},menu_setting_filter_button_import:{message:"インポート"},menu_setting_filter_add_dialog:{message:"フィルタの新規作成"},menu_setting_filter_add_dialog_name:{message:"名前"},menu_setting_filter_add_dialog_copy_define:{message:"既存の設定から複製"},menu_setting_filter_add_dialog_define_list_box_item_new:{message:"複製せずに新規作成する"},menu_setting_filter_export_dialog:{message:"フィルタのエクスポート"},menu_setting_filter_export_dialog_export:{message:"エクスポート"},menu_setting_filter_export_dialog_export_hint:{message:"テキストエリアの値をコピーして下さい。"},menu_setting_filter_import_dialog:{message:"フィルタのインポート"},menu_setting_filter_import_dialog_explanation:{message:"インポートについて"},menu_setting_filter_import_dialog_explanation_0:{message:"インポートした内容は、リストの最後に追加されます。"},menu_setting_filter_import_dialog_explanation_1:{message:"インポートを行う前に、基本設定のエクスポート機能でバックアップを取ることをお勧めします。"},menu_setting_filter_import_dialog_explanation_2:{message:"信頼の無い人物が作成した設定データを、絶対にインポートしないで下さい。悪意のあるスクリプトが含まれる恐れがあります。"},menu_setting_filter_import_dialog_import:{message:"インポート"},menu_setting_filter_import_dialog_import_hint:{message:"エクスポートから出力したテキストをペーストして下さい。"},menu_setting_filter_import_dialog_confirm:{message:"インポートを実行しますか？"},menu_setting_filter_import_alert:{message:"インポートの結果"},menu_setting_filter_import_alert_success:{message:"インポートが完了しました。"},menu_setting_filter_import_alert_failure:{message:"インポートに失敗しました。"},menu_button_ok:{message:"OK"},menu_button_yes:{message:"決定"},menu_button_no:{message:"キャンセル"},menu_script_obj_editer_edit_script:{message:"スクリプトを編集する"},menu_script_obj_editer_delete_script:{message:"スクリプトを削除する（デフォルトに戻す）"},menu_scriptarea_hint:{message:"配列に格納して匿名関数を記述します。信頼の無い人物が作成したスクリプトを、絶対に書き込まないで下さい。悪意のあるスクリプトが含まれる恐れがあります。"},menu_scriptarea_unsupport:{message:"ユーザースクリプトは現在動作しません😥（デフォルトのスクリプトが実行されます）"},menu_text_regexp_hint:{message:"正規表現文字列を記述。[オプション] g…繰り返し処理、i…小文字と大文字を区別しない"},menu_regexp_list_button_add:{message:"追加"},menu_regexp_list_button_delete:{message:"削除"},menu_regexp_list_button_move_up:{message:"上に移動"},menu_regexp_list_button_move_down:{message:"下に移動"},menu_setting_url_edit_container_combo_box_item_asterisk:{message:"アスタリスク形式で入力する"},menu_setting_url_edit_container_combo_box_item_regexp:{message:"正規表現形式で入力する"},menu_setting_url_edit_container_type_asterisk_hint:{message:"URL を記述します。アスタリスク使用可。複数行指定可。"},page_expand_popup_menu:{message:"PageExpand メニュー"},context_menu_pageexpand_config:{message:"PageExpand の設定"},context_menu_batch_download_image:{message:"一括ダウンロード（画像）"},context_menu_batch_download_user:{message:"一括ダウンロード（ユーザー）"},context_menu_pageexpand_open_bbs_board:{message:"掲示板ボードを開く"},context_menu_pageexpand_open_bbs_board_run_confirm:{message:"このページ内で掲示板ボードを実行しますか？"},context_menu_pageexpand_config_current_page:{message:"現在のページの設定を編集"},context_menu_pageexpand_config_current_bbs:{message:"現在の掲示板の設定を編集"},context_menu_pageexpand_config_current_page_confirm:{message:"PageExpand 設定は、規定のページ内でしか動作しません。\n（Web ページ側から悪意のあるスクリプトが注入されるのを防ぐためです）\n\n以下のページを開きますか？\n"},context_menu_pageexpand_config_auto_run_confirm:{message:"このページ内で PageExpand 設定を実行しますか？\n（もしこのページが汚染されている場合、悪意のあるスクリプトが注入されます）\n\n"},context_menu_pageexpand_start:{message:"PageExpand の開始"},context_menu_pageexpand_execute_fastest:{message:"PageExpand の最速実行"},context_menu_pageexpand_abort:{message:"PageExpand の中止"},context_menu_pageexpand_debug:{message:"PageExpand デバッグ"}},en:{extension_name:{message:"PageExpand"},extension_description:{message:"All Image Download. Image Zoom. Expand Thumbnail and Audio and Video. Expand the short URL. Generate a link from text. Override Referer. Extend BBS. etc..."},page_expand_config:{message:"PageExpand Setting"},menu_setting_standard:{message:"Standard Setting"},menu_setting_standard_filter_url:{message:"To limit the operation by URL"},menu_setting_standard_filter_url_combo_box_item_deny:{message:"Do not operate only at the specified address. (Otherwise it will all work.)"},menu_setting_standard_filter_url_combo_box_item_allow:{message:"Work only at the specified address. (Otherwise, all does not work.)"},menu_setting_standard_filter_url_hint:{message:"Describes the URL. Can be used an asterisk. Can be specified multi line."},menu_setting_standard_check_box_container:{message:"Standard Setting"},menu_setting_standard_enable_icon_address_bar:{message:"Displays an icon in the address bar."},menu_setting_standard_enable_context_menu:{message:"Display the context menu."},menu_setting_standard_enable_startup:{message:"Operation starts from when the load is finished."},menu_setting_standard_enable_debug_mode:{message:"Running in debug mode."},menu_setting_standard_enable_output_log:{message:"Output the log to the console.(debug)"},menu_setting_standard_execute_queue:{message:"ExecuteQueue Setting (Normally, you do not need to change.)"},menu_setting_standard_execute_queue_time_sleep:{message:"Sleep time (Millisecond)"},menu_setting_standard_execute_queue_time_occupancy:{message:"Maximum CPU occupancy time (Millisecond)"},menu_setting_standard_execute_queue_hint:{message:"When maximum CPU occupancy time is large, Response operation is worse,The script will run faster. If the sleep time is small,CPU utilization is higher,The script will run faster."},menu_setting_standard_touch:{message:"Touch Operation Setting"},menu_setting_standard_enable_input_touch:{message:"Enable touch operation."},menu_setting_standard_enable_double_touch_assist:{message:"Display the double touch assist."},menu_setting_standard_command:{message:"Execute Menu (for mobile)"},menu_setting_standard_command_execute_button:{message:"Execute"},menu_setting_standard_command_execute_dialog:{message:"Execute Menu"},menu_setting_standard_command_execute_dialog_tab_list:{message:"select the tab"},menu_setting_standard_command_execute_dialog_command_list:{message:"select the command"},menu_setting_standard_command_execute_dialog_confirm:{message:"Do you want to execute?"},menu_setting_standard_export_import:{message:"Setting Export / Import"},menu_setting_standard_export_button:{message:"Export"},menu_setting_standard_import_button:{message:"Import"},menu_setting_standard_export_dialog:{message:"Setting Export"},menu_setting_standard_export_dialog_export:{message:"Export"},menu_setting_standard_export_dialog_export_hint:{message:"Please copy the text of TextArea."},menu_setting_standard_import_dialog:{message:"Setting Import"},menu_setting_standard_import_dialog_explanation:{message:"information about Import"},menu_setting_standard_import_dialog_explanation_0:{message:"All current settings will be lost."},menu_setting_standard_import_dialog_explanation_1:{message:"It is recommended that you take a backup on the export function."},menu_setting_standard_import_dialog_explanation_2:{message:"Please note so that it does not contain malicious code."},menu_setting_standard_import_dialog_import:{message:"Import"},menu_setting_standard_import_dialog_import_hint:{message:"Please paste the output text from Export."},menu_setting_standard_import_dialog_confirm:{message:"Do you want to Import?"},menu_setting_standard_import_alert:{message:"A result of the import"},menu_setting_standard_import_alert_success:{message:"Import has been completed."},menu_setting_standard_import_alert_failure:{message:"Failed to import."},menu_setting_standard_storage_sync:{message:"Sync Storage"},menu_setting_standard_storage_sync_load_button:{message:"Load"},menu_setting_standard_storage_sync_save_button:{message:"Save"},menu_setting_standard_storage_sync_delete_button:{message:"Delete"},menu_setting_standard_storage_sync_load_dialog:{message:"Load from the Sync Storage"},menu_setting_standard_storage_sync_load_dialog_explanation:{message:"information about Load from the Sync Storage"},menu_setting_standard_storage_sync_load_dialog_explanation_0:{message:"Load the data from the Sync Storage, apply to PageExpand Setting."},menu_setting_standard_storage_sync_load_dialog_explanation_1:{message:"All current settings will be lost."},menu_setting_standard_storage_sync_load_dialog_explanation_2:{message:"It is recommended that you take a backup on the export function."},menu_setting_standard_storage_sync_load_dialog_confirm:{message:"Do you want to Load from the Sync Storage?"},menu_setting_standard_storage_sync_load_alert:{message:"A result of the Load from the Sync Storage"},menu_setting_standard_storage_sync_load_alert_success:{message:"Load from the Sync Storage has been completed."},menu_setting_standard_storage_sync_load_alert_failure:{message:"Failed to the Load from the Sync Storage."},menu_setting_standard_storage_sync_save_dialog:{message:"Save to the Sync Storage"},menu_setting_standard_storage_sync_save_dialog_explanation:{message:"information about Save to the Sync Storage"},menu_setting_standard_storage_sync_save_dialog_explanation_0:{message:"Save the current settings to the Sync Storage."},menu_setting_standard_storage_sync_save_dialog_explanation_1:{message:"Need to enable the functionality of the sync of browser."},menu_setting_standard_storage_sync_save_dialog_explanation_2:{message:"There is a limit to the size. Fail if the size is too large."},menu_setting_standard_storage_sync_save_dialog_confirm:{message:"Do you want to Save to the Sync Storage?"},menu_setting_standard_storage_sync_save_alert:{message:"A result of the Save to the Sync Storage"},menu_setting_standard_storage_sync_save_alert_success:{message:"Save to the Sync Storage has been completed."},menu_setting_standard_storage_sync_save_alert_failure:{message:"Failed to the Save to the Sync Storage."},menu_setting_standard_storage_sync_delete_dialog:{message:"Delete from the Sync Storage"},menu_setting_standard_storage_sync_delete_dialog_explanation:{message:"information about Delete from the Sync Storage"},menu_setting_standard_storage_sync_delete_dialog_explanation_0:{message:"Delete the setting data stored in the Sync Storage."},menu_setting_standard_storage_sync_delete_dialog_confirm:{message:"Do you want to Delete from the Sync Storage?"},menu_setting_standard_storage_sync_delete_alert:{message:"A result of the Delete from the Sync Storage"},menu_setting_standard_storage_sync_delete_alert_success:{message:"Delete from the Sync Storage has been completed."},menu_setting_standard_storage_sync_delete_alert_failure:{message:"Failed to the Delete from the Sync Storage."},menu_setting_standard_reset:{message:"Initialization of setting"},menu_setting_standard_reset_button:{message:"Remove all the settings, Return to the initial state."},menu_setting_standard_reset_dialog:{message:"Initialization of setting"},menu_setting_standard_reset_dialog_explanation:{message:"information about Initialization"},menu_setting_standard_reset_dialog_explanation_0:{message:"Returns all settings to their default state."},menu_setting_standard_reset_dialog_explanation_1:{message:"All current settings will be lost."},menu_setting_standard_reset_dialog_confirm:{message:"Do you want to Initialization?"},menu_setting_standard_reset_alert:{message:"Initialization results"},menu_setting_standard_reset_alert_success:{message:"Configuration initialization has been completed."},menu_setting_standard_reset_alert_failure:{message:"Failed to initialize the configuration."},menu_setting_download:{message:"Download Setting"},menu_setting_download_load:{message:"Load Setting (XHR)"},menu_setting_download_load_thread_max:{message:"Maximum number of simultaneous loads"},menu_setting_download_load_timeout:{message:"Timeout (Millisecond)"},menu_setting_download_load_timeout_hint:{message:"If specify 0, timeout is no limit."},menu_setting_download_load_cache_for_media:{message:"Cache MODE (for Media)"},menu_setting_download_load_cache_for_media_hint:{message:'Normally, you do not need to change. Use "fetch API" and works when "loading media".'},menu_setting_expand_image_load_cache_for_media_combo_box_item_default:{message:"default (best)"},menu_setting_expand_image_load_cache_for_media_combo_box_item_no_store:{message:"don't use cache."},menu_setting_expand_image_load_cache_for_media_combo_box_item_force_cache:{message:"If cache exists, don't request. (forever old data)"},menu_setting_download_download:{message:"Download Setting"},menu_setting_download_download_thread_max:{message:"Maximum number of simultaneous downloads"},menu_setting_download_download_save_file:{message:"Save File Name"},menu_setting_download_download_save_file_combo_box_item_simple:{message:"simple"},menu_setting_download_download_save_file_combo_box_item_detail:{message:"detail"},menu_setting_download_download_save_file_simple:{message:"Select File Name"},menu_setting_download_download_save_file_detail:{message:"Edit File Name"},menu_setting_download_download_save_file_variable:{message:"Variable List"},menu_setting_download_download_conflict_type:{message:"File Name Conflict"},menu_setting_download_download_conflict_type_combo_box_item_rename:{message:"rename"},menu_setting_download_download_conflict_type_combo_box_item_overwrite:{message:"overwrite"},menu_setting_download_batch_download:{message:"Batch Download Setting"},menu_setting_expand_bbs:{message:"BBS Settng"},menu_setting_expand_bbs_list:{message:"List of BBS Setting"},menu_setting_expand_bbs_list_hint:{message:"When you select an item in the list, the lower control can be edited. Condition script will be executed in order from top to bottom. possible to select multiple. Can be edited by multiple selection. Gray is preset setting. Preset setting can not be deleted."},menu_setting_expand_bbs_button_add:{message:"add"},menu_setting_expand_bbs_button_delete:{message:"delete"},menu_setting_expand_bbs_button_prio_up:{message:"prio up"},menu_setting_expand_bbs_button_prio_down:{message:"prio down"},menu_setting_expand_bbs_button_export:{message:"export"},menu_setting_expand_bbs_button_import:{message:"import"},menu_setting_expand_bbs_add_dialog:{message:"Creating a new BBS Setting"},menu_setting_expand_bbs_add_dialog_name:{message:"Name"},menu_setting_expand_bbs_add_dialog_copy_define:{message:"Replicated from the existing setting."},menu_setting_expand_bbs_add_dialog_define_list_box_item_new:{message:"create a new"},menu_setting_expand_bbs_export_dialog:{message:"BBS Setting Export"},menu_setting_expand_bbs_export_dialog_export:{message:"Export"},menu_setting_expand_bbs_export_dialog_export_hint:{message:"Please copy the text of TextArea."},menu_setting_expand_bbs_import_dialog:{message:"BBS Setting Import"},menu_setting_expand_bbs_import_dialog_explanation:{message:"information about Import"},menu_setting_expand_bbs_import_dialog_explanation_0:{message:"Preset setting will be overwritten. User setting will be add new."},menu_setting_expand_bbs_import_dialog_explanation_1:{message:"It is recommended that you take a backup on the export function."},menu_setting_expand_bbs_import_dialog_explanation_2:{message:"Please note so that it does not contain malicious code."},menu_setting_expand_bbs_import_dialog_import:{message:"Import"},menu_setting_expand_bbs_import_dialog_import_hint:{message:"Please paste the output text from Export."},menu_setting_expand_bbs_import_dialog_confirm:{message:"Do you want to Import?"},menu_setting_expand_bbs_import_alert:{message:"A result of the import"},menu_setting_expand_bbs_import_alert_success:{message:"Import has been completed."},menu_setting_expand_bbs_import_alert_failure:{message:"Failed to import."},menu_setting_expand_bbs_name:{message:"Name"},menu_setting_expand_bbs_check_box_container:{message:"Enable / Disable"},menu_setting_expand_bbs_enable_setting:{message:"Use this setting."},menu_setting_expand_bbs_filter_url:{message:"URL to allow the operation"},menu_setting_expand_bbs_popup_check_box_container:{message:"Popup Setting"},menu_setting_expand_bbs_popup_enable_animation:{message:"Enable pop-up animation"},menu_setting_expand_bbs_popup_origin_type:{message:"Placement origin of the pop-up"},menu_setting_expand_bbs_popup_origin_type_combo_box_item_adsorb_top_bottom:{message:"adsorb top bottom"},menu_setting_expand_bbs_popup_origin_type_combo_box_item_adsorb_left_right:{message:"adsorb left right"},menu_setting_expand_bbs_popup_position_type:{message:"Arrangement position of the pop-up"},menu_setting_expand_bbs_popup_position_type_combo_box_item_absolute:{message:"absolute"},menu_setting_expand_bbs_popup_position_type_combo_box_item_fixed:{message:"fixed"},menu_setting_expand_bbs_popup_percent:{message:"Popup Size"},menu_setting_expand_bbs_popup_percent_h:{message:"Percent Horizontal (0-100)"},menu_setting_expand_bbs_popup_percent_v:{message:"Percent Vertical (0-100)"},menu_setting_expand_bbs_popup_time:{message:"Popup Time"},menu_setting_expand_bbs_popup_time_wait_open:{message:"The time to wait before open (Millisecond)"},menu_setting_expand_bbs_popup_time_wait_close:{message:"The time to wait before close (Millisecond)"},menu_setting_expand_bbs_popup_style_sheet:{message:"Stylesheet of Popup"},menu_setting_expand_bbs_script_initialize:{message:"Initialize Script"},menu_setting_expand_bbs_script_callback:{message:"Callback Script"},menu_setting_urlmap:{message:"URL Mapping Setting"},menu_setting_urlmap_list:{message:"List of URL Mapping Setting"},menu_setting_urlmap_list_hint:{message:"When you select an item in the list, the lower control can be edited. Will be compared with the order from above. possible to select multiple. Can be edited by multiple selection. Gray is preset setting. Preset setting can not be deleted."},menu_setting_urlmap_button_add:{message:"add"},menu_setting_urlmap_button_delete:{message:"delete"},menu_setting_urlmap_button_prio_up:{message:"prio up"},menu_setting_urlmap_button_prio_down:{message:"prio down"},menu_setting_urlmap_add_dialog:{message:"Creating a new URL Mapping"},menu_setting_urlmap_add_dialog_name:{message:"Name"},menu_setting_urlmap_add_dialog_copy_define:{message:"Replicated from the existing setting."},menu_setting_urlmap_add_dialog_define_list_box_item_new:{message:"create a new"},menu_setting_urlmap_name:{message:"Name"},menu_setting_urlmap_check_box_container:{message:"Enable / Disable"},menu_setting_urlmap_enable_setting:{message:"Use this setting."},menu_setting_urlmap_filter_url:{message:"URL to allow the operation"},menu_setting_urlmap_mixed_passive_content_container:{message:"Mixed Passive Content Security"},menu_setting_urlmap_mixed_passive_content_unsafe:{message:'"http://" as is'},menu_setting_urlmap_mixed_passive_content_safe:{message:'Convert to "https://" (Do not display if failed)'},menu_setting_urlmap_mixed_passive_content_hint:{message:"If content such as images and videos is displayed with a red border, It means that it is unencrypted, untrustworthy, and can be tampered with by man-in-the-middle attacks."},menu_setting_urlmap_mixed_active_content_container:{message:"Mixed Active Content Security"},menu_setting_urlmap_mixed_active_content_unsafe:{message:'"http://" as is'},menu_setting_urlmap_mixed_active_content_safe:{message:'Convert to "https://" (Do not display if failed)'},menu_setting_urlmap_mixed_active_content_hint:{message:'Browser is block "mixed active content" by default. To actually display, you need to unblock "Insecure content" from the permission settings. (dangerous)'},menu_setting_urlmap_define_button_edit:{message:"edit"},menu_setting_urlmap_define_button_add:{message:"add"},menu_setting_urlmap_define_button_remove:{message:"remove"},menu_setting_urlmap_define_button_prio_up:{message:"up"},menu_setting_urlmap_define_button_prio_down:{message:"down"},menu_setting_urlmap_define_combo_box_item_no_use:{message:"not use the definine"},menu_setting_define_multi_select_add_dialog:{message:"add the define"},menu_setting_define_multi_select_add_dialog_list:{message:"Select the define you want to add."},menu_setting_access_block:{message:"Blocking Access Define"},menu_setting_access_block_filter_url:{message:"URL to block access"},menu_setting_replacement_to_element:{message:"Replace Element Define"},menu_setting_replacement_to_element_script:{message:"Callback Script"},menu_setting_replacement_to_text:{message:"Replace Text Define"},menu_setting_replacement_to_text_script:{message:"Callback Script"},menu_setting_replacement_to_anchor:{message:"Replace Anchor Define"},menu_setting_replacement_to_anchor_script:{message:"Callback Script"},menu_setting_replacement_to_link:{message:"Replace Link Define"},menu_setting_replacement_to_link_filter_list:{message:"Filter List"},menu_setting_replacement_to_link_filter_name:{message:"Filter Name"},menu_setting_replacement_to_link_filter:{message:"Filter Setting"},menu_setting_replacement_to_link_filter_filter_url:{message:"Link URL to allow the operation"},menu_setting_replacement_to_link_check_box_container:{message:"Setting to link"},menu_setting_replacement_to_link_enable_reflect_to_anchor:{message:"Reflected to the HTMLAnchorElement href"},menu_setting_replacement_to_link_enable_cache:{message:"Cache the results of callback script"},menu_setting_replacement_to_link_filter_script:{message:"Callback Script"},menu_setting_replacement_to_referer:{message:"Replace Referer Define"},menu_setting_replacement_to_referer_filter_list:{message:"Filter List"},menu_setting_replacement_to_referer_filter_name:{message:"Filter Name"},menu_setting_replacement_to_referer_filter:{message:"Filter Setting"},menu_setting_replacement_to_referer_filter_filter_url:{message:"Link URL to allow the operation"},menu_setting_replacement_to_referer_filter_send_type:{message:"Basic Referer"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item:{message:"Basic Referer Value"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item_default:{message:"default"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item_current_url:{message:"current url"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item_link_url:{message:"link url"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item_custom:{message:"custom"},menu_setting_replacement_to_referer_filter_send_custom:{message:"Custom String"},menu_setting_replacement_to_referer_filter_send_regexp:{message:"Replaced by a regular expression"},menu_setting_replacement_to_referer_filter_send_regexp_match:{message:"Match conditions"},menu_setting_replacement_to_referer_filter_send_regexp_replacement:{message:"Replace String"},menu_setting_replacement_to_referer_filter_send_regexp_replacement_hint:{message:"$0...Whole match. $1-$9...Partial match. $$…Dollar sign escape sequence."},menu_setting_replacement_to_useragent:{message:"Replace Useragent Define"},menu_setting_replacement_to_useragent_filter_list:{message:"Filter List"},menu_setting_replacement_to_useragent_filter_name:{message:"Filter Name"},menu_setting_replacement_to_useragent_filter:{message:"Filter Setting"},menu_setting_replacement_to_useragent_filter_filter_url:{message:"Link URL to allow the operation"},menu_setting_replacement_to_useragent_filter_send:{message:"Basic Useragent"},menu_setting_replacement_to_useragent_filter_send_custom:{message:"Custom String"},menu_setting_make_link_to_text:{message:"Make Link To Text Define"},menu_setting_make_link_to_text_script:{message:"Callback Script"},menu_setting_expand_short_url:{message:"Expand Short Url Define"},menu_setting_expand_short_url_filter_url:{message:"URL to allow the operation"},menu_setting_expand_text:{message:"Expand Text Define"},menu_setting_expand_text_inline:{message:"Setting to display inline"},menu_setting_expand_text_inline_check_box_container:{message:"Setting to display inline"},menu_setting_expand_text_inline_disable_same_text:{message:"If the same URL, not to Expand."},menu_setting_expand_text_inline_script_allow:{message:"Condition to display inline from a link"},menu_setting_expand_text_inline_script_insert:{message:"Text Insert"},menu_setting_expand_image:{message:"Expand Image Define"},menu_setting_expand_image_thumbnail:{message:"Setting to display thumbnail"},menu_setting_expand_image_thumbnail_enable_check_box_container:{message:"Enable / Disable"},menu_setting_expand_image_thumbnail_enable_thumbnail:{message:"Display the thumbnail."},menu_setting_expand_image_thumbnail_check_box_container:{message:"Setting to display thumbnail"},menu_setting_expand_image_thumbnail_enable_popup_mouseover:{message:"If you mouse over the thumbnail, a pop-up display"},menu_setting_expand_image_thumbnail_disable_same_thumbnail_image:{message:"If the same URL, not to Expand."},menu_setting_expand_image_thumbnail_size:{message:"Thumbnail Size"},menu_setting_expand_image_thumbnail_size_min:{message:"Minimum allowed size (pixel)"},menu_setting_expand_image_thumbnail_size_scale:{message:"Scale (Percent)"},menu_setting_expand_image_thumbnail_size_max:{message:"Maximum allowed size (pixel)"},menu_setting_expand_image_thumbnail_script_allow:{message:"Condition to display thumbnail from a link"},menu_setting_expand_image_thumbnail_script_insert:{message:"Thumbnail Insert"},menu_setting_expand_image_popup:{message:"Setting to display popup"},menu_setting_expand_image_popup_enable_check_box_container:{message:"Enable / Disable"},menu_setting_expand_image_popup_enable_popup_mouseover:{message:"If you mouse over the anchor, a pop-up display"},menu_setting_expand_image_popup_check_box_container:{message:"Animation"},menu_setting_expand_image_popup_enable_animation_scale:{message:"Enable scale fade animation"},menu_setting_expand_image_popup_enable_animation_alpha:{message:"Enable alpha fade animation"},menu_setting_expand_image_popup_origin_type:{message:"Placement origin of the pop-up image"},menu_setting_expand_image_popup_origin_type_combo_box_item_center:{message:"center"},menu_setting_expand_image_popup_origin_type_combo_box_item_upper_left:{message:"upper left"},menu_setting_expand_image_popup_origin_type_combo_box_item_upper_right:{message:"upper right"},menu_setting_expand_image_popup_origin_type_combo_box_item_client_center:{message:"client center"},menu_setting_expand_image_popup_origin_type_combo_box_item_adsorb_element:{message:"adsorb element"},menu_setting_expand_image_popup_origin_type_combo_box_item_adsorb_mouse:{message:"adsorb mouse"},menu_setting_expand_image_popup_time:{message:"Popup Time"},menu_setting_expand_image_popup_time_wait_open:{message:"The time to wait before open (Millisecond)"},menu_setting_expand_image_popup_time_wait_close:{message:"The time to wait before close (Millisecond)"},menu_setting_expand_image_popup_position_type:{message:"Arrangement position of the pop-up image"},menu_setting_expand_image_popup_position_type_combo_box_item_absolute:{message:"absolute"},menu_setting_expand_image_popup_position_type_combo_box_item_fixed:{message:"fixed"},menu_setting_expand_image_popup_size:{message:"Popup Size"},menu_setting_expand_image_popup_size_scale:{message:"Scale (Percent)"},menu_setting_expand_image_popup_script_allow:{message:"Conditions to display popup from the link"},menu_setting_expand_image_reduced_image:{message:"Reduced Image Setting"},menu_setting_expand_image_reduced_image_check_box_container:{message:"Enable / Disable"},menu_setting_expand_image_popup_enable_popup:{message:"If you mouse over the Reduced Image, a pop-up display"},menu_setting_expand_image_reduced_image_allow_slcale_less_then:{message:"Conditions to display popup"},menu_setting_expand_image_reduced_image_allow_slcale_less_then_text:{message:"If the magnification is less than."},menu_setting_expand_image_load:{message:"Load Image Setting"},menu_setting_expand_image_load_check_box_container:{message:"Load Image Setting"},menu_setting_expand_image_load_enable_notify:{message:"Display the progress."},menu_setting_expand_image_load_start_type:{message:"How to load image"},menu_setting_expand_image_load_start_type_preload:{message:"Preload"},menu_setting_expand_image_load_start_type_scroll:{message:"Conjunction with the scroll"},menu_setting_expand_image_load_src_type:{message:"Image Source Format"},menu_setting_expand_image_load_src_type_combo_box_item_url:{message:"URL (except mixed content)"},menu_setting_expand_image_load_src_type_combo_box_item_blob_url:{message:"Blob URL (all)"},menu_setting_expand_image_load_decode:{message:"Decode Image Setting"},menu_setting_expand_image_load_decode_combo_box_item_auto:{message:"Browser default"},menu_setting_expand_image_load_decode_combo_box_item_pre_decode:{message:"Pre-decode the all"},menu_setting_expand_image_load_unload_check_box_container:{message:"Unload Image Setting"},menu_setting_expand_image_load_enable_unload:{message:"Enable Unload Image"},menu_setting_expand_image_load_unload:{message:"Conditions to unload image"},menu_setting_expand_image_load_allow_unload_more_then_text:{message:"If load more than the specified of MBytes, Release the old image."},menu_setting_expand_sound:{message:"Expand Sound Define"},menu_setting_expand_sound_inline:{message:"Setting to display inline"},menu_setting_expand_sound_inline_check_box_container:{message:"Setting to display inline"},menu_setting_expand_sound_inline_disable_same_text:{message:"If the same URL, not to Expand."},menu_setting_expand_sound_inline_sound_max:{message:"Maximum number of simultaneous display"},menu_setting_expand_sound_inline_script_allow:{message:"Condition to display inline from a link"},menu_setting_expand_sound_inline_script_insert:{message:"Audio Insert"},menu_setting_expand_sound_inline_element:{message:"HTMLAudioElement Setting"},menu_setting_expand_sound_inline_element_script_allow:{message:"Condition to display HTMLAudioElement"},menu_setting_expand_sound_inline_element_src_type:{message:"Audio Source Format"},menu_setting_expand_sound_inline_element_src_type_combo_box_item_url:{message:"URL (streaming)"},menu_setting_expand_sound_inline_element_src_type_combo_box_item_blob_url:{message:"Blob URL (full)"},menu_setting_expand_sound_inline_soundcloud:{message:"soundcloud.com Setting"},menu_setting_expand_sound_inline_soundcloud_check_box_container:{message:"soundcloud.com Setting"},menu_setting_expand_sound_inline_soundcloud_visible_player_html5:{message:"enable player (HTML5)"},menu_setting_expand_sound_inline_mixcloud:{message:"www.mixcloud.com Setting"},menu_setting_expand_sound_inline_mixcloud_check_box_container:{message:"www.mixcloud.com Setting"},menu_setting_expand_sound_inline_mixcloud_visible_player:{message:"enable player"},menu_setting_expand_video:{message:"Expand Video Define"},menu_setting_expand_video_inline:{message:"Setting to display inline"},menu_setting_expand_video_inline_check_box_container:{message:"Setting to display inline"},menu_setting_expand_video_inline_disable_same_video:{message:"If the same URL, not to Expand."},menu_setting_expand_video_inline_video_max:{message:"Maximum number of simultaneous display"},menu_setting_expand_video_inline_size:{message:"Inline Video Size"},menu_setting_expand_video_inline_width_max:{message:"Maximum allowed width (pixel)"},menu_setting_expand_video_inline_height_max:{message:"Maximum allowed height (pixel)"},menu_setting_expand_video_inline_script_allow:{message:"Condition to display inline from a link"},menu_setting_expand_video_inline_script_insert:{message:"Element Insert"},menu_setting_expand_video_inline_element:{message:"HTMLVideoElement Setting"},menu_setting_expand_video_inline_element_script_allow:{message:" Condition to display HTMLVideoElement"},menu_setting_expand_video_inline_element_src_type:{message:"Video Source Format"},menu_setting_expand_video_inline_element_src_type_combo_box_item_url:{message:"URL (streaming)"},menu_setting_expand_video_inline_element_src_type_combo_box_item_blob_url:{message:"Blob URL (full)"},menu_setting_expand_video_inline_youtube:{message:"www.youtube.com Setting"},menu_setting_expand_video_inline_youtube_check_box_container:{message:"www.youtube.com Setting"},menu_setting_expand_video_inline_youtube_visible_video:{message:"enable video"},menu_setting_expand_video_inline_nicovideo:{message:"www.nicovideo.jp Setting"},menu_setting_expand_video_inline_nicovideo_check_box_container:{message:"www.nicovideo.jp Setting"},menu_setting_expand_video_inline_nicovideo_visible_video:{message:"enable video"},menu_setting_expand_video_inline_dailymotion:{message:"www.dailymotion.com Setting"},menu_setting_expand_video_inline_dailymotion_check_box_container:{message:"www.dailymotion.com Setting"},menu_setting_expand_video_inline_dailymotion_visible_video:{message:"enable video"},menu_setting_expand_video_inline_video:{message:"vimeo.com Setting"},menu_setting_expand_video_inline_video_check_box_container:{message:"vimeo.com Setting"},menu_setting_expand_video_inline_video_visible_video:{message:"enable video"},menu_setting_expand_iframe:{message:"Expand Iframe Define"},menu_setting_expand_iframe_inline:{message:"Setting to display inline"},menu_setting_expand_iframe_inline_check_box_container:{message:"Setting to display inline"},menu_setting_expand_iframe_inline_disable_same_iframe:{message:"If the same URL, not to Expand."},menu_setting_expand_iframe_inline_script_allow:{message:"Condition to display inline from a link"},menu_setting_expand_iframe_inline_script_insert:{message:"HTMLIFrameElement Insert"},menu_setting_style_sheet:{message:"Stylesheet Define"},menu_setting_style_sheet_expand_text:{message:"Stylesheet of Expanded Text"},menu_setting_style_sheet_expand_text_element:{message:"HTMLTextAreaElement Setting"},menu_setting_style_sheet_expand_text_element_inline:{message:"Text Inline Display"},menu_setting_style_sheet_expand_text_element_inline_unsafe:{message:"Text Inline Display (unsafe)"},menu_setting_style_sheet_expand_image:{message:"Stylesheet of Expanded Image"},menu_setting_style_sheet_expand_image_element:{message:"HTMImageElement Setting"},menu_setting_style_sheet_expand_image_element_inline:{message:"Image Thumbnail Display"},menu_setting_style_sheet_expand_image_element_inline_unsafe:{message:"Image Thumbnail Display (unsafe)"},menu_setting_style_sheet_expand_image_element_popup:{message:"Image Popup Display"},menu_setting_style_sheet_expand_image_element_popup_unsafe:{message:"Image Popup Display (unsafe)"},menu_setting_style_sheet_expand_sound:{message:"Stylesheet of Expanded Sound"},menu_setting_style_sheet_expand_sound_element:{message:"HTMLAudioElement Setting"},menu_setting_style_sheet_expand_sound_element_inline_audio:{message:"Audo Inline Display"},menu_setting_style_sheet_expand_sound_element_inline_audio_unsafe:{message:"Audo Inline Display (unsafe)"},menu_setting_style_sheet_expand_sound_soundcloud:{message:"soundcloud.com Setting"},menu_setting_style_sheet_expand_sound_soundcloud_inline_player_html5:{message:"Player (HTML5) Inline Display"},menu_setting_style_sheet_expand_sound_mixcloud:{message:"www.mixcloud.com Setting"},menu_setting_style_sheet_expand_sound_mixcloud_inline_player:{message:"Player Inline Display"},menu_setting_style_sheet_expand_video:{message:"Stylesheet of Expanded Video"},menu_setting_style_sheet_expand_video_element:{message:"HTMLVideoElement Setting"},menu_setting_style_sheet_expand_video_element_inline_video:{message:"Video Inline Display"},menu_setting_style_sheet_expand_video_element_inline_video_unsafe:{message:"Video Inline Display (unsafe)"},menu_setting_style_sheet_expand_video_youtube:{message:"www.youtube.com Setting"},menu_setting_style_sheet_expand_video_youtube_inline_video:{message:"Video Inline Display"},menu_setting_style_sheet_expand_video_nicovideo:{message:"www.nicovideo.jp Setting"},menu_setting_style_sheet_expand_video_nicovideo_inline_video:{message:"Video Inline Display"},menu_setting_style_sheet_expand_video_dailymotion:{message:"www.dailymotion.com Setting"},menu_setting_style_sheet_expand_video_dailymotion_inline_video:{message:"Video Inline Display"},menu_setting_style_sheet_expand_video_vimeo:{message:"vimeo.com Setting"},menu_setting_style_sheet_expand_video_vimeo_inline_video:{message:"Video Inline Display"},menu_setting_style_sheet_expand_iframe:{message:"Stylesheet of Expanded Iframe"},menu_setting_style_sheet_expand_iframe_element:{message:"HTMLIFrameElement Setting"},menu_setting_style_sheet_expand_iframe_element_inline:{message:"Iframe Inline Display"},menu_setting_style_sheet_expand_iframe_element_inline_unsafe:{message:"Iframe Inline Display (unsafe)"},menu_setting_experimental:{message:"Experimental Define"},menu_setting_experimental_revise_scroll:{message:"Revise Scroll Setting"},menu_setting_experimental_revise_scroll_check_box_container:{message:"Revise Scroll Setting"},menu_setting_experimental_revise_scroll_enable:{message:"enable"},menu_setting_experimental_revise_scroll_threshold_vertical:{message:"Threshold Vertical ( 0 [top] ～ 100 [bottom] )"},menu_setting_language:{message:"Language Setting"},menu_credit:{message:"Credit"},menu_credit_info_version:{message:"Version"},menu_credit_info_copyright:{message:"Copyright"},menu_credit_info_translator:{message:"Translator"},menu_setting_define_list:{message:"List of Define"},menu_setting_define_list_hint:{message:"When you select an item in the list, the lower control can be edited. Will be compared with the order from above. possible to select multiple. Can be edited by multiple selection. Gray is preset setting. Preset setting can not be deleted."},menu_setting_define_button_add:{message:"add"},menu_setting_define_button_delete:{message:"delete"},menu_setting_define_button_move_up:{message:"move up"},menu_setting_define_button_move_down:{message:"move down"},menu_setting_define_button_export:{message:"export"},menu_setting_define_button_import:{message:"import"},menu_setting_define_add_dialog:{message:"Create a new define"},menu_setting_define_add_dialog_name:{message:"Name"},menu_setting_define_add_dialog_copy_define:{message:"Replicated from the existing define"},menu_setting_define_add_dialog_define_list_box_item_new:{message:"create a new"},menu_setting_define_delete_dialog:{message:"Delete the Define"},menu_setting_define_delete_dialog_name:{message:"Define Name (Be removed)"},menu_setting_define_delete_dialog_change_define:{message:"Alternative Selection"},menu_setting_define_delete_dialog_define_list_box_item_no_use:{message:"not use the define"},menu_setting_define_name:{message:"Define Name"},menu_setting_define_export_dialog:{message:"Define Export"},menu_setting_define_export_dialog_export:{message:"Export"},menu_setting_define_export_dialog_export_hint:{message:"Please copy the text of TextArea."},menu_setting_define_import_dialog:{message:"Define Import"},menu_setting_define_import_dialog_explanation:{message:"information about Import"},menu_setting_define_import_dialog_explanation_0:{message:"Preset setting will be overwritten. User setting will be add new."},menu_setting_define_import_dialog_explanation_1:{message:"It is recommended that you take a backup on the export function."},menu_setting_define_import_dialog_explanation_2:{message:"Please note so that it does not contain malicious code."},menu_setting_define_import_dialog_import:{message:"Import"},menu_setting_define_import_dialog_import_hint:{message:"Please paste the output text from Export."},menu_setting_define_import_dialog_confirm:{message:"Do you want to Import?"},menu_setting_define_import_alert:{message:"A result of the import"},menu_setting_define_import_alert_success:{message:"Import has been completed."},menu_setting_define_import_alert_failure:{message:"Failed to import."},menu_setting_define_wildcard_detail:{message:"information about Wild Card"},menu_setting_define_wildcard_detail_0:{message:'"Wild Card" is always execute at the last.'},menu_setting_define_wildcard_detail_1:{message:'"Wild Card" be applied to all communications.'},menu_setting_define_wildcard_detail_2:{message:'"Wild Card" is not the define. Can not be used in the "URL Mapping Setting".'},menu_setting_filter_list:{message:"Filter List"},menu_setting_filter_list_hint:{message:"When you select an item in the list, the lower control can be edited. Will be compared with the order from above. possible to select multiple. Can be edited by multiple selection."},menu_setting_filter_button_add:{message:"add"},menu_setting_filter_button_delete:{message:"delete"},menu_setting_filter_button_prio_up:{message:"prio up"},menu_setting_filter_button_prio_down:{message:"prio down"},menu_setting_filter_button_export:{message:"export"},menu_setting_filter_button_import:{message:"import"},menu_setting_filter_add_dialog:{message:"Creating a new Filter Setting"},menu_setting_filter_add_dialog_name:{message:"Name"},menu_setting_filter_add_dialog_copy_define:{message:"Replicated from the existing setting."},menu_setting_filter_add_dialog_define_list_box_item_new:{message:"create a new"},menu_setting_filter_export_dialog:{message:"Filter Export"},menu_setting_filter_export_dialog_export:{message:"Export"},menu_setting_filter_export_dialog_export_hint:{message:"Please copy the text of TextArea."},menu_setting_filter_import_dialog:{message:"Filter Import"},menu_setting_filter_import_dialog_explanation:{message:"information about Import"},menu_setting_filter_import_dialog_explanation_0:{message:"Import data is added to the last of the list."},menu_setting_filter_import_dialog_explanation_1:{message:"It is recommended that you take a backup on the export function."},menu_setting_filter_import_dialog_explanation_2:{message:"Please note so that it does not contain malicious code."},menu_setting_filter_import_dialog_import:{message:"Import"},menu_setting_filter_import_dialog_import_hint:{message:"Please paste the output text from Export."},menu_setting_filter_import_dialog_confirm:{message:"Do you want to Import?"},menu_setting_filter_import_alert:{message:"A result of the import"},menu_setting_filter_import_alert_success:{message:"Import has been completed."},menu_setting_filter_import_alert_failure:{message:"Failed to import."},menu_button_ok:{message:"OK"},menu_button_yes:{message:"YES"},menu_button_no:{message:"CANCEL"},menu_script_obj_editer_edit_script:{message:"Edit Script"},menu_script_obj_editer_delete_script:{message:"Delete Script (return to default)"},menu_scriptarea_hint:{message:"To describe the anonymous function to array. Please note so that it does not contain malicious code."},menu_scriptarea_unsupport:{message:"UserScript doesn't work now. 😥"},menu_text_regexp_hint:{message:"regular expression string. [flags] g...repeat. i...without case-sensitive."},menu_regexp_list_button_add:{message:"add"},menu_regexp_list_button_delete:{message:"delete"},menu_regexp_list_button_move_up:{message:"move up"},menu_regexp_list_button_move_down:{message:"move down"},menu_setting_url_edit_container_combo_box_item_asterisk:{message:"asterisk format"},menu_setting_url_edit_container_combo_box_item_regexp:{message:"regular expression format"},menu_setting_url_edit_container_type_asterisk_hint:{message:"Describes the URL. Can be used an asterisk. Can be specified multi line."},page_expand_popup_menu:{message:"PageExpand Menu"},context_menu_pageexpand_config:{message:"PageExpand Setting"},context_menu_batch_download_image:{message:"Batch Download (image)"},context_menu_batch_download_user:{message:"Batch Download (user)"},context_menu_pageexpand_open_bbs_board:{message:"Open BBS Board"},context_menu_pageexpand_open_bbs_board_run_confirm:{message:"Do you want to run the BBS Board in this page?"},context_menu_pageexpand_config_current_page:{message:"PageExpand Setting Current Page"},context_menu_pageexpand_config_current_bbs:{message:"PageExpand Setting Current BBS"},context_menu_pageexpand_config_current_page_confirm:{message:"PageExpand Setting will run only in the following page. \n(The purpose is to prevent from being injected the malicious script)\n\nDo you want to open the following page?\n"},context_menu_pageexpand_config_auto_run_confirm:{message:"Do you want to run the PageExpand Setting in this page?\n(If this page is contaminated, then the malicious script will be injected)"},context_menu_pageexpand_start:{message:"Start PageExpand"},context_menu_pageexpand_execute_fastest:{message:"Execute PageExpand (fastest)"},context_menu_pageexpand_abort:{message:"Abort PageExpand"},context_menu_pageexpand_debug:{message:"PageExpand Debug"}},zh:{extension_name:{message:"PageExpand"},extension_description:{message:"下载所有图片、图片缩放、扩展缩略图以及音频和视频、展开短网址、从文本生成链接、覆盖引用站点、扩展BBS，等等..."},page_expand_config:{message:"PageExpand 设置"},menu_setting_standard:{message:"标准设置"},menu_setting_standard_filter_url:{message:"通过 URL 限制操作"},menu_setting_standard_filter_url_combo_box_item_deny:{message:"只在指定的地址不要操作。(否则它会在所有地址工作)"},menu_setting_standard_filter_url_combo_box_item_allow:{message:"只在指定的地址操作。(否则，所有地址都不工作。)"},menu_setting_standard_filter_url_hint:{message:"URL 描述。可以使用星号。可以指定多行。"},menu_setting_standard_check_box_container:{message:"标准设置"},menu_setting_standard_enable_icon_address_bar:{message:"在地址栏中显示图标。"},menu_setting_standard_enable_context_menu:{message:"显示上下文菜单。"},menu_setting_standard_enable_startup:{message:"加载完成时开始操作。"},menu_setting_standard_enable_debug_mode:{message:"在调试模式下运行。"},menu_setting_standard_enable_output_log:{message:"输出到控制台日志。(调试)"},menu_setting_standard_execute_queue:{message:"执行队列设置 (通常情况下，无需更改)"},menu_setting_standard_execute_queue_time_sleep:{message:"睡眠时间 (毫秒)"},menu_setting_standard_execute_queue_time_occupancy:{message:"最大的 CPU 占用时间 (毫秒)"},menu_setting_standard_execute_queue_hint:{message:"当最大的 CPU 占用时间较大，响应操作较差，该脚本将运行得更快。如果睡眠时间很短，CPU 利用率较高，该脚本将运行得更快。"},menu_setting_standard_touch:{message:"触摸操作设置"},menu_setting_standard_enable_input_touch:{message:"启用触摸操作。"},menu_setting_standard_enable_double_touch_assist:{message:"显示双触摸协助。"},menu_setting_standard_command:{message:"执行菜单 (移动)"},menu_setting_standard_command_execute_button:{message:"执行"},menu_setting_standard_command_execute_dialog:{message:"执行菜单"},menu_setting_standard_command_execute_dialog_tab_list:{message:"选择标签"},menu_setting_standard_command_execute_dialog_command_list:{message:"选择命令"},menu_setting_standard_command_execute_dialog_confirm:{message:"确定要执行吗?"},menu_setting_standard_export_import:{message:"设置导出/导入"},menu_setting_standard_export_button:{message:"导出"},menu_setting_standard_import_button:{message:"导入"},menu_setting_standard_export_dialog:{message:"导出设置"},menu_setting_standard_export_dialog_export:{message:"导出"},menu_setting_standard_export_dialog_export_hint:{message:"请复制文本区域的文本。"},menu_setting_standard_import_dialog:{message:"导入设置"},menu_setting_standard_import_dialog_explanation:{message:"关于导入的信息"},menu_setting_standard_import_dialog_explanation_0:{message:"当前的所有设置都将丢失。"},menu_setting_standard_import_dialog_explanation_1:{message:"建议你使用导出功能进行备份。"},menu_setting_standard_import_dialog_explanation_2:{message:"请注意，它不包含恶意代码。"},menu_setting_standard_import_dialog_import:{message:"导入"},menu_setting_standard_import_dialog_import_hint:{message:"请粘贴从导出处输出的文本。"},menu_setting_standard_import_dialog_confirm:{message:"确定要导入？"},menu_setting_standard_import_alert:{message:"导入的结果"},menu_setting_standard_import_alert_success:{message:"导入已经完成。"},menu_setting_standard_import_alert_failure:{message:"导入失败！"},menu_setting_standard_storage_sync:{message:"同步存储"},menu_setting_standard_storage_sync_load_button:{message:"加载"},menu_setting_standard_storage_sync_save_button:{message:"保存"},menu_setting_standard_storage_sync_delete_button:{message:"删除"},menu_setting_standard_storage_sync_load_dialog:{message:"从同步存储加载"},menu_setting_standard_storage_sync_load_dialog_explanation:{message:"关于从同步存储加载的信息"},menu_setting_standard_storage_sync_load_dialog_explanation_0:{message:"从同步存储加载数据，应用到 PageExpand 设置。"},menu_setting_standard_storage_sync_load_dialog_explanation_1:{message:"当前的所有设置都将丢失。"},menu_setting_standard_storage_sync_load_dialog_explanation_2:{message:"建议你使用导出功能进行备份"},menu_setting_standard_storage_sync_load_dialog_confirm:{message:"确定从同步存储加载？"},menu_setting_standard_storage_sync_load_alert:{message:"从同步存储加载的结果"},menu_setting_standard_storage_sync_load_alert_success:{message:"从同步存储加载成功。"},menu_setting_standard_storage_sync_load_alert_failure:{message:"从同步存储加载失败！"},menu_setting_standard_storage_sync_save_dialog:{message:"保存到同步存储"},menu_setting_standard_storage_sync_save_dialog_explanation:{message:"关于保存到同步存储的信息"},menu_setting_standard_storage_sync_save_dialog_explanation_0:{message:"将当前设置保存到同步存储。"},menu_setting_standard_storage_sync_save_dialog_explanation_1:{message:"需要启用浏览器的同步功能。"},menu_setting_standard_storage_sync_save_dialog_explanation_2:{message:"有大小限制。如果数据太大，会失败。"},menu_setting_standard_storage_sync_save_dialog_confirm:{message:"确定要保存到同步存储？"},menu_setting_standard_storage_sync_save_alert:{message:"保存到同步存储的结果"},menu_setting_standard_storage_sync_save_alert_success:{message:"保存到同步存储成功。"},menu_setting_standard_storage_sync_save_alert_failure:{message:"保存到同步存储失败！"},menu_setting_standard_storage_sync_delete_dialog:{message:"从同步存储删除"},menu_setting_standard_storage_sync_delete_dialog_explanation:{message:"关于从同步存储区删除的信息"},menu_setting_standard_storage_sync_delete_dialog_explanation_0:{message:"删除同步存储中存储的设置数据。"},menu_setting_standard_storage_sync_delete_dialog_confirm:{message:"确定要从同步存储删除吗？"},menu_setting_standard_storage_sync_delete_alert:{message:"关于从同步存储删除的结果"},menu_setting_standard_storage_sync_delete_alert_success:{message:"从同步存储删除成功。"},menu_setting_standard_storage_sync_delete_alert_failure:{message:"从同步存储删除失败！"},menu_setting_standard_reset:{message:"设置初始化"},menu_setting_standard_reset_button:{message:"删除所有的设置，返回到初始状态。"},menu_setting_standard_reset_dialog:{message:"设置初始化"},menu_setting_standard_reset_dialog_explanation:{message:"关于初始化的信息"},menu_setting_standard_reset_dialog_explanation_0:{message:"将所有设置都返回到它们的默认状态。"},menu_setting_standard_reset_dialog_explanation_1:{message:"当前的所有设置都将丢失。"},menu_setting_standard_reset_dialog_confirm:{message:"确定要初始化吗？"},menu_setting_standard_reset_alert:{message:"初始化的结果"},menu_setting_standard_reset_alert_success:{message:"配置初始化已完成。"},menu_setting_standard_reset_alert_failure:{message:"配置初始化失败！"},menu_setting_download:{message:"下载设置"},menu_setting_download_load:{message:"加载设置 (XHR)"},menu_setting_download_load_thread_max:{message:"同时加载的最大数目"},menu_setting_download_load_timeout:{message:"超时（毫秒）"},menu_setting_download_load_timeout_hint:{message:"如果指定为 0，超时时间没有限制。"},menu_setting_download_load_cache_for_media:{message:"Cache MODE (for Media)"},menu_setting_download_load_cache_for_media_hint:{message:'Normally, you do not need to change. Use "fetch API" and works when "loading media".'},menu_setting_expand_image_load_cache_for_media_combo_box_item_default:{message:"default (best)"},menu_setting_expand_image_load_cache_for_media_combo_box_item_no_store:{message:"don't use cache."},menu_setting_expand_image_load_cache_for_media_combo_box_item_force_cache:{message:"If cache exists, don't request. (forever old data)"},menu_setting_download_download:{message:"下载设置"},menu_setting_download_download_thread_max:{message:"同时下载的最大数目"},menu_setting_download_download_save_file:{message:"Save File Name"},menu_setting_download_download_save_file_combo_box_item_simple:{message:"simple"},menu_setting_download_download_save_file_combo_box_item_detail:{message:"detail"},menu_setting_download_download_save_file_simple:{message:"Select File Name"},menu_setting_download_download_save_file_detail:{message:"Edit File Name"},menu_setting_download_download_save_file_variable:{message:"Variable List"},menu_setting_download_download_conflict_type:{message:"文件名冲突"},menu_setting_download_download_conflict_type_combo_box_item_rename:{message:"重命名"},menu_setting_download_download_conflict_type_combo_box_item_overwrite:{message:"覆盖"},menu_setting_download_batch_download:{message:"Batch Download Setting"},menu_setting_expand_bbs:{message:"BBS 设置"},menu_setting_expand_bbs_list:{message:"BBS 设置列表"},menu_setting_expand_bbs_list_hint:{message:"当你选择列表中的项目时，可以编辑较低的控制。条件脚本按照从上到下的顺序执行。可以选择多个进行编辑。灰色是预设设置。不能删除预设的设置。"},menu_setting_expand_bbs_button_add:{message:"添加"},menu_setting_expand_bbs_button_delete:{message:"删除"},menu_setting_expand_bbs_button_prio_up:{message:"优先级+"},menu_setting_expand_bbs_button_prio_down:{message:"优先级-"},menu_setting_expand_bbs_button_export:{message:"导出"},menu_setting_expand_bbs_button_import:{message:"导入"},menu_setting_expand_bbs_add_dialog:{message:"创建新的 BBS 设置"},menu_setting_expand_bbs_add_dialog_name:{message:"名称"},menu_setting_expand_bbs_add_dialog_copy_define:{message:"从现有的设置复制。"},menu_setting_expand_bbs_add_dialog_define_list_box_item_new:{message:"创建新的"},menu_setting_expand_bbs_export_dialog:{message:"导出 BBS 设置"},menu_setting_expand_bbs_export_dialog_export:{message:"导出"},menu_setting_expand_bbs_export_dialog_export_hint:{message:"请复制文本区域的文本。"},menu_setting_expand_bbs_import_dialog:{message:"导入 BBS 设置"},menu_setting_expand_bbs_import_dialog_explanation:{message:"关于导入的信息"},menu_setting_expand_bbs_import_dialog_explanation_0:{message:"预设的设置将被覆盖。将添加新的用户设置。"},menu_setting_expand_bbs_import_dialog_explanation_1:{message:"建议你使用导出功能进行备份。"},menu_setting_expand_bbs_import_dialog_explanation_2:{message:"请注意，它不包含恶意代码。"},menu_setting_expand_bbs_import_dialog_import:{message:"导入"},menu_setting_expand_bbs_import_dialog_import_hint:{message:"请粘贴从导出处输出的文本。"},menu_setting_expand_bbs_import_dialog_confirm:{message:"确定要导入？"},menu_setting_expand_bbs_import_alert:{message:"导入的结果"},menu_setting_expand_bbs_import_alert_success:{message:"导入已经完成。"},menu_setting_expand_bbs_import_alert_failure:{message:"导入失败！"},menu_setting_expand_bbs_name:{message:"名称"},menu_setting_expand_bbs_check_box_container:{message:"启用 / 禁用"},menu_setting_expand_bbs_enable_setting:{message:"使用此设置。"},menu_setting_expand_bbs_filter_url:{message:"URL 允许进行操作"},menu_setting_expand_bbs_popup_check_box_container:{message:"弹窗设置"},menu_setting_expand_bbs_popup_enable_animation:{message:"启用弹窗动画"},menu_setting_expand_bbs_popup_origin_type:{message:"弹窗的起始位置"},menu_setting_expand_bbs_popup_origin_type_combo_box_item_adsorb_top_bottom:{message:"吸附顶底"},menu_setting_expand_bbs_popup_origin_type_combo_box_item_adsorb_left_right:{message:"吸附左右"},menu_setting_expand_bbs_popup_position_type:{message:"弹窗的布置位置"},menu_setting_expand_bbs_popup_position_type_combo_box_item_absolute:{message:"绝对"},menu_setting_expand_bbs_popup_position_type_combo_box_item_fixed:{message:"固定"},menu_setting_expand_bbs_popup_percent:{message:"弹窗的大小"},menu_setting_expand_bbs_popup_percent_h:{message:"水平 % (0-100)"},menu_setting_expand_bbs_popup_percent_v:{message:"垂直 % (0-100)"},menu_setting_expand_bbs_popup_time:{message:"弹窗的时间"},menu_setting_expand_bbs_popup_time_wait_open:{message:"打开前的等待时间 (毫秒)"},menu_setting_expand_bbs_popup_time_wait_close:{message:"关闭后的等待时间 (毫秒)"},menu_setting_expand_bbs_popup_style_sheet:{message:"弹窗的样式表"},menu_setting_expand_bbs_script_initialize:{message:"初始化脚本"},menu_setting_expand_bbs_script_callback:{message:"回调脚本"},menu_setting_urlmap:{message:"URL 映射设置"},menu_setting_urlmap_list:{message:"URL 映射设置列表"},menu_setting_urlmap_list_hint:{message:"当你选择列表中的项目时，可以编辑较低的控制。按照从上到下的顺序进行比较。可以选择多个，可以进行多选编辑。灰色是预设设置。不能删除预设的设置。"},menu_setting_urlmap_button_add:{message:"添加"},menu_setting_urlmap_button_delete:{message:"删除"},menu_setting_urlmap_button_prio_up:{message:"优先级+"},menu_setting_urlmap_button_prio_down:{message:"优先级-"},menu_setting_urlmap_add_dialog:{message:"创建新的 URL 映射"},menu_setting_urlmap_add_dialog_name:{message:"名称"},menu_setting_urlmap_add_dialog_copy_define:{message:"从现有的设置复制。"},menu_setting_urlmap_add_dialog_define_list_box_item_new:{message:"创建新的"},menu_setting_urlmap_name:{message:"名称"},menu_setting_urlmap_check_box_container:{message:"启用 / 禁用"},menu_setting_urlmap_enable_setting:{message:"使用此设置。"},menu_setting_urlmap_filter_url:{message:"URL 允许进行操作"},menu_setting_urlmap_mixed_passive_content_container:{message:"Mixed Passive Content Security"},menu_setting_urlmap_mixed_passive_content_unsafe:{message:'"http://" as is'},menu_setting_urlmap_mixed_passive_content_safe:{message:'Convert to "https://" (Do not display if failed)'},menu_setting_urlmap_mixed_passive_content_hint:{message:"If content such as images and videos is displayed with a red border, It means that it is unencrypted, untrustworthy, and can be tampered with by man-in-the-middle attacks."},menu_setting_urlmap_mixed_active_content_container:{message:"Mixed Active Content Security"},menu_setting_urlmap_mixed_active_content_unsafe:{message:'"http://" as is'},menu_setting_urlmap_mixed_active_content_safe:{message:'Convert to "https://" (Do not display if failed)'},menu_setting_urlmap_mixed_active_content_hint:{message:'Browser is block "mixed active content" by default. To actually display, you need to unblock "Insecure content" from the permission settings. (dangerous)'},menu_setting_urlmap_define_button_edit:{message:"编辑"},menu_setting_urlmap_define_button_add:{message:"添加"},menu_setting_urlmap_define_button_remove:{message:"移除"},menu_setting_urlmap_define_button_prio_up:{message:"向上"},menu_setting_urlmap_define_button_prio_down:{message:"向下"},menu_setting_urlmap_define_combo_box_item_no_use:{message:"不使用定义"},menu_setting_define_multi_select_add_dialog:{message:"添加定义"},menu_setting_define_multi_select_add_dialog_list:{message:"选择要添加的定义。"},menu_setting_access_block:{message:"拦截访问定义"},menu_setting_access_block_filter_url:{message:"URL 拦截访问"},menu_setting_replacement_to_element:{message:"替换元素定义"},menu_setting_replacement_to_element_script:{message:"回调脚本"},menu_setting_replacement_to_text:{message:"替换文本定义"},menu_setting_replacement_to_text_script:{message:"回调脚本"},menu_setting_replacement_to_anchor:{message:"替换锚点定义"},menu_setting_replacement_to_anchor_script:{message:"回调脚本"},menu_setting_replacement_to_link:{message:"替换链接定义"},menu_setting_replacement_to_link_filter_list:{message:"筛选器列表"},menu_setting_replacement_to_link_filter_name:{message:"筛选器名称"},menu_setting_replacement_to_link_filter:{message:"筛选器设置"},menu_setting_replacement_to_link_filter_filter_url:{message:"链接 URL，允许进行操作"},menu_setting_replacement_to_link_check_box_container:{message:"设置链接"},menu_setting_replacement_to_link_enable_reflect_to_anchor:{message:"反映到 HTML 锚点元素 href"},menu_setting_replacement_to_link_enable_cache:{message:"缓存回调脚本的结果"},menu_setting_replacement_to_link_filter_script:{message:"回调脚本"},menu_setting_replacement_to_referer:{message:"替换 Referer 定义"},menu_setting_replacement_to_referer_filter_list:{message:"筛选器列表"},menu_setting_replacement_to_referer_filter_name:{message:"筛选器名称"},menu_setting_replacement_to_referer_filter:{message:"筛选器设置"},menu_setting_replacement_to_referer_filter_filter_url:{message:"链接 URL，允许进行操作"},menu_setting_replacement_to_referer_filter_send_type:{message:"基本 Referer"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item:{message:"基本 Referer 值"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item_default:{message:"默认"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item_current_url:{message:"当前 url"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item_link_url:{message:"链接 url"},menu_setting_replacement_to_referer_filter_send_type_combo_box_item_custom:{message:"自定义"},menu_setting_replacement_to_referer_filter_send_custom:{message:"自定义字符串"},menu_setting_replacement_to_referer_filter_send_regexp:{message:"通过正则表达式替换"},menu_setting_replacement_to_referer_filter_send_regexp_match:{message:"匹配条件"},menu_setting_replacement_to_referer_filter_send_regexp_replacement:{message:"替换字符串"},menu_setting_replacement_to_referer_filter_send_regexp_replacement_hint:{message:"$0...整体匹配。 $1-$9...部分匹配。 $$…美元符号转义序列。"},menu_setting_replacement_to_useragent:{message:"替换用户代理定义"},menu_setting_replacement_to_useragent_filter_list:{message:"筛选器列表"},menu_setting_replacement_to_useragent_filter_name:{message:"筛选器名称"},menu_setting_replacement_to_useragent_filter:{message:"筛选器设置"},menu_setting_replacement_to_useragent_filter_filter_url:{message:"链接 URL，允许进行操作"},menu_setting_replacement_to_useragent_filter_send:{message:"基本用户代理"},menu_setting_replacement_to_useragent_filter_send_custom:{message:"自定义字符串"},menu_setting_make_link_to_text:{message:"文本转链接定义"},menu_setting_make_link_to_text_script:{message:"回调脚本"},menu_setting_expand_short_url:{message:"扩展短 Url 定义"},menu_setting_expand_short_url_filter_url:{message:"URL 允许进行操作"},menu_setting_expand_text:{message:"扩展文本定义"},menu_setting_expand_text_inline:{message:"显示内联设置"},menu_setting_expand_text_inline_check_box_container:{message:"显示内联设置"},menu_setting_expand_text_inline_disable_same_text:{message:"如果 URL 相同，不扩展。"},menu_setting_expand_text_inline_script_allow:{message:"从链接显示内联的条件"},menu_setting_expand_text_inline_script_insert:{message:"文本插入"},menu_setting_expand_image:{message:"扩展图片定义"},menu_setting_expand_image_thumbnail:{message:"显示缩略图设置"},menu_setting_expand_image_thumbnail_enable_check_box_container:{message:"启用 / 禁用"},menu_setting_expand_image_thumbnail_enable_thumbnail:{message:"显示缩略图。"},menu_setting_expand_image_thumbnail_check_box_container:{message:"显示缩略图设置"},menu_setting_expand_image_thumbnail_enable_popup_mouseover:{message:"如果你的鼠标悬停在缩略图上，弹出窗口显示。"},menu_setting_expand_image_thumbnail_disable_same_thumbnail_image:{message:"如果 URL 相同，不扩展。"},menu_setting_expand_image_thumbnail_size:{message:"缩略图的大小"},menu_setting_expand_image_thumbnail_size_min:{message:"Minimum allowed size (pixel)"},menu_setting_expand_image_thumbnail_size_scale:{message:"比例 (%)"},menu_setting_expand_image_thumbnail_size_max:{message:"Maximum allowed size (pixel)"},menu_setting_expand_image_thumbnail_script_allow:{message:"从链接显示缩略图的条件"},menu_setting_expand_image_thumbnail_script_insert:{message:"缩略图插入"},menu_setting_expand_image_popup:{message:"显示弹窗设置"},menu_setting_expand_image_popup_enable_check_box_container:{message:"启用 / 禁用"},menu_setting_expand_image_popup_enable_popup_mouseover:{message:"如果你的鼠标悬停在锚点上，弹出窗口显示。"},menu_setting_expand_image_popup_check_box_container:{message:"动画"},menu_setting_expand_image_popup_enable_animation_scale:{message:"启用规模淡入淡出动画"},menu_setting_expand_image_popup_enable_animation_alpha:{message:"启用透明淡入淡出动画"},menu_setting_expand_image_popup_origin_type:{message:"弹窗的起始位置"},menu_setting_expand_image_popup_origin_type_combo_box_item_center:{message:"中央"},menu_setting_expand_image_popup_origin_type_combo_box_item_upper_left:{message:"左上角"},menu_setting_expand_image_popup_origin_type_combo_box_item_upper_right:{message:"右上角"},menu_setting_expand_image_popup_origin_type_combo_box_item_client_center:{message:"客户端中央"},menu_setting_expand_image_popup_origin_type_combo_box_item_adsorb_element:{message:"吸附元素"},menu_setting_expand_image_popup_origin_type_combo_box_item_adsorb_mouse:{message:"吸附鼠标"},menu_setting_expand_image_popup_time:{message:"弹窗的时间"},menu_setting_expand_image_popup_time_wait_open:{message:"打开前的等待时间 (毫秒)"},menu_setting_expand_image_popup_time_wait_close:{message:"关闭后的等待时间 (毫秒)"},menu_setting_expand_image_popup_position_type:{message:"弹出图片的排列位置"},menu_setting_expand_image_popup_position_type_combo_box_item_absolute:{message:"绝对"},menu_setting_expand_image_popup_position_type_combo_box_item_fixed:{message:"固定"},menu_setting_expand_image_popup_size:{message:"弹窗的大小"},menu_setting_expand_image_popup_size_scale:{message:"比例 (%)"},menu_setting_expand_image_popup_script_allow:{message:"从链接显示弹窗的条件"},menu_setting_expand_image_reduced_image:{message:"小图片设置"},menu_setting_expand_image_reduced_image_check_box_container:{message:"启用 / 禁用"},menu_setting_expand_image_popup_enable_popup:{message:"如果你的鼠标悬停在小图片上，弹出窗口显示。"},menu_setting_expand_image_reduced_image_allow_slcale_less_then:{message:"显示弹出窗口的条件"},menu_setting_expand_image_reduced_image_allow_slcale_less_then_text:{message:"如果放大倍数小于"},menu_setting_expand_image_load:{message:"加载图片设置"},menu_setting_expand_image_load_check_box_container:{message:"加载图片设置"},menu_setting_expand_image_load_enable_notify:{message:"显示进度。"},menu_setting_expand_image_load_start_type:{message:"如何加载图片"},menu_setting_expand_image_load_start_type_preload:{message:"预加载"},menu_setting_expand_image_load_start_type_scroll:{message:"滚动结合"},menu_setting_expand_image_load_src_type:{message:"Image Source Format"},menu_setting_expand_image_load_src_type_combo_box_item_url:{message:"URL (except mixed content)"},menu_setting_expand_image_load_src_type_combo_box_item_blob_url:{message:"Blob URL (all)"},menu_setting_expand_image_load_decode:{message:"Decode Image Setting"},menu_setting_expand_image_load_decode_combo_box_item_auto:{message:"Browser default"},menu_setting_expand_image_load_decode_combo_box_item_pre_decode:{message:"Pre-decode the all"},menu_setting_expand_image_load_unload_check_box_container:{message:"卸载图片设置"},menu_setting_expand_image_load_enable_unload:{message:"启用卸载图片"},menu_setting_expand_image_load_unload:{message:"卸载图片的条件"},menu_setting_expand_image_load_allow_unload_more_then_text:{message:"如果加载超过指定的 MBytes，释放旧的图片。"},menu_setting_expand_sound:{message:"扩展声音定义"},menu_setting_expand_sound_inline:{message:"显示内联设置"},menu_setting_expand_sound_inline_check_box_container:{message:"显示内联设置"},menu_setting_expand_sound_inline_disable_same_text:{message:"如果 URL 相同，不扩展。"},menu_setting_expand_sound_inline_sound_max:{message:"同时显示的最大数目"},menu_setting_expand_sound_inline_script_allow:{message:"从链接显示内联的条件"},menu_setting_expand_sound_inline_script_insert:{message:"音频插入"},menu_setting_expand_sound_inline_element:{message:"HTML 音频元素设置"},menu_setting_expand_sound_inline_element_script_allow:{message:"HTML 音频元素显示的条件"},menu_setting_expand_sound_inline_element_src_type:{message:"Audio Source Format"},menu_setting_expand_sound_inline_element_src_type_combo_box_item_url:{message:"URL (streaming)"},menu_setting_expand_sound_inline_element_src_type_combo_box_item_blob_url:{message:"Blob URL (full)"},menu_setting_expand_sound_inline_soundcloud:{message:"soundcloud.com 设置"},menu_setting_expand_sound_inline_soundcloud_check_box_container:{message:"soundcloud.com 设置"},menu_setting_expand_sound_inline_soundcloud_visible_player_html5:{message:"启用播放器 (HTML5)"},menu_setting_expand_sound_inline_mixcloud:{message:"www.mixcloud.com 设置"},menu_setting_expand_sound_inline_mixcloud_check_box_container:{message:"www.mixcloud.com 设置"},menu_setting_expand_sound_inline_mixcloud_visible_player:{message:"启用播放器"},menu_setting_expand_video:{message:"扩展视频定义"},menu_setting_expand_video_inline:{message:"显示内联设置"},menu_setting_expand_video_inline_check_box_container:{message:"显示内联设置"},menu_setting_expand_video_inline_disable_same_video:{message:"如果 URL 相同，不扩展。"},menu_setting_expand_video_inline_video_max:{message:"同时显示的最大数目"},menu_setting_expand_video_inline_size:{message:"Inline Video Size"},menu_setting_expand_video_inline_width_max:{message:"Maximum allowed width (pixel)"},menu_setting_expand_video_inline_height_max:{message:"Maximum allowed height (pixel)"},menu_setting_expand_video_inline_script_allow:{message:"从链接显示内联的条件"},menu_setting_expand_video_inline_script_insert:{message:"元素插入"},menu_setting_expand_video_inline_element:{message:"HTML 视频元素设置"},menu_setting_expand_video_inline_element_script_allow:{message:" HTML 视频元素显示的条件"},menu_setting_expand_video_inline_element_src_type:{message:"Video Source Format"},menu_setting_expand_video_inline_element_src_type_combo_box_item_url:{message:"URL (streaming)"},menu_setting_expand_video_inline_element_src_type_combo_box_item_blob_url:{message:"Blob URL (full)"},menu_setting_expand_video_inline_youtube:{message:"www.youtube.com 设置"},menu_setting_expand_video_inline_youtube_check_box_container:{message:"www.youtube.com 设置"},menu_setting_expand_video_inline_youtube_visible_video:{message:"启用视频"},menu_setting_expand_video_inline_nicovideo:{message:"www.nicovideo.jp 设置"},menu_setting_expand_video_inline_nicovideo_check_box_container:{message:"www.nicovideo.jp 设置"},menu_setting_expand_video_inline_nicovideo_visible_video:{message:"启用视频"},menu_setting_expand_video_inline_dailymotion:{message:"www.dailymotion.com 设置"},menu_setting_expand_video_inline_dailymotion_check_box_container:{message:"www.dailymotion.com 设置"},menu_setting_expand_video_inline_dailymotion_visible_video:{message:"启用视频"},menu_setting_expand_video_inline_video:{message:"vimeo.com 设置"},menu_setting_expand_video_inline_video_check_box_container:{message:"vimeo.com 设置"},menu_setting_expand_video_inline_video_visible_video:{message:"启用视频"},menu_setting_expand_iframe:{message:"扩展 Iframe 定义"},menu_setting_expand_iframe_inline:{message:"显示内联设置"},menu_setting_expand_iframe_inline_check_box_container:{message:"显示内联设置"},menu_setting_expand_iframe_inline_disable_same_iframe:{message:"如果 URL 相同，不扩展。"},menu_setting_expand_iframe_inline_script_allow:{message:"从链接显示内联的条件"},menu_setting_expand_iframe_inline_script_insert:{message:"HTML 内嵌框架元素插入"},menu_setting_style_sheet:{message:"样式表定义"},menu_setting_style_sheet_expand_text:{message:"扩展文本样式表"},menu_setting_style_sheet_expand_text_element:{message:"HTML 文本区域元素设置"},menu_setting_style_sheet_expand_text_element_inline:{message:"文本内联显示"},menu_setting_style_sheet_expand_text_element_inline_unsafe:{message:"文本内联显示 (unsafe)"},menu_setting_style_sheet_expand_image:{message:"扩展图片样式表"},menu_setting_style_sheet_expand_image_element:{message:"HTML 图片元素设置"},menu_setting_style_sheet_expand_image_element_inline:{message:"图片缩略图显示"},menu_setting_style_sheet_expand_image_element_inline_unsafe:{message:"图片缩略图显示 (unsafe)"},menu_setting_style_sheet_expand_image_element_popup:{message:"图片弹窗显示"},menu_setting_style_sheet_expand_image_element_popup_unsafe:{message:"图片弹窗显示 (unsafe)"},menu_setting_style_sheet_expand_sound:{message:"扩展声音样式表"},menu_setting_style_sheet_expand_sound_element:{message:"HTML 音频元素设置"},menu_setting_style_sheet_expand_sound_element_inline_audio:{message:"音频内联显示"},menu_setting_style_sheet_expand_sound_element_inline_audio_unsafe:{message:"音频内联显示 (unsafe)"},menu_setting_style_sheet_expand_sound_soundcloud:{message:"soundcloud.com 设置"},menu_setting_style_sheet_expand_sound_soundcloud_inline_player_html5:{message:"播放器 (HTML5) 内联显示"},menu_setting_style_sheet_expand_sound_mixcloud:{message:"www.mixcloud.com 设置"},menu_setting_style_sheet_expand_sound_mixcloud_inline_player:{message:"播放器内联显示"},menu_setting_style_sheet_expand_video:{message:"扩展视频样式表"},menu_setting_style_sheet_expand_video_element:{message:"HTML 视频元素设置"},menu_setting_style_sheet_expand_video_element_inline_video:{message:"视频内联显示"},menu_setting_style_sheet_expand_video_element_inline_video_unsafe:{message:"视频内联显示 (unsafe)"},menu_setting_style_sheet_expand_video_youtube:{message:"www.youtube.com 设置"},menu_setting_style_sheet_expand_video_youtube_inline_video:{message:"视频内联显示"},menu_setting_style_sheet_expand_video_nicovideo:{message:"www.nicovideo.jp 设置"},menu_setting_style_sheet_expand_video_nicovideo_inline_video:{message:"视频内联显示"},menu_setting_style_sheet_expand_video_dailymotion:{message:"www.dailymotion.com 设置"},menu_setting_style_sheet_expand_video_dailymotion_inline_video:{message:"视频内联显示"},menu_setting_style_sheet_expand_video_vimeo:{message:"vimeo.com 设置"},menu_setting_style_sheet_expand_video_vimeo_inline_video:{message:"视频内联显示"},menu_setting_style_sheet_expand_iframe:{message:"扩展内嵌框架样式表"},menu_setting_style_sheet_expand_iframe_element:{message:"HTML 内嵌框架样设置"},menu_setting_style_sheet_expand_iframe_element_inline:{message:"内嵌框架样内联显示"},menu_setting_style_sheet_expand_iframe_element_inline_unsafe:{message:"内嵌框架样内联显示 (unsafe)"},menu_setting_experimental:{message:"实验定义"},menu_setting_experimental_revise_scroll:{message:"修改滚动设置"},menu_setting_experimental_revise_scroll_check_box_container:{message:"修改滚动设置"},menu_setting_experimental_revise_scroll_enable:{message:"启用"},menu_setting_experimental_revise_scroll_threshold_vertical:{message:"垂直阈值 ( 0 [顶部] ～ 100 [底部] )"},menu_setting_language:{message:"LANGUAGE (语言设置)"},menu_credit:{message:"致谢"},menu_credit_info_version:{message:"版本"},menu_credit_info_copyright:{message:"版权"},menu_credit_info_translator:{message:"翻译者"},menu_setting_define_list:{message:"定义列表"},menu_setting_define_list_hint:{message:"当你选择列表中的项目时，可以编辑较低的控制。按照从上到下的顺序进行比较。可以选择多个，可以进行多选编辑。灰色是预设设置。不能删除预设的设置。"},menu_setting_define_button_add:{message:"添加"},menu_setting_define_button_delete:{message:"删除"},menu_setting_define_button_move_up:{message:"上移"},menu_setting_define_button_move_down:{message:"下移"},menu_setting_define_button_export:{message:"导出"},menu_setting_define_button_import:{message:"导入"},menu_setting_define_add_dialog:{message:"创建新定义"},menu_setting_define_add_dialog_name:{message:"名称"},menu_setting_define_add_dialog_copy_define:{message:"从现有定义复制"},menu_setting_define_add_dialog_define_list_box_item_new:{message:"创建新的"},menu_setting_define_delete_dialog:{message:"删除定义"},menu_setting_define_delete_dialog_name:{message:"定义名称 (被删除)"},menu_setting_define_delete_dialog_change_define:{message:"替代选择"},menu_setting_define_delete_dialog_define_list_box_item_no_use:{message:"不使用定义"},menu_setting_define_name:{message:"定义名称"},menu_setting_define_export_dialog:{message:"导出定义"},menu_setting_define_export_dialog_export:{message:"导出"},menu_setting_define_export_dialog_export_hint:{message:"请复制文本区域的文本。"},menu_setting_define_import_dialog:{message:"导入定义"},menu_setting_define_import_dialog_explanation:{message:"关于导入的信息"},menu_setting_define_import_dialog_explanation_0:{message:"预设的设置将被覆盖。将添加新的用户设置。"},menu_setting_define_import_dialog_explanation_1:{message:"建议你使用导出功能进行备份。"},menu_setting_define_import_dialog_explanation_2:{message:"请注意，它不包含恶意代码。"},menu_setting_define_import_dialog_import:{message:"导入"},menu_setting_define_import_dialog_import_hint:{message:"请粘贴从导出处输出的文本。"},menu_setting_define_import_dialog_confirm:{message:"确定要导入？"},menu_setting_define_import_alert:{message:"导入的结果"},menu_setting_define_import_alert_success:{message:"导入已经完成。"},menu_setting_define_import_alert_failure:{message:"导入失败！"},menu_setting_define_wildcard_detail:{message:"关于通配符的信息"},menu_setting_define_wildcard_detail_0:{message:'"通配符" 是总在最后执行。'},menu_setting_define_wildcard_detail_1:{message:'"通配符" 适用于所有通信。'},menu_setting_define_wildcard_detail_2:{message:'"通配符" 不是的定义。不能用在 "URL 映射设置"。'},menu_setting_filter_list:{message:"筛选器列表"},menu_setting_filter_list_hint:{message:"当你选择列表中的项目时，可以编辑较低的控制。按照从上到下的顺序进行比较。可以选择多个，可以进行多选编辑。"},menu_setting_filter_button_add:{message:"添加"},menu_setting_filter_button_delete:{message:"删除"},menu_setting_filter_button_prio_up:{message:"优先级+"},menu_setting_filter_button_prio_down:{message:"优先级-"},menu_setting_filter_button_export:{message:"导出"},menu_setting_filter_button_import:{message:"导入"},menu_setting_filter_add_dialog:{message:"创建新的筛选器设置"},menu_setting_filter_add_dialog_name:{message:"名称"},menu_setting_filter_add_dialog_copy_define:{message:"从现有的设置复制。"},menu_setting_filter_add_dialog_define_list_box_item_new:{message:"创建新的"},menu_setting_filter_export_dialog:{message:"导出过滤器"},menu_setting_filter_export_dialog_export:{message:"导出"},menu_setting_filter_export_dialog_export_hint:{message:"请复制文本区域的文本。"},menu_setting_filter_import_dialog:{message:"导入过滤器"},menu_setting_filter_import_dialog_explanation:{message:"关于导入的信息"},menu_setting_filter_import_dialog_explanation_0:{message:"导入的数据被添加到列表的最后。"},menu_setting_filter_import_dialog_explanation_1:{message:"建议你使用导出功能进行备份"},menu_setting_filter_import_dialog_explanation_2:{message:"请注意，它不包含恶意代码。"},menu_setting_filter_import_dialog_import:{message:"导入"},menu_setting_filter_import_dialog_import_hint:{message:"请粘贴从导出处输出的文本。"},menu_setting_filter_import_dialog_confirm:{message:"确定要导入？"},menu_setting_filter_import_alert:{message:"导入的结果"},menu_setting_filter_import_alert_success:{message:"导入已经完成。"},menu_setting_filter_import_alert_failure:{message:"导入失败！"},menu_button_ok:{message:"确定"},menu_button_yes:{message:"是"},menu_button_no:{message:"取消"},menu_script_obj_editer_edit_script:{message:"Edit Script"},menu_script_obj_editer_delete_script:{message:"Delete Script (return to default)"},menu_scriptarea_hint:{message:"用来描述到数组的匿名函数。请注意，它不包含恶意代码。"},menu_scriptarea_unsupport:{message:"UserScript doesn't work now. 😥"},menu_text_regexp_hint:{message:"正则表达式字符串。 [标记] g...重复。 i...不包含。 case-敏感。"},menu_regexp_list_button_add:{message:"添加"},menu_regexp_list_button_delete:{message:"删除"},menu_regexp_list_button_move_up:{message:"上移"},menu_regexp_list_button_move_down:{message:"下移"},menu_setting_url_edit_container_combo_box_item_asterisk:{message:"星号格式"},menu_setting_url_edit_container_combo_box_item_regexp:{message:"正则表达式格式"},menu_setting_url_edit_container_type_asterisk_hint:{message:"介绍 URL。可以使用一个星号。可以指定多行。"},page_expand_popup_menu:{message:"PageExpand 菜单"},context_menu_pageexpand_config:{message:"PageExpand 设置"},context_menu_batch_download_image:{message:"批量下载 (图片)"},context_menu_batch_download_user:{message:"批量下载 (用户)"},context_menu_pageexpand_open_bbs_board:{message:"Open BBS Board"},context_menu_pageexpand_open_bbs_board_run_confirm:{message:"Do you want to run the BBS Board in this page?"},context_menu_pageexpand_config_current_page:{message:"PageExpand 设置当前页"},context_menu_pageexpand_config_current_bbs:{message:"PageExpand 设置当前 BBS"},context_menu_pageexpand_config_current_page_confirm:{message:"PageExpand 设置将仅在以下页面中运行。 \n(目的是防止被注入恶意脚本)\n\n你想打开以下页面吗？\n"},context_menu_pageexpand_config_auto_run_confirm:{message:"你想要在此页面中运行 PageExpand 设置吗？\n(如果此页面被污染，那么恶意脚本将被注入！)"},context_menu_pageexpand_start:{message:"开始 PageExpand"},context_menu_pageexpand_execute_fastest:{message:"执行 PageExpand (最快)"},context_menu_pageexpand_abort:{message:"关于 PageExpand"},context_menu_pageexpand_debug:{message:"PageExpand 调试"}}},us=function(){function e(){var e,t=this.request;for(e in t)delete t[e];t.headers=new Object,t.method="GET",t.url="",t.data=null,t.timeout=Fr.getLoadTimeout(),t.overrideMimeType="",t.responseType="text"}function t(e){var t;for(t in e=this.response)delete e[t];e.readyState=0,e.status=0,e.headers=new bi(""),e.responseURL="",e.redirected=!1,e.response=null,e.responseText="",e.errorText="",e.ok=!1}function n(e){var t;for(t in e=this.progress)delete e[t];e.bytesLoaded=0,e.bytesTotal=0}function a(){return(this.url_parser=Qi(this.request.url)).protocol.match(/^(http|https|ftp|data|blob):/)?(this.url_info=Gr.addURL(this.request.url),!Fr.checkAccessBlock(this.request.url)||(this.response.errorText="Access Block",Fr.getEnableOutputLog()&&ei({type:"AccessBlock",current_url:go(Ts),url:this.request.url,call:"Loader"}),!1)):(this.response.errorText="protocol is not supported.",!1)}function i(){var e=this.onprogress;e&&e(this.progress)}function o(e){var t=this.onload;t&&t(e)}function r(){Vr.addCountError();var e=this.onerror;e&&e(this.response.errorText)}function s(e){var t,n,a,o,r,s,l,c,_,u,p,d,m,g,f,h,x;try{n=!1,r=null,s=null,l=(t=this).request,c=t.response,_=t.progress,u=function(){try{p(),s.abort()}catch(e){}},p=function(){null!==r&&(clearTimeout(r),r=null)},d=function(){n||(n=!0,u(),p(),o&&(o.release(),o=null),a&&(a.release(),a=null))},(a=t._event_dispatcher.createEventHandler("release")).setFunction(function(){d()}),(o=t._event_dispatcher.createEventHandler("abort")).setFunction(function(){d()}),m=function(){d(),e({state:"complete"})},g=function(){n||(c.readyState=4,m())},f=function(e){n||(c.ok=!1,c.status=0,c.readyState=4,c.errorText=e,m())},h=function(e){f(e.message)},s=new AbortController,l.timeout&&(r=setTimeout(function(){r=null,u()},l.timeout)),(x=new Object).signal=s.signal,x.method=l.method,x.headers=function(){var e,t=new Headers,n=l.headers;for(e in n)t.append(e,n[e]);return t}(),x.body=l.data,l.cache&&(x.cache=l.cache),l.redirect&&(x.redirect=l.redirect),fetch(l.url,x).then(function(e){var a,o,r,s,u,p,d,m,x,b,v,w,y,E,k;if(fetch_response=e,c.ok=e.ok,c.readyState=3,c.status=e.status,a=e.headers,o=new Array,a.forEach(function(e,t){o.push(t+": "+e)}),c.headers=new bi(o.join("\r\n")),c.responseURL=e.url,c.redirected=e.redirected,e.body){switch(r=e.body.getReader(),l.responseType){case"blob":k=new Array,s=function(e){k.push(new Blob([e]))},u=function(){var e={type:a.get("Content-Type")};c.response=new Blob(k,e),g()};break;case"arraybufferlist":E=new Array,s=function(e){E.push(e)},u=function(){c.response=E,g()};break;case"arraybuffer":case"dataurischeme":case"binarystring":!function(){var e=new Array;s=function(t){e.push(new Blob([t]))},u=function(){var t,i,o=new FileReader;switch(o.onloadend=function(){n||(o.error?f(o.error):("arraybuffer"==l.responseType?c.response=o.result:c.responseText=o.result,g()))},t={type:a.get("Content-Type")},i=new Blob(e,t),l.responseType){case"arraybuffer":o.readAsArrayBuffer(i);break;case"dataurischeme":o.readAsDataURL(i);break;case"binarystring":o.readAsBinaryString(i)}}}();break;default:w="utf-8",(y=(l.overrideMimeType||"").match(new RegExp("text/plain; charset=([0-9a-zA-Z-_]+)")))&&(w=y[1]),x=new TextDecoder(w),b={stream:!0},v=new Array,s=function(e){var t=new Uint8Array(e);v.push(x.decode(t,b))},u=function(){c.responseText=v.join(""),g()}}p=0,d=parseInt(a.get("Content-Length"))||0,(m=function(){r.read().then(function(e){if(e.done)return r.releaseLock(),void u();p+=e.value.byteLength,_.bytesLoaded=p||0,_.bytesTotal=d||0,i.call(t),s(e.value),m()},h)})()}else g()},h)}catch(t){c.errorText=t.message,d(),e({state:"unsupported"})}}function l(e){var t,n,a,o,r,s,l,c,_,u,p,d,m,g,f;try{for(f in n=!1,s=(t=this).request,l=t.response,c=t.progress,_=function(){try{r.abort()}catch(e){}},u=function(){if(!n){n=!0,_();try{r.onloadend=null,r.onreadystatechange=null,r.onprogress=null}catch(e){}o&&(o.release(),o=null),a&&(a.release(),a=null),r=null}},(a=t._event_dispatcher.createEventHandler("release")).setFunction(function(){u()}),(o=t._event_dispatcher.createEventHandler("abort")).setFunction(function(){u()}),p=function(){u(),e({state:"complete"})},d=function(){n||p()},m=function(e){n||(l.ok=!1,l.status=0,l.readyState=4,l.errorText=e,p())},(r=new XMLHttpRequest).onloadend=function(){switch(l.ok=Boolean(200<=r.status&&r.status<300||304==r.status),l.status=r.status,l.headers=new bi(r.getAllResponseHeaders()),l.responseURL=r.responseURL,l.redirected=Boolean(r.responseURL&&s.url!=r.responseURL),s.responseType){case"blob":case"arraybuffer":l.response=r.response,d();break;case"arraybufferlist":(c=r.response)?(e=new Array,t=0,a=16777216,i=c.size,(o=function(){var r=new FileReader;r.onloadend=function(){n||(r.error?m(r.error):(e.push(r.result),(t+=a)<i?o():(l.response=e,d())))},r.readAsArrayBuffer(c.slice(t,t+a))})()):d();break;case"dataurischeme":case"binarystring":!function(){var e,t=r.response;if(t)switch((e=new FileReader).onloadend=function(){n||(e.error?m(e.error):(l.responseText=e.result,d()))},s.responseType){case"dataurischeme":e.readAsDataURL(t);break;case"binarystring":e.readAsBinaryString(t)}else d()}();break;default:l.responseText=r.responseText,d()}var e,t,a,i,o,c},r.onprogress=function(e){c.bytesLoaded=e.loaded||0,c.bytesTotal=e.total||0,i.call(t)},r.open(s.method,s.url,!0),g=s.headers)r.setRequestHeader(f,g[f]);if(s.overrideMimeType&&r.overrideMimeType&&r.overrideMimeType(s.overrideMimeType),s.timeout&&(r.timeout=s.timeout),s.responseType)switch(s.responseType){case"arraybufferlist":case"dataurischeme":case"binarystring":r.responseType="blob";break;default:r.responseType=s.responseType}r.send(s.data)}catch(t){l.errorText=t.message,u(),e({state:"unsupported"})}}function c(e){var t,n,a,o,r,s,l,c,_,u,p,d,m,g,f,h,x;try{if(n=!1,_=(t=this).request,u=t.response,p=t.progress,d=function(){try{c.abort()}catch(e){}},m=function(){n||(n=!0,d(),r=null,s=null,l=null,o&&(o.release(),o=null),a&&(a.release(),a=null),c=null)},(a=t._event_dispatcher.createEventHandler("release")).setFunction(function(){m()}),(o=t._event_dispatcher.createEventHandler("abort")).setFunction(function(){m()}),g=function(){m(),e({state:"complete"})},f=function(){n||g()},h=function(e){n||(u.ok=!1,u.status=0,u.readyState=4,u.errorText=e,g())},(x=new Object).onprogress=function(e){p.bytesLoaded=e.loaded||0,p.bytesTotal=e.total||0,i.call(t)},x.onload=function(e){l&&l(e)},x.onerror=function(e){h(e)},x.onreadystatechange=function(e){r&&r(e)},r=function(e){2==e.readyState&&s&&s(e),4==e.readyState&&l&&l(e)},s=function(e){u.ok=Boolean(200<=e.status&&e.status<300||304==e.status),u.status=e.status,u.readyState=e.readyState,u.headers=new bi(e.responseHeaders),u.responseURL=e.finalUrl,u.redirected=Boolean(e.finalUrl&&_.url!=e.finalUrl)},l=function(e){switch(l=null,s&&s(e),_.responseType){case"blob":case"arraybuffer":u.response=e.response,f();break;case"arraybufferlist":(c=e.response)?(t=new Array,a=0,i=16777216,o=c.size,(r=function(){var e=new FileReader;e.onloadend=function(){n||(e.error?h(e.error):(t.push(e.result),(a+=i)<o?r():(u.response=t,f())))},e.readAsArrayBuffer(c.slice(a,a+i))})()):f();break;case"dataurischeme":case"binarystring":!function(){var t,a=e.response;if(a)switch((t=new FileReader).onloadend=function(){n||(t.error?h(t.error):(u.responseText=t.result,f()))},_.responseType){case"dataurischeme":t.readAsDataURL(a);break;case"binarystring":t.readAsBinaryString(a)}else f()}();break;default:u.responseText=e.responseText,f()}var t,a,i,o,r,c},x.method=_.method,x.url=_.url,x.headers=_.headers,_.overrideMimeType&&(x.overrideMimeType=_.overrideMimeType),_.timeout&&(x.timeout=_.timeout),_.responseType)switch(_.responseType){case"arraybufferlist":case"dataurischeme":case"binarystring":x.responseType="blob";break;default:x.responseType=_.responseType}_.data&&(x.data=_.data);try{return void(c=GM.xmlHttpRequest(x))}catch(e){}try{return void(c=GM_xmlhttpRequest(x))}catch(e){}throw{message:"GM_xmlhttpRequest is not supported"}}catch(t){u.errorText=t.message,m(),e({state:"unsupported"})}}function _(e,a){function i(){p||(p=!0,_&&(_.removeEventListener("load",s),_.removeEventListener("loadedmetadata",s),_.removeEventListener("error",r)),c&&(c.release(),c=null),l&&(l.release(),l=null),g&&(g.complete(),g.release(),g=null),null!==m&&(clearTimeout(m),m=null))}function o(){p||(i(),a.call(u,_))}function r(){p||(i(),_&&(_.src=""),_=null,a.call(u,null))}function s(){if(!p){if("IMG"==_.tagName&&_.decode&&"pre-decode"==Fr.getDecodeLoadExpandImage())return _.decoding="async",void _.decode().then(o,r);o()}}var l,c,_,u=this,p=!1,m=null,g=Vr.createElement();n.call(u),t.call(u),e.url?((l=u._event_dispatcher.createEventHandler("release")).setFunction(function(){i()}),(c=u._event_dispatcher.createEventHandler("abort")).setFunction(function(){r()}),g.onstart=function(){_=yo(e.tagName),"IMG"==e.tagName||(_.controls=!0,_.autoplay=!1,_.preload="metadata"),_.addEventListener("load",s),_.addEventListener("loadedmetadata",s),_.addEventListener("error",r),_.src=e.url,u.request.timeout&&setTimeout(r,u.request.timeout)},g.onabort=function(){u.abort()},Qi(e.url).protocol.match(/^(blob|data):/)&&(u._queue_attch_type=d),u._queue_attch_type===d?g.attachFirst():g.attachLast()):r()}function u(e){function t(e){e?o.call(i,e):r.call(i)}var n,a,i=this;switch(i.request.cache=Fr.getLoadCacheModeForMedia(),a=Qi(go(Ts)),i.url_parser.protocol.match(/^(blob):/)?"url":i.url_parser.protocol.match(/^(data):/)||a.protocol.match(/^(https):/)&&i.url_parser.protocol.match(/^(http):/)?"blob_url":e.src_type){default:case"url":i.url_info.getCached(function(n,a){!n||n.ok?_.call(i,{tagName:e.tagName,url:i.request.url},function(e){t(e),a&&(e?a.success(!0):a.failure())}):t(null)});break;case"blob_url":n=i.url_info.analyzeBlobURL(),i.url_info.getBlobURL(function(n){_.call(i,{tagName:e.tagName,url:n},t)}),n&&(i.setResponseType("blob"),p.call(i,function(){var e,t=i.response.response;t?(e=di(t),n.success(e)):n.failure()}))}}function p(e){function a(){v||(v=!0,e.call(h))}function i(){p&&(p.release(),p=null),u&&(u.release(),u=null),x&&(x.complete(),x.release(),x=null),command={}}function o(){i(),a()}function r(){n.call(h),t.call(h)}function _(){var e=b[0];e?(r(),e.call(h,function(e){var t=g[e.state];t&&t()})):o()}var u,p,g,f,h=this,x=Vr.createElement(),b=new Array,v=!1;r(),(u=h._event_dispatcher.createEventHandler("release")).setFunction(function(){i()}),(p=h._event_dispatcher.createEventHandler("abort")).setFunction(function(){o()}),g={complete:function(){var e;(e=h.response.headers.getResponseHeader("Content-Type"))&&h.url_info.setMimeType(e),i(),a()},retry:function(){_()},unsupported:function(){b.shift(),_()}},f=Qi(go(Ts)),function(){return!h.url_parser.protocol.match(/blob|data/)&&(this._xhr_type==m||Boolean(f.origin!=h.url_parser.origin))}()?b.push(c):(b.push(s),b.push(l)),x.onstart=function(){_()},x.onabort=function(){h.abort()},h._queue_attch_type===d?x.attachFirst():x.attachLast()}var d=0,m=1,g=function(){this.request=new Object,this.response=new Object,this.progress=new Object,e.call(this),t.call(this),n.call(this),this._event_dispatcher=new Rt,this.setTimeout(Fr.getLoadTimeout())};return g.prototype={release:function(){this._event_dispatcher.dispatchEvent("release",null),this._event_dispatcher&&(this._event_dispatcher.release(),this._event_dispatcher=null)},abort:function(){this._event_dispatcher.dispatchEvent("abort",null)},onload:function(){},onerror:function(){},onprogress:function(){},setRequestHeader:function(e,t){this.request.headers[e]=t},overrideMimeType:function(e){this.request.overrideMimeType=e},setTimeout:function(e){this.request.timeout=e||0},setMethod:function(e){this.request.method=(e||"").toLowerCase()},setURL:function(e){this.request.url=e},setResponseType:function(e){this.request.responseType=(e||"").toLowerCase()},setSendData:function(e){this.request.data=e},loadResponseHeader:function(){var e=this;a.call(e)?(this.setMethod("head"),this.setResponseType("blob"),p.call(e,function(){var t=e.response;t.ok?o.call(e,t.headers):r.call(e)})):r.call(e)},load:function(){var e=this;a.call(e)?p.call(e,function(){var t=e.response;t.ok?o.call(e,t):r.call(e)}):r.call(e)},loadText:function(){var e=this;a.call(e)?(this.setResponseType("text"),e._queue_attch_type=d,p.call(e,function(){var t=e.response;t.ok?o.call(e,t.responseText):r.call(e)})):r.call(e)},loadDataUriScheme:function(){var e=this;a.call(e)?(this.setResponseType("dataurischeme"),p.call(e,function(){var t=e.response;t.ok?o.call(e,t.responseText):r.call(e)})):r.call(e)},loadImage:function(){if(a.call(this)){var e={tagName:"IMG"};e.src_type=Fr.getSourceLoadExpandImage(),u.call(this,e)}else r.call(this)},loadAudio:function(){if(a.call(this)){if(!Ts.HTMLAudioElement)return this.response.errorText="not support HTMLAudioElement",void r.call(_this);var e={tagName:"AUDIO"};e.src_type=Fr.getSourceAudioElement(),u.call(this,e)}else r.call(this)},loadVideo:function(){if(a.call(this)){if(!Ts.HTMLVideoElement)return this.response.errorText="not support HTMLVideoElement",void r.call(_this);var e={tagName:"VIDEO"};e.src_type=Fr.getSourceVideoElement(),u.call(this,e)}else r.call(this)},loadFinalURL:function(){function e(e){s=Gr.addURL(e),l.success(s)}function t(){l.failure()}var n,i,s,l,c,_=this;a.call(_)?(n=16,i=_.request.url,s=Gr.addURL(_.request.url),_.setTimeout(1e4),_.setResponseType("text"),_._xhr_type=m,_._queue_attch_type=d,c={300:1,301:1,302:1,303:1,307:1,308:1},function u(){l=s.analyzeRedirect(),s.getRedirect(function(e){n-=1,!e||n<=0?Gr.getRedirectURL(i,function(e){e.redirected?o.call(_,e.url_info.getURL()):r.call()}):(s=e,u())}),l&&(_.setURL(s.getURL()),a.call(_)?(_.setMethod("HEAD"),p.call(_,function(){var n,a,i=_.response,o=i.headers;if(c[i.status]&&(n=o.getResponseHeader("Location")))e(n);else{if(!i.redirected)return!i.ok||!(a=parseInt(o.getResponseHeader("Content-Length"))||0)||a>10240||!o.getResponseHeader("Content-Type").match(/^text[/]/)?void t():(_.setMethod("GET"),void p.call(_,function(){var n=null,a=_.response.responseText.match(new RegExp('<meta[^>]http-equiv[ \n\r\t]*=[ \n\r\t]*"refresh"[^>]*>',"i"));a&&(a=a[0].match(new RegExp('content[ \n\r\t]*=[ \n\r\t]*"[0-9]+;URL=([^"]+)"',"i")))&&(n=a[1]),n?e(n):t()}));e(i.responseURL)}})):t())}()):r.call(_)},request:{},response:{},progress:{},url_parser:null,url_info:null,_queue_attch_type:1,_xhr_type:0},g}(),yt.NOTIFY_TYPE_UNKNOWN=0,yt.NOTIFY_TYPE_LOADING=1,yt.NOTIFY_TYPE_COMPLETE=2,yt.NOTIFY_TYPE_ERROR=3,yt.NOTIFY_TYPE_RELEASE=4,ps=1,ds=2,ms=2,Ns={image:{png:"png",bmp:"bmp",gif:"gif",jpg:"jpg",jpeg:"jpeg","svg+xml":"svg",tiff:"tiff",webp:"webp","vnd.microsoft.icon":"ico"},audio:{aac:"aac",midi:"mid","x-midi":"mid",mpeg:"mp3",ogg:"oga",wav:"wav",webm:"weba"},video:{"x-msvideo":"avi",mpeg:"mpeg",ogg:"ogv",mp2t:"ts",webm:"webm",mp4:"mp4"},text:{css:"css",csv:"csv",html:"html",javascript:"js",plain:"txt"},application:{"octet-stream":"bin","x-bzip":"bz","x-bzip2":"bz2",gzip:"gz",json:"json","x-httpd-php":"php","vnd.rar":"rar",rtf:"rtf","x-tar":"tar",xml:"xml",zip:"zip","x-7z-compressed":"7z"}},gs=function(e){var t,n="",a="",i=(e||"").match(/(.*)[/](.*)/);return i?(n=i[1].toLowerCase(),a=i[2].toLowerCase(),(t=Ns[n])&&t[a]||""):""},fs=function(){var e={png:"image/png",bmp:"image/bmp",gif:"image/gif",jpg:"image/jpg",jpeg:"image/jpeg",svg:"image/svg+xml",tiff:"image/tiff",webp:"image/webp",ico:"image/vnd.microsoft.icon",aac:"audio/aac",mid:"audio/midi",mp3:"audio/mpeg",oga:"audio/ogg",wav:"audio/wav",weba:"audio/webm",avi:"video/x-msvideo",mpeg:"video/mpeg",ogv:"video/ogg",ts:"video/mp2t",webm:"video/webm",mp4:"video/mp4",css:"text/css",csv:"text/csv",html:"text/html",js:"text/javascript",txt:"text/plain",bin:"application/octet-stream",bz:"application/x-bzip",bz2:"application/x-bzip2",gz:"application/gzip",json:"application/json",php:"application/x-httpd-php",rar:"application/vnd.rar",rtf:"application/rtf",tar:"application/x-tar",xml:"application/xml",zip:"application/zip","7z":"application/x-7z-compressed"};return function(t){return e[(t||"").toLowerCase()]||""}}(),wi.isSupported=function(){try{if(GM.openInTab)return!0}catch(e){}try{if(GM_openInTab)return!0}catch(e){}return!1},yi.isSupported=function(){try{if(GM.xmlHttpRequest)return!0}catch(e){}try{if(GM_xmlhttpRequest)return!0}catch(e){}return!1},Ei.isSupported=function(){try{if(GM.getValue)return!0}catch(e){}try{if(GM_getValue)return!0}catch(e){}return!1},ki.isSupported=function(){try{if(GM.registerMenuCommand)return!0}catch(e){}try{if(GM_registerMenuCommand)return!0}catch(e){}return!1},Fs=["ガ","ギ","グ","ゲ","ゴ","ザ","ジ","ズ","ゼ","ゾ","ダ","ヂ","ヅ","デ","ド","バ","ビ","ブ","ベ","ボ"],Os=new RegExp("ｶﾞ|ｷﾞ|ｸﾞ|ｹﾞ|ｺﾞ|ｻﾞ|ｼﾞ|ｽﾞ|ｾﾞ|ｿﾞ|ﾀﾞ|ﾁﾞ|ﾂﾞ|ﾃﾞ|ﾄﾞ|ﾊﾞ|ﾋﾞ|ﾌﾞ|ﾍﾞ|ﾎﾞ","g"),Ds=["パ","ピ","プ","ペ","ポ"],js=new RegExp("ﾊﾟ|ﾋﾟ|ﾌﾟ|ﾍﾟ|ﾎﾟ","g"),zs=["。","「","」","、","・","ヲ","ァ","ィ","ゥ","ェ","ォ","ャ","ュ","ョ","ッ","ー","ア","イ","ウ","エ","オ","カ","キ","ク","ケ","コ","サ","シ","ス","セ","ソ","タ","チ","ツ","テ","ト","ナ","ニ","ヌ","ネ","ノ","ハ","ヒ","フ","ヘ","ホ","マ","ミ","ム","メ","モ","ヤ","ユ","ヨ","ラ","リ","ル","レ","ロ","ワ","ン","゛","゜"],Ps=new RegExp("[｡-ﾟ]","g"),hs=function(e){return(e=(e=e.replace(Os,function(e){var t=e.charCodeAt(0);return t<=65409?Fs[t-65398]:t>=65418?Fs[t-65418+15]:Fs[t-65410+12]})).replace(js,function(e){var t=e.charCodeAt(0);return Ds[t-65418]})).replace(Ps,function(e){return zs[e.charCodeAt(0)-65377]})},Vs=new Object,Vs["。"]="｡",Vs["「"]="｢",Vs["」"]="｣",Vs["、"]="､",Vs["・"]="･",Vs["ヲ"]="ｦ",Vs["ァ"]="ｧ",Vs["ィ"]="ｨ",Vs["ゥ"]="ｩ",Vs["ェ"]="ｪ",Vs["ォ"]="ｫ",Vs["ャ"]="ｬ",Vs["ュ"]="ｭ",Vs["ョ"]="ｮ",Vs["ッ"]="ｯ",Vs["ー"]="ｰ",Vs["ア"]="ｱ",Vs["イ"]="ｲ",Vs["ウ"]="ｳ",Vs["エ"]="ｴ",Vs["オ"]="ｵ",Vs["カ"]="ｶ",Vs["キ"]="ｷ",Vs["ク"]="ｸ",Vs["ケ"]="ｹ",Vs["コ"]="ｺ",Vs["サ"]="ｻ",Vs["シ"]="ｼ",Vs["ス"]="ｽ",Vs["セ"]="ｾ",Vs["ソ"]="ｿ",Vs["タ"]="ﾀ",Vs["チ"]="ﾁ",Vs["ツ"]="ﾂ",Vs["テ"]="ﾃ",Vs["ト"]="ﾄ",Vs["ナ"]="ﾅ",Vs["ニ"]="ﾆ",Vs["ヌ"]="ﾇ",Vs["ネ"]="ﾈ",Vs["ノ"]="ﾉ",Vs["ハ"]="ﾊ",Vs["ヒ"]="ﾋ",Vs["フ"]="ﾌ",Vs["ヘ"]="ﾍ",Vs["ホ"]="ﾎ",Vs["マ"]="ﾏ",Vs["ミ"]="ﾐ",Vs["ム"]="ﾑ",Vs["メ"]="ﾒ",Vs["モ"]="ﾓ",Vs["ヤ"]="ﾔ",Vs["ユ"]="ﾕ",Vs["ヨ"]="ﾖ",Vs["ラ"]="ﾗ",Vs["リ"]="ﾘ",Vs["ル"]="ﾙ",Vs["レ"]="ﾚ",Vs["ロ"]="ﾛ",Vs["ワ"]="ﾜ",Vs["ン"]="ﾝ",Vs["゛"]="ﾞ",Vs["゜"]="ﾟ",Vs["ガ"]="ｶﾞ",Vs["ギ"]="ｷﾞ",Vs["グ"]="ｸﾞ",Vs["ゲ"]="ｹﾞ",Vs["ゴ"]="ｺﾞ",Vs["ザ"]="ｻﾞ",Vs["ジ"]="ｼﾞ",Vs["ズ"]="ｽﾞ",Vs["ゼ"]="ｾﾞ",Vs["ゾ"]="ｿﾞ",Vs["ダ"]="ﾀﾞ",Vs["ヂ"]="ﾁﾞ",Vs["ヅ"]="ﾂﾞ",Vs["デ"]="ﾃﾞ",Vs["ド"]="ﾄﾞ",Vs["バ"]="ﾊﾞ",Vs["ビ"]="ﾋﾞ",Vs["ブ"]="ﾌﾞ",Vs["ベ"]="ﾍﾞ",Vs["ボ"]="ﾎﾞ",Vs["パ"]="ﾊﾟ",Vs["ピ"]="ﾋﾟ",Vs["プ"]="ﾌﾟ",Vs["ペ"]="ﾍﾟ",Vs["ポ"]="ﾎﾟ",Us=new RegExp("[、。「」゛゜ァ-ロワヲン・ー]","g"),xs=function(e){return e.replace(Us,function(e){return Vs[e]})},bs={globals:{accesskey:!0,class:!0,contenteditable:!0,dir:!0,draggable:!0,dropzone:!0,hidden:!0,id:!0,lang:!0,spellcheck:!0,style:!0,tabindex:!0,title:!0,translate:!0},elements:{A:{allow:!0,attributes:{href:!0,target:!0,download:!0,rel:!0,hreflang:!0,type:!0}},ABBR:{allow:!0,attributes:{}},ADDRESS:{allow:!0,attributes:{}},AREA:{allow:!0,attributes:{alt:!0,coords:!0,shape:!0,href:!0,target:!0,download:!0,rel:!0,hreflang:!0,type:!0}},ARTICLE:{allow:!0,attributes:{}},ASIDE:{allow:!0,attributes:{}},AUDIO:{allow:!0,attributes:{src:!0,crossorigin:!0,preload:!0,autoplay:!0,mediagroup:!0,loop:!0,muted:!0,controls:!0}},B:{allow:!0,attributes:{}},BASE:{allow:!0,attributes:{href:!0,target:!0}},BDI:{allow:!0,attributes:{}},BDO:{allow:!0,attributes:{}},BLOCKQUOTE:{allow:!0,attributes:{cite:!0}},BODY:{allow:!1,attributes:{}},BR:{allow:!0,attributes:{}},BUTTON:{allow:!0,attributes:{autofocus:!0,disabled:!0,form:!0,formaction:!0,formenctype:!0,formmethod:!0,formnovalidate:!0,formtarget:!0,name:!0,type:!0,value:!0}},CANVAS:{allow:!0,attributes:{width:!0,height:!0}},CAPTION:{allow:!0,attributes:{}},CITE:{allow:!0,attributes:{}},CODE:{allow:!0,attributes:{}},COL:{allow:!0,attributes:{span:!0}},COLGROUP:{allow:!0,attributes:{span:!0}},DATA:{allow:!0,attributes:{value:!0}},DATALIST:{allow:!0,attributes:{}},DD:{allow:!0,attributes:{}},DEL:{allow:!0,attributes:{cite:!0,datetime:!0}},DETAILS:{allow:!0,attributes:{open:!0}},DFN:{allow:!0,attributes:{}},DIALOG:{allow:!0,attributes:{open:!0}},DIV:{allow:!0,attributes:{}},DL:{allow:!0,attributes:{}},DT:{allow:!0,attributes:{}},EM:{allow:!0,attributes:{}},EMBED:{allow:!1,attributes:{src:!0,type:!0,width:!0,height:!0,"any*":!0}},FIELDSET:{allow:!0,attributes:{disabled:!0,form:!0,name:!0}},FIGCAPTION:{allow:!0,attributes:{}},FIGURE:{allow:!0,attributes:{}},FOOTER:{allow:!0,attributes:{}},FORM:{allow:!0,attributes:{"accept-charset":!0,action:!0,autocomplete:!0,enctype:!0,method:!0,name:!0,novalidate:!0,target:!0}},H1:{allow:!0,attributes:{}},H2:{allow:!0,attributes:{}},H3:{allow:!0,attributes:{}},H4:{allow:!0,attributes:{}},H5:{allow:!0,attributes:{}},H6:{allow:!0,attributes:{}},HEAD:{allow:!1,attributes:{}},HEADER:{allow:!0,attributes:{}},HR:{allow:!0,attributes:{}},HTML:{allow:!1,attributes:{manifest:!0}},I:{allow:!0,attributes:{}},IFRAME:{allow:!1,attributes:{src:!0,srcdoc:!0,name:!0,sandbox:!0,seamless:!0,width:!0,height:!0}},IMG:{allow:!0,attributes:{alt:!0,src:!0,crossorigin:!0,usemap:!0,ismap:!0,width:!0,height:!0}},INPUT:{allow:!0,attributes:{accept:!0,alt:!0,autocomplete:!0,autofocus:!0,checked:!0,dirname:!0,disabled:!0,form:!0,formaction:!0,formenctype:!0,formmethod:!0,formnovalidate:!0,formtarget:!0,height:!0,list:!0,max:!0,maxlength:!0,min:!0,minlength:!0,multiple:!0,name:!0,pattern:!0,placeholder:!0,readonly:!0,required:!0,size:!0,src:!0,step:!0,type:!0,value:!0,width:!0}},INS:{allow:!0,attributes:{cite:!0,datetime:!0}},KBD:{allow:!0,attributes:{}},KEYGEN:{allow:!0,attributes:{autofocus:!0,challenge:!0,disabled:!0,form:!0,keytype:!0,name:!0}},LABEL:{allow:!0,attributes:{form:!0,for:!0}},LEGEND:{allow:!0,attributes:{}},LI:{allow:!0,attributes:{"value*":!0}},LINK:{allow:!0,attributes:{href:!0,crossorigin:!0,rel:!0,media:!0,hreflang:!0,type:!0,sizes:!0}},MAIN:{allow:!0,attributes:{"":!0}},MAP:{allow:!0,attributes:{name:!0}},MARK:{allow:!0,attributes:{}},META:{allow:!0,attributes:{name:!0,"http-equiv":!0,content:!0,charset:!0}},METER:{allow:!0,attributes:{value:!0,min:!0,max:!0,low:!0,high:!0,optimum:!0}},NAV:{allow:!0,attributes:{}},NOSCRIPT:{allow:!0,attributes:{}},OBJECT:{allow:!0,attributes:{data:!0,type:!0,typemustmatch:!0,name:!0,usemap:!0,form:!0,width:!0,height:!0}},OL:{allow:!0,attributes:{reversed:!0,start:!0,type:!0}},OPTGROUP:{allow:!0,attributes:{disabled:!0,label:!0}},OPTION:{allow:!0,attributes:{disabled:!0,label:!0,selected:!0,value:!0}},OUTPUT:{allow:!0,attributes:{for:!0,form:!0,name:!0}},P:{allow:!0,attributes:{}},PARAM:{allow:!0,attributes:{name:!0,value:!0}},PRE:{allow:!0,attributes:{}},PROGRESS:{allow:!0,attributes:{value:!0,max:!0}},Q:{allow:!0,attributes:{cite:!0}},RB:{allow:!0,attributes:{}},RP:{allow:!0,attributes:{}},RT:{allow:!0,attributes:{}},RTC:{allow:!0,attributes:{}},RUBY:{allow:!0,attributes:{}},S:{allow:!0,attributes:{}},SAMP:{allow:!0,attributes:{}},SCRIPT:{allow:!1,attributes:{src:!0,type:!0,charset:!0,async:!0,defer:!0,crossorigin:!0}},SECTION:{allow:!0,attributes:{}},SELECT:{allow:!0,attributes:{autofocus:!0,disabled:!0,form:!0,multiple:!0,name:!0,required:!0,size:!0}},SMALL:{allow:!0,attributes:{}},SOURCE:{allow:!0,attributes:{src:!0,type:!0,media:!0}},SPAN:{allow:!0,attributes:{}},STRONG:{allow:!0,attributes:{}},STYLE:{allow:!1,attributes:{media:!0,type:!0,scoped:!0}},SUB:{allow:!0,attributes:{}},SUMMARY:{allow:!0,attributes:{}},SUP:{allow:!0,attributes:{}},TABLE:{allow:!0,attributes:{border:!0}},TBODY:{allow:!0,attributes:{}},TD:{allow:!0,attributes:{colspan:!0,rowspan:!0,headers:!0}},TEMPLATE:{allow:!0,attributes:{}},TEXTAREA:{allow:!0,attributes:{autofocus:!0,cols:!0,dirname:!0,disabled:!0,form:!0,maxlength:!0,minlength:!0,name:!0,placeholder:!0,readonly:!0,required:!0,rows:!0,wrap:!0}},TFOOT:{allow:!0,attributes:{}},TH:{allow:!0,attributes:{colspan:!0,rowspan:!0,headers:!0,scope:!0,abbr:!0}},THEAD:{allow:!0,attributes:{}},TIME:{allow:!0,attributes:{datetime:!0}},TITLE:{allow:!0,attributes:{}},TR:{allow:!0,attributes:{}},TRACK:{allow:!0,attributes:{default:!0,kind:!0,label:!0,src:!0,srclang:!0}},U:{allow:!0,attributes:{}},UL:{allow:!0,attributes:{}},VAR:{allow:!0,attributes:{}},VIDEO:{allow:!0,attributes:{src:!0,crossorigin:!0,poster:!0,preload:!0,autoplay:!0,mediagroup:!0,loop:!0,muted:!0,controls:!0,width:!0,height:!0}},WBR:{allow:!0,attributes:{}}}},vs={globals:{class:!0,dir:!0,id:!0,lang:!0,style:!0,title:!0},elements:{A:{allow:!0,attributes:{accesskey:!0,charset:!0,coords:!0,href:!0,hreflang:!0,name:!0,rel:!0,rev:!0,shape:!0,tabindex:!0,target:!0,type:!0}},ABBR:{allow:!0,attributes:{}},ACRONYM:{allow:!0,attributes:{}},ADDRESS:{allow:!0,attributes:{}},APPLET:{allow:!1,attributes:{align:!0,alt:!0,archive:!0,code:!0,codebase:!0,height:!0,hspace:!0,name:!0,object:!0,vspace:!0,width:!0}},AREA:{allow:!0,attributes:{accesskey:!0,alt:!0,coords:!0,href:!0,nohref:!0,shape:!0,tabindex:!0,target:!0}},B:{allow:!0,attributes:{}},BASE:{allow:!0,attributes:{href:!0,target:!0}},BASEFONT:{allow:!0,attributes:{color:!0,face:!0,size:!0}},BDO:{allow:!0,attributes:{dir:!0}},BIG:{allow:!0,attributes:{}},BLOCKQUOTE:{allow:!0,attributes:{cite:!0}},BODY:{allow:!1,attributes:{alink:!0,background:!0,bgcolor:!0,link:!0,text:!0,vlink:!0}},BR:{allow:!0,attributes:{clear:!0}},BUTTON:{allow:!0,attributes:{accesskey:!0,disabled:!0,name:!0,tabindex:!0,type:!0,value:!0}},CAPTION:{allow:!0,attributes:{align:!0}},CENTER:{allow:!0,attributes:{}},CITE:{allow:!0,attributes:{}},CODE:{allow:!0,attributes:{}},COL:{allow:!0,attributes:{align:!0,char:!0,charoff:!0,span:!0,valign:!0,width:!0}},COLGROUP:{allow:!0,attributes:{align:!0,char:!0,charoff:!0,span:!0,valign:!0,width:!0}},DD:{allow:!0,attributes:{}},DEL:{allow:!0,attributes:{cite:!0,datetime:!0}},DFN:{allow:!0,attributes:{}},DIR:{allow:!0,attributes:{compact:!0}},DIV:{allow:!0,attributes:{align:!0}},DL:{allow:!0,attributes:{compact:!0}},DT:{allow:!0,attributes:{}},EM:{allow:!0,attributes:{}},FIELDSET:{allow:!0,attributes:{}},FONT:{allow:!0,attributes:{color:!0,face:!0,size:!0}},FORM:{allow:!0,attributes:{"accept-charset":!0,accept:!0,action:!0,enctype:!0,method:!0,name:!0,target:!0}},FRAME:{allow:!1,attributes:{frameborder:!0,longdesc:!0,marginheight:!0,marginwidth:!0,name:!0,noresize:!0,scrolling:!0,src:!0}},FRAMESET:{allow:!1,attributes:{cols:!0,rows:!0}},H1:{allow:!0,attributes:{align:!0}},H2:{allow:!0,attributes:{align:!0}},H3:{allow:!0,attributes:{align:!0}},H4:{allow:!0,attributes:{align:!0}},H5:{allow:!0,attributes:{align:!0}},H6:{allow:!0,attributes:{align:!0}},HEAD:{allow:!1,attributes:{profile:!0}},HR:{allow:!0,attributes:{align:!0,noshade:!0,size:!0,width:!0}},HTML:{allow:!1,attributes:{version:!0}},I:{allow:!0,attributes:{}},IFRAME:{allow:!1,attributes:{align:!0,frameborder:!0,height:!0,longdesc:!0,marginheight:!0,marginwidth:!0,name:!0,scrolling:!0,src:!0,width:!0}},IMG:{allow:!0,attributes:{align:!0,alt:!0,border:!0,height:!0,hspace:!0,ismap:!0,longdesc:!0,name:!0,src:!0,usemap:!0,vspace:!0,width:!0}},INPUT:{allow:!0,attributes:{accept:!0,accesskey:!0,align:!0,alt:!0,checked:!0,disabled:!0,ismap:!0,maxlength:!0,name:!0,readonly:!0,size:!0,src:!0,tabindex:!0,type:!0,usemap:!0,value:!0}},INS:{allow:!0,attributes:{cite:!0,datetime:!0}},ISINDEX:{allow:!0,attributes:{prompt:!0}},KBD:{allow:!0,attributes:{}},LABEL:{allow:!0,attributes:{accesskey:!0,for:!0}},LEGEND:{allow:!0,attributes:{accesskey:!0,align:!0}},LI:{allow:!0,attributes:{type:!0,value:!0}},LINK:{allow:!0,attributes:{charset:!0,href:!0,hreflang:!0,media:!0,rel:!0,rev:!0,target:!0,type:!0}},MAP:{allow:!0,attributes:{name:!0}},MENU:{allow:!0,attributes:{compact:!0}},META:{allow:!0,attributes:{content:!0,"http-equiv":!0,name:!0,scheme:!0}},NOFRAMES:{allow:!0,attributes:{}},NOSCRIPT:{allow:!0,attributes:{}},OBJECT:{allow:!1,attributes:{align:!0,archive:!0,border:!0,classid:!0,codebase:!0,codetype:!0,data:!0,declare:!0,height:!0,hspace:!0,name:!0,standby:!0,tabindex:!0,type:!0,usemap:!0,vspace:!0,width:!0}},OL:{allow:!0,attributes:{compact:!0,start:!0,type:!0}},OPTGROUP:{allow:!0,attributes:{disabled:!0,label:!0}},OPTION:{allow:!0,attributes:{disabled:!0,label:!0,selected:!0,value:!0}},P:{allow:!0,attributes:{align:!0}},PARAM:{allow:!0,attributes:{name:!0,type:!0,value:!0,valuetype:!0}},PRE:{allow:!0,attributes:{width:!0}},Q:{allow:!0,attributes:{cite:!0}},S:{allow:!0,attributes:{}},SAMP:{allow:!0,attributes:{}},SCRIPT:{allow:!1,attributes:{charset:!0,defer:!0,language:!0,src:!0,type:!0}},SELECT:{allow:!0,attributes:{disabled:!0,multiple:!0,name:!0,size:!0,tabindex:!0}},SMALL:{allow:!0,attributes:{}},SPAN:{allow:!0,attributes:{}},STRIKE:{allow:!0,attributes:{}},STRONG:{allow:!0,attributes:{}},STYLE:{allow:!1,attributes:{media:!0,type:!0}},SUB:{allow:!0,attributes:{}},SUP:{allow:!0,attributes:{}},TABLE:{allow:!0,attributes:{align:!0,bgcolor:!0,border:!0,cellpadding:!0,cellspacing:!0,frame:!0,rules:!0,summary:!0,width:!0}},TBODY:{allow:!0,attributes:{align:!0,char:!0,charoff:!0,valign:!0}},TD:{allow:!0,attributes:{abbr:!0,align:!0,axis:!0,bgcolor:!0,char:!0,charoff:!0,colspan:!0,headers:!0,height:!0,nowrap:!0,rowspan:!0,scope:!0,valign:!0,width:!0}},TEXTAREA:{allow:!0,attributes:{accesskey:!0,cols:!0,disabled:!0,name:!0,readonly:!0,rows:!0,tabindex:!0}},TFOOT:{allow:!0,attributes:{align:!0,char:!0,charoff:!0,valign:!0}},TH:{allow:!0,attributes:{abbr:!0,align:!0,axis:!0,bgcolor:!0,char:!0,charoff:!0,colspan:!0,headers:!0,height:!0,nowrap:!0,rowspan:!0,scope:!0,valign:!0,width:!0}},THEAD:{allow:!0,attributes:{align:!0,char:!0,charoff:!0,valign:!0}},TITLE:{allow:!0,attributes:{}},TR:{allow:!0,attributes:{align:!0,bgcolor:!0,char:!0,charoff:!0,valign:!0}},TT:{allow:!0,attributes:{}},U:{allow:!0,attributes:{}},UL:{allow:!0,attributes:{compact:!0,type:!0}},VAR:{allow:!0,attributes:{}}}},Bs=new RegExp("^([-0-9.]+)px$","i"),Hs=[{style:"paddingLeft",key:"left",sign:1},{style:"paddingRight",key:"right",sign:-1},{style:"paddingTop",key:"top",sign:1},{style:"paddingBottom",key:"bottom",sign:-1},{style:"borderLeftWidth",key:"left",sign:1},{style:"borderRightWidth",key:"right",sign:-1},{style:"borderTopWidth",key:"top",sign:1},{style:"borderBottomWidth",key:"bottom",sign:-1}],ws=function(e){var t,n,a,i,o=jo(e),r=Ho(e,null);if(r)for(n=Hs.length,t=0;t<n;t++)r[(a=Hs[t]).style]&&(i=r[a.style].match(Bs))&&(o[a.key]+=parseFloat(i[0])*a.sign);return o},ys=function(){var e=new RegExp("([-0-9.]+)px","i"),t=[{i:"width",o:"width"},{i:"height",o:"height"},{i:"paddingLeft",o:"paddingLeft"},{i:"paddingTop",o:"paddingTop"},{i:"paddingRight",o:"paddingRight"},{i:"paddingBottom",o:"paddingBottom"},{i:"borderLeftWidth",o:"borderLeft"},{i:"borderTopWidth",o:"borderTop"},{i:"borderRightWidth",o:"borderRight"},{i:"borderBottomWidth",o:"borderBottom"},{i:"marginLeft",o:"marginLeft"},{i:"marginTop",o:"marginTop"},{i:"marginRight",o:"marginRight"},{i:"marginBottom",o:"marginBottom"}];return function(n){var a,i,o,r=t.length,s=new Object;for(a=0;a<r;a++)o=n[(i=t[a]).i].match(e),s[i.o]=o?parseFloat(o[1]):0;return s.clientWidth=s.width+s.paddingLeft+s.paddingRight,s.clientHeight=s.height+s.paddingTop+s.paddingBottom,s.offsetWidth=s.clientWidth+s.borderLeft+s.borderRight,s.offsetHeight=s.clientHeight+s.borderTop+s.borderBottom,s}}(),Es=function(){var e=new RegExp("([-0-9.]+)px","i"),t=[{i:"borderLeftWidth",o:"left"},{i:"borderRightWidth",o:"top"},{i:"borderTopWidth",o:"right"},{i:"borderBottomWidth",o:"bottom"}];return function(n){var a,i,o,r=t.length,s=new Object;for(a=0;a<r;a++)o=n[(i=t[a]).i].match(e),s[i.o]=o?parseFloat(o[1]):0;return s}}(),$o.prototype={identity:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0},translate:function(e,t){this.tx+=e,this.ty+=t},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),a=this.a,i=this.c,o=this.tx;this.a=a*t+this.b*-n,this.b=a*n+this.b*t,this.c=i*t+this.d*-n,this.d=i*n+this.d*t,this.tx=o*t+this.ty*-n,this.ty=o*n+this.ty*t},scale:function(e,t){this.a=this.a*e,this.b=this.b*t,this.c=this.c*e,this.d=this.d*t,this.tx=this.tx*e,this.ty=this.ty*t},multiply:function(e){var t=this.a,n=this.c,a=this.tx;this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d,this.tx=a*e.a+this.ty*e.c+e.tx,this.ty=a*e.b+this.ty*e.d+e.ty},transformPosition:function(e){return{x:e.x*this.a+e.y*this.c+this.tx,y:e.x*this.b+e.y*this.d+this.ty}},transformVector:function(e){return{x:e.x*this.a+e.y*this.c,y:e.x*this.b+e.y*this.d}},invert:function(){var e,t,n,a=this.a,i=this.b,o=this.c,r=this.d,s=this.tx,l=this.ty;this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,e=i,t=r,n=l,a&&(this.a/=a,e/=a),t-=o*e,this.c-=o*this.a,n-=s*e,this.tx-=s*this.a,t&&(this.c/=t),this.tx-=n*this.c,this.a-=e*this.c,a&&(this.b/=a,i/=a),r-=o*i,this.d-=o*this.b,l-=s*i,this.ty-=s*this.b,r&&(this.d/=r),this.ty-=l*this.d,this.b-=i*this.d},clone:function(){return new $o(this.a,this.b,this.c,this.d,this.tx,this.ty)},toString:function(){return"matrix("+this.a.toFixed(20)+","+this.b.toFixed(20)+","+this.c.toFixed(20)+","+this.d.toFixed(20)+","+this.tx.toFixed(20)+","+this.ty.toFixed(20)+")"}},ks=function(){var e=new RegExp("^([-0-9.]+)px$","i"),t=[{style:"paddingLeft",key:"left",sign:1},{style:"paddingRight",key:"right",sign:-1},{style:"paddingTop",key:"top",sign:1},{style:"paddingBottom",key:"bottom",sign:-1},{style:"borderLeftWidth",key:"left",sign:1},{style:"borderRightWidth",key:"right",sign:-1},{style:"borderTopWidth",key:"top",sign:1},{style:"borderBottomWidth",key:"bottom",sign:-1}];return function(n){var a,i,o,r,s=dr(n),l=Ho(n,null);if(l)for(i=t.length,a=0;a<i;a++)l[(o=t[a]).style]&&(r=l[o.style].match(e))&&(s[o.key]+=parseFloat(r[0])*o.sign);return s}}(),"UserScript"===t.execute_type){if(t.page_expand_parent);else if(r(Ts))return;a(),Nr=new p,Nr.loadLocalStorage(function(){var e,n,a,i,r;(Fr=new d).importObject(no(Nr.getProject(go(Ts)))),e=new dt(Nr.getLanguage()),Is.addEventListener&&Is.addEventListener("beforeload",function(e){Fr.checkAccessBlock(e.url)&&(e.preventDefault(),Fr.getEnableOutputLog()&&ei({type:"AccessBlock",current_url:Is.URL,url:e.url,call:"document.beforeload"}))},!0),n=new ki,(a=jr.createEventHandler("release")).setFunction(function(){n.release(),a.release(),n=null}),n&&(mo(Ts)||t.admin==t.window&&(n.addItem(e.getMessage("context_menu_batch_download_image"),function(){Hr.createArchive()},"i"),n.addItem(e.getMessage("context_menu_batch_download_user"),function(){Wr.createArchive()},"u"),Fr.getEnableStartup()||n.addItem(e.getMessage("context_menu_pageexpand_start"),function(){c()},"s"),n.addItem(e.getMessage("context_menu_pageexpand_abort"),function(){s()},"a"),n.addItem(e.getMessage("context_menu_pageexpand_execute_fastest"),function(){u()},"q"),n.addItem(e.getMessage("context_menu_pageexpand_debug"),function(){Qr.setVisible(!0)},"d"),i=Gi(Is.URL,"https://hakuhin.github.io/PageExpand/GreaseMonkey/bbs_board.html*"),r=function(){if(confirm(e.getMessage("context_menu_pageexpand_open_bbs_board_run_confirm"))){o(),c();var t=new q;t.initialize(function(e){e.result&&(t.enableCompactMode(!1),t.setURL(Is.URL))})}},n.addItem(e.getMessage("context_menu_pageexpand_open_bbs_board"),function(){r()},"b"),i&&r(),function(){var t="https://hakuhin.github.io/PageExpand/GreaseMonkey/options.html",a=Gi(Is.URL,t+"*"),i=function(){if(confirm(e.getMessage("context_menu_pageexpand_config_auto_run_confirm"))){o(),c();var t=new $;t.initialize(function(){t.MenuItemSelect($.MENU_TYPE_SETTING_STANDARD)})}};n.addItem(e.getMessage("context_menu_pageexpand_config"),function(){a?i():confirm(e.getMessage("context_menu_pageexpand_config_current_page_confirm")+t)&&(wi.isSupported()?wi(t,{active:!0}):Ts.open(t,"_blank"))},"c"),a&&i()}())),Fr.getEnable()&&(o(),(t.page_expand_parent||Fr.getEnableStartup())&&c())})}})({execute_type:"UserScript",admin:window,window:window});