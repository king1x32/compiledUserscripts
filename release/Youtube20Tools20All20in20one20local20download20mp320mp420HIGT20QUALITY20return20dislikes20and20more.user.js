// ==UserScript==
// @name Youtube Tools All in one local download mp3 mp4 HIGT QUALITY return dislikes and more
// @name:en Youtube Tools All in one local download mp3 mp4.
// @homepage     https://github.com/DeveloperMDCM/
// @version      2.4.2.10
// @author       DeveloperMDCM
// @match        *://www.youtube.com/*
// @exclude      *://music.youtube.com/*
// @exclude      *://*.music.youtube.com/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=youtube.com
// @grant        GM_info
// @grant        GM_addStyle
// @grant        GM_setValue
// @grant        GM_getValue
// @grant        unsafeWindow
// @run-at       document-end
// @grant        GM_registerMenuCommand
// @require      https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/js/iziToast.min.js
// @compatible chrome
// @compatible firefox
// @compatible opera
// @compatible safari
// @compatible edge
// @license MIT
// @namespace https://github.com/DeveloperMDCM/
// @keywords youtube, tools, download, mp3, mp4, hi-quality, return, dislikes, audio free, download mp3, download mp4, audio mp3, audio mp4, audio download, audio, free download, free audio, download audio, download free, hi quality, high quality, best quality, best audio quality, best free audio quality, best free quality, best audio free quality, best audio free, best free audio, best free
// @downloadURL https://raw.githubusercontent.com/king1x32/compiledUserscripts/release/release/Youtube20Tools20All20in20one20local20download20mp320mp420HIGT20QUALITY20return20dislikes20and20more.user.js
// @updateURL https://raw.githubusercontent.com/king1x32/compiledUserscripts/release/release/Youtube20Tools20All20in20one20local20download20mp320mp420HIGT20QUALITY20return20dislikes20and20more.meta.js
// ==/UserScript==
!function(){"use strict";function e(){const e=h("wave-visualizer-canvas");e&&(e.style.opacity="0",I&&(I.style.opacity="0"))}function n(){const e=h("wave-visualizer-canvas");P&&"suspended"===P.state&&P.resume(),e&&(e.style.opacity="1",I&&(I.style.opacity="1"))}function t(e="info",n="",t=""){iziToast[e]({title:t||{success:"Success",error:"Error",info:"Information",warning:"Warning"}[e]||"Notification",message:n,position:"bottomLeft"})}async function o(e,n){const t=window.location.href;if("true"===n.dataset.downloading)return;const o=n.querySelector(".download-btn"),a=n.querySelector(".retry-btn"),i=n.querySelector(".progress-retry-btn"),r=n.querySelector(".progress-container"),s=n.querySelector(".progress-fill"),l=n.querySelector(".progress-text"),c=n.querySelector(".download-text");n.dataset.downloading="true",n.dataset.urlOpened="false",o.style.display="none",a.style.display="none",i.style.display="block",r.style.display="flex",s.style.width="0%",l.textContent="0%";try{const o=await fetch(`https://p.savenow.to/ajax/download.php?copyright=0&allow_extended_duration=1&format=${e}&url=${encodeURIComponent(t)}&api=dfcb6d76f2f6a9894gjkege8a4ab232222`),d=await o.json();if(!d.success)return a.style.display="block",r.style.display="none",i.style.display="none",n.dataset.downloading="false",void(n.dataset.urlOpened="false");const p=d.progress_url,u=setInterval(async()=>{try{const e=await fetch(p),t=await e.json(),o=Math.min(t.progress/10,100);if(s.style.width=`${o}%`,l.textContent=`${Math.round(o)}%`,t.progress>=1e3&&t.download_url){if(clearInterval(u),"true"===n.dataset.urlOpened)return;n.dataset.urlOpened="true",n.classList.add("completed"),n.classList.remove("video","audio"),c.textContent="Download Complete!",s.style.width="100%",l.textContent="100%",i.style.display="none",n.dataset.downloading="false",window.open(t.download_url)}}catch(e){console.error("❌ Error in progress:",e),clearInterval(u),a.style.display="block",r.style.display="none",i.style.display="none",n.dataset.downloading="false",n.dataset.urlOpened="false"}},3e3)}catch(e){a.style.display="block",r.style.display="none",i.style.display="none",n.dataset.downloading="false",n.dataset.urlOpened="false",console.error("❌ Error starting download:",e)}}function a(e,n){const t=[{value:1,symbol:""},{value:1e3,symbol:" K"},{value:1e6,symbol:" M"}].slice().reverse().find(n=>e>=n.value);return t?(e/t.value).toFixed(n).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+t.symbol:"0"}async function i(){if(b=document.location.href,null!=v("#below > ytd-watch-metadata > div")&&document.location.href.split("?v=")[0].includes("youtube.com/watch")){b=new URLSearchParams(window.location.search).get("v");const e=`${k}${b}`;try{const n=await fetch(e),t=await n.json(),{dislikes:o}=t,i=v("#top-level-buttons-computed > segmented-like-dislike-button-view-model > yt-smartimation > div > div > dislike-button-view-model > toggle-button-view-model > button-view-model > button");void 0!==i&&(i.style="width: 90px",i.innerHTML=`\n            <svg class="svg-dislike-icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 13v-8a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v7a1 1 0 0 0 1 1h3a4 4 0 0 1 4 4v1a2 2 0 0 0 4 0v-5h3a2 2 0 0 0 2 -2l-1 -5a2 3 0 0 0 -2 -2h-7a3 3 0 0 0 -3 3" /></svg>\n            ${a(o,0)}`)}catch(e){console.log(e)}}}async function r(){b=document.location.href;const e=f("#dislike-button > yt-button-shape > label > div > span");if(null!=e&&"shorts"===document.location.href.split("/")[3]){b=document.location.href.split("/")[4];const n=`${k}${b}`;try{const t=await fetch(n),o=await t.json(),{dislikes:i}=o;for(let n=0;n<e.length;n++)e[n].textContent=`${a(i,0)}`}catch(e){console.log(e)}}}function s(){const e=v("ytd-topbar-menu-button-renderer");if(!e||h("icon-menu-settings"))return;const n=y("div");n.id="toggle-button";const t=y("i");t.id="icon-menu-settings",t.classList.add("fa-solid","fa-gear"),n.appendChild(t),e.parentElement.insertBefore(n,e);let o=!1;n.addEventListener("click",()=>{o=!o,oe.style.display="none"===oe.style.display?"block":"none"})}function l(){const e={theme:v('input[name="theme"]:checked').value,bgColorPicker:h("bg-color-picker").value,progressbarColorPicker:h("progressbar-color-picker").value,primaryColorPicker:h("primary-color-picker").value,secondaryColorPicker:h("secondary-color-picker").value,headerColorPicker:h("header-color-picker").value,iconsColorPicker:h("icons-color-picker").value,menuColorPicker:h("menu-color-picker").value,lineColorPicker:h("line-color-picker").value,timeColorPicker:h("time-color-picker").value,dislikes:h("dislikes-toggle").checked,themes:h("themes-toggle").checked,translation:h("translation-toggle").checked,avatars:h("avatars-toggle").checked,reverseMode:h("reverse-mode-toggle").checked,waveVisualizer:h("wave-visualizer-toggle").checked,waveVisualizerSelected:h("select-wave-visualizer-select").value,hideComments:h("hide-comments-toggle").checked,hideSidebar:h("hide-sidebar-toggle").checked,disableAutoplay:h("autoplay-toggle").checked,cinematicLighting:h("cinematic-lighting-toggle").checked,syncCinematic:h("sync-cinematic-toggle").checked,disableSubtitles:h("subtitles-toggle").checked,playerSize:h("player-size-slider").value,selectVideoQuality:h("select-video-qualitys-select").value,languagesComments:h("select-languages-comments-select").value,menu_developermdcm:{bg:w,color:C,accent:M}};GM_setValue("ytSettingsMDCM",JSON.stringify(e))}function c(){h("player-size-value").textContent=h("player-size-slider").value}function d(){const e=h("shareBtn-mdcm"),n=h("importExportBtn"),t=h("closeImportExportBtn");e&&!e.dataset.initialized&&(e.dataset.initialized="true",e.addEventListener("click",function(e){e.stopPropagation();const n=h("shareDropdown");n&&(n.style.display="block"===n.style.display?"none":"block")})),n&&!n.dataset.initialized&&(n.dataset.initialized="true",n.addEventListener("click",function(){const e=h("importExportArea");e&&e.classList.toggle("active")})),t&&!t.dataset.initialized&&(t.dataset.initialized="true",t.addEventListener("click",function(){const e=h("importExportArea");e&&e.classList.remove("active")}))}function p(){const e=document.getElementById("cinematics");if(!e)return!1;const n=""!==e.innerHTML.trim(),t=null!==e.querySelector("canvas"),o=e.children.length>0,a=null!==e.querySelector('div[style*="position: fixed"]');return n||t||o||a}function u(){const e=v(".ytp-button.ytp-settings-button");if(!e)return void console.log("Settings button not found");e.click();const n=new MutationObserver(()=>{const e=f(".ytp-menuitem");for(let t of e){const e=t.textContent?.toLowerCase(),o=t.querySelector(".ytp-menuitem-icon svg path");if(e&&(e.includes("cinematic")||e.includes("lighting")||e.includes("cinema")))return console.log("Found cinematic lighting option:",e),t.click(),setTimeout(()=>{v(".ytp-settings-menu")&&document.body.click()},100),void n.disconnect();if(o&&(o.getAttribute("d")?.includes("M21 7v10H3V7")||o.getAttribute("d")?.includes("M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z")))return console.log("Found cinematic lighting option by SVG path"),t.click(),setTimeout(()=>{v(".ytp-settings-menu")&&document.body.click()},100),void n.disconnect()}});n.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),setTimeout(()=>{n.disconnect(),v(".ytp-settings-menu")&&document.body.click()},5e3)}function m(){function o(){if(!Z.waveVisualizer)return void b(!0);const o=v("video"),a=v(".ytp-miniplayer-ui");(o&&document.location.href.includes("watch")||a)&&(o===S&&V?I&&!1===o.paused&&n():(b(!0),function(o){if(!o||o[N])return;if(o[N]=!0,b(!1),S=o,function(){if($)return;const e=document.body;$=document.createElement("canvas"),$.id="wave-visualizer-canvas",$.width=window.innerWidth,$.height=B,$.style.position="fixed",$.style.left="0",$.style.top="0",$.style.width="100%",$.style.pointerEvents="none",$.style.backgroundColor="transparent",$.style.zIndex="10000",$.style.opacity="0",$.style.transition="opacity 0.3s",e.appendChild($),D=$.getContext("2d")}(),function(){if(I)return;I=y("div"),I.id="wave-visualizer-control";const e=h("select-wave-visualizer-select");E=Z.waveVisualizerSelected,e.addEventListener("change",n=>{E=n.target.value,e.value=n.target.value,l()})}(),P){try{P.close()}catch(e){}P=null}const a=window.AudioContext||window.webkitAudioContext;P=new a,_=P.createAnalyser(),_.fftSize=2048,_.smoothingTimeConstant=.85,j=_.fftSize,q=new Uint8Array(j),H=new Array(j).fill(128);try{T=P.createMediaElementSource(o),T.connect(_),_.connect(P.destination)}catch(e){return t("error","MediaElementSource or error:",e),void b(!0)}o.removeEventListener("play",n),o.removeEventListener("pause",e),o.removeEventListener("ended",e),o.addEventListener("play",n),o.addEventListener("pause",e),o.addEventListener("ended",e);const i=()=>{$&&($.width=window.innerWidth,$.height=B)};window.removeEventListener("resize",i),window.addEventListener("resize",i),k(),V=!0}(o)))}function a(e){f(e).forEach(e=>e.remove())}function i(){f("#author-thumbnail-button #img.style-scope.yt-img-shadow").length>0&&Z.avatars&&(a(".yt-image-avatar-download"),f("#author-thumbnail-button #img.style-scope.yt-img-shadow").forEach(e=>{if(e.parentElement.querySelector(".yt-image-avatar-download"))return;const n=y("button");n.innerHTML='<i class="fa fa-download"></i>',n.classList.add("yt-image-avatar-download"),n.onclick=async function(){try{const n=e.src.split("=")[0],t=await fetch(n),o=await t.blob(),a=URL.createObjectURL(o),i=e.closest("ytd-comment-thread-renderer, ytd-comment-renderer"),r=i?.querySelector("#author-text");let s=r?r.textContent.trim():"avatar";s=s.replace(/[\/\\:*?"<>|]/g,"");const l=y("a");l.href=a,l.download=`${s}_avatar.jpg`||"avatar.jpg",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}catch(e){console.error("Error al descargar la imagen:",e)}},e.parentElement.style.position="relative",e.parentElement.appendChild(n)}));const e=v("#content-text"),n=v("ytd-item-section-renderer[static-comments-header] #contents");Z.translation&&(void 0===e&&void 0===n||(a(".buttons-tranlate"),a(".select-traductor"),async function(){const e=f("#content-text");if(v(".buttons-tranlate"))return;const n=z,t=h("select-languages-comments-select").value;for(let o=0;o<e.length;o++){const a=`\n          <div class="traductor-container" data-index="${o}">\n          <button class="buttons-tranlate" id="btn${o}"> Translate <i class="fa-solid fa-language"></i></button>\n          <select class="select-traductor" id="select${o}">\n           ${Object.entries(n).map(([e,n])=>`<option value="${e}" ${e===t?"selected":""}>${n}</option>`).join("")}\n          </select>\n          </div>\n        `;e[o].insertAdjacentHTML("afterend",a)}const o=f(".buttons-tranlate"),a=f(".select-traductor");o.forEach((n,t)=>{n.addEventListener("click",()=>{const n=`?client=dict-chrome-ex&sl=auto&tl=${a[t].value}&q=`+e[t].textContent;fetch("https://translate.googleapis.com/translate_a/t"+n).then(e=>e.json()).then(n=>{e[t].textContent=n[0][0],o[t].textContent="Translated"}).catch(e=>{console.error("Error en la traducción:",e)})})})}()))}function r(e){return isNaN(e)?"0h 0m 0s":(e=Math.floor(e),`${Math.floor(e/3600)}h ${Math.floor(e%3600/60)}m ${e%60}s`)}function c(){h("total-time").textContent=r(Y),h("video-time").textContent=r(F),h("shorts-time").textContent=r(Q);const e=86400;h("usage-bar").style.width=Y/e*100+"%",h("video-bar").style.width=F/e*100+"%",h("shorts-bar").style.width=Q/e*100+"%"}function b(t=!1){if(t&&A&&(cancelAnimationFrame(A),A=null),S&&(S.removeEventListener("play",n),S.removeEventListener("pause",e),S.removeEventListener("ended",e)),t){if($&&$.parentNode&&($.parentNode.removeChild($),$=null,D=null),I&&I.parentNode&&(I.parentNode.removeChild(I),I=null),T){try{T.disconnect()}catch(e){}T=null}if(P){try{P.close()}catch(e){}P=null}S&&S[N]&&delete S[N],S=null,V=!1}else $&&($.style.opacity="0"),I&&(I.style.opacity="0")}function k(){if(A=requestAnimationFrame(k),parseFloat($.style.opacity)<=0)return;_.getByteTimeDomainData(q);for(let e=0;e<j;e++)H[e]+=.05*(q[e]-H[e]);D.clearRect(0,0,$.width,$.height);let e=$.width/j;switch(E){case"linea":{D.lineWidth=2,D.strokeStyle="lime",D.beginPath();let n=0;for(let t=0;t<j;t++){let o=Math.max(0,H[t]-128)*R;0===t?D.moveTo(n,o):D.lineTo(n,o),n+=e}D.stroke();break}case"barras":{let n=0;for(let t=0;t<j;t+=5){let o=Math.max(0,H[t]-128)*R;D.fillStyle="cyan",D.fillRect(n,0,4*e,o),n+=5*e}break}case"curva":D.lineWidth=2,D.strokeStyle="yellow",D.beginPath(),D.moveTo(0,Math.max(0,H[0]-128)*R);for(let n=0;n<j-1;n++){let t=n*e,o=(n+1)*e,a=Math.max(0,H[n]-128)*R,i=Math.max(0,H[n+1]-128)*R,r=t+e/3,s=a,l=o-e/3,c=i;D.bezierCurveTo(r,s,l,c,o,i)}D.stroke();break;case"picos":{D.fillStyle="magenta";let n=0;for(let t=0;t<j;t+=5){let o=Math.max(0,H[t]-128)*R;D.beginPath(),D.arc(n,o,2,0,2*Math.PI),D.fill(),n+=5*e}break}case"solida":{D.beginPath();let n=0;D.moveTo(0,0);for(let t=0;t<j;t++){let o=Math.max(0,H[t]-128)*R;D.lineTo(n,o),n+=e}D.lineTo($.width,0),D.closePath(),D.fillStyle="rgba(0,255,0,0.3)",D.fill();break}case"dinamica":{let n=D.createLinearGradient(0,0,$.width,0);n.addColorStop(0,"red"),n.addColorStop(.5,"purple"),n.addColorStop(1,"blue"),D.lineWidth=3,D.strokeStyle=n,D.beginPath();let t=0;for(let n=0;n<j;n++){let o=Math.max(0,H[n]-128)*R;0===n?D.moveTo(t,o):D.lineTo(t,o),t+=e}D.stroke();break}case"montana":{D.beginPath();let n=0;D.moveTo(0,0);for(let t=0;t<j;t++){let o=(H[t]-128)*R*.8;D.lineTo(n,o),n+=e}D.lineTo($.width,0),D.closePath(),D.fillStyle="rgba(128,128,255,0.4)",D.fill();break}}}const L=v(".formulariodescarga"),W=v(".formulariodescargaaudio");null!=L&&(L.classList.add("ocultarframe"),W.classList.add("ocultarframe"));const Z={theme:v('input[name="theme"]:checked').value,bgColorPicker:h("bg-color-picker").value,progressbarColorPicker:h("progressbar-color-picker").value,primaryColorPicker:h("primary-color-picker").value,secondaryColorPicker:h("secondary-color-picker").value,headerColorPicker:h("header-color-picker").value,iconsColorPicker:h("icons-color-picker").value,menuColorPicker:h("menu-color-picker").value,lineColorPicker:h("line-color-picker").value,timeColorPicker:h("time-color-picker").value,dislikes:h("dislikes-toggle").checked,themes:h("themes-toggle").checked,translation:h("translation-toggle").checked,avatars:h("avatars-toggle").checked,reverseMode:h("reverse-mode-toggle").checked,waveVisualizer:h("wave-visualizer-toggle").checked,waveVisualizerSelected:h("select-wave-visualizer-select").value,hideComments:h("hide-comments-toggle").checked,hideSidebar:h("hide-sidebar-toggle").checked,disableAutoplay:h("autoplay-toggle").checked,cinematicLighting:h("cinematic-lighting-toggle").checked,syncCinematic:h("sync-cinematic-toggle").checked,disableSubtitles:h("subtitles-toggle").checked,playerSize:h("player-size-slider").value,selectVideoQuality:h("select-video-qualitys-select").value,languagesComments:h("select-languages-comments-select").value,menu_developermdcm:{bg:w,color:C,accent:M}};x("--yt-enhance-menu-bg",Z.menu_developermdcm.bg),x("--yt-enhance-menu-text",Z.menu_developermdcm.color),x("--yt-enhance-menu-accent",Z.menu_developermdcm.accent),g(),d();const ee=h("comments");ee&&(ee.style.display=Z.hideComments?"none":"block");const ne=v(".themes-hidden");ne&&(ne.style.display=Z.themes?"block":"none");const oe=v("#secondary > #secondary-inner");oe&&(oe.classList.add("side-moi"),v(".side-moi").style.display=Z.hideSidebar?"none":"block");const ae=v(".ytp-autonav-toggle-button");if(ae){const e="true"===ae.getAttribute("aria-checked");Z.disableAutoplay&&e?ae.click():Z.disableAutoplay||e||ae.click()}const ie=v(".ytp-subtitles-button");if(ie){const e="true"===ie.getAttribute("aria-pressed");Z.disableSubtitles&&e?ie.click():Z.disableSubtitles||e||ie.click()}window.location.href.includes("youtube.com/watch?v=")&&setTimeout(()=>{const e=p();if(Z.syncCinematic)(Z.cinematicLighting&&!e||!Z.cinematicLighting&&e)&&u();else{const e=h("cinematics");e&&(e.style.display=Z.cinematicLighting?"block":"none")}},1e3);const se=v("video");se&&(se.style.transform=`scale(${Z.playerSize/100})`);const le=v("div#movie_player");let ce=localStorage.getItem("yt-player-quality");if(f("#select-video-qualitys-select, #select-languages-comments-select").forEach(e=>{e.addEventListener("change",()=>{m()})}),null!=le&&"user"!==Z.selectVideoQuality)if(ce){let e=JSON.parse(ce);e.data=JSON.stringify({quality:Z.selectVideoQuality,previousQuality:240}),localStorage.setItem("yt-player-quality",JSON.stringify(e))}else{let e={data:JSON.stringify({quality:720,previousQuality:240}),expiration:Date.now()+31536e6,creation:Date.now()};localStorage.setItem("yt-player-quality",JSON.stringify(e))}const de=te[Z.theme],pe=v('input[name="theme"][value="custom"]').checked,ue=v('input[name="theme"][value="normal"]').checked,me=v(".theme-custom-options"),ge=v(".theme-selected-normal");null!=pe&&(ge.style.display="flex",me.style.display="flex",v(".themes-options").style.display="none"),ue&&(v('input[name="theme"][value="custom"]').checked=!1),GM_addStyle(`\n      #columns.style-scope.ytd-watch-flexy {\n        flex-direction: ${Z.reverseMode?"row-reverse":"row"} !important;\n        padding-left: ${Z.reverseMode?"20px":"0"} !important;\n        }\n        #secondary.style-scope.ytd-watch-flexy {display: ${Z.hideSidebar?"none":"block"} !important;}\n\n\n        #icon-menu-settings {\n         color: ${Z.iconsColorPicker} !important;\n        }\n\n\n      `),function(){if(Z.themes)if("dark"!==re||pe)"dark"===re&&pe?(x("--yt-spec-base-background",Z.bgColorPicker),x("--yt-spec-text-primary",Z.primaryColorPicker),x("--yt-spec-text-secondary",Z.secondaryColorPicker),x("--yt-spec-menu-background",Z.menuColorPicker),x("--yt-spec-icon-inactive",Z.iconsColorPicker),x("--yt-spec-brand-icon-inactive",Z.primaryColorPicker),x("--yt-spec-brand-icon-active",Z.primaryColorPicker),x("--yt-spec-raised-background",Z.headerColorPicker),x("--yt-spec-static-brand-red",Z.lineColorPicker),x("--yt-spec-static-brand-white",Z.timeColorPicker),x("--ytd-searchbox-background",Z.primaryColorPicker),x("--ytd-searchbox-text-color",Z.secondaryColorPicker),x("--ytcp-text-primary",Z.primaryColorPicker),GM_addStyle(`\n            .html5-video-player {\n                color: ${Z.primaryColorPicker} !important;\n              }\n              .ytp-volume-slider-handle:before, .ytp-volume-slider-handle, .ytp-tooltip.ytp-preview:not(.ytp-text-detail) {\n                background-color: ${Z.iconsColorPicker} !important;\n              }\n                .ytp-autonav-toggle-button[aria-checked=true] {\n                  background-color: ${Z.iconsColorPicker} !important;\n                }\n                  .tp-yt-iron-icon {\n                   fill: ${Z.iconsColorPicker} !important;\n                  }\n\n             .botones_div {\n            background-color: transparent;\n            border: none;\n            color: ${Z.iconsColorPicker} !important;\n            user-select: none;\n          }\n              #container.ytd-searchbox {\n              color: red !important;\n              }\n            .ytp-menuitem[aria-checked=true] .ytp-menuitem-toggle-checkbox {\n            background:  ${Z.primaryColorPicker} !important;\n            }\n            .yt-spec-icon-shape {\n              display: flex;\n              align-items: center;\n              justify-content: center;\n              width: 100%;\n              height: 100%;\n              color: ${Z.iconsColorPicker} !important;\n          }\n            .ytp-time-current, .ytp-time-separator, .ytp-time-duration {\n              color: ${Z.iconsColorPicker} !important;\n            }\n            #background.ytd-masthead { background: ${Z.headerColorPicker}  !important; }\n            .ytp-swatch-background-color {\n            background: ${Z.progressbarColorPicker} !important;\n          }\n        #shorts-container, #page-manager.ytd-app {\n            background: ${Z.bgColorPicker}36;\n            }\n            ytd-engagement-panel-title-header-renderer[shorts-panel] #header.ytd-engagement-panel-title-header-renderer {\n            background: ${Z.bgColorPicker}  !important;}\n\n            .badge-shape-wiz--thumbnail-default {\n            color: ${Z.timeColorPicker} !important;\n             background: ${Z.secondaryColor} !important;\n            }\n             #logo-icon {\n             color:  ${Z.primaryColorPicker} !important;\n          }\n          .yt-spec-button-shape-next--overlay.yt-spec-button-shape-next--text {\n            color:  ${Z.iconsColorPicker} !important;\n          }\n          .ytd-topbar-menu-button-renderer #button.ytd-topbar-menu-button-renderer {\n            color:  ${Z.iconsColorPicker} !important;\n          }\n          .yt-spec-icon-badge-shape--style-overlay .yt-spec-icon-badge-shape__icon {\n            color:  ${Z.iconsColorPicker} !important;\n          }\n          .ytp-svg-fill {\n            fill:  ${Z.iconsColorPicker} !important;\n          }\n          #ytp-id-30,#ytp-id-17,#ytp-id-19,#ytp-id-20{\n            fill:  ${Z.iconsColorPicker} !important;\n          }\n            `)):GM_addStyle("\n            .botones_div {\n             background-color: transparent;\n             border: none;\n             color: #000 !important;\n             user-select: none;\n           }\n             ");else{if(v(".themes-options").style.display="block",ge.style.display="none",me.style.display="none","0"===Z.theme)return void GM_addStyle("\n              .botones_div {\n               background-color: transparent;\n               border: none;\n               color: #ccc !important;\n               user-select: none;\n             }\n               ");x("--yt-spec-base-background",de.gradient),x("--yt-spec-text-primary",de.textColor),x("--yt-spec-text-secondary",de.textColor),x("--yt-spec-menu-background",de.gradient),x("--yt-spec-icon-inactive",de.textColor),x("--yt-spec-brand-icon-inactive",de.textColor),x("--yt-spec-brand-icon-active",de.gradient),x("--yt-spec-static-brand-red",de.gradient),x("--yt-spec-raised-background",de.raised),x("--yt-spec-static-brand-red",de.CurrentProgressVideo),x("--yt-spec-static-brand-white",de.textColor),x("--ytd-searchbox-background",de.gradient),x("--ytd-searchbox-text-color",de.textColor),x("--ytcp-text-primary",Z.textColor),GM_addStyle(`\n\n              .botones_div {\n              background-color: transparent;\n              border: none;\n              color: #999999;\n              user-select: none;\n            }\n              .ytp-menuitem[aria-checked=true] .ytp-menuitem-toggle-checkbox {\n              background:  ${de.gradient} !important;\n              }\n            #background.ytd-masthead { background: ${de.gradient}  !important; }\n            .ytp-swatch-background-color {\n            background: ${de.gradient} !important;\n          }\n          #shorts-container, #page-manager.ytd-app {\n            background: ${de.gradient.replace(/(#[0-9a-fA-F]{6})/g,"$136")};\n          }\n            ytd-engagement-panel-title-header-renderer[shorts-panel] #header.ytd-engagement-panel-title-header-renderer {\n            background: ${de.gradient}  !important;}\n            .buttons-tranlate {\n            background: ${de.btnTranslate} !important;\n            }\n            .badge-shape-wiz--thumbnail-default {\n            color: ${de.videoDuration} !important;\n            background: ${de.gradient} !important;\n            }\n            #logo-icon {\n            color:  ${de.textLogo} !important;\n          }\n          .yt-spec-button-shape-next--overlay.yt-spec-button-shape-next--text {\n            color:  ${de.iconsColor} !important;\n          }\n          .ytd-topbar-menu-button-renderer #button.ytd-topbar-menu-button-renderer {\n            color:  ${de.iconsColor} !important;\n          }\n          .yt-spec-icon-badge-shape--style-overlay .yt-spec-icon-badge-shape__icon {\n            color:  ${de.iconsColor} !important;\n          }\n          .ytp-svg-fill {\n            fill:  ${de.iconsColor} !important;\n          }\n          #ytp-id-30,#ytp-id-17,#ytp-id-19,#ytp-id-20{\n            fill:  ${de.iconsColor} !important;\n          }\n\n\n            `)}else GM_addStyle("\n          .botones_div {\n           background-color: transparent;\n           border: none;\n           color: #ccc !important;\n           user-select: none;\n         }\n           ")}(),o();let be=window.location.href,ve=setInterval(function(){window.location.href!==be&&(be=window.location.href,setTimeout(()=>{m()},1e3),clearInterval(ve))},1e3);!function(){if(v("#button_copy_description"))return;const e=v("#bottom-row.style-scope.ytd-watch-metadata");e?(e.insertAdjacentHTML("beforebegin",'\n        <div id="button_copy_description" style="display: flex; justify-content: end; align-items: center;margin-top: 10px;" >\n          <button id="copy-description" title="Copy description" class="botones_div" type="button" style="cursor: pointer;">\n            <i style="font-size: 20px;" class="fa-solid fa-copy"></i>\n          </button>\n        </div>\n      '),h("copy-description").addEventListener("click",()=>{const e=[...f('script[type="application/ld+json"]')];for(let n of e)try{const e=JSON.parse(n.innerText);if("VideoObject"===e["@type"]){const n=`📅 Date published: ${e.uploadDate||"No disponible"}\nAuthor: ${e.author||"No disponible"}\n🎬 Name video: ${e.name||"No disponible"}\n🖼️ Thumbnail: ${Array.isArray(e.thumbnailUrl)?e.thumbnailUrl.join(", "):e.thumbnailUrl||"No disponible"}\n📝 Description: ${e.description||"No disponible"}\n\n\n🎭 Category: ${e.genre||"No disponible"}\n`;navigator.clipboard.writeText(n)}}catch(e){t("error","Error parsing JSON-LD")}finally{t("success","Description copied")}})):console.warn("No se encontró el contenedor de descripción. No se insertará el botón.")}(),window.onscroll=()=>{i()};const he=v(".anchored-panel.style-scope.ytd-shorts #contents.style-scope.ytd-item-section-renderer.style-scope.ytd-item-section-renderer");he&&new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&he.addEventListener("scroll",()=>{i()})})},{threshold:.1}).observe(he);const fe="custom-classic-btn",ye=()=>{const e=`https://www.youtube.com/watch?v=${window.location.pathname.split("/").pop()}`;window.open(e,"_blank"),v("video.video-stream.html5-main-video").pause()},xe=()=>{document.location.pathname.startsWith("/shorts")?f("#actions").forEach(e=>{e.querySelector(`.${fe}`)||e.prepend((()=>{const e=y("button");return e.classList.add(fe),e.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-screen-share"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M21 12v3a1 1 0 0 1 -1 1h-16a1 1 0 0 1 -1 -1v-10a1 1 0 0 1 1 -1h9" /><path d="M7 20l10 0" /><path d="M9 16l0 4" /><path d="M15 16l0 4" /><path d="M17 4h4v4" /><path d="M16 9l5 -5" /></svg>',e.title="Classic mode",e.onclick=ye,e})())}):f(`.${fe}`).forEach(e=>e.remove())};if(xe(),new MutationObserver(()=>{xe(),s()}).observe(document.body,{childList:!0,subtree:!0}),null!=v("body")){const e=v("ytd-item-section-renderer[static-comments-header] #contents");null!=e&&"custom"!==Z.theme&&new IntersectionObserver(n=>{n[0].isIntersecting&&(e.style.background=`${de.gradient??""}`)}).observe(v("ytd-item-section-renderer[static-comments-header] #contents"))}const ke=new MutationObserver(()=>{const e=function(){const e=f("video");for(const n of e)if(!n.paused&&!n.ended&&n.readyState>2)return n;return null}();e!==K&&(K=e,K&&(X=function(e){if(/\/shorts\//.test(window.location.pathname))return"shorts";let n=e;for(;null!==(n=n.parentElement);)if(n.classList.contains("shorts-container")||n.classList.contains("reel-video")||"YTD-REEL-VIDEO-RENDERER"===n.tagName)return"shorts";return e.closest("ytd-watch-flexy")||e.closest("#primary-inner")||e.closest("ytd-thumbnail")||e.closest("ytd-rich-item-renderer")?"video":null}(K)))});o(),setInterval(()=>{const e=Date.now(),n=(e-J)/1e3;"visible"===document.visibilityState&&(Y+=n),K&&!K.paused&&("video"===X?F+=n:"shorts"===X&&(Q+=n)),J=e,GM_setValue(U,Y),GM_setValue(G,F),GM_setValue(O,Q),c()},1e3),ke.observe(document.body,{childList:!0,subtree:!0,attributes:!0}),c(),l()}function g(){const e=v(".style-scope .ytd-watch-metadata"),n=v("#contents");null!=e&&me&&(me=!1,(e.offsetWidth||e.offsetHeight||e.getClientRects().length||null!=n)&&e.insertAdjacentHTML("beforebegin",ne));const t=v(".formulariodescarga"),a=v(".formulariodescargaaudio"),i=v(".btn1"),r=v(".btn2"),s=v(".btn3"),l=v(".selectcalidades"),c=v(".selectcalidadesaudio");[t,a].forEach(e=>e?.addEventListener("click",e=>e.preventDefault())),l?.addEventListener("change",e=>{const n=e.target.value;if(!n)return;const t=h("descargando"),o=t.querySelector(".download-text"),a=t.querySelector(".download-quality"),i=t.querySelector(".download-btn"),r=t.querySelector(".retry-btn"),s=t.querySelector(".progress-container");t.classList.add("video"),t.classList.remove("ocultarframe"),o.textContent=`Download ${n.toUpperCase()} And Please Wait...`,a.textContent=`${n}p`,i.style.display="block",r.style.display="none",s.style.display="none",t.dataset.quality=n,t.dataset.type="video"}),c?.addEventListener("change",e=>{const n=e.target.value;if(!n)return;const t=h("descargandomp3"),o=t.querySelector(".download-text"),a=t.querySelector(".download-quality"),i=t.querySelector(".download-btn"),r=t.querySelector(".retry-btn"),s=t.querySelector(".progress-container");t.classList.add("audio"),t.classList.remove("ocultarframeaudio"),o.textContent=`Download ${n.toUpperCase()} And Please Wait...`,a.textContent=n.toUpperCase(),i.style.display="block",r.style.display="none",s.style.display="none",t.dataset.quality=n,t.dataset.type="audio"}),s?.addEventListener("click",()=>{l?.classList.add("ocultarframe"),c?.classList.add("ocultarframeaudio");const e=h("descargando"),n=h("descargandomp3");e&&(e.classList.add("ocultarframe"),e.classList.remove("video","audio","completed"),e.removeAttribute("data-quality"),e.removeAttribute("data-type"),e.removeAttribute("data-downloading"),e.removeAttribute("data-url-opened")),n&&(n.classList.add("ocultarframeaudio"),n.classList.remove("video","audio","completed"),n.removeAttribute("data-quality"),n.removeAttribute("data-type"),n.removeAttribute("data-downloading"),n.removeAttribute("data-url-opened")),t?.classList.add("ocultarframe"),a?.classList.add("ocultarframe"),t?.reset(),a?.reset()}),document.addEventListener("click",e=>{if(e.target.classList.contains("download-btn")){const n=e.target.closest(".download-container"),t=n.dataset.quality,a=n.dataset.type;t&&a&&o(t,n)}if(e.target.classList.contains("retry-btn")){const n=e.target.closest(".download-container"),t=n.dataset.quality,a=n.dataset.type;t&&a&&o(t,n)}if(e.target.classList.contains("progress-retry-btn")){const n=e.target.closest(".download-container"),t=n.dataset.quality,a=n.dataset.type;t&&a&&(n.dataset.downloading="false",n.dataset.urlOpened="false",o(t,n))}}),i?.addEventListener("click",()=>{l?.classList.remove("ocultarframe"),c?.classList.add("ocultarframeaudio");const e=h("descargando"),n=h("descargandomp3");e&&(e.classList.add("ocultarframe"),e.classList.remove("video","audio","completed"),e.removeAttribute("data-quality"),e.removeAttribute("data-type"),e.removeAttribute("data-downloading"),e.removeAttribute("data-url-opened")),n&&(n.classList.add("ocultarframeaudio"),n.classList.remove("video","audio","completed"),n.removeAttribute("data-quality"),n.removeAttribute("data-type"),n.removeAttribute("data-downloading"),n.removeAttribute("data-url-opened")),t?.classList.remove("ocultarframe"),t.style.display="",a?.classList.add("ocultarframe"),t?.reset(),a?.reset()}),r?.addEventListener("click",()=>{c?.classList.remove("ocultarframeaudio"),l?.classList.add("ocultarframe");const e=h("descargando"),n=h("descargandomp3");e&&(e.classList.add("ocultarframe"),e.classList.remove("video","audio","completed"),e.removeAttribute("data-quality"),e.removeAttribute("data-type"),e.removeAttribute("data-downloading"),e.removeAttribute("data-url-opened")),n&&(n.classList.add("ocultarframeaudio"),n.classList.remove("video","audio","completed"),n.removeAttribute("data-quality"),n.removeAttribute("data-type"),n.removeAttribute("data-downloading"),n.removeAttribute("data-url-opened")),a?.classList.remove("ocultarframe"),a.style.display="",t?.classList.add("ocultarframe"),a?.reset(),t?.reset()});const d=v("#imagen"),p=v("#eyes");setInterval(function(){const e=v(".buffer_video");e&&(e.dataset.listenerAdded||(e.addEventListener("click",()=>{const e=v("video.video-stream.html5-main-video");if(!e)return void console.log("No se encontró el video en la página.");const n=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0});e.dispatchEvent(n),setTimeout(()=>{const e=v("body > div.ytp-popup.ytp-contextmenu > div > div > div:nth-child(7)");e?e.click():console.log("Opción no encontrada, intenta aumentar el tiempo de espera.")},1e3)}),e.dataset.listenerAdded="true"))},2e3);let u=0;const m=v("#repeatvideo"),b=v(".icon-tabler-repeat"),f=v("#movie_player > div.html5-video-container > video");null!=m&&(m.onclick=()=>{null==v("#cinematics > div")&&null==f||(u+=1,setInterval(()=>{switch(u){case 1:document.querySelector("#movie_player > div.html5-video-container > video").setAttribute("loop","true"),b.innerHTML='  <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-repeat-off" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n                      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                      <path d="M4 12v-3c0 -1.336 .873 -2.468 2.08 -2.856m3.92 -.144h10m-3 -3l3 3l-3 3"></path>\n                      <path d="M20 12v3a3 3 0 0 1 -.133 .886m-1.99 1.984a3 3 0 0 1 -.877 .13h-13m3 3l-3 -3l3 -3"></path>\n                      <path d="M3 3l18 18"></path>\n                   </svg> ';break;case 2:u=0,document.querySelector("#movie_player > div.html5-video-container > video").removeAttribute("loop"),b.innerHTML=' <svg  xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-repeat" width="24"\n                      height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"\n                      stroke-linecap="round" stroke-linejoin="round">\n                      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n                      <path d="M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3"></path>\n                      <path d="M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3 -3l3 -3"></path>\n                    </svg>'}},1e3))});const x=v("#cinematics > div");null!=x&&(x.style="position: fixed; inset: 0px; pointer-events: none; transform: scale(1.5, 2)");const k=v("#reset_button");null!=k&&k.addEventListener("click",function(){null!=localStorage.getItem("colores")&&(localStorage.removeItem("colores"),v("#ojosprotect").style.backgroundColor="transparent",setTimeout(()=>{location.reload()},400))}),null!=d&&(d.onclick=()=>{if(null!=v("#cinematics > div")||null!=f){let e=new URLSearchParams(window.location.search).get("v");fetch(`https://i.ytimg.com/vi/${e}/maxresdefault.jpg`).then(e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.blob()}).then(n=>{if(n.size/1024>=20){window.open(`https://i.ytimg.com/vi/${e}/maxresdefault.jpg`,"popUpWindow","height=500,width=400,left=100,top=100,resizable=yes,scrollbars=yes,toolbar=yes,menubar=no,location=no,directories=no, status=yes");const t=URL.createObjectURL(n),o=y("a");o.href=t;const a=v("h1.style-scope.ytd-watch-metadata").innerText;o.download=`${a}_maxresdefault.jpg`,o.click(),URL.revokeObjectURL(t)}else console.log("La imagen no excede los 20 KB. No se descargará.")}).catch(e=>{alert("No found image"),console.error("Error al obtener la imagen:",e)})}});const w=h("background_image"),C=v("ytd-app"),M=localStorage.getItem("backgroundImage");M&&(C.style=`\n        background-size: cover;\n        background-position: center;\n        background-attachment: fixed;\n\n        background-image: url(${M}) !important`),w.addEventListener("change",e=>{const n=e.target.files[0];if(n){const e=new FileReader;e.onload=function(e){const n=e.target.result;localStorage.setItem("backgroundImage",n),C.style.backgroundImage=`url(${n})`},e.readAsDataURL(n)}});const L=v(".external_link");null!=L&&(L.onclick=()=>{let e;e=new URLSearchParams(window.location.search).get("v"),window.open(`https://www.y2mate.com/es/convert-youtube/${e}`,"popUpWindow","height=800,width=1000,left=50%,top=100,resizable=no,scrollbars=yes,toolbar=no,menubar=yes,location=no,directories=yes, status=no")});const z=v(".view_external_link");null!=z&&(z.onclick=()=>{let e;v("video").click(),e=new URLSearchParams(window.location.search).get("v"),window.open(`https://www.youtube.com/embed/${e}?rel=0&controls=2&color=white&iv_load_policy=3&showinfo=0&modestbranding=1&autoplay=1`)});const S=v(".video_picture_to_picture");null!=S&&(S.onclick=()=>{const e=v("video");"pictureInPictureEnabled"in document?document.pictureInPictureElement||e.requestPictureInPicture().then(()=>{}).catch(e=>{console.error("Error al activar el modo Picture-in-Picture:",e)}):alert("Picture-in-Picture not supported")},null!=p&&p.addEventListener("input",function(){null==v("#cinematics > div")&&null==f||(v("#ojosprotect").style.backgroundColor=p.value)}),clearInterval(g));const E=v(".checked_updates");null!=E&&(E.onclick=()=>{window.open("https://update.greasyfork.org/scripts/460680/Youtube%20Tools%20All%20in%20one%20local%20download%20mp3%20mp4%20HIGT%20QUALITY%20return%20dislikes%20and%20more.user.js")});const P=v(".screenshot_video");if(null!=P)P.onclick=()=>{const e=v("video"),n=y("canvas");n.width=e.videoWidth,n.height=e.videoHeight,n.getContext("2d").drawImage(e,0,0,n.width,n.height);const t=n.toDataURL("image/png"),o=y("a");o.href=t;const a=v("h1.style-scope.ytd-watch-metadata").innerText;o.download=`${e.currentTime.toFixed(0)}s_${a}.png`,o.click()};else{const e=v(".containerButtons");null!=e&&(e.innerHTML="")}clearInterval(g)}let b=document.location.href;const v=e=>document.querySelector(e),h=e=>document.getElementById(e),f=e=>document.querySelectorAll(e),y=e=>document.createElement(e),x=(e,n)=>document.documentElement.style.setProperty(e,n),k="https://returnyoutubedislikeapi.com/Votes?videoId=";let w="#252525",C="#ffffff",M="#ff0000";const L="https://greasyfork.org/es/scripts/460680-youtube-tools-all-in-one-local-download-mp3-mp4-higt-quality-return-dislikes-and-more",z={af:"Afrikaans",sq:"Albanian",am:"Amharic",ar:"Arabic",hy:"Armenian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",bg:"Bulgarian",ca:"Catalan",ceb:"Cebuano","zh-CN":"Chinese (Simplified)","zh-TW":"Chinese (Traditional)",co:"Corsican",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",eo:"Esperanto",et:"Estonian",fi:"Finnish",fr:"French",fy:"Frisian",gl:"Galician",ka:"Georgian",de:"German",el:"Greek",gu:"Gujarati",ht:"Haitian Creole",ha:"Hausa",haw:"Hawaiian",iw:"Hebrew",hi:"Hindi",hmn:"Hmong",hu:"Hungarian",is:"Icelandic",ig:"Igbo",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",jw:"Javanese",kn:"Kannada",kk:"Kazakh",km:"Khmer",ko:"Korean",ku:"Kurdish",ky:"Kyrgyz",lo:"Lao",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"Macedonian",mg:"Malagasy",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mn:"Mongolian",my:"Myanmar (Burmese)",ne:"Nepali",no:"Norwegian",ny:"Nyanja (Chichewa)",ps:"Pashto",fa:"Persian",pl:"Polish",pt:"Portuguese",pa:"Punjabi",ro:"Romanian",ru:"Russian",sm:"Samoan",gd:"Scots Gaelic",sr:"Serbian",st:"Sesotho",sn:"Shona",sd:"Sindhi",si:"Sinhala",sk:"Slovak",sl:"Slovenian",so:"Somali",es:"Spanish",su:"Sundanese",sw:"Swahili",sv:"Swedish",tl:"Tagalog (Filipino)",tg:"Tajik",ta:"Tamil",te:"Telugu",th:"Thai",tr:"Turkish",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",cy:"Welsh",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zu:"Zulu"};let S=null,E="dinamica",P=null,_=null,T=null,A=null,$=null,D=null,I=null,j=0,q=null,H=[],V=!1;const B=240,R=B/90,N="wave_visualizer_processed",U="YT_TOTAL_USAGE",G="YT_VIDEO_TIME",O="YT_SHORTS_TIME";let W,Y=GM_getValue(U,0),F=GM_getValue(G,0),Q=GM_getValue(O,0),J=Date.now(),K=null,X=null;GM_setValue(U,Y),GM_setValue(G,F),GM_setValue(O,Q);let Z=!1;setInterval(()=>{const e=v(".svg-dislike-ico"),n=window.location.href;void 0!==W&&n!==W&&!e&&Z&&setTimeout(async()=>{await i(),await r()},2e3),W=n},1e3);const ee=window.trustedTypes?.createPolicy("default",{createHTML:e=>e});GM_addStyle('\n       @import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css");\n      @import url("https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/css/iziToast.min.css");\n      :root {\n              --primary-custom: #ff0000 !important;\n              --bg-dark-custom: #1a1a1a !important;\n              --bg-card-custom: #252525 !important;\n              --text-custom: #ffffff !important;\n              --text-custom-secondary: #9e9e9e !important;\n              --accent-custom: #ff4444 !important;\n          }\n        body .container-mdcm {\n              font-family: "Inter", -apple-system, sans-serif;\n              color: var(--yt-enhance-menu-text, --text-custom);\n        }\n        #toggle-button:hover {\n          background-color: rgba(255,255,255,0.1);\n          border-radius: 50%;\n          opacity: 1 !important;\n          }\n        .container-mdcm {\n            width: 420px;\n            max-width: 420px;\n            background-color: var(--yt-enhance-menu-bg, #252525);\n            border-radius: 16px 16px 0 0;\n            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\n            backdrop-filter: blur(15px);\n            border: 1px solid rgba(255, 255, 255, 0.1);\n            display: flex;\n            flex-direction: column;\n            max-height: 80vh;\n            overflow-y: auto;\n            overflow-x: hidden;\n            height: auto;\n        }\n\n        #shareDropdown {\n        display: none;\n        position: absolute;\n        top: 50px;\n        right: 100px;\n        background-color: var(--yt-enhance-menu-bg, #252525);\n        border-radius: 6px;\n        padding: 10px;\n        box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 12px;\n        z-index: 11;\n        }\n        #shareDropdown a {\n        color: var(--text-custom);\n        text-decoration: none;\n        line-height: 2;\n        font-size: 14px;\n        }\n        #shareDropdown a:hover {\n        color: var(--primary-custom);\n        }\n        .header-mdcm {\n            padding: 12px 16px;\n            border-bottom: 1px solid rgba(255,255,255,0.1);\n            position: sticky;\n            top: 0;\n            background-color: var(--yt-enhance-menu-bg, #252525);\n            border-radius: 16px 16px 0 0;\n            z-index: 10;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n\n        .header-mdcm h1 {\n            font-size: 16px;\n            margin: 0;\n            font-weight: 600;\n            display: flex;\n            align-items: center;\n            gap: 8px;\n        }\n\n\n        .header-mdcm i {\n         color: var(--primary-custom)\n        }\n\n\n        .icons-mdcm {\n            display: flex;\n            gap: 4px;\n        }\n        .icons-mdcm i {\n          color: var(--yh-enhance-menu-accent, var(--text-custom));\n        }\n\n\n        .icon-btn-mdcm {\n            background: rgba(255,255,255,0.1);\n            border: none;\n            color: var(--text-custom);\n            width: 28px;\n            height: 28px;\n            border-radius: 6px;\n            cursor: pointer;\n            transition: all 0.3s;\n        }\n\n        .icon-btn-mdcm:hover {\n            background: rgba(255,255,255,0.2);\n            transform: translateY(-2px);\n        }\n\n        .icon-btn-mdcm i {\n         color: var(--text-custom);\n         outline: none;\n         text-decoration: none;\n        }\n\n        .tabs-mdcm {\n            padding: 10px 12px;\n            margin: 10px 0;\n            position: sticky;\n            top: 50px;\n            background-color: var(--yt-enhance-menu-bg, #252525);\n            z-index: 10;\n            display: flex;\n            gap: 8px;\n            -ms-overflow-style: none;\n            padding-bottom: 8px;\n        }\n\n\n\n        .tabs-mdcm::-webkit-scrollbar {\n            height: 0px;\n            background-color: transparent;\n        }\n\n        .tabs-mdcm:hover::-webkit-scrollbar {\n            height: 6px;\n        }\n\n        .tabs-mdcm::-webkit-scrollbar-thumb {\n            background-color: rgba(255, 0, 0, 0.5);\n            border-radius: 3px;\n        }\n\n        .tabs-mdcm::-webkit-scrollbar-track {\n            background-color: transparent;\n        }\n\n        .tab-mdcm {\n            padding: 6px 10px;\n            border: none;\n            background: rgba(255,255,255,0.05);\n            cursor: pointer;\n            font-size: 12px;\n            color: var(--text-custom-secondary);\n            border-radius: 6px;\n            transition: all 0.3s;\n            flex: 1;\n            display: flex;\n            align-items: center;\n            gap: 6px;\n            flex-shrink: 0;\n            justify-content: center;\n            white-space: nowrap;\n        }\n\n        .tab-mdcm svg {\n            width: 14px;\n            height: 14px;\n            fill: currentColor;\n        }\n\n        .tab-mdcm.active {\n            background: var(--yt-enhance-menu-accent, --primary-custom) !important;\n            color: var(--text-custom);\n            font-weight: 500;\n            box-shadow: 0 4px 12px rgba(255,0,0,0.2);\n        }\n\n        .tab-mdcm:hover:not(.active) {\n            background: rgba(255,255,255,0.1);\n            transform: translateY(-1px);\n        }\n\n        .options-mdcm {\n            flex: 1;\n            overflow-y: auto;\n            padding: 0 16px 0;\n            scrollbar-width: thin;\n            scrollbar-color: var(--primary-custom) var(--bg-dark-custom);\n            max-height: 300px;\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n            gap: 8px;\n        }\n\n        .options-settings-mdcm {\n            flex: 1;\n            overflow-y: auto;\n            padding: 0 16px 0;\n            scrollbar-width: thin;\n            scrollbar-color: var(--primary-custom) var(--bg-dark-custom);\n            max-height: 300px;\n            display: grid;\n            gap: 8px;\n        }\n\n         .card-items-end {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          width: 175px;\n        }\n\n         .radio-mdcm {\n            width: 14px;\n            height: 14px;\n            accent-color: var(--primary-custom);\n        }\n\n        .color-picker-mdcm {\n            width: 50px;\n            height: 24px;\n            border: 1px solid rgba(255, 255, 255, 0.2);\n            background: rgba(255, 255, 255, 0.1);\n            border-radius: 4px;\n            cursor: pointer;\n            transition: all 0.3s;\n        }\n\n        .color-picker-mdcm:hover {\n            background: rgba(255, 255, 255, 0.2);\n        }\n\n        .options-mdcm::-webkit-scrollbar, .options-settings-mdcm::-webkit-scrollbar {\n            width: 6px;\n        }\n\n        .options-mdcm::-webkit-scrollbar-track, .options-settings-mdcm::-webkit-scrollbar-track {\n            background: var(--bg-dark-custom);\n            border-radius: 3px;\n        }\n\n        .options-mdcm::-webkit-scrollbar-thumb, .options-settings-mdcm::-webkit-scrollbar-thumb {\n            background: var(--primary-custom);\n            border-radius: 3px;\n        }\n\n        .options-mdcm::-webkit-scrollbar-thumb:hover, .options-settings-mdcm::-webkit-scrollbar-thumb:hover {\n            background: var(--accent-custom);\n        }\n\n        .options-mdcm::after, .options-settings-mdcm::after {\n            content: \'\';\n            display: block;\n        }\n\n        .option-mdcm {\n            display: grid;\n            grid-template-columns: auto 1fr;\n            align-items: center;\n            margin-bottom: 0;\n            padding: 5px;\n            background: rgba(255,255,255,0.05);\n            border-radius: 6px;\n            transition: all 0.3s;\n            border: 1px solid rgba(255,255,255,0.05);\n            color: var(--yt-)\n            gap: 6px;\n        }\n\n        .option-mdcm:hover {\n            background: rgba(255,255,255,0.08);\n            border-color: rgba(255,255,255,0.1);\n        }\n        .option-settings-mdcm {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 0;\n          padding: 6px;\n          background: rgba(255, 255, 255, 0.05);\n          border-radius: 6px;\n          transition: all 0.3s;\n          border: 1px solid rgba(255, 255, 255, 0.05);\n          gap: 6px;\n        }\n\n        .option-settings-mdcm:hover {\n            background: rgba(255,255,255,0.08);\n            border-color: rgba(255,255,255,0.1);\n        }\n            .tab-content {\n            display: none;\n        }\n            .tab-content.active {\n                display: block;\n                margin-bottom: 10px;\n            }\n\n        .checkbox-mdcm {\n            width: 14px;\n            height: 14px;\n            accent-color: var(--yt-enhance-menu-accent, --primary-custom) !important;\n        }\n\n        label {\n            font-size: 12px;\n            color: var(--text-custom);\n        }\n\n        .slider-container-mdcm {\n            background: rgba(255,255,255,0.05);\n            padding: 10px;\n            border-radius: 6px;\n        }\n\n        .slider-mdcm {\n            width: 100%;\n            height: 3px;\n            accent-color: var(--yt-enhance-menu-accent, --primary-custom) !important;\n            margin: 10px 0;\n        }\n\n        .reset-btn-mdcm {\n            padding: 5px 10px;\n            border: 1px solid rgba(255,255,255,0.2);\n            background: rgba(255,255,255,0.1);\n            color: var(--text-custom);\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 11px;\n            transition: all 0.3s;\n        }\n\n        .reset-btn-mdcm:hover {\n            background: rgba(255,255,255,0.2);\n        }\n\n        .quality-selector-mdcm select {\n            position: relative;\n            padding: 3px;\n            outline: none;\n            border-radius: 4px;\n            border: 1px solid rgba(255,255,255,0.2);\n            background: var(--yt-enhance-menu-accent, --primary-custom) !important;\n            color: var(--text-custom);\n            width: fit-content;\n            appearance: none;\n            cursor: pointer;\n            font-size: 11px;\n        }\n\n\n        .quality-selector-mdcm {\n            background: rgba(255,255,255,0.05);\n            padding: 10px;\n            border-radius: 6px;\n        }\n\n        .select-wrapper-mdcm {\n          position: relative;\n          display: inline-block;\n        }\n\n        .select-wrapper-mdcm select {\n          -webkit-appearance: auto;\n          -moz-appearance: auto;\n        }\n\n        .actions-mdcm {\n            position: sticky;\n            top: 0;\n            padding: 12px 16px;\n            backdrop-filter: blur(15px);\n            background-color: var(--yt-enhance-menu-bg, #252525);\n            display: flex;\n            gap: 6px;\n            width: 390px;\n            border-radius: 0 0 16px 16px;\n            justify-content: space-between;\n            align-items: center;\n        }\n\n        .action-buttons-mdcm {\n            display: flex;\n            gap: 6px;\n        }\n\n        .action-btn-mdcm {\n            flex: 1;\n            padding: 8px;\n            border: none;\n            border-radius: 6px;\n            background: var(--primary-custom);\n            color: var(--text-custom);\n            cursor: pointer;\n            font-size: 12px;\n            font-weight: 500;\n            transition: all 0.3s;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 4px;\n            box-shadow: 0 4px 12px rgba(255,0,0,0.2);\n        }\n\n        .action-btn:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 6px 16px rgba(255,0,0,0.3);\n        }\n\n        textarea.textarea-mdcm {\n            width: 100%;\n            height: 50px;\n            margin-top: 10px;\n            margin-bottom: 12px;\n            padding: 8px;\n            background: rgba(255,255,255,0.05);\n            border: 1px solid rgba(255,255,255,0.1);\n            border-radius: 6px;\n            color: var(--text-custom);\n            font-size: 11px;\n            resize: none;\n            transition: all 0.3s;\n        }\n\n        textarea.textarea-mdcm:focus {\n            outline: none;\n            border-color: var(--primary-custom);\n            background: rgba(255,255,255,0.08);\n        }\n\n        @keyframes fadeIn {\n            from { opacity: 0; transform: translateY(10px); }\n            to { opacity: 1; transform: translateY(0); }\n        }\n\n        .container-mdcm {\n            animation: fadeIn 0.3s ease-out;\n        }\n\n        .developer-mdcm {\n            font-size: 10px;\n            color: var(--text-custom-secondary);\n        }\n\n        .developer-mdcm a {\n            color: var(--primary-custom);\n            text-decoration: none;\n        }\n\n        /* Styles for the import/export area */\n        #importExportArea {\n            display: none;\n            padding: 16px;\n            margin: 0px;\n            background-color: var(--yt-enhance-menu-bg, #252525);\n            border-radius: 16px;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n        }\n\n        #importExportArea.active {\n            display: block;\n            margin-top: 10px;\n        }\n\n        /* Style the textarea */\n        #importExportArea textarea {\n            width: 370px;\n            height: 20px;\n            margin-bottom: 10px;\n            padding: 8px;\n            border: 1px solid rgba(255, 255, 255, 0.2);\n            border-radius: 6px;\n            background-color: rgba(255, 255, 255, 0.05);\n            color: var(--text-custom);\n            font-size: 12px;\n            resize: vertical;\n        }\n\n        /* Style the buttons */\n        #importExportArea .action-buttons-mdcm  {\n            display: flex;\n            justify-content: space-between;\n            gap: 10px;\n        }\n\n        #importExportArea .action-btn-mdcm {\n            flex: 1;\n            padding: 10px 16px;\n            border: none;\n            border-radius: 6px;\n            background-color: var(--primary-custom);\n            color: var(--text-custom);\n            font-size: 14px;\n            font-weight: 500;\n            cursor: pointer;\n            transition: background-color 0.3s ease;\n        }\n\n        #importExportArea .action-btn-mdcm:hover {\n            background-color: var(--accent-custom);\n        }\n\n      #yt-stats {\n      position: fixed;\n      top: 60px;\n      right: 20px;\n      background: #1a1a1a;\n      color: white;\n      padding: 15px;\n      border-radius: 10px;\n      width: 320px;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.4);\n      font-family: Arial, sans-serif;\n      display: none;\n      }\n  #yt-stats-toggle {\n      font-size: 12px;\n      color: #fff;\n      padding: 12px 20px;\n      border-radius: 5px;\n      cursor: pointer;\n  }\n  .stat-row {\n      margin: 15px 0;\n  }\n  .progress {\n      height: 6px;\n      overflow: hidden;\n      background: #333;\n      border-radius: 3px;\n      margin: 8px 0;\n  }\n  .progress-bar {\n      height: 100%;\n      transition: width 0.3s;\n  }\n  .total-bar { background: #44aaff !important; }\n  .video-bar { background: #00ff88 !important; }\n  .shorts-bar { background: #ff4444 !important; }\n  #cinematics {\n    position: absolute !important;\n    width: 90vw !important;\n    height: 100vh ;\n  }\n    #cinematics div {\n        position: fixed;\n      inset: 0px;\n      pointer-events: none;\n      transform: scale(1.5, 2);\n  }\n      #cinematics > div > div > canvas:nth-child(1), #cinematics > div > div > canvas:nth-child(2) {\n   position: absolute !important;\n    width: 90vw !important;\n    height: 100vh ;\n      }\n\n    // .html5-video-player.unstarted-mode {\n    //  background-image: url(\'https://avatars.githubusercontent.com/u/54366580?v=4\');\n    // background-repeat: no-repeat;\n    // background-position: 50% 50%;\n    // display: flex;\n    // justify-content: center;\n    // align-items: center;\n    // }\n\n        #yt-enhancement-panel {\n            position: fixed;\n            top: 60px;\n            right: 20px;\n            z-index: 9999;\n        }\n\n        .color-picker {\n            width: 100%;\n            margin: 0;\n            padding: 0;\n            border: none;\n            background: none;\n        }\n        .slider {\n            width: 100%;\n        }\n         #toggle-panel {\n            z-index: 10000;\n            color: white;\n            padding: 5px;\n            border: none;\n            cursor: pointer;\n            display: flex;\n            justify-content: center;\n            transition: all 0.5s ease;\n            width: 43px;\n            border-radius: 100px;\n        }\n\n        #icon-menu-settings {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 24px;\n        height: 24px;\n        padding: 7px;\n        font-size: 20px;\n        color: var(--yt-spec-icon-inactive);\n        cursor: pointer;\n        user-select: none;\n        filter: drop-shadow(2px 4px 6px black);\n        }\n\n        .theme-option {\n            margin-bottom: 15px;\n        }\n        .theme-option label {\n            display: flex;\n            align-items: center;\n        }\n       .theme-option {\n    position: relative;\n    width: auto;\n    margin-bottom: 10px;\n    padding: 10px;\n    border-radius: 4px;\n    cursor: pointer;\n}\n\n.theme-preview {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border-radius: 10px;\n    border: 1px solid #000;\n    z-index: 1;\n}\n\n.theme-option input[type="radio"] {\n    position: relative;\n    z-index: 2;\n    margin-right: 10px;\n    cursor: pointer;\n}\n\n.theme-name {\n    position: relative;\n    z-index: 2;\n    font-size: 15px;\n    color: #fff;\n}\n\n.theme-option label {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    position: relative;\n    z-index: 2;\n}\n\n  .buttons-tranlate, .select-traductor {\n        background: #000;\n        font-size: 10px;\n        border: none;\n        color: #fbf4f4 !important;\n        padding: 3px 0;\n        margin-left: 10px;\n        width: 70px;\n        border-radius: 10px;\n        }\n        .buttons-tranlate:hover {\n        cursor: pointer;\n        background-color: #6b6b6b;\n        }\n         button.botones_div {\n         margin: 0;\n         padding: 0;\n         }\n         button.botones_div:hover {\n         cursor: pointer;\n         color: #6b6b6b !important;\n         }\n\n        .tab-button:hover {\n          background-color: #ec3203 !important;\n          color: #ffffff !important;\n          cursor: pointer;\n        }\n\n        .traductor-container {\n            display: inline-block;\n            align-items: center;\n            gap: 8px;\n            margin-top: 4px;\n          }\n\n        #eyes {\n      opacity: 0;\n      position: absolute;\n      height: 24px;\n      left: 0;\n      width: 24px;\n    }\n\n    /* width */\n    ::-webkit-scrollbar {\n      width: 4px;\n      height: 10px;\n    }\n\n    /* Track */\n    ::-webkit-scrollbar-track {\n      background: ##d5d5d5;\n\n    }\n\n    /* Handle */\n    ::-webkit-scrollbar-thumb {\n      background: #000;\n\n    }\n\n    .color-boxes {\n      display: flex;\n      gap: 8px;\n    }\n    .color-box {\n      width: 20px;\n      height: 20px;\n      border: 1px solid rgb(221 221 221 / 60%);\n      border-radius: 4px;\n      cursor: pointer;\n    }\n    .color-box.selected {\n      border: 2px solid var(--primary-custom);\n      filter: drop-shadow(0px 1px 6px red);\n    }\n\n    .containerButtons {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-wrap: wrap;\n      gap: 10px;\n    }\n    .containerButtons > button:hover {\n      cursor: pointer;\n    }\n\n        /* Download Container Styles */\n        .download-container {\n          width: 50%;\n          padding: 12px;\n          text-align: center;\n          border-radius: 8px;\n          margin-top: 8px;\n          transition: all 0.3s ease;\n        }\n\n        .download-container.video {\n          background: linear-gradient(135deg, #ff4444, #cc0000);\n          color: white;\n        }\n\n        .download-container.audio {\n          background: linear-gradient(135deg, #00cc44, #009933);\n          color: white;\n        }\n\n        .download-info {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 8px;\n        }\n\n        .download-text {\n          font-weight: 600;\n          font-size: 14px;\n        }\n\n        .download-quality {\n          font-size: 12px;\n          opacity: 0.9;\n        }\n\n        .progress-container {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          margin-bottom: 6px;\n        }\n\n        .progress-bar {\n          flex: 1;\n          height: 6px;\n          background: rgba(255, 255, 255, 0.3);\n          border-radius: 3px;\n          overflow: hidden;\n        }\n\n        .progress-fill {\n          height: 100%;\n          background: rgba(255, 255, 255, 0.8);\n          border-radius: 3px;\n          width: 0%;\n          transition: width 0.3s ease;\n        }\n\n        .progress-text {\n          font-size: 12px;\n          font-weight: 500;\n          min-width: 30px;\n        }\n\n        .download-footer {\n          font-size: 10px;\n          opacity: 0.7;\n          text-align: center;\n        }\n        .download-footer a {\n          text-decoration: none;\n          color: #fff;\n        }\n\n        .download-container.completed {\n          color: #fff;\n          background: linear-gradient(135deg, #00cc44, #009933) !important;\n        }\n\n        .download-container.completed .download-text {\n          font-weight: 700;\n        }\n\n        .progress-retry-btn {\n          position: absolute;\n          top: 118px;\n          right: 50%;\n          width: 24px;\n          height: 24px;\n          border: none;\n          border-radius: 50%;\n          background: rgba(255, 255, 255, 0.2);\n          color: white;\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 12px;\n          transition: all 0.3s ease;\n        }\n\n        .progress-retry-btn:hover {\n          background: rgba(255, 255, 255, 0.3);\n          transform: scale(1.1);\n        }\n\n        .download-container {\n          position: relative;\n        }\n\n        .download-actions {\n          display: flex;\n          gap: 8px;\n          margin-bottom: 8px;\n        }\n\n        .download-btn {\n          flex: 1;\n          padding: 8px 16px;\n          border: none;\n          border-radius: 4px;\n          font-weight: 600;\n          font-size: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          color: white;\n        }\n\n        .download-btn.video-btn {\n          background: linear-gradient(135deg, #ff6666, #ff4444);\n        }\n\n        .download-btn.audio-btn {\n          background: linear-gradient(135deg, #00dd55, #00cc44);\n        }\n\n        .download-btn:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 8px rgba(0,0,0,0.2);\n        }\n\n        .download-btn:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n        }\n\n        .retry-btn {\n          padding: 8px 16px;\n          border: none;\n          border-radius: 4px;\n          font-weight: 600;\n          font-size: 12px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          background: linear-gradient(135deg, #ffaa00, #ff8800);\n          color: white;\n        }\n\n        .retry-btn:hover {\n          transform: translateY(-1px);\n          box-shadow: 0 4px 8px rgba(0,0,0,0.2);\n    }\n\n      body {\n      padding: 0;\n      margin: 0;\n      overflow-y: scroll;\n      overflow-x: hidden;\n      }\n      .style-scope.ytd-comments {\n      overflow-y: auto;\n      overflow-x: hidden;\n      height: auto;\n      }\n      ytd-comment-view-model[is-reply] #author-thumbnail.ytd-comment-view-model yt-img-shadow.ytd-comment-view-model, ytd-comment-view-model[is-creator-reply] #author-thumbnail.ytd-comment-view-model yt-img-shadow.ytd-comment-view-model {\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n      }\n        img.yt-img-shadow {\n        border-radius: 50% !important;\n        }\n        #author-thumbnail.ytd-comment-view-model yt-img-shadow.ytd-comment-view-model {\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          overflow: visible;\n        }\n      ytd-item-section-renderer.ytd-watch-next-secondary-results-renderer {\n        --ytd-item-section-item-margin: 8px;\n        overflow-y: auto;\n        overflow-x: hidden;\n        height: auto;\n      }\n      .right-section.ytcp-header {\n      display: flex;\n      flex: 1;\n      align-items: center;\n      gap: 45px;\n      justify-content: end;\n    }\n      #meta.ytd-playlist-panel-video-renderer {\n    min-width: 0;\n    padding: 0 8px;\n    display: flexbox;\n    display: flex;\n    flex-direction: column-reverse;\n    flex: 1;\n    flex-basis: 0.000000001px;\n}\n\n    .containerall {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      flex-direction: column;\n      padding-bottom: 30px;\n      max-width: 800px;\n      margin: auto;\n    }\n    }\n    .container .botoncalidades {\n      margin: 3px 2px;\n      width: 24.6%;\n    }\n\n    .botoncalidades:first-child {\n      background-color: #0af;\n    }\n\n    .botoncalidades:last-child {\n      background-color: red;\n      width: 100px;\n    }\n\n    .selectcalidades,\n    .botoncalidades,\n    .selectcalidadesaudio {\n      width: 50%;\n      height: 27.8px;\n      background-color: #fff;\n      color: #000;\n      font-size: 25px;\n      text-align: center;\n      border: 1px solid black;\n      border-radius: 10px;\n      border: none;\n      font-size: 20px;\n      margin: 2px 2px;\n    }\n\n    .botoncalidades {\n      width: 70px;\n      height: 30px;\n      background-color: rgb(4, 156, 22);\n      border: 0px solid #000;\n      color: #fff;\n      font-size: 20px;\n      border-radius: 10px;\n      margin: 2px 2px;\n    }\n\n    .botoncalidades:hover,\n    .bntcontainer:hover {\n      cursor: pointer;\n    }\n\n   .ocultarframe,\n    .ocultarframeaudio {\n      display: none;\n    }\n      .checked_updates {\n      cursor: pointer;\n      }\n\n      #export-config, #import-config {\n        width: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        gap: 10px;\n        background-color: var(--yt-enhance-menu-accent, --primary-custom) !important;;\n        color: #ffffff;\n        border: none;\n        padding: 5px;\n      }\n        #export-config:hover, #import-config:hover {\n          background-color: #ff0000;\n          color: #ffffff;\n          cursor: pointer;\n        }\n\n        .yt-image-avatar-download {\n          position: absolute;\n          bottom: -10px;\n          right: -14px;\n          border: none;\n          z-index: 1000;\n          background: transparent;\n          filter: drop-shadow(1px 0 6px red);\n          color: var(--ytcp-text-primary);\n          cursor: pointer;\n        }\n\n        .custom-classic-btn {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          background-color: rgba(255,255,255,0.1);\n          border-radius: 50%;\n          border: none;\n          width: 48px;\n          height: 48px;\n          color: var(--yt-spec-icon-inactive);\n          font-size: 24px;\n          margin: 0px 8px;\n          cursor: pointer;\n        }\n        .custom-classic-btn:hover {\n          background-color: rgba(255,255,255,0.2);\n        }\n        .background-image-container {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        gap: 8px;\n        margin: 10px 0;\n      }\n\n      .background-image-preview {\n        width: 160px;\n        height: 90px;\n        border-radius: 10px;\n        background-size: cover;\n        background-position: center;\n        border: 2px solid #444;\n        position: relative;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        transition: box-shadow 0.2s;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.08);\n        overflow: hidden;\n      }\n\n      .background-image-preview:hover .background-image-overlay {\n        opacity: 1;\n      }\n\n      .background-image-overlay {\n        position: absolute;\n        top: 0; left: 0; right: 0; bottom: 0;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        color: #fff;\n        background: rgba(0,0,0,0.35);\n        font-size: 18px;\n        opacity: 0;\n        transition: opacity 0.2s;\n        pointer-events: none;\n      }\n\n      .background-image-preview:hover .background-image-overlay,\n      .background-image-preview:focus .background-image-overlay {\n        opacity: 1;\n      }\n\n      .background-image-overlay i {\n        font-size: 28px;\n        margin-bottom: 4px;\n      }\n\n      .background-image-text {\n        font-size: 13px;\n        font-weight: 500;\n        text-shadow: 0 1px 4px #000;\n      }\n\n      .remove-background-image {\n        position: absolute;\n        top: 6px;\n        right: 6px;\n        background: #e74c3c;\n        color: #fff;\n        border: none;\n        border-radius: 50%;\n        width: 26px;\n        height: 26px;\n        font-size: 18px;\n        cursor: pointer;\n        z-index: 2;\n        display: none;\n        align-items: center;\n        justify-content: center;\n        padding: 0;\n        line-height: 1;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n        transition: background 0.2s;\n      }\n      .remove-background-image:hover {\n        background: #c0392b;\n      }\n      .background-image-preview.has-image .remove-background-image {\n        display: flex;\n      }\n\n      ytd-feed-filter-chip-bar-renderer[not-sticky] #chips-wrapper.ytd-feed-filter-chip-bar-renderer {\n        padding: 10px;\n      }\n\n    ');const ne='\n    <main>\n    <div class="container">\n    <form>\n      <div class="containerButtons">\n      \n  <button title="Image video" class="botones_div" type="button" id="imagen">\n\n  <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-photo-down" width="24"\n    height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"\n    stroke-linecap="round" stroke-linejoin="round">\n    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n    <path d="M15 8h.01"></path>\n    <path d="M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5"></path>\n    <path d="M3 16l5 -5c.928 -.893 2.072 -.893 3 0l4 4"></path>\n    <path d="M14 14l1 -1c.653 -.629 1.413 -.815 2.13 -.559"></path>\n    <path d="M19 16v6"></path>\n    <path d="M22 19l-3 3l-3 -3"></path>\n  </svg>\n</button>\n  \n      \n  <button title="Buffer video" type="button" class="buffer_video botones_div">\n <svg width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-align-box-right-stretch"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 17h2" /><path d="M3 5a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-14z" /><path d="M11 12h6" /><path d="M13 7h4" /></svg>\n</button>\n  \n      \n  <div style="position:relative; ">\n  <button title="Filter eyes" class="botones_div" type="button">\n    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brightness-half"\n      width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"\n      fill="none" stroke-linecap="round" stroke-linejoin="round">\n      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n      <path d="M12 9a3 3 0 0 0 0 6v-6z"></path>\n      <path\n        d="M6 6h3.5l2.5 -2.5l2.5 2.5h3.5v3.5l2.5 2.5l-2.5 2.5v3.5h-3.5l-2.5 2.5l-2.5 -2.5h-3.5v-3.5l-2.5 -2.5l2.5 -2.5z">\n      </path>\n    </svg>\n    <input id="eyes" list="presetColors" type="color" value="#ffffff">\n  <datalist id="presetColors">\n    <option value="#000000" />\n    <option value="#fbff00" />\n    <option value="#ff0000" />\n    <option value="#00ff00" />\n    <option value="#0000ff" />\n  </datalist>\n  <div id="ojosprotect"\n  style="position: fixed; pointer-events: none; width: 100%; height: 100%; left: 0px; top: 0px; opacity: 0.2; z-index: 10; display: block;">\n  </div>\n</div>\n</button>\n  \n      \n  <button title="reset" class="botones_div" type="button" id="reset_button">\n  <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-power" width="24"\n    height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"\n    stroke-linecap="round" stroke-linejoin="round">\n    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n    <path d="M7 6a7.75 7.75 0 1 0 10 0"></path>\n    <path d="M12 4l0 8"></path>\n  </svg>\n</button>\n  \n      \n  <button title="Repeat video" class="botones_div" type="button" id="repeatvideo">\n\n  <svg  xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-repeat" width="24"\n    height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"\n    stroke-linecap="round" stroke-linejoin="round">\n    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n    <path d="M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3"></path>\n    <path d="M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3 -3l3 -3"></path>\n  </svg>\n</button>\n  \n      \n  <button title="MP4" type="button" class="btn1 botones_div">\n  <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-file-download"\n    width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"\n    stroke-linecap="round" stroke-linejoin="round">\n    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n    <path d="M14 3v4a1 1 0 0 0 1 1h4"></path>\n    <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"></path>\n    <path d="M12 17v-6"></path>\n    <path d="M9.5 14.5l2.5 2.5l2.5 -2.5"></path>\n  </svg>\n</button>\n<button title="MP3" type="button" class="btn2 botones_div">\n\n  <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-file-music" width="24"\n    height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"\n    stroke-linecap="round" stroke-linejoin="round">\n    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n    <path d="M14 3v4a1 1 0 0 0 1 1h4"></path>\n    <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z"></path>\n    <path d="M11 16m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>\n    <path d="M12 16l0 -5l2 1"></path>\n  </svg>\n</button>\n<button title="Close" type="button" class="btn3 botones_div">\n<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-circle-x" width="24"\n  height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"\n  stroke-linecap="round" stroke-linejoin="round">\n  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n  <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>\n  <path d="M10 10l4 4m0 -4l-4 4"></path>\n</svg>\n</button>\n  \n      \n\n  <button title="External Download" type="button" class="external_link botones_div">\n\n  <svg class="icon icon-tabler icon-tabler-external-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n      <path d="M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6"></path>\n      <path d="M11 13l9 -9"></path>\n      <path d="M15 4h5v5"></path>\n   </svg>\n</button>\n\n  \n      \n\n  <button title="view External no cookie" type="button" class="view_external_link botones_div">\n\n  <svg width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 16m0 1a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v3a1 1 0 0 1 -1 1h-3a1 1 0 0 1 -1 -1z" /><path d="M4 12v-6a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-6" /><path d="M12 8h4v4" /><path d="M16 8l-5 5" /></svg>\n</button>\n\n  \n      \n  <button title="Picture to picture" type="button" class="video_picture_to_picture botones_div">\n\n  <svg width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M11 19h-6a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v4" /><path d="M14 14m0 1a1 1 0 0 1 1 -1h5a1 1 0 0 1 1 1v3a1 1 0 0 1 -1 1h-5a1 1 0 0 1 -1 -1z" /></svg>\n</button>\n\n  \n      \n  <button title="Screenshot video" type="button" class="screenshot_video botones_div">\n  <svg width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 8h.01" /><path d="M6 13l2.644 -2.644a1.21 1.21 0 0 1 1.712 0l3.644 3.644" /><path d="M13 13l1.644 -1.644a1.21 1.21 0 0 1 1.712 0l1.644 1.644" /><path d="M4 8v-2a2 2 0 0 1 2 -2h2" /><path d="M4 16v2a2 2 0 0 0 2 2h2" /><path d="M16 4h2a2 2 0 0 1 2 2v2" /><path d="M16 20h2a2 2 0 0 0 2 -2v-2" /></svg>\n</button>\n\n  \n      \n  <button title="Check new updates" type="button" class="checked_updates botones_div">\n  <svg width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4" /><path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4" /></svg>\n</button>\n  \n      </div>\n      <div>\n      </div>\n    </form>\n\n    </div>\n    <div class="content_collapsible_colors" style="margin-top: 10px">\n\n    <form class="formulariodescarga ocultarframe" action="">\n    <div class="containerall">\n    <select class="selectcalidades ocultarframe" required>\n      <option selected disabled>Calidad del video / Quality video</option>\n      <option value="144">144p Mp4</option>\n      <option value="240">240p Mp4</option>\n      <option value="360">360p Mp4</option>\n      <option value="480">480p Mp4</option>\n      <option value="720">720p HD Mp4 Default</option>\n      <option value="1080">1080p FULL HD Mp4</option>\n      <option value="4k">2160p 4K WEBM</option>\n      <option value="8k">4320p 8K WEBM</option>\n      </select>\n      <div id="descargando" class="download-container ocultarframe">\n        <button class="progress-retry-btn" title="Retry" style="display: none;">\n        <i class="fa-solid fa-rotate-right"></i>\n        </button>\n        <div class="download-info">\n          <span class="download-text">Download Video And Please Wait...</span>\n          <span class="download-quality"></span>\n        </div>\n        <div class="download-actions">\n          <button class="download-btn video-btn">Download</button>\n          <button class="retry-btn" style="display: none;">Retry</button>\n        </div>\n        <div class="progress-container" style="display: none;">\n          <div class="progress-bar">\n            <div class="progress-fill"></div>\n          </div>\n          <span class="progress-text">0%</span>\n        </div>\n        <div class="download-footer">\n          <a href="https://github.com/DeveloperMDCM/" target="_blank"> <i class="fa-brands fa-github"></i> by: DeveloperMDCM</a>\n        </div>\n       <h3 style="margin-top: 10px;">Enable pop-ups on YouTube to automatically download the video</h3>\n      </div>\n    </div>\n    </form>\n    <form class="formulariodescargaaudio ocultarframe" action="">\n    <div class="containerall">\n    <select class="selectcalidadesaudio ocultarframeaudio" required>\n      <option selected disabled>Calidad del Audio / Quality Audio</option>\n      <option value="flac">Audio FLAC UHQ</option>\n      <option value="wav">Audio WAV UHQ</option>\n      <option value="webm">Audio WEBM UHQ</option>\n      <option value="mp3">Audio MP3 Default</option>\n      <option value="m4a">Audio M4A</option>\n      <option value="aac">Audio AAC</option>\n      <option value="opus">Audio OPUS</option>\n      <option value="ogg">Audio OGG</option>\n      </select>\n      <div id="descargandomp3" class="download-container ocultarframeaudio">\n        <button class="progress-retry-btn" title="Retry" style="display: none;">\n        <i class="fa-solid fa-rotate-right"></i>\n        </button>\n        <div class="download-info">\n          <span class="download-text">Download Audio And Please Wait...</span>\n          <span class="download-quality"></span>\n        </div>\n        <div class="download-actions">\n          <button class="download-btn audio-btn">Download</button>\n          <button class="retry-btn" style="display: none;">Retry</button>\n        </div>\n        <div class="progress-container" style="display: none;">\n          <div class="progress-bar">\n            <div class="progress-fill"></div>\n          </div>\n          <span class="progress-text">0%</span>\n        </div>\n         <div class="download-footer">\n          <a href="https://github.com/DeveloperMDCM/" target="_blank"><i class="fa-brands fa-github"></i> by: DeveloperMDCM</a>\n        </div>\n       <h3 style="margin-top: 10px;">Enable pop-ups on YouTube to automatically download the audio</h3>\n      </div>\n    </div>\n    </form>\n      </main>\n  ',te=[{name:"Default / Reload",gradient:"",textColor:"",raised:"",btnTranslate:"",CurrentProgressVideo:"",videoDuration:"",colorIcons:"",textLogo:"",primaryColor:"",secondaryColor:""},{name:"Midnight Blue",gradient:"linear-gradient(135deg, #1e3a8a, #3b82f6)",textColor:"#ffffff",raised:"#f00",btnTranslate:"#000",CurrentProgressVideo:"#0f0",videoDuration:"#fff",colorIcons:"#fff",textLogo:"#f00"},{name:"Forest Green",gradient:"linear-gradient(135deg, #14532d, #22c55e)",textColor:"#ffffff",raised:"#303131",btnTranslate:"#000",CurrentProgressVideo:"#0f0",videoDuration:"#fff",colorIcons:"#fff",textLogo:"#f00"},{name:"Sunset Orange",gradient:"linear-gradient(135deg, #7c2d12, #f97316)",textColor:"#ffffff",raised:"#303131",btnTranslate:"#000",CurrentProgressVideo:"#0f0",videoDuration:"#fff",colorIcons:"#fff",textLogo:"#f00"},{name:"Royal Purple",gradient:"linear-gradient(135deg, #4c1d95, #8b5cf6)",textColor:"#ffffff",raised:"#303131",btnTranslate:"#000",CurrentProgressVideo:"#0f0",videoDuration:"#fff",colorIcons:"#fff",textLogo:"#f00"},{name:"Cherry Blossom",gradient:"linear-gradient(135deg, #a9005c, #fc008f)",textColor:"#ffffff",raised:"#fc008f",btnTranslate:"#000",CurrentProgressVideo:"#0f0",videoDuration:"#fff",colorIcons:"#fff",textLogo:"#f00"},{name:"Red Dark",gradient:"linear-gradient(135deg, #790909, #f70131)",textColor:"#ffffff",raised:"#303131",btnTranslate:"#000",CurrentProgressVideo:"#0f0",videoDuration:"#fff",colorIcons:"#fff",textLogo:"#f00"},{name:"Raind ",gradient:"linear-gradient(90deg, #3f5efb 0%, #fc466b) 100%",textColor:"#ffffff",raised:"#303131",btnTranslate:"#000",CurrentProgressVideo:"#0f0",videoDuration:"#fff",colorIcons:"#fff",textLogo:"#f00"},{name:"Neon",gradient:"linear-gradient(273deg, #ee49fd 0%, #6175ff 100%)",textColor:"#ffffff",raised:"#303131",btnTranslate:"#000",CurrentProgressVideo:"#0f0",videoDuration:"#fff",colorIcons:"#fff",textLogo:"#f00"},{name:"Azure",gradient:"linear-gradient(273deg, #0172af 0%, #74febd 100%)",textColor:"#ffffff",raised:"#303131",btnTranslate:"#000",CurrentProgressVideo:"#0f0",videoDuration:"#fff",colorIcons:"#fff",textLogo:"#f00"},{name:"Butterfly",gradient:"linear-gradient(273deg, #ff4060 0%, #fff16a 100%)",textColor:"#ffffff",raised:"#303131",btnTranslate:"#000",CurrentProgressVideo:"#0f0",videoDuration:"#fff",colorIcons:"#fff",textLogo:"#f00"},{name:"Colombia",gradient:"linear-gradient(174deg, #fbf63f  0%, #0000bb 45%, #ff0000 99%)",textColor:"#ffffff",raised:"#303131",btnTranslate:"#000",CurrentProgressVideo:"#0f0",videoDuration:"#fff",colorIcons:"#fff",textLogo:"#f00"}],oe=y("div");oe.id="yt-enhancement-panel";const ae=te.map((e,n)=>`\n        <label >\n          <div class="theme-option">\n          <div class="theme-preview" style="background: ${e.gradient};"></div>\n          <input type="radio" name="theme" value="${n}" ${0===n?"checked":""}>\n              <span style="${"Default / Reload Page"===e.name?"color: red; ":""}" class="theme-name">${e.name}</span>\n              </div>\n        </label>\n    `).join(""),ie=Object.entries(z).map(([e,n])=>`<option value="${e}" ${e===z?"selected":""}>${n}</option>`).join("");let re=function(){const e=document.cookie.split("; ").find(e=>e.startsWith("PREF="));if(!e)return"light";const n=e.substring(5),t=new URLSearchParams(n).get("f6");return["400","4000000","40000400","40000000"].includes(t)?"dark":"light"}();const se=`\n   <div class="container-mdcm">\n    <div class="header-mdcm">\n      <h1> <i class="fa-brands fa-youtube"></i> YouTube Tools</h1>\n      <div class="icons-mdcm">\n        <a href="https://update.greasyfork.org/scripts/460680/Youtube%20Tools%20All%20in%20one%20local%20download%20mp3%20mp4%20HIGT%20QUALITY%20return%20dislikes%20and%20more.user.js"\n          target="_blank">\n          <button class="icon-btn-mdcm">\n            <i class="fa-solid fa-arrows-rotate"></i>\n          </button>\n        </a>\n        <a href="https://github.com/DeveloperMDCM" target="_blank">\n          <button class="icon-btn-mdcm">\n            <i class="fa-brands fa-github"></i>\n          </button>\n        </a>\n        <button class="icon-btn-mdcm" id="shareBtn-mdcm">\n          <i class="fa-solid fa-share-alt"></i>\n        </button>\n        <button class="icon-btn-mdcm" id="importExportBtn">\n          <i class="fa-solid fa-file-import"></i>\n        </button>\n        <button id="menu-settings-icon" class="icon-btn-mdcm tab-mdcm" data-tab="menu-settings">\n          <i class="fa-solid fa-gear"></i>\n        </button>\n        <button class="icon-btn-mdcm close_menu_settings">\n          <i class="fa-solid fa-xmark"></i>\n        </button>\n      </div>\n    </div>\n\n    <div class="tabs-mdcm">\n      <button class="tab-mdcm active" data-tab="general">\n        <i class="fa-solid fa-shield-halved"></i>\n        General\n      </button>\n      <button class="tab-mdcm" data-tab="themes">\n        <i class="fa-solid fa-palette"></i>\n        Themes\n      </button>\n      <button class="tab-mdcm" data-tab="stats">\n        <i class="fa-solid fa-square-poll-vertical"></i>\n        Stats\n      </button>\n      <button class="tab-mdcm" data-tab="headers">\n        <i class="fa-regular fa-newspaper"></i>\n        Header\n      </button>\n    </div>\n\n\n    <div id="general" class="tab-content active">\n\n      <div class="options-mdcm">\n        <label>\n          <div class="option-mdcm">\n            <input type="checkbox" class="checkbox-mdcm" id="hide-comments-toggle"> Hide Comments\n          </div>\n        </label>\n        <label>\n          <div class="option-mdcm">\n            <input type="checkbox" class="checkbox-mdcm" id="hide-sidebar-toggle"> Hide Sidebar\n          </div>\n        </label>\n        <label>\n          <div class="option-mdcm">\n            <input type="checkbox" class="checkbox-mdcm" id="autoplay-toggle"> Disable Autoplay\n          </div>\n        </label>\n        <label>\n          <div class="option-mdcm">\n            <input type="checkbox" class="checkbox-mdcm" id="subtitles-toggle"> Disable Subtitles\n          </div>\n        </label>\n        <label>\n          <div class="option-mdcm">\n            <input type="checkbox" class="checkbox-mdcm" checked id="dislikes-toggle"> Show Dislikes\n          </div>\n        </label>\n        <label>\n          <div class="option-mdcm">\n            <input type="checkbox" class="checkbox-mdcm" id="themes-toggle"> Active Themes\n          </div>\n        </label>\n        <label>\n          <div class="option-mdcm">\n            <input type="checkbox" class="checkbox-mdcm" id="translation-toggle"> Translate comments\n          </div>\n        </label>\n        <label>\n          <div class="option-mdcm">\n            <input type="checkbox" class="checkbox-mdcm" id="avatars-toggle"> Download avatars\n          </div>\n        </label>\n        <label>\n          <div class="option-mdcm">\n            <input type="checkbox" class="checkbox-mdcm" id="reverse-mode-toggle"> Reverse mode\n          </div>\n        </label>\n        <label>\n          <div class="option-mdcm">\n            <input type="checkbox" class="checkbox-mdcm" id="cinematic-lighting-toggle"> Cinematic Mode\n          </div>\n        </label>\n        <label>\n          <div class="option-mdcm">\n            <input type="checkbox" class="checkbox-mdcm" checked id="wave-visualizer-toggle"> Wave visualizer Beta\n          </div>\n        </label>\n        <label>\n          <div class="option-mdcm">\n            <input type="checkbox" class="checkbox-mdcm" id="sync-cinematic-toggle"> Sync Ambient Mode YT\n          </div>\n        </label>\n        <div class="quality-selector-mdcm" style="grid-column: span 2;">\n          <div class="select-wrapper-mdcm">\n            <label>Effect wave visualizer:\n              <select class="tab-button-active" id="select-wave-visualizer-select">\n                <option value="linea">Line smooth</option>\n                <option value="barras">Vertical bars</option>\n                <option value="curva">Curved</option>\n                <option value="picos">Smooth peaks</option>\n                <option value="solida">Solid wave</option>\n                <option value="dinamica">Dynamic wave</option>\n                <option value="montana">Smooth mountain</option>\n              </select>\n            </label>\n          </div>\n        </div>\n        <div class="quality-selector-mdcm" style="grid-column: span 2;">\n          <div class="select-wrapper-mdcm">\n            <label>Default video player quality:\n              <select class="tab-button-active" id="select-video-qualitys-select">\n                <option value="user">User Default</option>\n                <option value="">Auto</option>\n                <option value="144">144</option>\n                <option value="240">240</option>\n                <option value="360">360</option>\n                <option value="480">480</option>\n                <option value="720">720</option>\n                <option value="1080">1080</option>\n                <option value="1440">1440</option>\n                <option value="2160">2160</option>\n              </select>\n            </label>\n          </div>\n        </div>\n        <div class="quality-selector-mdcm" style="grid-column: span 2;">\n          <div class="select-wrapper-mdcm">\n            <label>Language for translate comments:\n              <select class="tab-button-active" id="select-languages-comments-select">\n              ${ie}\n              </select>\n            </label>\n          </div>\n        </div>\n        <div class="slider-container-mdcm" style="grid-column: span 2;">\n          <label>Video Player Size: <span id="player-size-value">100</span>%</label>\n          <input type="range" id="player-size-slider" class="slider-mdcm" min="50" max="150" value="100">\n          <button class="reset-btn-mdcm" id="reset-player-size">Reset video size</button>\n        </div>\n      </div>\n    </div>\n\n    <div id="themes" class="tab-content">\n     <div id="background-image-container" class="background-image-container">\n     <h4>Background Image</h4>\n  <input type="file" id="background_image" accept="image/png, image/jpeg" style="display:none;" />\n  <div id="background-image-preview" class="background-image-preview">\n    <span class="background-image-overlay">\n      <i class="fa fa-camera"></i>\n      <span class="background-image-text">Select image</span>\n    </span>\n    <button id="remove-background-image" class="remove-background-image" title="Quitar fondo">&times;</button>\n  </div>\n</div>\n      <div class="themes-hidden">\n        <div class="options-mdcm" style="margin-bottom: 10px;">\n          <div>\n            <h4>Choose a Theme</h4>\n            <p>Disable Mode Cinematic on General</p>\n            ${"dark"===re?"":'<p style="color: red; margin: 10px 0;font-size: 11px;">Activate dark mode to use this option</p>'}\n          </div>\n        </div>\n        <div class="options-mdcm">\n          <label>\n            <div class="theme-option option-mdcm">\n              <input type="radio" class="radio-mdcm" name="theme" value="custom" checked>\n              <span class="theme-name">Custom</span>\n            </div>\n          </label>\n          <label>\n            <div class="theme-option option-mdcm theme-selected-normal">\n              <input type="radio" class="radio-mdcm" name="theme" value="normal">\n              <span class="theme-name">Selected Themes</span>\n            </div>\n          </label>\n        </div>\n        <div class="themes-options">\n          <div class="options-mdcm">\n            ${ae}\n          </div>\n        </div>\n        <div class="theme-custom-options">\n          <div class="options-mdcm">\n            <div class="option-mdcm">\n              <div class="card-items-end">\n                <label>Progressbar Video:</label>\n                <input type="color" id="progressbar-color-picker" class="color-picker-mdcm" value="#ff0000">\n              </div>\n            </div>\n            <div class="option-mdcm">\n              <div class="card-items-end">\n                <label>Background Color:</label>\n                <input type="color" id="bg-color-picker" class="color-picker-mdcm" value="#000000">\n              </div>\n            </div>\n            <div class="option-mdcm">\n              <div class="card-items-end">\n                <label>Primary Color:</label>\n                <input type="color" id="primary-color-picker" class="color-picker-mdcm" value="#ffffff">\n              </div>\n            </div>\n            <div class="option-mdcm">\n              <div class="card-items-end">\n                <label>Secondary Color:</label>\n                <input type="color" id="secondary-color-picker" class="color-picker-mdcm" value="#ffffff">\n              </div>\n            </div>\n            <div class="option-mdcm">\n              <div class="card-items-end">\n                <label>Header Color:</label>\n                <input type="color" id="header-color-picker" class="color-picker-mdcm" value="#000000">\n              </div>\n            </div>\n            <div class="option-mdcm">\n              <div class="card-items-end">\n                <label>Icons Color:</label>\n                <input type="color" id="icons-color-picker" class="color-picker-mdcm" value="#ffffff">\n              </div>\n            </div>\n            <div class="option-mdcm">\n              <div class="card-items-end">\n                <label>Menu Color:</label>\n                <input type="color" id="menu-color-picker" class="color-picker-mdcm" value="#000000">\n              </div>\n            </div>\n            <div class="option-mdcm">\n              <div class="card-items-end">\n                <label>Line Color Preview:</label>\n                <input type="color" id="line-color-picker" class="color-picker-mdcm" value="#ff0000">\n              </div>\n            </div>\n            <div class="option-mdcm">\n              <div class="card-items-end">\n                <label>Time Color Preview:</label>\n                <input type="color" id="time-color-picker" class="color-picker-mdcm" value="#ffffff">\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div id="stats" class="tab-content">\n      <div id="yt-stats-toggle">\n        <div class="stat-row">\n          <div>Foreground Time</div>\n          <div class="progress">\n            <div class="progress-bar total-bar" id="usage-bar"></div>\n          </div>\n          <div id="total-time">0h 0m 0s</div>\n        </div>\n        <div class="stat-row">\n          <div>Video Time</div>\n          <div class="progress">\n            <div class="progress-bar video-bar" id="video-bar"></div>\n          </div>\n          <div id="video-time">0h 0m 0s</div>\n        </div>\n        <div class="stat-row">\n          <div>Shorts Time</div>\n          <div class="progress">\n            <div class="progress-bar shorts-bar" id="shorts-bar"></div>\n          </div>\n          <div id="shorts-time">0h 0m 0s</div>\n        </div>\n      </div>\n    </div>\n\n    <div id="headers" class="tab-content">\n      <div class="options-mdcm">\n        <label>Available in next update</label>\n      </div>\n    </div>\n\n\n    <div id="menu-settings" class="tab-content">\n      <div class="options-mdcm">\n        <h4 style="margin: 10px 0">Menu Appearance</h4>\n      </div>\n      <div class="options-settings-mdcm">\n        <div class="option-settings-mdcm">\n          <label>Backgrounds:</label>\n          <div class="color-boxes" id="bg-color-options">\n            <div class="color-box" data-type="bg" data-value="#252525" style="background-color: #252525;"></div>\n            <div class="color-box" data-type="bg" data-value="#1e1e1e" style="background-color: #1e1e1e;"></div>\n            <div class="color-box" data-type="bg" data-value="#3a3a3a" style="background-color: #3a3a3a;"></div>\n            <div class="color-box" data-type="bg" data-value="#4a4a4a" style="background-color: #4a4a4a;"></div>\n            <div class="color-box" data-type="bg" data-value="#000000" style="background-color: #000000;"></div>\n            <div class="color-box" data-type="bg" data-value="#00000000" style="background-color: #00000000;"></div>\n            <div class="color-box" data-type="bg" data-value="#2d2d2d" style="background-color: #2d2d2d;"></div>\n            <div class="color-box" data-type="bg" data-value="#444" style="background-color: #444;"></div>\n          </div>\n        </div>\n\n        <div class="option-settings-mdcm">\n          <label>Accent Colors:</label>\n          <div class="color-boxes" id="bg-accent-color-options">\n            <div class="color-box" data-type="accent" data-value="#ff0000" style="background-color: #ff0000;"></div>\n            <div class="color-box" data-type="accent" data-value="#000000" style="background-color: #000000;"></div>\n            <div class="color-box" data-type="accent" data-value="#009c37 " style="background-color: #009c37 ;"></div>\n            <div class="color-box" data-type="accent" data-value="#0c02a0 " style="background-color: #0c02a0 ;"></div>\n          </div>\n        </div>\n\n        <div class="option-settings-mdcm">\n          <label>Titles Colors:</label>\n          <div class="color-boxes" id="text-color-options">\n            <div class="color-box" data-type="color" data-value="#ffffff" style="background-color: #ffffff;"></div>\n            <div class="color-box" data-type="color" data-value="#cccccc" style="background-color: #cccccc;"></div>\n            <div class="color-box" data-type="color" data-value="#b3b3b3" style="background-color: #b3b3b3;"></div>\n            <div class="color-box" data-type="color" data-value="#00ffff" style="background-color: #00ffff;"></div>\n            <div class="color-box" data-type="color" data-value="#00ff00" style="background-color: #00ff00;"></div>\n            <div class="color-box" data-type="color" data-value="#ffff00" style="background-color: #ffff00;"></div>\n            <div class="color-box" data-type="color" data-value="#ffcc00" style="background-color: #ffcc00;"></div>\n            <div class="color-box" data-type="color" data-value="#ff66cc" style="background-color: #ff66cc;"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div id="importExportArea">\n      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">\n        <h3>Import / Export Settings</h3>\n        <button class="icon-btn-mdcm" id="closeImportExportBtn">\n          <i class="fa-solid fa-xmark"></i>\n        </button>\n      </div>\n      <textarea id="config-data" placeholder="Paste configuration here to import"></textarea>\n      <div class="action-buttons-mdcm">\n        <button id="export-config" class="action-btn-mdcm">Export</button>\n        <button id="import-config" class="action-btn-mdcm">Import</button>\n      </div>\n    </div>\n\n    <div id="shareDropdown">\n      <a href="https://www.facebook.com/sharer/sharer.php?u=${L}" target="_blank" data-network="facebook"\n        class="share-link"><i class="fa-brands fa-facebook"></i> Facebook</a><br>\n      <a href="https://twitter.com/intent/tweet?url=${L}" target="_blank" data-network="twitter"\n        class="share-link"><i class="fa-brands fa-twitter"></i> Twitter</a><br>\n      <a href="https://api.whatsapp.com/send?text=${L}" target="_blank" data-network="whatsapp"\n        class="share-link"><i class="fa-brands fa-whatsapp"></i> WhatsApp</a><br>\n      <a href="https://www.linkedin.com/sharing/share-offsite/?url=${L}" target="_blank"\n        data-network="linkedin" class="share-link"><i class="fa-brands fa-linkedin"></i> LinkedIn</a><br>\n    </div>\n\n\n  </div>\n  <div class="actions-mdcm">\n    <div class="developer-mdcm">\n      Developed by <a href="https://github.com/DeveloperMDCM" target="_blank"> <i class="fa-brands fa-github"></i> DeveloperMDCM</a>\n    </div>\n    <span style="color: #fff" ;>v2.4.2.10/span>\n  </div>\n  `,le=ee?ee.createHTML(`\n      ${se}\n    `):`\n      ${se}\n    `;var ce;oe.innerHTML=le,ce=oe,document.body.appendChild(ce),s();let de=!1;v(".close_menu_settings").addEventListener("click",()=>{de=!de,oe.style.display="none"===oe.style.display?"block":"none"});const pe=f(".tab-mdcm"),ue=f(".tab-content");pe.forEach(e=>{e.addEventListener("click",()=>{const n=e.getAttribute("data-tab");pe.forEach(e=>e.classList.remove("active")),ue.forEach(e=>e.classList.remove("active")),e.classList.add("active"),h(n).classList.add("active")})}),f(".color-box").forEach(e=>{e.addEventListener("click",()=>{const n=e.dataset.type,t=e.dataset.value;"bg"===n?(w=t,x("--yt-enhance-menu-bg",t),f("#bg-color-options .color-box").forEach(e=>{e.classList.remove("selected")}),e.classList.add("selected")):"color"===n?(C=t,x("--yt-enhance-menu-text",t),f("#text-color-options .color-box").forEach(e=>{e.classList.remove("selected")}),e.classList.add("selected")):"accent"===n&&(M=t,x("--yt-enhance-menu-accent",t),f("#bg-accent-color-options .color-box").forEach(e=>{e.classList.remove("selected")}),e.classList.add("selected")),l()})}),h("reset-player-size").addEventListener("click",()=>{h("player-size-slider").value=100,c(),m()});let me=!0;console.log("Script en ejecución by: DeveloperMDCM"),console.log("%cYoutube Tools Extension NEW UI\n%cRun %c(v2.4.2.10\nBy: DeveloperMDCM.","color: #F00; font-size: 24px; font-family: sans-serif;","font-size: 14px; font-family: monospace;","color: #00aaff; font-size: 16px; font-family: sans-serif;"),localStorage.getItem("notification-developerMDCM")||(t("info","Youtube Tools by: DeveloperMDCM :)"),localStorage.setItem("notification-developerMDCM",!0)),f("input").forEach(e=>{e.addEventListener("change",m),"range"===e.type&&e.addEventListener("change",()=>{c(),m()})}),h("export-config").addEventListener("click",()=>{const e=GM_getValue("ytSettingsMDCM","{}");h("config-data").value=e;const n=e;try{JSON.parse(n),GM_setValue("ytSettingsMDCM",n),setTimeout(()=>{t("success","Configuration export successfully!")},1e3)}catch(e){t("error","Invalid configuration data. Please check and try again.")}}),h("import-config").addEventListener("click",()=>{const e=h("config-data").value;try{JSON.parse(e),GM_setValue("ytSettingsMDCM",e),setTimeout(()=>{t("success","Configuration imported successfully!"),window.location.reload()},1e3),window.location.reload()}catch(e){t("error","Invalid configuration data. Please check and try again.")}}),oe.style.display="none",h("wave-visualizer-toggle").addEventListener("change",()=>{v("#wave-visualizer-toggle").checked?t("success","Wave visualizer enabled"):(e(),t("success","Wave visualizer disabled realod page"),setTimeout(()=>{window.location.reload()},1e3))});const ge=h("cinematic-lighting-toggle");ge&&ge.addEventListener("change",()=>{const e=v("#cinematic-lighting-toggle"),n=v("#sync-cinematic-toggle"),o=h("cinematics");e.checked?t("success","Cinematic mode enabled"):t("success","Cinematic mode disabled"),n.checked?setTimeout(()=>{u()},300):o&&(o.style.display=e.checked?"block":"none")});const be=h("sync-cinematic-toggle");be&&be.addEventListener("change",()=>{const e=v("#sync-cinematic-toggle"),n=v("#cinematic-lighting-toggle"),o=h("cinematics");e.checked?(t("success","Sync with YouTube enabled"),n.checked&&setTimeout(()=>{u()},500)):(t("success","Sync with YouTube disabled"),o&&(o.style.display=n.checked?"block":"none"))}),function(){const e=setInterval(()=>{v("ytd-topbar-menu-button-renderer")&&(clearInterval(e),function(){const e=JSON.parse(GM_getValue("ytSettingsMDCM","{}"));e.theme&&(v(`input[name="theme"][value="${e.theme}"]`).checked=!0),e.menu_developermdcm=e.menu_developermdcm||{bg:"#252525",color:"#ffffff",accent:"#ff0000"},h("bg-color-picker").value=e.bgColorPicker||"#000000",h("progressbar-color-picker").value=e.progressbarColorPicker||"#ff0000",h("primary-color-picker").value=e.primaryColorPicker||"#ffffff",h("secondary-color-picker").value=e.secondaryColorPicker||"#ffffff",h("header-color-picker").value=e.headerColorPicker||"#000",h("icons-color-picker").value=e.iconsColorPicker||"#ffffff",h("menu-color-picker").value=e.menuColorPicker||"#000",h("line-color-picker").value=e.lineColorPicker||"#ff0000",h("time-color-picker").value=e.timeColorPicker||"#ffffff",h("dislikes-toggle").checked=e.dislikes||!1,h("themes-toggle").checked=e.themes||!1,h("translation-toggle").checked=e.translation||!1,h("avatars-toggle").checked=e.avatars||!1,h("reverse-mode-toggle").checked=e.reverseMode||!1,h("wave-visualizer-toggle").checked=e.waveVisualizer||!1,h("select-wave-visualizer-select").value=e.waveVisualizerSelected||"dinamica",h("hide-comments-toggle").checked=e.hideComments||!1,h("hide-sidebar-toggle").checked=e.hideSidebar||!1,h("autoplay-toggle").checked=e.disableAutoplay||!1,h("cinematic-lighting-toggle").checked=e.cinematicLighting||!1,h("sync-cinematic-toggle").checked=e.syncCinematic||!1,h("subtitles-toggle").checked=e.disableSubtitles||!1,h("player-size-slider").value=e.playerSize||100,h("select-video-qualitys-select").value=e.selectVideoQuality||"user",h("select-languages-comments-select").value=e.languagesComments||"en",w=e.menu_developermdcm.bg,C=e.menu_developermdcm.color,M=e.menu_developermdcm.accent,f("#bg-color-options .color-box").forEach(e=>{e.classList.toggle("selected",e.dataset.value===w)}),f("#text-color-options .color-box").forEach(e=>{e.classList.toggle("selected",e.dataset.value===C)}),f("#bg-accent-color-options .color-box").forEach(e=>{e.classList.toggle("selected",e.dataset.value===M)}),x("--yt-enhance-menu-bg",w),x("--yt-enhance-menu-text",C),x("--yt-enhance-menu-accent",M),c(),setTimeout(()=>{m(),e.dislikes&&(i(),r(),Z=!0),window.location.href.includes("youtube.com/watch?v=")&&async function(){new Promise(e=>{const n=()=>{const t=v("video"),o=h("cinematics");if(!t||!o||isNaN(t.duration)||0===t.duration)return void setTimeout(n,500);if(!JSON.parse(GM_getValue("ytSettingsMDCM","{}")).syncCinematic){const n=h("cinematic-lighting-toggle");return n&&o&&(o.style.display=n.checked?"block":"none"),void e(!1)}const a=t.currentTime,i=()=>{if(t.currentTime>=a+1){const n=p(),t=h("cinematic-lighting-toggle");t&&t.checked!==n&&(t.checked=n,l()),e(n)}else setTimeout(i,300)};i()};n()})}()},500)}(),d())},100)}(),document.addEventListener("fullscreenchange",()=>{null!==document.fullscreenElement?e():n()}),document.addEventListener("yt-navigate-finish",()=>{document.location.href.includes("watch")||e()}),GM_registerMenuCommand("Update Script by: DeveloperMDCM",function(){window.open("https://update.greasyfork.org/scripts/460680/Youtube%20Tools%20All%20in%20one%20local%20download%20mp3%20mp4%20HIGT%20QUALITY%20return%20dislikes%20and%20more.user.js","_blank")});const ve=h("background_image"),he=h("background-image-preview"),fe=h("remove-background-image"),ye=localStorage.getItem("backgroundImage");ye?(he.style.backgroundImage=`url(${ye})`,he.classList.add("has-image"),fe.style.display="flex"):(he.style.backgroundImage="",he.classList.remove("has-image"),fe.style.display="none"),he.addEventListener("click",e=>{e.target!==fe&&ve.click()}),ve.addEventListener("change",e=>{const n=e.target.files[0];if(!n)return;const t=new FileReader;t.onload=function(e){const n=e.target.result;he.style.backgroundImage=`url(${n})`,he.classList.add("has-image"),localStorage.setItem("backgroundImage",n),fe.style.display="flex"},t.readAsDataURL(n)}),fe.addEventListener("click",e=>{e.stopPropagation(),he.style.backgroundImage="",he.classList.remove("has-image"),localStorage.removeItem("backgroundImage"),fe.style.display="none"})}();