// ==UserScript==
// @name         SearchJumper
// @namespace    hoothin
// @version      1.9.33
// @author       hoothin
// @license      MPL-2.0
// @match        *://*/*
// @icon         data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAclBMVEUAAAD+/v7////+/v7+/v7////+/v79/f3////////+/v7////////////+/v79/f3////+/v7/rP8zMzP/2f/R0dHAwMD/zf+vr69ZWVlKSkry8vL/vv/+5/7r6+uRkZGcnJx8fHxwcHD+7/7f39+kpKTMxXKjAAAAEXRSTlMA4wrL9ICvkxk56nVVI9WgZNxdEUkAAAE2SURBVDjLfdPZloMgDAZgFtHR2uU3LnWrXd//FUfIHKRT7XfhUYIkhINYqPyoM0SZTnIlPu2PEbwo2f8LqwTvIvMW/9H4oH+WeCqxQu79/xKr5N8aSmOD5gkGm3YuQYRNkU3CG+ynCYH6VsEycwW8wJXoDK8narlOIXI4Z6IKi47ucNI5A6vCOC41mBEaX8VCAuVQFEXzQODRzENDaVsRoSwYAgUrIecJI38MCAw8NkLaFCibphyDMusKox0DoJci+6615fcA2q5fikz8b/QC0HWuKTX8NnM/wbWSyL86qW01u1D3xEQ04dLSE0z6w3ILz9rWPq/hefslUN3uL+B6v/kKMiVmO2w6CSfGhqNg6oBVWvlbxTO+XAy1kiVWInTK8EZyfQFlZBDeKbEiNfFBSh2bNBj8BZ8mNsZysMSsAAAAAElFTkSuQmCC
// @grant        GM.getValue
// @grant        GM_getValue
// @grant        GM.setValue
// @grant        GM_setValue
// @grant        GM_addStyle
// @grant        GM.addStyle
// @grant        GM.deleteValue
// @grant        GM_deleteValue
// @grant        GM.registerMenuCommand
// @grant        GM_registerMenuCommand
// @grant        GM.xmlHttpRequest
// @grant        GM_xmlhttpRequest
// @grant        GM.notification
// @grant        GM_notification
// @grant        GM.setClipboard
// @grant        GM_setClipboard
// @grant        GM.openInTab
// @grant        GM_openInTab
// @grant        GM.info
// @grant        GM_info
// @grant        unsafeWindow
// @compatible   edge tested with tm
// @compatible   Chrome tested with tm
// @compatible   Firefox tested with tm
// @compatible   Opera untested
// @compatible   Safari untested
// @compatible   ios tested with userscript
// @compatible   android tested with kiwi
// @supportURL   https://github.com/hoothin/SearchJumper/issues
// @homepage     https://github.com/hoothin/SearchJumper
// @require      https://update.greasyfork.org/scripts/484118/searchJumperDefaultConfig.js
// @connect      global.bing.com
// @connect      suggestqueries.google.com
// @connect      api.bing.com
// @connect      suggestion.baidu.com
// @connect      webdav.hoothin.com
// @connect      search.hoothin.com
// @connect      *
// @run-at       document-start
// @downloadURL https://raw.githubusercontent.com/king1x32/compiledUserscripts/release/release/SearchJumper.user.js
// @updateURL https://raw.githubusercontent.com/king1x32/compiledUserscripts/release/release/SearchJumper.meta.js
// ==/UserScript==
!async function(){"use strict";function e(){function e(e,t){return Tt[e]?t?Tt[e].replace(/#t#/g,t).replace(/#t1#/g,t[0]).replace(/#t2#/g,t[1]):Tt[e]:e}function h(e=""){return de?de.createHTML(e):e}async function d(e,t){if(Ge)return;let n=await pe.getItem("searchData");if(n&&(p=n),!he)return e&&e();if(!t){let e=await he.read("lastModified");if(e&&(e=parseFloat(e)),e&&(!p.lastModified||e>p.lastModified)){p.lastModified=e,Oe=p.lastModified;let t=await he.read("sitesConfig.json");if(t)try{t=JSON.parse(t),p.sitesConfig=t}catch(e){X(e)}let n=await he.read("inPageRule.json");if(n)try{n=JSON.parse(n),p.prefConfig.inPageRule=n}catch(e){X(e)}}}e&&e(),await he.write("lastModified",""+p.lastModified),await he.write("sitesConfig.json",JSON.stringify(p.sitesConfig)),await he.write("inPageRule.json",JSON.stringify(p.prefConfig.inPageRule))}function u(e){const t=new Set;let n=!1,i=!1;const r=/trusted-types\s+([^;]+)/gi;let s;for(;null!==(s=r.exec(e));){i=!0;const e=s[1].trim().split(/\s+/);for(const i of e)"'allow-duplicates'"===i?n=!0:"'none'"!==i&&t.add(i.replace(/'/g,""))}return{names:t,allowDuplicates:n,ttDirectiveFound:i}}function m(e){return e.body||e.querySelector("body")}function f(e){return 0===e.type.indexOf("touch")?e.changedTouches?e.changedTouches[0].clientX:0:e.clientX}function g(e){return 0===e.type.indexOf("touch")?e.changedTouches?e.changedTouches[0].clientY:0:e.clientY}function y(e){return!!e&&/^\(*(descendant::|\.\/|\/\/|id\()/.test(e)}function v(e,t,n){t||(t=document);try{if(!y(e))return t.querySelectorAll(e)}catch(e){X(e,"Error selector")}return function(e,t,n){var i,r,s,a;n=n||document,t=t||n,i=[];try{for(r=n.evaluate(e,t,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),s=0;s<r.snapshotLength;s++)1===(a=r.snapshotItem(s)).nodeType&&i.push(a)}catch(t){X(`Invalid xpath: ${e}`)}return i}(e,n,t)}function w(e,t){t||(t=document);try{if(!y(e)){let n=e.split(" =>> ");if(2===n.length){let e=t.querySelector(n[0]);return e&&e.shadowRoot&&e.shadowRoot.querySelector(n[1])}return t.querySelector(e)}}catch(e){X(e)}return function(e,t,n){n=n||document,t=t||n;try{let i=(e,t,n)=>{let i=t.evaluate(e,n,null,XPathResult.ANY_UNORDERED_NODE_TYPE,null);return i.singleNodeValue&&1===i.singleNodeValue.nodeType&&i.singleNodeValue},r=e.split(" =>> ");if(2!==r.length)return i(e,n,t);{let e=i(r[0],n,t);if(e&&e.shadowRoot)return i(r[1],e.shadowRoot,e.shadowRoot)}}catch(t){return X(`Invalid xpath: ${e}`),!1}}(e,t,t)}function b(e){const t=e.activeElement;return t?t.shadowRoot?b(t.shadowRoot):t:null}function x(e){if(e&&(/INPUT|TEXTAREA/i.test(e.nodeName)&&"true"!=e.getAttribute("aria-readonly")||"true"==e.contentEditable))return!0;for(;e&&e.nodeName;){if("true"==e.contentEditable)return!0;if("BODY"==e.nodeName.toUpperCase())break;e=e.parentNode}return!1}function C(e){return x(b(e))}async function k(e){return new Promise(t=>{let n=setInterval(()=>{let i=null;if(i=e?"@"===e?Re:w(e):"complete"===document.readyState,!1===i)return null;i&&(clearInterval(n),t(i))},100)})}async function j(e,t){var n;if(!e)return!0;Re=e;let i=new FocusEvent("focusin",{bubbles:!0});e.dispatchEvent(i),i=new Event("focus",{bubbles:!0}),e.dispatchEvent(i);const r=window.getSelection(),s=r.rangeCount?r.getRangeAt(0):new Range;s.selectNode(e),r.removeAllRanges(),r.addRange(s),await Y(1),"file"!==e.type&&e.click&&e.click();let a=e.value;if("file"==e.type){let n=t;if(0==n.indexOf("data:"))n=P(n);else{let e=new Blob([n],{type:"text/plain"});n=new File([e],"noname.txt",{type:e.type})}let i=new DataTransfer;i.items.add(n),e.files=i.files,t="c:/fakepath/fakefile"}else if(/INPUT/i.test(e.nodeName))Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(e,t);else if(/SELECT/i.test(e.nodeName))Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set.call(e,t);else if("TEXTAREA"==e.nodeName.toUpperCase())Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value").set.call(e,t);else{let i=e;for(;i&&"true"!==i.contentEditable;)i=i.parentNode;if(i)i.dispatchEvent(new InputEvent("beforeinput",{inputType:"insertText",data:t})),await Y(1),e.innerText!==t&&(e.innerHTML=h(t));else{let i=t;if(0==i.indexOf("data:"))i=P(i);else{let e=new Blob([i],{type:"text/plain"});i=new File([e],"noname.txt",{type:e.type})}(n=new ClipboardEvent("paste",{target:document.body,clipboardData:new DataTransfer})).clipboardData.items.add(i),e.dispatchEvent(n)}}i=new Event("input",{bubbles:!0});let o=e._valueTracker;o&&o.setValue(a),e.dispatchEvent(i),i=new Event("change",{bubbles:!0}),e.dispatchEvent(i),X(e,"input")}async function T(e,t=-1){let n;if(zt=!1,t>=0){0===t&&await k(e);let i=v(e);if(0===i.length)return!0;if(1===i.length)n=i[0],zt=!0;else{if(i.length<=t)return!0;n=i[t],i.length===t+1&&(zt=!0)}}else if(n=await k(e),!n)return!0;return n}async function S(e,t,n=-1){let i=await T(e,n);return!0===i||(await j(i,t),zt)}async function I(e,t=-1){let n=await T(e,t);if(!0===n)return!0;if(Re=n,!PointerEvent)return n.click();let i={isTrusted:!0,altKey:!1,azimuthAngle:0,bubbles:!0,button:0,buttons:0,clientX:1,clientY:1,cancelBubble:!1,cancelable:!0,composed:!0,ctrlKey:!1,defaultPrevented:!1,detail:1,eventPhase:2,fromElement:null,height:1,isPrimary:!1,metaKey:!1,pointerId:1,pointerType:"mouse",pressure:0,relatedTarget:null,returnValue:!0,shiftKey:!1,toElement:null,twist:0,which:1};n.focus();var r=new PointerEvent("mouseover",i);n.dispatchEvent(r),r=new PointerEvent("pointerover",i),n.dispatchEvent(r),r=new PointerEvent("mousedown",i),n.dispatchEvent(r),r=new PointerEvent("pointerdown",i),n.dispatchEvent(r),r=new PointerEvent("mouseup",i),n.dispatchEvent(r),r=new PointerEvent("pointerup",i),n.dispatchEvent(r);let s=(e,t)=>{let i;try{i=document.createEvent("TouchEvent"),i.initTouchEvent(t,!0,!0)}catch(e){try{i=document.createEvent("UIEvent"),i.initUIEvent(t,!0,!0)}catch(e){i=document.createEvent("Event"),i.initEvent(t,!0,!0)}}try{i.targetTouches=[{pageX:1,pageY:1,clientX:1,clientY:1,target:n}],i.touches=[{pageX:1,pageY:1,clientX:1,clientY:1,target:n}],i.changedTouches=[{pageX:1,pageY:1,clientX:1,clientY:1,target:n}]}catch(e){}e.dispatchEvent(i)};return s(n,"touchstart"),s(n,"touchend"),n.click(),X(n,`click ${e}`),zt}async function E(e,t){if(Re)if(Re.focus(),void 0!==e.value){const n=e.selectionStart,i=e.selectionEnd;let r=e.value.substring(0,n)+t+e.value.substring(i,e.value.length);await j(e,r),e.selectionStart=n+t.length,e.selectionEnd=n+t.length}else{const n=window.getSelection(),i=n.getRangeAt(0);n.toString()||i.selectNode(1===e.childNodes.length?e.firstChild:e),i.deleteContents(),i.insertNode(document.createTextNode(t)),n.removeAllRanges(),n.addRange(i)}}function L(e,t,n){var i,r;if(t=t.replace(/#(j(umpFrom|f)?|from){(.*?)}/,""),Ne={charset:e,url:t,target:n},-1!==t.indexOf("#submitBySearchJumper"))return Ne={charset:e,url:t.replace("#submitBySearchJumper",""),target:n},void U();const s="searchJumper_form";(i=document.getElementById(s))||((i=document.createElement("form")).id=s,i.style.display="none",document.documentElement.appendChild(i));let a=t.match(/[:%]p{(.*?)}/),o=t;return a?(o=t.replace(a[0],""),a=a[1],i.method="post",r=new URLSearchParams(a)):(i.method="get",r=new URLSearchParams(new URL(o).search)),e&&(i.acceptCharset=e),i.innerHTML=h(),i.target=n,i.action=o,r.forEach((e,t)=>{let n=document.createElement("input");n.name=t,n.value=e,i.appendChild(n)}),i.submit()}function P(e){try{for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],i=atob(t[1]),r=i.length,s=new Uint8Array(r);r--;)s[r]=i.charCodeAt(r)}catch(e){X(e)}let a=n.split("/");return a=a.length>1?a[1]:a[0],new File([s],"image."+a,{type:n})}async function N(e){var t,n;if(!e)return null;if(e.dataset.src&&(e.src=e.dataset.src),!e.src)return null;if(e.src.split("/")[2]!=document.domain)return await M(e.src);{let i=getComputedStyle(e);if(t=document.createElement("canvas"),n=t.getContext("2d"),!e.complete)return await new Promise(r=>{e.addEventListener("load",async()=>{t.width=e.naturalWidth||e.width||parseInt(i.width),t.height=e.naturalHeight||e.height||parseInt(i.height),n.drawImage(e,0,0);try{r(t.toDataURL("image/png"))}catch(t){r(await M(e.src))}})});t.width=e.naturalWidth||e.width||parseInt(i.width),t.height=e.naturalHeight||e.height||parseInt(i.height),n.drawImage(e,0,0);try{return t.toDataURL("image/png")}catch(t){return await M(e.src)}}}async function M(e){let t=e.split("/");return new Promise(n=>{ne({method:"GET",url:e,responseType:"blob",headers:{origin:t[0]+"//"+t[2],referer:location.href,accept:"*/*"},onload:function(e){var t,i;try{t=e.response,(i=new FileReader).readAsDataURL(t),i.onload=function(e){n(e.target.result)}}catch(e){n(null)}},onerror:function(){n(null)},ontimeout:function(){n(null)}})})}async function A(e){if("IMG"==e.nodeName.toUpperCase()){let t=e.src||e.dataset.src;if(t){if(je[t])return;let n=await N(e);"data:,"!=n&&n||(n="fail"),je[t]=n,pe.setItem("cacheIcon",je),X(t+" cached, left "+Le.length+" icons")}}else!function(e){let t=e.className.trim().replace("fa fa-","").replace(/ /g,"_");if(je[t])return;let n=function(e){var t,n;let i=getComputedStyle(e),r=getComputedStyle(e,":before").content.replace(/"/g,"");if(!r)return!1;(t=document.createElement("canvas")).width=e.clientWidth||parseInt(i.lineHeight),t.height=e.clientHeight||parseInt(i.lineHeight),(n=t.getContext("2d")).font=i.font,n.strokeStyle=i.color||"black",n.fillStyle=i.color||"black",n.textBaseline="top";let s=n.measureText(r);return n.fillText(r,(t.width-s.width)/2,(t.height-parseInt(i.fontSize))/2),t.toDataURL("image/png")}(e);"data:,"!=n&&n&&(je[t]=n,pe.setItem("cacheIcon",je))}(e);await new Promise(e=>{setTimeout(()=>{e(!0)},1)})}async function B(){for(;Le.length>0;)await A(Le.shift())}async function $(t){if(p.prefConfig.cacheSwitch){let n=Le.length>0;await Promise.all([B(),B(),B(),B(),B()]),n&&(t&&re(e("cacheOver")),X(e("cacheOver")))}}async function W(){if(!c){me.con.classList.add("in-input"),me.con.style.visibility="hidden",me.con.style.display="",me.appendBar(),await Y(2e3);let e=Pe.length>0;for(;Pe.length>0;)await A(Pe.shift());e&&X("All font icons cached!")}}function J(){let e=Ht||Dt.getPickerStr()||window.getSelection().toString();if(setTimeout(()=>{Ht=""},1),!e){let t=window.getSelection();t&&t.rangeCount&&(t=t.getRangeAt(0),t&&(t=t.cloneContents(),t&&(e=t.textContent)))}if(!e){let t=b(document);if(t&&/^(TEXTAREA|INPUT)$/i.test(t.nodeName)){let n=t.selectionStart,i=t.selectionEnd;(n||i)&&(e=t.value.substring(n,i))}}if(e){if(e=e.trim(),e)return e}else if(Re&&"searchJumper"===Re.className&&/^MARK$/i.test(Re.nodeName))return Re.dataset.matched||Re.innerText;return""}function D(e,t,n){return n||(n=/\w$/.test(e)?"(\\b|$)":""),new RegExp(e.replace(/([\*\.\?\+\$\^\[\]\(\)\{\}\|\\\/])/g,"\\$1")+n,t)}function z(e,t,n,i){if(-1!==e.indexOf(t+".replace(/")){let r=e.match(D(t,"","\\.replace\\(/(.*?[^\\\\])/([gimsuyx]*),\\s*[\"'](.*?[^\\\\])??[\"']\\)"));return r?(n=n.replace(new RegExp(r[1],r[2]),r[3]||""),z(e=e.replace(r[0],t),t,n,i)):e.replace(D(t,"g"),i?i(n):n)}return e.replace(D(t,"g"),i?i(n.replace(/\$/g,"$$$$")):n.replace(/\$/g,"$$$$"))}function O(){let e=J();if(e)return e;if(!ge)return xe||"";let t,n="",i=!ge.charset||"UTF-8"==ge.charset;try{if(ge.keywords){let e=ge.keywords.split("\n");for(let r=0;r<e.length;r++){let s=e[r];if(!s||!s.trim())continue;let a=e[r].match(/^(.*?)\.replace\(\//);if(a&&(s=a[1]),i)if(/^\w[\w\|]*$/.test(s)){let e=s.split("|"),t=new URLSearchParams(location.search);for(let i=0;i<e.length&&(n=t.get(e[i]),!n);i++);}else if(/\(.+\)/.test(s)&&0!==s.indexOf("@"))try{t=Et.match(new RegExp(s)),t&&(n=t[1]),n&&(n=decodeURIComponent(n))}catch(e){n=""}if(!n&&m(document))try{let e=w(s);e&&(n=e.value||e.innerText)}catch(e){n=""}if(n&&a&&(n=z(e[r],s,n)),n)break}}else if(i&&Wt.test(ge.url)&&!/[#:%]p{/.test(ge.url)&&(-1!=Et.indexOf("?")&&(t=ge.url.match(new RegExp(`[\\?&]([^&]*?)=${$t}.*`)),t&&(n=new URLSearchParams(location.search).get(t[1]))),!n&&(t=ge.url.match(new RegExp(`https?://[^/]*/(.*)${$t}`)),t&&(t=Et.match(new RegExp((t[1].replace(/\?/g,"\\?")||location.host.replace(/\./g,"\\.")+"/")+"(.*?)(/|$)")),t&&(n=t[1]),n))))try{n=decodeURIComponent(n)}catch(e){n=""}if(""==n&&m(document)){let e=m(document).querySelector("input[type=text]:not([readonly]),input:not([type])");e&&(n=e.value)}n&&(xe=n)}catch(e){X(e)}return xe||"";//!localKeywords ? cacheKeywords : localKeywords;
}function H(e,t){var n,i;return(n=(e="on"+e)in(t=t||document.createElement("div")))||(t.setAttribute||(t=document.createElement("div")),t.hasAttribute(e)||(i=!0,t.setAttribute(e,"return;")),n="function"==typeof t[e],i&&t.removeAttribute(e)),n}function R(){var e="DOMMouseScroll";return H("wheel")?e="wheel":H("mousewheel")&&(e="mousewheel"),e}function F(e,t){if(!e)return"";let n,i;if(t)n=t.replace(/(^https?:\/\/.+)\/[^\/]*$/,"$1"),i=t;else{if("#"==e.charAt(0))return location.href+e;if("?"==e.charAt(0))return location.href.replace(/^([^\?#]+).*/,"$1"+e);n=location.protocol+"//"+location.host;let t=document.querySelector("base");i=t?t.href:location.href}let r=i||n;r=r.replace(/(\?|#).*/,""),/https?:\/\/[^\/]+$/.test(r)&&(r+="/"),0!==r.indexOf("http")&&(r=n+r);var s=/^[^\?#]*\//.exec(r)[0],a=/^\w+\:\/\/\/?[^\/]+/.exec(s)[0];for(e=e.replace(/^\/(\.\.\/)+/,"/");0===e.indexOf("../");)e=e.substr(3),s=s.replace(/\/[^\/]+\/$/,"/");return e=e.replace(/\.\//,""),/^\/\/\/?/.test(e)&&(e=location.protocol+e),/^\w+\:\/\//.test(e)?e:("/"==e.charAt(0)?a:s)+e}function K(t){if(Ge)return;let n,i=location.href;if(t&&t.name)for(n=t.parentNode;n;){if("FORM"===n.nodeName.toUpperCase()){let e=n.target;if(e&&"string"==typeof e&&"_blank"!=e&&"_self"!=e&&"_parent"!=e&&"_top"!=e&&!m(document).querySelector(e)){n=null;break}break}n=n.parentNode}let r=()=>!window.confirm(e("noValidItemAsk"));if(n){i=F(n.getAttribute("action")||i);let e=[],r=new FormData(n);for(let[n,i]of r)i=t.name===n?"%s":encodeURIComponent(i),e.push(n+"="+i);if("post"==n.method.toLowerCase())i+="%p{"+e.join("&")+"}",0==n.action.indexOf(location.origin)&&location.pathname&&"/"!==location.pathname&&(i+=`#from{${location.pathname.slice(1)}}`);else{let n=i.match(/\?(.*)/);n&&(i=i.replace(n[0],""),n[1].split("&").forEach(n=>{let i=n.split("="),r=i[0];if(-1!==e.findIndex(e=>0===e.indexOf(r+"=")))return;let s=i[1];s==t.value&&(s="%s"),e.push(r+"="+s)})),i+="?"+e.join("&")}}else if(t&&t.value)if(-1!==location.href.indexOf(t.value))i=location.href.replace(t.value,"%s");else{let e=encodeURIComponent(t.value);if(-1!==location.pathname.indexOf(e)||-1!==location.search.indexOf(e))i=location.origin+location.pathname.replace(e,"%s")+location.search.replace(e,"%s");else if(e=escape&&escape(t.value),e&&-1!==location.pathname.indexOf(e)||-1!==location.search.indexOf(e))i=location.origin+location.pathname.replace(e,"%se")+location.search.replace(e,"%se");else if(r())return}else if(r())return;let s=[];[].forEach.call(document.querySelectorAll("link[rel='shortcut icon'],link[rel='icon'],link[rel='fluid-icon'],link[rel='apple-touch-icon']"),e=>{s.indexOf&&-1!==s.indexOf(e.href)||s.push(e.href)}),q(document.title.replace(t?t.value:"","").replace(/^\s*[-_]\s*/,""),"",i,s,document.characterSet)}function U(){let e=`${Rt}#jump{url=${encodeURIComponent(Ne.url)}&charset=${Ne.charset}}`;"_self"==Ne.target?location.href=e:ae(e,{active:!0,insert:!0})}function q(t,n,i,r,s,o,l,c){if(self.kwFilter=o,self.charset=s,self.hideNotMatch=c,self.match=l,!rt){let t=oe('\n                    .searchJumperFrame-body,\n                    .searchJumperFrame-crawlBody {\n                        width: 300px;\n                        min-height: 300px;\n                        position: fixed;\n                        text-align: left;\n                        left: 50%;\n                        top: 45%;\n                        margin-top: -250px;\n                        margin-left: -150px;\n                        z-index: 100000;\n                        background-color: #ffffff;\n                        border: 1px solid #afb3b6;\n                        border-radius: 10px;\n                        opacity: 0.95;\n                        filter: alpha(opacity=95);\n                        box-shadow: 5px 5px 20px 0px #000;\n                        color: #6e7070;\n                        transition: all 0.25s ease;\n                        border: 0;\n                        font-size: initial;\n                    }\n                    .searchJumperFrame-title {\n                        background: #458bd1!important;\n                        display: flex!important;\n                        align-items: center!important;\n                        justify-content: center!important;\n                        color: white!important;\n                        font-weight: bold;\n                        font-size: 18px!important;\n                        border-radius: 10px 10px 0 0!important;\n                    }\n                    .draging .searchJumperFrame-body,\n                    .draging .searchJumperFrame-crawlBody {\n                        transition: none;\n                        pointer-events: none;\n                    }\n                    .searchJumperFrame-title>img {\n                        margin: 5px;\n                        height: 32px;\n                        width: 32px;\n                    }\n                    .searchJumperFrame-input-title {\n                        font-size: 9pt;\n                        font-family: Arial, sans-serif,微软雅黑,"Noto Sans SC";\n                        display: inline-block;\n                        background-color: white;\n                        position: relative;\n                        left: 20px;\n                        padding: 0px 4px;\n                        text-align: left;\n                        color: #646464;\n                    }\n                    .searchJumperFrame-inputs>input,\n                    .searchJumperFrame-inputs>textarea,\n                    .searchJumperFrame-inputs>select,\n                    .searchJumperFrame-body select {\n                        resize: both;\n                        font-size: 11pt;\n                        font-weight: normal;\n                        border-radius: 4px;\n                        border: 1px solid rgba(0, 0, 0, 0.23);\n                        margin: 4px;\n                        font-family: inherit;\n                        background-color: #FFF;\n                        width: calc(100% - 8px);\n                        min-width: calc(100% - 8px);\n                        max-width: calc(100% - 8px);\n                        color: #4A4A4A;\n                        margin-top: -8px;\n                        padding: 4px;\n                        padding-top: 8px;\n                        box-sizing: border-box;\n                        height: 36px;\n                        word-break: break-all;\n                    }\n                    .searchJumperFrame-inputs>input:focus,\n                    .searchJumperFrame-inputs>textarea:focus,\n                    .searchJumperFrame-inputs>select:focus,\n                    .searchJumperFrame-body select:focus {\n                        background-color: #FFF;\n                    }\n                    .searchJumperFrame-buttons {\n                        text-align: center;\n                        margin-bottom: 5px;\n                        display: flex;\n                        justify-content: space-evenly;\n                    }\n                    .searchJumperFrame-buttons>button {\n                        width: 32%;\n                        font-size: 16px;\n                        cursor: pointer;\n                        border: 1px solid #1976d2;\n                        border-radius: 4px;\n                        transition: all .3s;\n                        color: #fff;\n                        background-color: #458bd1;\n                        line-height: 25px;\n                        padding: 3px;\n                    }\n                    .searchJumperFrame-buttons>button:hover {\n                        color: #e3f2fd;\n                    }\n                    .searchJumperFrame-inputs>.sideIcon {\n                        float: right;\n                        margin-top: -38px;\n                        position: relative;\n                        right: 20px;\n                        opacity: 0.8;\n                        background: rgb(0 0 0 / 50%);\n                        border-radius: 5px;\n                        pointer-events: none;\n                        width: 27px;\n                        height: 27px;\n                    }\n                    .searchJumperFrame-inputs>svg.sideIcon {\n                        fill: white;\n                        pointer-events: all;\n                        cursor: pointer;\n                        transition: transform 0.25s ease;\n                    }\n                    .searchJumperFrame-inputs>svg.sideIcon:hover {\n                        transform: scale(1.2);\n                        opacity: 1;\n                        background: rgb(0 0 0);\n                    }\n                    .searchJumperFrame-body>.iconsCon {\n                        max-height: 150px;\n                        overflow: auto;\n                        width: 100%;\n                        border-top: 1px solid rgba(0, 0, 0, 0.23);\n                        border-bottom: 1px solid rgba(0, 0, 0, 0.23);\n                    }\n                    .searchJumperFrame-body>.iconsCon>img {\n                        margin: 5px;\n                        cursor: pointer;\n                        max-width: 120px;\n                        border: 2px solid #ffffff;\n                        box-sizing: border-box;\n                        background: #80808030;\n                        transition: background 0.25s ease;\n                    }\n                    .searchJumperFrame-body>.iconsCon>img:hover {\n                        border: 2px solid #4e91d3;\n                        background: gray;\n                    }\n                    .maxContent .searchJumperFrame-inputs {\n                        width: 50%;\n                        float: left;\n                    }\n                    .searchJumperFrame-body>.moreItem {\n                        display: none;\n                    }\n                    .maxContent>.searchJumperFrame-body>.moreItem {\n                        display: block;\n                    }\n                    .maxContent>.searchJumperFrame-body {\n                        width: 600px;\n                        margin-left: -300px;\n                    }\n                    .searchJumperFrame-maxBtn,\n                    .searchJumperFrame-closeBtn {\n                        position: absolute;\n                        right: 5px;\n                        top: 5px;\n                        color: white;\n                        width: 25px;\n                        cursor: pointer;\n                        transition:transform 0.25s ease;\n                    }\n                    .searchJumperFrame-maxBtn:hover,\n                    .searchJumperFrame-closeBtn:hover {\n                        transform: scale(1.2);\n                    }\n                    .searchJumperFrame-maxBtn>#maxBtn {\n                        display: block;\n                    }\n                    .searchJumperFrame-maxBtn>#minBtn {\n                        display: none;\n                    }\n                    .maxContent .searchJumperFrame-maxBtn>#maxBtn {\n                        display: none;\n                    }\n                    .maxContent .searchJumperFrame-maxBtn>#minBtn {\n                        display: block;\n                    }\n                    .crawling>.searchJumperFrame-body {\n                        display: none;\n                    }\n                    .searchJumperFrame-crawlBody {\n                        display: none;\n                    }\n                    .crawling>.searchJumperFrame-crawlBody {\n                        display: block;\n                    }\n                    .searchJumperFrame-buttons>button#submitCrawl,\n                    .searchJumperFrame-buttons>button#record,\n                    .searchJumperFrame-buttons>button#copy,\n                    .searchJumperFrame-buttons>button#loop {\n                        width: 100%;\n                        margin: 0 3px;\n                    }\n                    .searchJumperFrame-crawlBody>.actionCon {\n                        height: 200px;\n                        background: gray;\n                        border-radius: 10px;\n                        margin: 10px;\n                        padding: 0 10px 10px 10px;\n                        resize: auto;\n                        box-sizing: border-box;\n                        overflow: auto;\n                    }\n                    .searchJumperFrame-crawlBody>.actionCon>div {\n                        width: 100%;\n                        font-size: 16px;\n                        background: #000000cc;\n                        border-radius: 8px;\n                        color: white;\n                        margin: 3px 0;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        cursor: pointer;\n                        white-space: nowrap;\n                    }\n                    .searchJumperFrame-crawlBody>.actionCon>div>span {\n                        background: #275f90;\n                        border-radius: 5px;\n                        max-width: 40px;\n                        text-overflow: ellipsis;\n                        overflow: hidden;\n                        display: inline-block;\n                        margin: 0 3px;\n                        white-space: nowrap;\n                    }\n                    @media (prefers-color-scheme: dark) {\n                      .searchJumperFrame-body,\n                      .searchJumperFrame-crawlBody,\n                      .searchJumperFrame-input-title,\n                      .searchJumperFrame-inputs>input,\n                      .searchJumperFrame-inputs>textarea,\n                      .searchJumperFrame-inputs>select,\n                      .searchJumperFrame-body select {\n                        background-color: black!important;\n                        color: #d5d5d5!important;\n                      }\n                      .searchJumperFrame-inputs>input:focus,\n                      .searchJumperFrame-inputs>textarea:focus,\n                      .searchJumperFrame-inputs>select:focus,\n                      .searchJumperFrame-body select:focus {\n                        background-color: #1e1e1e!important;\n                      }\n                      .searchJumperFrame-inputs>input,\n                      .searchJumperFrame-inputs>textarea,\n                      .searchJumperFrame-inputs>select,\n                      .searchJumperFrame-body select {\n                        border: 1px solid rgb(255 255 255 / 36%);\n                      }\n                      .searchJumperFrame-title,\n                      .searchJumperFrame-buttons>button {\n                        background: #245d8f!important;\n                      }\n                      .searchJumperFrame-body>.iconsCon>img {\n                        border: 2px solid #000000;\n                      }\n                    }\n                    @media screen and (max-height: 600px) {\n                      .searchJumperFrame-body,\n                      .searchJumperFrame-crawlBody {\n                        top: 10px;\n                        margin-top: 0px;\n                      }\n                    }\n                ');(rt=document.createElement("div")).innerHTML=h(`\n                <div class="searchJumperFrame-body">\n                    <a href="${a}" class="searchJumperFrame-title" target="_blank" draggable="false">\n                        <img width="32px" height="32px" src="${Mt}" />${e("addSearchEngine")}\n                    </a>\n                    <div class="searchJumperFrame-maxBtn">\n                        <svg id="maxBtn" fill="white" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("maxAddSiteBtn")}</title><path d="M192 832h160a32 32 0 0 1 0 64H160a32 32 0 0 1-32-32V672a32 32 0 0 1 64 0zM182.72 886.72a32 32 0 0 1-45.44-45.44l224-224a32 32 0 0 1 45.44 45.44zM832 832V672a32 32 0 0 1 64 0v192a32 32 0 0 1-32 32H672a32 32 0 0 1 0-64zM886.72 841.28a32 32 0 0 1-45.44 45.44l-224-224a32 32 0 0 1 45.44-45.44zM192 192v160a32 32 0 0 1-64 0V160a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64zM137.28 182.72a32 32 0 0 1 45.44-45.44l224 224a32 32 0 0 1-45.44 45.44zM832 192H672a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0zM841.28 137.28a32 32 0 1 1 45.44 45.44l-224 224a32 32 0 0 1-45.44-45.44z"></path></svg>\n                        <svg id="minBtn" fill="white" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("minAddSiteBtn")}</title><path d="M672 352h160a32 32 0 0 1 0 64H640a32 32 0 0 1-32-32V192a32 32 0 0 1 64 0zM662.72 406.72a32 32 0 0 1-45.44-45.44l224-224a32 32 0 1 1 45.44 45.44zM352 352V192a32 32 0 0 1 64 0v192a32 32 0 0 1-32 32H192a32 32 0 0 1 0-64zM406.72 361.28a32 32 0 0 1-45.44 45.44l-224-224a32 32 0 0 1 45.44-45.44zM672 672v160a32 32 0 0 1-64 0V640a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64zM617.28 662.72a32 32 0 0 1 45.44-45.44l224 224a32 32 0 0 1-45.44 45.44zM192 672a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V672zM361.28 617.28a32 32 0 0 1 45.44 45.44l-224 224a32 32 0 0 1-45.44-45.44z"></path></svg>\n                    </div>\n                    <div class="searchJumperFrame-inputs">\n                        <div class="searchJumperFrame-input-title">${e("siteName")}</div>\n                        <input name="siteName" type="text" />\n                        <div class="searchJumperFrame-input-title">${e("siteUrl")}</div>\n                        <textarea name="url" type="text"></textarea>\n                        <svg id="crawlBtn" class="sideIcon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("crawlInfo")}</title><path d="M385 926.3c-11 0-21.4-4.3-29.2-12l-0.6-0.6c-0.7-0.7-65.6-70.4-108.4-112.7-42.8-42.3-118.6-111.4-119.3-112.1l-0.6-0.5c-15.9-15.7-24.6-36.6-24.5-58.8s9-43.1 25-58.6c28.6-27.7 72.2-31 104.6-8.2l90.5 44-83.1-290.1c-4.9-17.1-4.2-34.9 2.1-51.6 6.3-16.6 17.5-30.5 32.5-40.1 22-14.1 47.7-17.7 70.3-10 22.6 7.7 40.7 26.3 49.5 50.9L431 369.8V176.9c0-43.4 35.3-78.7 78.7-78.7 20.7 0 40.2 7.9 55 22.4 14.8 14.4 23.2 33.8 23.7 54.4v0.2l2.4 165.5L625 229.1l0.1-0.4c8.2-23.2 26.2-41.1 49.4-49.3 23.2-8.2 48.5-5.5 69.4 7.3 15.6 9.6 27.7 24.3 33.9 41.6s6.4 36.3 0.6 53.7L736 409.5l42.9-48.6 0.3-0.3c15.7-16.2 34.4-25.7 54.1-27.3 19.8-1.6 39.1 4.7 56 18.1 33 26.4 40.8 60.1 22.7 97.5l-0.5 1.1-0.6 1c-41.8 65.2-107.1 171.9-115.8 199-12.4 38.6-41 140.7-41.3 141.7l-0.2 0.7-34.5 107.2-0.6 1.2c-6.8 14.3-21.5 23.7-37.4 23.8l-295.9 1.6c0 0.1-0.1 0.1-0.2 0.1z"></path></svg>\n                        <div class="searchJumperFrame-input-title">${e("siteDesc")}</div>\n                        <textarea name="description" type="text"></textarea>\n                        <div class="searchJumperFrame-input-title">${e("siteIcon")}</div>\n                        <textarea name="icon" type="text"></textarea>\n                        <img class="sideIcon" width="27px" height="27px" />\n                    </div>\n                    <div class="searchJumperFrame-inputs moreItem">\n                        <div class="searchJumperFrame-input-title">${e("siteKeywords")}</div>\n                        <input name="siteKeywords" placeholder="kw|key" type="text" />\n                        <div class="searchJumperFrame-input-title">${e("siteMatch")}</div>\n                        <input name="siteMatch" placeholder="(www|m)\\.google\\.com" type="text" />\n                        <div class="searchJumperFrame-input-title">${e("openSelect")}</div>\n                        <select name="openSelect">\n                            <option value="-1">${e("openInDefault")}</option>\n                            <option value="true">${e("openInNewTab")}</option>\n                            <option value="false">${e("openInCurrent")}</option>\n                        </select>\n                    </div>\n                    <div class="iconsCon"></div>\n                    <div class="searchJumperFrame-input-title">${e("siteType")}</div>\n                    <select name="typeSelect">\n                    </select>\n                    <div class="searchJumperFrame-buttons">\n                        <button id="test" type="button">${e("siteTest")}</button>\n                        <button id="cancel" type="button">${e("siteCancel")}</button>\n                        <button id="add" type="button">${e("siteAdd")}</button>\n                    </div>\n                </div>\n                <div class="searchJumperFrame-crawlBody searchJumperFrame-hide">\n                    <a href="${a}" class="searchJumperFrame-title" target="_blank">\n                        <img width="32px" height="32px" src="${Mt}" />${e("addAction")}\n                    </a>\n                    <svg class="searchJumperFrame-closeBtn" fill="white" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>Close crawl</title>${Bt}</svg>\n                    <div class="actionCon"></div>\n                    <div class="searchJumperFrame-buttons">\n                        <button id="input" type="button" title="${e("emuInputTips")}">${e("inputAction")}</button>\n                        <button id="click" type="button" title="${e("emuClickTips")}">${e("clickAction")}</button>\n                        <button id="sleep" type="button" title="${e("emuWaitTips")}">${e("sleepAction")}</button>\n                    </div>\n                    <div class="searchJumperFrame-buttons">\n                        <button id="copy" type="button" title="${e("emuCopyTips")}">${e("copyAction")}</button>\n                    </div>\n                    <div class="searchJumperFrame-buttons">\n                        <button id="record" type="button" title="${e("emuRecordTips")}">${e("recordAction")}</button>\n                    </div>\n                    <div class="searchJumperFrame-buttons">\n                        <button id="loop" type="button" title="${e("emuLoopTips")}">${e("loopAction")}</button>\n                    </div>\n                    <div class="searchJumperFrame-buttons">\n                        <button id="submitCrawl" type="button" title="${e("emuStopTips")}">${e("submitCrawl")}</button>\n                    </div>\n                </div>\n                `),Q||rt.appendChild(t);let n=rt.children[0];st=rt.querySelector("[name='siteName']"),at=rt.querySelector("[name='description']"),ot=rt.querySelector("[name='url']"),lt=rt.querySelector("[name='icon']"),ct=rt.querySelector(".searchJumperFrame-inputs>img"),pt=rt.querySelector(".iconsCon"),dt=rt.querySelector("#test"),ut=rt.querySelector("#cancel"),mt=rt.querySelector("#add"),ht=rt.querySelector("select[name='typeSelect']"),ft=rt.querySelector("[name='siteKeywords']"),gt=rt.querySelector("[name='siteMatch']"),yt=rt.querySelector("select[name='openSelect']");let i,r,o=rt.querySelector(".searchJumperFrame-title"),l=!1,c=e=>{l||(rt.classList.add("draging"),l=!0);let t=e.clientX-i.x+r.x,s=e.clientY-i.y+r.y;n.style.marginLeft=t+"px",n.style.marginTop=s+"px"},u=e=>{e.preventDefault(),e.stopPropagation(),rt.classList.remove("draging"),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u)};o.addEventListener("mousedown",e=>{e.preventDefault(),e.stopPropagation(),l=!1,i={x:e.clientX,y:e.clientY};let t=getComputedStyle(n);r={x:parseInt(t.marginLeft||0),y:parseInt(t.marginTop||0)},document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)}),ct.onload=()=>{ct.style.display=""},rt.querySelector("#maxBtn").addEventListener("click",()=>{rt.classList.add("maxContent")}),rt.querySelector("#minBtn").addEventListener("click",()=>{rt.classList.remove("maxContent")});for(let e=0;e<p.sitesConfig.length;e++){let t=p.sitesConfig[e],n=document.createElement("option");n.value=e,""!==De&&De==e&&(n.selected="selected"),n.innerText=t.type,ht.appendChild(n)}dt.addEventListener("click",()=>{if(/#p{/.test(ot.value)){let e=ot.value.match(/#p{(.*)}/);if(!e)return;let t=[];e[1].replace(/([^\\])&/g,"$1SJ^PARAM").split("SJ^PARAM").forEach(e=>{if(e=e.trim(),/^loopStart\(\d+\)$/.test(e)){let n=e.match(/loopStart\((.*)\)/);t.push(["@loopStart",n[1]])}else if("loopEnd"==e)t.push(["@loopEnd",""]);else if(e.startsWith("click(")&&e.endsWith(")")){let n=e.slice(6,e.length-1);n&&t.push(["@click",n.replace(/\\([\=&])/g,"$1").trim()])}else if(e.startsWith("dblclick(")&&e.endsWith(")")){let n=e.slice(9,e.length-1);n&&t.push(["@dblclick",n.replace(/\\([\=&])/g,"$1").trim()])}else if(e.startsWith("rclick(")&&e.endsWith(")")){let n=e.slice(7,e.length-1);n&&t.push(["@rclick",n.replace(/\\([\=&])/g,"$1").trim()])}else if(e.startsWith("copy(")&&e.endsWith(")")){let n=e.slice(5,e.length-1);n&&t.push(["@copy",n.replace(/\\([\=&])/g,"$1").trim()])}else if(e.startsWith("call(")&&e.endsWith(")")){let n=e.slice(5,e.length-1);n&&t.push(["@call",n.replace(/\\([\=&])/g,"$1").trim()])}else if(e.startsWith("wait(")&&e.endsWith(")")){let n=e.slice(5,e.length-1);t.push(["@wait",n.replace(/\\([\=&])/g,"$1").trim()])}else if(/^sleep\(\d+\)$/.test(e)){let n=e.match(/sleep\((.*)\)/);n&&t.push(["@sleep",n[1]])}else if(/^reload\(\d?\)$/.test(e)){let n=e.match(/reload\((.*)\)/);t.push(["@reload",n[1]])}else{let n=(e=e.replace(/([^\\])\=/g,"$1SJ^PARAM").replace(/\\([\=&])/g,"$1")).split("SJ^PARAM");if(2===n.length){let e=n[0],i=n[1].replace(/\\([\=&])/g,"$1");t.push([e,i])}else(e.endsWith(".click()")||e.endsWith(".click"))&&t.push(["@"+e.replace(/\.click(\(\))?$/,""),"click"])}}),ke=t,me.submitAction(t)}else/[:%]p{/.test(ot.value)||s&&"utf-8"!=s.toLowerCase()?L(s,ot.value.replace(/%se?\b/g,"searchJumper"),"_blank"):ae(ot.value.replace(/%se?\b/g,"searchJumper"),{active:!0,insert:!0})}),ut.addEventListener("click",()=>{rt.parentNode&&rt.parentNode.removeChild(rt)}),mt.addEventListener("click",()=>{Ge||d(()=>{let t=null;for(let n=0;n<p.sitesConfig.length;n++){let i=p.sitesConfig[n];for(let r=0;r<i.sites.length;r++){let s=i.sites[r];if(s.url==ot.value){if(n==parseInt(ht.value))return void alert("Already added!");if(!window.confirm(e("siteExist")))return;t={name:s.name+" - "+i.type,url:`["${s.name}"]`}}}}null==t&&(t={name:st.value,url:ot.value},lt.value&&lt.value!=ot.value.replace(/\?.*/,"").replace(/^(https?:\/\/[^\/]*\/)[\s\S]*$/,"$1favicon.ico")&&(t.icon=lt.value),at.value&&at.value!=st.value&&(t.description=at.value),ft.value&&(t.keywords=ft.value),gt.value&&(t.match=gt.value),yt.value&&"-1"!=yt.value&&(t.openInNewTab="true"===yt.value),self.charset&&"utf-8"!=s.toLowerCase()&&(t.charset=self.charset),self.kwFilter&&(t.kwFilter=self.kwFilter),self.match&&(t.match=self.match),self.hideNotMatch&&(t.hideNotMatch=self.hideNotMatch)),p.sitesConfig[ht.value].sites.push(t),p.lastModified=(new Date).getTime(),pe.setItem("lastAddType",ht.value),pe.setItem("searchData",p),re(e("siteAddOver")),rt.parentNode&&rt.parentNode.removeChild(rt),window.postMessage({searchData:p,version:le.script.version||0,command:"loadConfig"},"*"),me.refreshEngines()})}),vt=rt.querySelector("#crawlBtn");let m,f,g=rt.querySelector(".searchJumperFrame-closeBtn"),y=rt.querySelector(".actionCon"),v=rt.querySelector("#input"),w=rt.querySelector("#click"),b=rt.querySelector("#sleep"),x=rt.querySelector("#copy"),C=rt.querySelector("#submitCrawl"),k=rt.querySelector("#record"),j=rt.querySelector("#loop"),T=(t,n="",i="")=>{let r=document.createElement("div"),s=t;switch(t){case"input":s=e("inputOutput",[n,i]);break;case"click":s=e("clickOutput",n);break;case"dblclick":s=e("dblclickOutput",n);break;case"rclick":s=e("rclickOutput",n);break;case"copy":s=e("copyOutput",n);break;case"loopStart":s=e("loopStart",i);break;case"loopEnd":s=e("loopEnd");break;case"sleep":s=e("sleepOutput",i)}s&&(r.innerHTML=h(s),r.dataset.type=t,r.dataset.sel=n,r.dataset.val=i,r.draggable="true",r.ondragover=e=>{e.preventDefault()},r.ondragstart=()=>{m=r},r.ondrop=()=>{y.insertBefore(m,r)},r.onclick=t=>{let n=t.target;if("SPAN"==n.nodeName.toUpperCase())if("element"==n.className)Dt.getSelector(e=>{n.innerText=e,n.title=e,rt.style.display="",r.dataset.sel=e}),rt.style.display="none";else{let t=prompt(e("inputNewValue"),n.innerText);t&&(n.innerText=t,n.title=t,r.dataset.val=t)}else confirm(e("deleteConfirm"))&&y.removeChild(r)},r.oncontextmenu=t=>{let n=t.target;if("SPAN"==n.nodeName.toUpperCase())if(t.preventDefault(),"element"==n.className){let e=prompt("Selector",n.innerText);e&&(n.innerText=e,n.title=e,r.dataset.sel=e)}else{let t=prompt(e("inputNewValue"),n.innerText);t&&(n.innerText=t,n.title=t,r.dataset.val=t)}},y.appendChild(r))},S=()=>{y.innerHTML=h();let e=ot.value.match(/#p{(.*)}/);e&&e[1].replace(/([^\\])&/g,"$1SJ^PARAM").split("SJ^PARAM").forEach(e=>{if(e=e.trim(),/^loopStart\(\d+\)$/.test(e)){let t=e.match(/loopStart\((.*)\)/);T("loopStart","",t[1])}else if("loopEnd"==e)T("loopEnd");else if(e.startsWith("click(")&&e.endsWith(")")){let t=e.slice(6,e.length-1);t&&T("click",t.replace(/\\([\=&])/g,"$1").trim())}else if(e.startsWith("dblclick(")&&e.endsWith(")")){let t=e.slice(9,e.length-1);t&&T("dblclick",t.replace(/\\([\=&])/g,"$1").trim())}else if(e.startsWith("rclick(")&&e.endsWith(")")){let t=e.slice(7,e.length-1);t&&T("rclick",t.replace(/\\([\=&])/g,"$1").trim())}else if(e.startsWith("copy(")&&e.endsWith(")")){let t=e.slice(5,e.length-1);t&&T("copy",t.replace(/\\([\=&])/g,"$1").trim())}else if(e.startsWith("call(")&&e.endsWith(")")){let t=e.slice(5,e.length-1);t&&T("call","",t.replace(/\\([\=&])/g,"$1").trim())}else if(e.startsWith("wait(")&&e.endsWith(")")){let t=e.slice(5,e.length-1);t&&T("wait","",t.replace(/\\([\=&])/g,"$1").trim())}else if(e.startsWith("open(")&&e.endsWith(")")){let t=e.slice(5,e.length-1);t&&T("open","",t.replace(/\\([\=&])/g,"$1").trim())}else if(/^sleep\(\d+\)$/.test(e)){let t=e.match(/sleep\((.*)\)/);t&&T("sleep","",t[1])}else if(/^reload\(\d?\)$/.test(e)){let t=e.match(/reload\((.*)\)/);T("reload","",t[1])}else{let t=(e=e.replace(/([^\\])\=/g,"$1SJ^PARAM").replace(/\\([\=&])/g,"$1")).split("SJ^PARAM");2===t.length?T("input",t[0],t[1].replace(/\\([\=&])/g,"$1")):(e.endsWith(".click()")||e.endsWith(".click"))&&T("click",e.replace(/\.click(\(\))?$/,""))}})},I=()=>{let e=[];return[].forEach.call(y.children,t=>{if(!t)return;let n=t.dataset.sel,i=t.dataset.val||"";switch(t.dataset.type){case"click":e.push(`click(${n.replace(/([=&])/g,"\\$1")})`);break;case"dblclick":e.push(`dblclick(${n.replace(/([=&])/g,"\\$1")})`);break;case"rclick":e.push(`rclick(${n.replace(/([=&])/g,"\\$1")})`);break;case"copy":e.push(`copy(${n.replace(/([=&])/g,"\\$1")})`);break;case"input":e.push(`${n.replace(/([=&])/g,"\\$1")}=${i}`);break;case"sleep":e.push(`sleep(${i})`);break;case"loopEnd":e.push("loopEnd");break;default:e.push(`${t.dataset.type}(${i.replace(/([=&])/g,"\\$1")})`)}}),e.join("&")};vt.addEventListener("click",()=>{S(),rt.classList.add("crawling")}),g.addEventListener("click",()=>{rt.classList.remove("crawling")});let E=e=>{""!==rt.style.display&&(/INPUT|TEXTAREA|SELECT|OPTION/i.test(e.target.nodeName)||(clearTimeout(f),f=setTimeout(()=>{T("click",Dt.geneSelector(e.target,!0))},300)))},P=e=>{""!==rt.style.display&&(/INPUT|TEXTAREA|SELECT|OPTION/i.test(e.target.nodeName)||(clearTimeout(f),T("dblclick",Dt.geneSelector(e.target,!0))))},N=e=>{""!==rt.style.display&&(/INPUT|TEXTAREA|SELECT|OPTION/i.test(e.target.nodeName)||(e.preventDefault(),clearTimeout(f),T("rclick",Dt.geneSelector(e.target,!0))))},M=e=>{""!==rt.style.display&&T("input",Dt.geneSelector(e.target,!0),e.target.value)},A=e=>{if(""===rt.style.display)return;let t=!1;27==e.keyCode?t=!0:13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),e.target&&e.target.blur&&e.target.blur(),t=!0),t&&(rt.style.display="",document.removeEventListener("keydown",A,!0),document.removeEventListener("click",E),document.removeEventListener("dblclick",P),document.removeEventListener("contextmenu",N),document.removeEventListener("change",M))};k.addEventListener("click",()=>{alert(e("startRecord")),rt.style.display="none",setTimeout(()=>{document.addEventListener("keydown",A,!0),document.addEventListener("click",E),document.addEventListener("dblclick",P),document.addEventListener("contextmenu",N),document.addEventListener("change",M)},100)});let B=!1;j.addEventListener("click",()=>{if(B)T("loopEnd"),j.innerText=e("loopAction");else{let t=prompt(e("loopTimes"),1);if(!t)return;T("loopStart","",t||"1"),j.innerText=e("loopActionEnd")}B=!B}),v.addEventListener("click",()=>{Dt.getSelector(e=>{T("input",e,"%s"),rt.style.display=""},!B),rt.style.display="none"}),x.addEventListener("click",()=>{Dt.getSelector(e=>{T("copy",e,"%s"),rt.style.display=""},!B),rt.style.display="none"}),w.addEventListener("dblclick",e=>{clearTimeout(f),e.preventDefault(),e.stopPropagation(),Dt.getSelector(e=>{T("dblclick",e),rt.style.display=""},!B),rt.style.display="none"}),w.addEventListener("contextmenu",e=>{clearTimeout(f),e.preventDefault(),e.stopPropagation(),Dt.getSelector(e=>{T("rclick",e),rt.style.display=""},!B),rt.style.display="none"}),w.addEventListener("click",()=>{clearTimeout(f),f=setTimeout(()=>{Dt.getSelector(e=>{T("click",e),rt.style.display=""},!B),rt.style.display="none"},250)}),b.addEventListener("click",()=>{let t=prompt(e("sleepPrompt"),1e3);t=t&&parseInt(t),t&&T("sleep","",t)}),C.addEventListener("click",()=>{let e=I();e&&(ot.value=location.href+"#p{"+e+"}"),rt.classList.remove("crawling")}),rt.addEventListener("keydown",e=>{13==e.keyCode&&e.target&&"INPUT"==e.target.nodeName&&mt.click()})}me.addToShadow(rt),ft.value="",gt.value="",st.value=t||"",at.value=n||"",ot.value=i||"",r&&r[0]?(ct.style.display="",0===i.indexOf(location.origin)?(ct.onerror=()=>{ct.onerror=null,lt.value=r[0],ct.src=r[0]},ct.src=location.origin+"/favicon.ico"):(lt.value=r[0],ct.src=r[0])):(ct.style.display="none",ct.src=(/^(showTips:)?https?:/.test(i)?i.split("\n")[0].replace(/\?.*/,"").replace(/^(showTips:)?(https?:\/\/[^\/]+).*/,"$2"):location.origin)+"/favicon.ico"),pt.innerHTML=h(),r&&r.length>1?(pt.style.opacity="",r.forEach(e=>{let t=document.createElement("img");t.src=e,t.addEventListener("click",()=>{lt.value=e,ct.src=e}),t.onload=()=>{t.title=t.naturalWidth+" x "+t.naturalHeight+"\n"+e.replace(/.*\/([^\/]+)/,"$1")},pt.appendChild(t)})):pt.style.opacity=0}function G(e,t){ne({method:"GET",url:e,headers:{referer:e,origin:e},onload:e=>{let n=e&&e.responseXML&&e.responseXML.querySelector('Url[type="text/html"]');if(!n)return void t("error",e);let i=e.responseXML.querySelector("ShortName"),r=e.responseXML.querySelector("Description"),s=e.responseXML.querySelector("Image"),a=e.responseXML.querySelector("InputEncoding"),o=n.querySelectorAll("Param"),l=i&&i.textContent,c=r&&r.textContent,p=n.getAttribute("template"),h=s&&s.textContent,d=a&&a.textContent;if(o.length>0){let e=[];[].forEach.call(o,t=>{e.push(`${t.getAttribute("name")}=${t.getAttribute("value")}`)}),p+=`%p{${e.join("&")}}`}q(l,c,p.replace(/{searchTerms\??}/g,"%s").replace(/{startPage\??}/g,"1").replace(/{count\??}/g,"10").replace(/{startIndex\??}/g,"1").replace(/{startPage\??}/g,"1").replace(/{language\??}/g,"*").replace(/{inputEncoding\??}/g,"UTF-8").replace(/{outputEncoding\??}/g,"UTF-8"),[h],d),t("load",e)},onerror:e=>{t("error",e)},ontimeout:e=>{t("error",e)}})}async function Y(e){await new Promise(t=>{setTimeout(()=>{t()},e)})}function V(e,t){return"*"===e||0==e.length&&0==t.length||!(e.length>1&&"*"==e[0]&&0==t.length)&&(e.length>1&&"?"==e[0]||0!=e.length&&0!=t.length&&e[0]==t[0]?V(e.substring(1),t.substring(1)):e.length>0&&"*"==e[0]&&(V(e.substring(1),t)||V(e,t.substring(1))))}async function _(n){if(await async function(){if(!(t.trustedTypes&&t.trustedTypes.createPolicy&&function(){try{return document.createElement("div").innerHTML="",!1}catch(e){return!0}}()))return;const{names:e,allowDuplicates:n,ttDirectiveFound:i}=await async function(){const e=new Set;let t=!1,n=!1;const i=document.querySelector('meta[http-equiv="Content-Security-Policy"]');if(i){const r=u(i.content);r.names.forEach(t=>e.add(t)),r.allowDuplicates&&(t=!0),r.ttDirectiveFound&&(n=!0)}return new Promise(i=>{GM_xmlhttpRequest({method:"HEAD",url:window.location.href,onload:function(r){const s=u(r.responseHeaders.split("\r\n").filter(e=>e.toLowerCase().startsWith("content-security-policy:")).map(e=>e.substring(26).trim()).join("; "));s.names.forEach(t=>e.add(t)),s.allowDuplicates&&(t=!0),s.ttDirectiveFound&&(n=!0),i({names:e,allowDuplicates:t,ttDirectiveFound:n})},onerror:function(){i({names:e,allowDuplicates:t,ttDirectiveFound:n})}})})}();if(i&&!n)return void X("CSP Trusted Types is enforced without 'allow-duplicates'. Skipping policy creation to avoid conflicts with the page.");try{return void(de=t.trustedTypes.createPolicy("pvcep_default",{createHTML:e=>e,createScriptURL:e=>e,createScript:e=>e}))}catch(e){}const r=new Set(t.trustedTypes.getPolicyNames());for(const n of e)if("*"!==n&&!r.has(n))try{return void(de=t.trustedTypes.createPolicy(n,{createHTML:e=>e,createScriptURL:e=>e,createScript:e=>e}))}catch(e){X(`create '${n}' failed, trying next...`)}X("Could not create any trusted types policy.")}(),wt)n&&n();else if(wt=!0,function(){if(-1!=Et.indexOf(Rt)){let e=Et.match(/#jump{url=(.*)&charset=(.*)}/);e&&L(e[2],decodeURIComponent(e[1]),"_self")}}(),await async function(){let e=await new Promise(e=>{pe.getItem("searchData",t=>{e(t)})});ve=await new Promise(e=>{pe.getItem("cacheKeywords",t=>{e(t||"")})}),we=await new Promise(e=>{pe.getItem("cacheFilter",t=>{e(t||"")})}),ye=await new Promise(e=>{pe.getItem("disableState",t=>{e(t||!1)})}),be=await new Promise(e=>{pe.getItem("tipsStorage",t=>{e(t||[])})}),Ce=await new Promise(e=>{pe.getItem("lastSign",t=>{e(t||!1)})}),pe.setItem("lastSign",!1),ke=await pe.getListItem("inPagePostParams",location.hostname),je=await new Promise(e=>{pe.getItem("cacheIcon",t=>{e(t||{})})}),Te=await new Promise(e=>{pe.getItem("historySites",t=>{e(t||[])})}),Se=await new Promise(e=>{pe.getItem("historyType",t=>{e(t||"")})}),Ie=await new Promise(e=>{pe.getItem("sortTypeNames",t=>{e(t||{})})}),Ee=await new Promise(e=>{pe.getItem("sortSiteNames",t=>{e(t||{})})}),Me=await new Promise(e=>{pe.getItem("globalInPageWords",t=>{e(t||"")})}),Ae=await new Promise(e=>{pe.getItem("navEnable",t=>{e(void 0===t||t)})}),Be=await new Promise(e=>{pe.getItem("referrer",t=>{e(t||"")})}),$e=await new Promise(e=>{pe.getItem("clickLink",t=>{e(t||"")})}),We=await new Promise(e=>{pe.getItem("disableHighlight",t=>{e(t||"")})}),Je=await new Promise(e=>{pe.getItem("lastHighlight",t=>{e(t||"")})}),ze=await new Promise(e=>{pe.getItem("allPageNewMode",t=>{e(t||!1)})}),De=await new Promise(e=>{pe.getItem("lastAddType",t=>{e(t||"")})}),e&&(p=e,Oe=p.lastModified),p.lastModified||(p.sitesConfig=sitesConfig),p.prefConfig.lang&&"0"!=p.prefConfig.lang&&(jt=p.prefConfig.lang),function(){switch(jt){case"zh-CN":case"zh-SG":Tt={import:"导入",filter:"筛选",selectAll:"全选",importOrNot:"是否导入配置？",settings:"配置脚本",batchOpen:"批量打开",batchOpenConfirm:"确定要批量打开吗？",postOver:"发送成功：",postError:"发送失败：",copyOver:"复制成功",keywords:"请输入搜索词",targetUrl:"请输入搜索URL",siteName:"站名",siteDesc:"描述",siteUrl:"地址",siteIcon:"图标",siteTest:"测试",siteCancel:"取消",siteAdd:"添加",siteType:"分类",siteExist:"已存在相同规则，是否添加为克隆项？",siteAddOver:"站点添加成功",multiline:"是否以换行符分隔多行搜索？",multilineTooMuch:"行数超过10行，是否继续搜索？",inputPlaceholder:"筛选引擎",inputTitle:"筛选引擎，支持 * ? 通配符，$代表末尾，^代表开头，分组**站点 可筛选指定分组，例如 图片**baidu，tab 下一项",inputKeywords:"输入搜索关键词",inPageTips:"自定义分隔符：$c 加分隔符，例如 $c| search | jumper，默认空格作为分隔符\n原始文本不分隔：$o 加文本，例如$oopai liked by hero\n正则表达式：/re/，例如 $c, /google/i , /aPPle/\n添加提示文本：搜索文本$t{提示文本}，例如 linux$t{linux is not unix}\n添加自定义样式：搜索文本$s{背景;其他}，例如 google$s{#333333;color:red;}\n左键点击关键词跳转至下一个，右键点击关键词跳转至上一个",inPagePlaceholder:"输入文字，按下回车进行页内查找",pickerBtn:"抓取元素",multiPickerBtn:"抓取元素，按住 Ctrl 或 Command 连续抓取",editBtn:"编辑查找文字",emptyBtn:"清空查找文字",copyInPageBtn:"复制查找文字",wordModeBtn:"单词模式",copyEleBtn:"复制选中元素",openLinkBtn:"打开选中链接",maxEleBtn:"展开选中元素",minEleBtn:"收起选中元素",expandAll:"全部展开",collapseAll:"全部合起",rename:"重命名",recoverBtn:"恢复查找文字",pinBtn:"固定查找文字，在所有标签页中搜索",locBtn:"定位侧边栏",filterSites:"搜索引擎",searchInPage:"页内查找",removeBtn:"移除搜索词",saveRuleBtn:"保存当前站点的搜索词",wordContent:"搜索词内容",wordHide:"隐藏父级元素",wordHideTips:"元素深度，0为当前父级",wordStyle:"搜索词样式",wordTitle:"搜索词注释",re:"正则",ignoreCase:"不区分大小写",filterLink:"筛选链接",modify:"修改",cancel:"取消",modifyWord:"修改页内搜索词",addSearchEngine:"添加搜索引擎",noValidItemAsk:"未找到有效元素，是否手动编辑规则并添加？",expand:"展开剩余站点",add:"添加",addWord:"添加新词语",wordRange:"生效范围",customInputFrame:"自定义搜索参数",customSubmit:"提交搜索",finalSearch:"目标搜索字串",search:"搜索此项",siteKeywords:"关键词(多个关键词以|分隔)",siteMatch:"站点 URL 匹配正则",openSelect:"打开选项",openInDefault:"默认",openInNewTab:"新标签页打开",openInCurrent:"当前页打开",currentType:"当前分类",maxAddSiteBtn:"最大化",minAddSiteBtn:"还原",addAction:"添加操作",crawlInfo:"模拟输入搜索",inputAction:"输入",clickAction:"点击",sleepAction:"等待",copyAction:"📄复制元素",submitCrawl:"☑️完成操作",inputOutput:'在元素<span title="#t1#" class="element">#t1#</span>内输入<span title="#t2#">#t2#</span>',clickOutput:'点击元素<span title="#t#" class="element">#t#</span>',dblclickOutput:'双击元素<span title="#t#" class="element">#t#</span>',rclickOutput:'右击元素<span title="#t#" class="element">#t#</span>',copyOutput:'复制元素<span title="#t#" class="element">#t#</span>',sleepOutput:'休眠<span title="#t#">#t#</span>毫秒',inputNewValue:"请输入新值",deleteConfirm:"确定要删除此项吗？",sleepPrompt:"等待时间（毫秒）",startCache:"开始缓存，请耐心等待缓存完毕，勿关闭配置页！",cacheOver:"所有图标都已缓存完毕！",cspDisabled:"脚本样式被当前站点的 CSP 阻止，因此无法显示，请尝试安装 Allow CSP: Content-Security-Policy 扩展获取权限",Sunday:"星期日 (日)",Monday:"星期一 (月)",Tuesday:"星期二 (火)",Wednesday:"星期三 (水)",Thursday:"星期四 (木)",Friday:"星期五 (金)",Saturday:"星期六 (土)",template:"请设置【#t#】的值",recordAction:"⏺️录制操作",startRecord:"开始录制操作，按回车键结束录制",loopAction:"🔁开始循环",loopActionEnd:"⏹️循环结束",loopStart:'开始循环，循环次数为<span title="#t#">#t#</span>',loopEnd:"结束循环",loopTimes:"循环次数，将遍历所有匹配元素并顺序执行",loadingCollection:"正在加载合集，请稍候……",emuInputTips:"在指定页面元素（例如输入框）内输入搜索词",emuClickTips:"单击指定页面元素（例如按钮）",emuWaitTips:"等待一段时间后继续执行，当某个操作需要一段时间才能完成时很有用",emuCopyTips:"复制指定元素的文本到剪贴板",emuRecordTips:"录制接下来的点击和输入操作",emuLoopTips:"开始循环，接下来的操作将遍历所有找到的元素并且重复指定次数",emuStopTips:"结束操作并生成规则"};break;case"zh":case"zh-TW":case"zh-HK":Tt={import:"導入",filter:"篩選",selectAll:"全選",importOrNot:"是否導入配置？",settings:"配置脚本",batchOpen:"批量打開",batchOpenConfirm:"確定要批量打開嗎？",postOver:"發送成功：",postError:"發送失敗：",copyOver:"複製成功",keywords:"請輸入搜尋詞",targetUrl:"請輸入搜尋URL",siteName:"站名",siteDesc:"描述",siteUrl:"地址",siteIcon:"圖標",siteTest:"測試",siteCancel:"取消",siteAdd:"添加",siteType:"分類",siteExist:"已存在相同規則，是否添加為克隆項？",siteAddOver:"站點添加成功",multiline:"是否以換行符分隔多行搜尋？",multilineTooMuch:"行數超過10行，是否繼續搜尋？",inputPlaceholder:"篩選引擎",inputTitle:"篩選引擎，支援 * ? 通配符，$代表末尾，^代表開頭，分組**站點 可篩選指定分組，例如 圖片**google，tab 下一項",inputKeywords:"輸入搜尋關鍵詞",inPageTips:"自定義分隔符：$c 加分隔符，例如 $c| search | jumper，默認空格作為分隔符\n原始文本不分隔：$o 加文本，例如$oopai liked by hero\n正則表達式：/re/，例如 $c, /google/i , /aPPle/\n添加提示文本：搜尋文本$t{提示文本}，例如 linux$t{linux is not unix}\n添加自定義樣式：搜尋文本$s{背景;其他}，例如 google$s{#333333;color:red;}\n左鍵點擊關鍵詞跳轉至下一個，右鍵點擊關鍵詞跳轉至上一個",inPagePlaceholder:"輸入文字，按下回車進行頁內查找",pickerBtn:"抓取元素",multiPickerBtn:"抓取元素，按住 Ctrl 或 Command 連續抓取",editBtn:"編輯查找文字",emptyBtn:"清空查找文字",copyInPageBtn:"複製查找文字",wordModeBtn:"單詞模式",copyEleBtn:"複製選中元素",openLinkBtn:"打開選中連結",maxEleBtn:"展開選中元素",minEleBtn:"收起選中元素",expandAll:"全部展開",collapseAll:"全部合起",rename:"重命名",recoverBtn:"恢復查找文字",pinBtn:"固定查找文字，在所有標籤頁中搜尋",locBtn:"定位側邊欄",filterSites:"搜尋引擎",searchInPage:"頁內查找",removeBtn:"移除搜尋詞",saveRuleBtn:"保存當前站點的搜尋詞",wordContent:"搜尋詞內容",wordHide:"隱藏父級元素",wordHideTips:"元素深度，0為當前父級",wordStyle:"搜尋詞樣式",wordTitle:"搜尋詞注釋",re:"正則",ignoreCase:"不區分大小寫",filterLink:"篩選鏈接",modify:"修改",cancel:"取消",modifyWord:"修改頁內搜尋詞",addSearchEngine:"添加搜尋引擎",noValidItemAsk:"未找到有效元素，是否手動編輯規則並添加？",expand:"展開剩餘站點",add:"添加",addWord:"添加新詞語",wordRange:"生效範圍",customInputFrame:"自定義搜尋參數",customSubmit:"提交搜尋",finalSearch:"目標搜尋字串",search:"搜尋此項",siteKeywords:"關鍵詞(多個關鍵詞以|分隔)",siteMatch:"站點 URL 匹配正則",openSelect:"打開選項",openInDefault:"默認",openInNewTab:"新標籤頁打開",openInCurrent:"當前頁打開",currentType:"當前分類",maxAddSiteBtn:"最大化",minAddSiteBtn:"還原",addAction:"添加操作",crawlInfo:"模擬輸入搜尋",inputAction:"輸入",clickAction:"點擊",sleepAction:"等待",copyAction:"📄複製元素",submitCrawl:"☑️完成操作",inputOutput:'在元素<span title="#t1#" class="element">#t1#</span>內輸入<span title="#t2#">#t2#</span>',clickOutput:'點擊元素<span title="#t#" class="element">#t#</span>',dblclickOutput:'雙擊元素<span title="#t#" class="element">#t#</span>',rclickOutput:'右擊元素<span title="#t#" class="element">#t#</span>',copyOutput:'複製元素<span title="#t#" class="element">#t#</span>',sleepOutput:'休眠<span title="#t#">#t#</span>毫秒',inputNewValue:"請輸入新值",deleteConfirm:"確定要刪除此項嗎？ ",sleepPrompt:"等待時間（毫秒）",startCache:"開始緩存，請耐心等待緩存完畢，勿關閉配置頁！",cacheOver:"所有圖標都已緩存完畢！",cspDisabled:"腳本樣式被當前站點的 CSP 阻止，因此無法顯示，請嘗試安裝 Allow CSP: Content-Security-Policy 擴展獲取權限",Sunday:"星期日 (日)",Monday:"星期一 (月)",Tuesday:"星期二 (火)",Wednesday:"星期三 (水)",Thursday:"星期四 (木)",Friday:"星期五 (金)",Saturday:"星期六 (土)",template:"請設置【#t#】的值",recordAction:"⏺️錄製動作",startRecord:"開始錄製操作，按下回車鍵結束錄製",loopAction:"🔁開始循環",loopActionEnd:"⏹️循環結束",loopStart:'開始循環，循環次數為<span title="#t#">#t#</span>',loopEnd:"結束循環",loopTimes:"循環次數，將遍歷所有匹配元素並順序執行",loadingCollection:"正在載入合集，請稍候……",emuInputTips:"在指定頁面元素（例如輸入框）內輸入搜尋字詞",emuClickTips:"點擊指定頁面元素（例如按鈕）",emuWaitTips:"等待一段時間後繼續執行，當某個操作需要一段時間才能完成時很有用",emuCopyTips:"複製指定元素的文字到剪貼簿",emuRecordTips:"錄製接下來的點擊和輸入操作",emuLoopTips:"開始循環，接下來的操作將遍歷所有找到的元素並且重複指定次數",emuStopTips:"結束操作並產生規則"};break;case"ja":Tt={import:"インポート",filter:"フィルター",selectAll:"すべて選択",importOrNot:"設定をインポートしますか? ",settings:"構成スクリプト",batchOpen:"バッチオープン",batchOpenConfirm:"バッチオープンしてもよろしいですか? ",postOver:"正常に送信されました:",postError:"送信に失敗しました:",copyOver:"コピーに成功しました",keywords:"検索語を入力してください",targetUrl:"検索 URL を入力してください",siteName:"サイト名",siteDesc:"説明",siteUrl:"アドレス",siteIcon:"アイコン",siteTest:"テスト",siteCancel:"キャンセル",siteAdd:"追加",siteType:"カテゴリ",siteExist:"同じルールがすでに存在します。クローンとして追加しますか? ",siteAddOver:"サイトは正常に追加されました",multiline:"複数行の検索は改行で区切るべきですか? ",multilineTooMuch:"行数が 10 行を超えています。検索を続けますか? ",inputPlaceholder:"フィルタリング エンジン",inputTitle:"フィルタリング エンジン、*? ワイルドカードをサポート、$ は終わりを表し、^ は始まりを表します、グループ ** サイトは写真などの指定されたグループをフィルターできます ** Google、次の項目をタブします",inputKeywords:"検索キーワードを入力してください",inPageTips:"カスタム区切り文字: $c と区切り文字 ($c| 検索 | ジャンパーなど)、デフォルトのスペースを区切り文字として使用\n元のテキストは分離されていません: $o と文字 (ヒーローが好んだ $oopai など)\n正規表現 ：/re/ 、$c、/google/i、/aPPle/ など\nプロンプト テキストの追加: 検索テキスト $t{プロンプト テキスト}、たとえば linux$t{Linux は Unix ではありません}\nカスタム スタイルの追加: 検索テキスト $s{背景;other}、例: google$s{#333333;color:red;}\nキーワードを左クリックすると次のキーワードにジャンプし、キーワードを右クリックすると前のキーワードにジャンプします",inPagePlaceholder:"ページ内を検索するには、テキストを入力して Enter キーを押してください",pickerBtn:"要素の取得",multiPickerBtn:"要素を取得するには、Ctrl または Command を押したまま継続的に取得します",editBtn:"検索テキストを編集",emptyBtn:"空の検索テキスト",copyInPageBtn:"検索テキストをコピー",wordModeBtn:"ワードモード",copyEleBtn:"選択した要素をコピー",openLinkBtn:"選択したリンクを開く",maxEleBtn:"選択した要素を展開",minEleBtn:"選択した要素を折りたたむ",expandAll:"すべて展開",collapseAll:"すべて折り",rename:"名前を変更",reverseBtn:"検索テキストを復元",pinBtn:"検索テキストを修正、すべてのタブで検索",locBtn:"サイドバーを検索",filterSites:"検索エンジン",searchInPage:"ページ内を検索",removeBtn:"検索語を削除",saveRuleBtn:"現在のサイトの検索語を保存",wordContent:"単語の内容を検索",wordHide:"親要素を非表示",wordHideTips:"要素の深さ、0 が現在の親",wordStyle:"検索ワードスタイル",wordTitle:"検索単語の注釈",re:"RegExp",ignoreCase:"大文字と小文字は区別されません",filterLink:"フィルターリンク",modify:"変更",cancel:"キャンセル",modifyWord:"ページ上の検索ワードを変更します",addSearchEngine:"検索エンジンを追加",noValidItemAsk:"有効な要素が見つかりません。ルールを手動で編集して追加しますか? ",expand:"残りのサイトを展開します",add:"追加",addWord:"新しい単語を追加",wordRange:"有効範囲",customInputFrame:"カスタム検索パラメータ",customSubmit:"検索を送信",finalSearch:"対象の検索文字列",search:"このアイテムを検索",siteKeywords:"キーワード (| で区切られた複数のキーワード)",siteMatch:"通常のサイト URL と一致",openSelect:"オプションを開く",openInDefault:"デフォルト",openInNewTab:"新しいタブが開きます",openInCurrent:"現在のページが開いています",currentType:"現在のカテゴリ",maxAddSiteBtn:"最大化",minAddSiteBtn:"復元",addAction:"アクションを追加",rollInfo:"入力検索をシミュレート",inputAction:"入力",clickAction:"クリック",sleepAction:"待機",copyAction:"📄要素のコピー",submitCrawl:"☑️操作を完了",inputOutput:'要素 <span title="#t1#" class="element">#t1#</span> 内に <span title="#t2#">#t2#</span> を入力します',clickOutput:'クリック<span title="#t#" class="element">#t#</span>',dblclickOutput:'ダブルクリック<span title="#t#" class="element">#t#</span>',rclickOutput:'右クリック<span title="#t#" class="element">#t#</span>',copyOutput:'コピー要素<span title="#t#" class="element">#t#</span>',sleepOutput:'スリープ<span title="#t#">#t#</span> ミリ秒',inputNewValue:"新しい値を入力してください",deleteconfirm:"この項目を削除してもよろしいですか? ",sleepPrompt:"待機時間 (ミリ秒)",startCache:"キャッシュを開始します。キャッシュが完了するまで辛抱強く待ってください。設定ページは閉じないでください。 ",cacheOver:"すべてのアイコンがキャッシュされました! ",cspDisabled:"スクリプト スタイルは現在のサイトの CSP によってブロックされているため、表示できません。許可を取得するには、Allow CSP: Content-Security-Policy 拡張機能をインストールしてみてください",Sunday:"日曜日",Monday:"月曜日",Tuesday:"火曜日",Wednesday:"水曜日",Thursday:"木曜日",Friday:"金曜日",Saturday:"土曜日",template:"[#t#]の値を設定してください",recordAction:"⏺️記録操作",startRecord:"記録操作を開始します。記録を終了するには Enter キーを押してください",loopAction:"🔁ループの開始",loopActionEnd:"⏹️ループの終了",loopStart:'ループを開始。ループ数は <span title="#t#">#t#</span> です',loopEnd:"ループの終了",loopTimes:"ループの数。一致するすべての要素が走査され、順番に実行されます",loadingCollection:"コレクションを読み込み中...",emuInputTips:"指定されたページ要素 (入力ボックスなど) に検索語を入力します",emuClickTips:"指定されたページ要素 (ボタンなど) をクリックします",emuWaitTips:"続行する前にしばらく待ってください。操作が完了するまでに時間がかかる場合に便利です",emuCopyTips:"指定された要素のテキストをクリップボードにコピーします",emuRecordTips:"次のクリックと入力操作を記録します",emuLoopTips:"ループを開始します。次の操作は見つかったすべての要素を走査し、指定された回数だけ繰り返します",emuStopTips:"操作を終了してルールを生成"};break;case"ru":Tt={import:"Импортировать",filter:"Фильтровать",selectAll:"Выбрать всё",importOrNot:"Импортировать эту конфигурацию?",settings:"Настройки",batchOpen:"Групповой поиск",batchOpenConfirm:"Искать с помощью всех движков группы?",postOver:"Post over: ",postError:"Post fail: ",copyOver:"Скопировано успешно",keywords:"Input keywords",targetUrl:"Input URL",siteName:"Название",siteDesc:"Описание",siteUrl:"URL",siteIcon:"Иконка",siteTest:"Тест",siteCancel:"Отменить",siteAdd:"Добавить",siteType:"Группа",siteExist:"Движок уже существует. Добавить его как клон?",siteAddOver:"Движок успешно добавлен",multiline:"Использовать многострочный поиск?",multilineTooMuch:"Количество строк превышает 10. Продолжить поиск?",inputPlaceholder:"Фильтры",inputTitle:'Filter engines, support * ? wildcards, $ means end, ^ means start, type name**site name to filter type like "image**google", tab to next. ',inputKeywords:"Ввести ключевые слова поиска",inPageTips:"Custom delimiter: $c + delimiter, such as $c| search | jumper, space as delimiter by default\nOriginal text without delimited: $o + text, such as $oopai liked by hero\nRegular expression: /re/, such as $c, /google/i , /aPPle/\nTips text: search text$t{tips text}, such as linux$t{linux is not unix}\nCustom style: Search text$s{background;other}, such as google$s{#333333;color:red;}\nLeft-click keyword to jump to the next, right-click keyword to jump to the previous",inPagePlaceholder:"Для поиска введите текст и нажмите Enter",pickerBtn:"Выбрать область",multiPickerBtn:"Выбрать элемент или выбрать несколько элементов с помощью Ctrl или Command",editBtn:"Редактировать текст поиска",emptyBtn:"Очистить поле ввода",copyInPageBtn:"Скопировать текст поика",wordModeBtn:"Режим поиска по словам. В поле ввода можно ввести целое предложение, после чего на странице будут искаться все слова по отдельности из которого состоит предложение",copyEleBtn:"Скопировать выбранные элементы",openLinkBtn:"Открыть выбранные ссылки",maxEleBtn:"Расширить выбранные элементы",minEleBtn:"Сжать выбранные элементы",expandAll:"Развернуть всё",collapseAll:"Свернуть всё",rename:"Rename",recoverBtn:"Recover find text",pinBtn:"Выделить цветом текущие ключевые слова поиска по странице во всех открытых вкладках",locBtn:"Отображать совпадения справа на панели",filterSites:"Фильтровать движки",searchInPage:"Искать на странице",removeBtn:"Удалить правило поиска",saveRuleBtn:"Сохранить правило поиска текущего сайта",wordContent:"Слово или фраза для поиска",wordHide:"Hide parent element",wordHideTips:"Глубина элемента, 0 - это текущее значение",wordStyle:"Стиль выделения слова",wordTitle:"Аннотация к искомому слову",re:"RegExp",ignoreCase:"Игнорировать регистр",filterLink:"Фильтровать ссылку",modify:"Готово",cancel:"Отменить",modifyWord:"Изменить параметры",addSearchEngine:"Добавить движок",noValidItemAsk:"Не найден подходящий элемент. Хотите вручную добавить сайт?",expand:"Развернуть другие сайты",add:"Добавить",addWord:"Добавить новое слово",wordRange:"Выделить область поиска",customInputFrame:"Пользовательские параметры поиска",customSubmit:"Принять",finalSearch:"Целевая строка поиска",search:"Искать это",siteKeywords:"Ключевые слова (разделитель |)",siteMatch:"Regexp для соответствия URL сайта",openSelect:"Открыть в",openInDefault:"По умолчанию",openInNewTab:"Открыть в новой вкладке",openInCurrent:"Открыть в текущей вкладке",currentType:"Current",maxAddSiteBtn:"Развернуть",minAddSiteBtn:"Свернуть",addAction:"Добавить действия",crawlInfo:"Симуляция действий на сайте",inputAction:"Ввод",clickAction:"Клик мыши",sleepAction:"Ожидание",copyAction:"📄Копировать элемент",submitCrawl:"☑️Завешить действие",inputOutput:'Ввод <span title="#t2#">#t2#</span> в элемент <span title="#t1#" class="element">#t1#</span>',clickOutput:'Клик по элементу <span title="#t#" class="element">#t#</span>',dblclickOutput:'Двойной клик <span title="#t#" class="element">#t#</span>',rclickOutput:'щелкните ПКМ <span title="#t#" class="element">#t#</span>',copyOutput:'Копировать элемент <span title="#t#" class="element">#t#</span>',sleepOutput:'Ждать <span title="#t#">#t#</span> миллисекунд',inputNewValue:"Введите новое значение",deleteConfirm:"Хотите удалить этот элемент? ",sleepPrompt:"Время ожидания (в миллисекундах)",startCache:"Началось кширование закрывайте страницу!",cacheOver:"Все иконки кэшированы!",cspDisabled:"The style of SearchJumper is blocked by the CSP of current site, please try to install the Allow CSP: Content-Security-Policy extension to obtain permission",template:'Установите значение "#t#"',recordAction:"⏺️Записать действие",startRecord:"Сейчас начнется запись действия. После завершения нажмите Enter, чтобы вернуться в окно редактирования.",loopAction:"🔁Начать цикл",loopActionEnd:"⏹️Остановить цикл",loopStart:'Начать цикл <span title="#t#">#t#</span> раз',loopEnd:"Остановить цикл",loopTimes:"Количество циклов, все совпадающие элементы будут пройдены и выполнены последовательно",loadingCollection:"Preparing collection for SearchJumper...",emuInputTips:"Ввести поисковые запросы в указанные элементы страницы (например, в поля ввода).",emuClickTips:"Кликнуть по указанному элементу страницы (например, по кнопке)",emuWaitTips:"Подождите некоторое время, прежде чем продолжить. Полезно, когда операция требует некоторого времени для завершения",emuCopyTips:"Копирование текста указанного элемента в буфер обмена",emuRecordTips:"Записать следующие нажатия и операции ввода",emuLoopTips:"Запустить цикл, следующая операция будет обходить все найденные элементы и повторяться указанное количество раз",emuStopTips:"Завершить операцию и создать правило"};break;default:Tt={import:"Import",filter:"Filter",selectAll:"SelectAll",importOrNot:"Do you want to import this config?",settings:"Settings",batchOpen:"Batch open",batchOpenConfirm:"Batch open urls?",postOver:"Post over: ",postError:"Post fail: ",copyOver:"Copied successfully",keywords:"Input keywords",targetUrl:"Input URL",siteName:"Site Name",siteDesc:"Description",siteUrl:"Site Url",siteIcon:"Site Icon",siteTest:"Test",siteCancel:"Cancel",siteAdd:"Add",siteType:"Category",siteExist:"Site is already exist, add it as clone?",siteAddOver:"Site added successfully",multiline:"Search as multilines?",multilineTooMuch:"The number of lines exceeds 10, do you want to continue searching?",inputPlaceholder:"Filter engines",inputTitle:'Filter engines, support * ? wildcards, $ means end, ^ means start, type name**site name to filter type like "image**google", tab to next. ',inputKeywords:"Enter search keywords",inPageTips:"Custom delimiter: $c + delimiter, such as $c| search | jumper, space as delimiter by default\nOriginal text without delimited: $o + text, such as $oopai liked by hero\nRegular expression: /re/, such as $c, /google/i , /aPPle/\nTips text: search text$t{tips text}, such as linux$t{linux is not unix}\nCustom style: Search text$s{background;other}, such as google$s{#333333;color:red;}\nLeft-click keyword to jump to the next, right-click keyword to jump to the previous",inPagePlaceholder:"Input text, press Enter to find in the page",pickerBtn:"Pick a element",multiPickerBtn:"Pick a element, pick multi elements with Ctrl or Command",editBtn:"Edit search text",emptyBtn:"Empty search text",copyInPageBtn:"Copy search text",wordModeBtn:"Word mode",copyEleBtn:"Copy selected elements",openLinkBtn:"Open selected links",maxEleBtn:"Expand selected elements",minEleBtn:"Collapse selected elements",expandAll:"Expand All",collapseAll:"Collapse All",rename:"Rename",recoverBtn:"Recover find text",pinBtn:"Pin search text to search in all tabs",locBtn:"Sidebar to locate",filterSites:"Search engines",searchInPage:"Find in page",removeBtn:"Remove search term",saveRuleBtn:"Save the search term of the current site",wordContent:"Search word content",wordHide:"Hide parent element",wordHideTips:"Element depth, 0 means the current",wordStyle:"Search word style",wordTitle:"Search word annotation",re:"RegExp",ignoreCase:"Ignore case",filterLink:"Filter link",modify:"Modify",cancel:"Cancel",modifyWord:"Modify search word",addSearchEngine:"Add search engine",noValidItemAsk:"No valid element found, do you want to manually edit the rule and add it?",expand:"Expand other sites",add:"Add",addWord:"Add new word",wordRange:"Effective range",customInputFrame:"Custom search parameters",customSubmit:"Submit",finalSearch:"Target search string",search:"Search this",siteKeywords:"Keywords(split by |)",siteMatch:"Regexp to match site URL",openSelect:"Open option",openInDefault:"Default",openInNewTab:"Open a new tab",openInCurrent:"Open in current",currentType:"Current",maxAddSiteBtn:"Maximize",minAddSiteBtn:"Restore",addAction:"Add Actions",crawlInfo:"Analog input search",inputAction:"Input",clickAction:"Click",sleepAction:"Wait",copyAction:"📄Copy element",submitCrawl:"☑️Complete operation",inputOutput:'Input <span title="#t2#">#t2#</span> in the element <span title="#t1#" class="element">#t1#</span>',clickOutput:'Click on element <span title="#t#" class="element">#t#</span>',dblclickOutput:'Double click <span title="#t#" class="element">#t#</span>',rclickOutput:'Right click <span title="#t#" class="element">#t#</span>',copyOutput:'Copy element <span title="#t#" class="element">#t#</span>',sleepOutput:'Sleep for <span title="#t#">#t#</span> milliseconds',inputNewValue:"Please enter a new value",deleteConfirm:"Are you sure you want to delete this item? ",sleepPrompt:"Wait time (milliseconds)",startCache:"Start cache icons of engines, do not close this page!",cacheOver:"All icons cached!",cspDisabled:"The style of SearchJumper is blocked by the CSP of current site, please try to install the Allow CSP: Content-Security-Policy extension to obtain permission",template:'Please set the value of "#t#"',recordAction:"⏺️Record operation",startRecord:"Start to record operation, press Enter to end",loopAction:"🔁Start loop",loopActionEnd:"⏹️Stop loop",loopStart:'Start loop <span title="#t#">#t#</span> times',loopEnd:"Stop loop",loopTimes:"Number of loops, all matching elements will be traversed and executed sequentially",loadingCollection:"Preparing collection for SearchJumper...",emuInputTips:"Enter search terms in specified page elements (such as input boxes)",emuClickTips:"Click on a specified page element (such as a button)",emuWaitTips:"Wait for a while before continuing, useful when an operation takes a while to complete",emuCopyTips:"Copy the text of the specified element to the clipboard",emuRecordTips:"Record the next clicks and input operations",emuLoopTips:"Start the loop, the next operation will traverse all found elements and repeat the specified number of times",emuStopTips:"End the operation and generate rules"}}}(),p.prefConfig.firstRun&&pe.supportCrossSave()&&(p.prefConfig.firstRun=!1,pe.setItem("searchData",p),setTimeout(()=>{pe.getItem("searchData",e=>{!1===e.prefConfig.firstRun&&ae(o,{active:!0,insert:!0})})},100)),void 0===p.prefConfig.customSize&&(p.prefConfig.customSize=100),void 0===p.prefConfig.tilesZoom&&(p.prefConfig.tilesZoom=100),void 0===p.prefConfig.tipsZoom&&(p.prefConfig.tipsZoom=100),void 0===p.prefConfig.typeOpenTime&&(p.prefConfig.typeOpenTime=250),void 0===p.prefConfig.longPressTime&&(p.prefConfig.longPressTime=500),void 0===p.prefConfig.cacheSwitch&&(p.prefConfig.cacheSwitch=!1),void 0===p.prefConfig.noIcons&&(p.prefConfig.noIcons=!1),void 0===p.prefConfig.noAni&&(p.prefConfig.noAni=!1),void 0===p.prefConfig.quickAddRule&&(p.prefConfig.quickAddRule=!0),void 0===p.prefConfig.multiline&&(p.prefConfig.multiline=2),void 0===p.prefConfig.multilineGap&&(p.prefConfig.multilineGap=1e3),void 0===p.prefConfig.historyLength&&(p.prefConfig.historyLength=0),void 0===p.prefConfig.dragToSearch&&(p.prefConfig.dragToSearch=!0),void 0===p.prefConfig.firstFiveWordsColor&&(p.prefConfig.firstFiveWordsColor=[]),void 0===p.prefConfig.inPageWordsStyles&&(p.prefConfig.inPageWordsStyles=[]),void 0===p.prefConfig.rightMouse&&(p.prefConfig.rightMouse=!0),void 0===p.prefConfig.mouseLeaveToHide&&(p.prefConfig.mouseLeaveToHide=!0),void 0===p.prefConfig.currentTypeFirst&&(p.prefConfig.currentTypeFirst=!0),void 0===p.prefConfig.disableAddon&&(p.prefConfig.disableAddon={}),void 0===p.prefConfig.suggestType&&(p.prefConfig.suggestType="zh-CN"===jt?"baidu":"google"),void 0===p.prefConfig.syncBuild&&(p.prefConfig.syncBuild=!0),p.prefConfig.minSizeMode&&(p.prefConfig.disableAutoOpen=!1,p.prefConfig.disableTypeOpen=!1),p.prefConfig.configPage?l=p.prefConfig.configPage:p.prefConfig.configPage=l}(),!ye){if(p.prefConfig.blacklist&&p.prefConfig.blacklist.length>0){let e=!1;for(let t=0;t<p.prefConfig.blacklist.length;t++){let n=p.prefConfig.blacklist[t];if(n&&0!=n.indexOf("//"))if(e)/\*\/$/.test(n)&&(e=!1);else if(0!=n.indexOf("/*")){if(0==n.indexOf("/")){let e=n.match(/^\/(.*)\/(\w*)$/);if(e&&new RegExp(e[1],e[2]).test(Et))return}else if(V(n,Et))return}else e=!0}}me=new Jt,await async function(){if(ee=await async function(){if(0===Et.indexOf(l)||("SearchJumper"===document.title||document.querySelector('[name="from"][content="SearchJumper"]'))&&document.querySelector('[name="author"][content="Hoothin"]')){Ge=document.querySelector('[name="engines"]');let t=document.getElementById("spotlight");if(Ge)try{if(0===(Ge=Ge.getAttribute("content")).indexOf("http")){if(t){const n=e("loadingCollection");t.innerText=n,t.setAttribute("spotlight",n)}let n=await new Promise(e=>{ne({method:"GET",url:Ge,onload:function(t){var n=null;try{n=JSON.parse(t.responseText),e(n)}catch(t){console.log(t),e(!1)}},onerror:function(t){console.log(t),e(!1)},ontimeout:function(t){console.log(t),e(!1)}})});n?(p.sitesConfig=n,Ge=!0):Ge=!1}else p.sitesConfig=JSON.parse(decodeURI(Ge)),Ge=!0}catch(e){Ge=!1}let n=0===Et.indexOf(l.replace(/\/config.*/,""))||0===Et.indexOf(a)||0===Et.indexOf("https://hoothin.github.io/SearchJumper")||"localhost"===location.hostname;return n&&(c=!!Ge||/all(\.html)?$/.test(location.pathname)),t?t.style.display="none":setTimeout(()=>{t=document.getElementById("spotlight"),t&&(t.style.display="none")},500),n}return!1}(),!ee&&p.webdavConfig&&(he=new Lt(p.webdavConfig.host+"/SearchJumper"+(p.webdavConfig.path||"").replace(/^\/*/,"/").replace(/\/*$/,"/"),p.webdavConfig.username,p.webdavConfig.password)),ee&&!c){let n,i=!1,r=()=>{n=setTimeout(()=>{i||r()},50),window.postMessage({searchData:p,cacheIcon:je,version:le.script.version||0,command:"loadConfig"},"*")},s=setTimeout(()=>{i||location.reload()},3e3);document.addEventListener("received",()=>{i=!0,clearTimeout(n),clearTimeout(s),Le.length>0&&p.prefConfig.cacheSwitch&&(X(`Start cache ${Le.length} icons!`),$())}),document.addEventListener("downloadCache",()=>{!function(){let e=document.createElement("a");e.download="searchJumperCache.json",e.target="_blank";let t=[JSON.stringify({sortTypeNames:Ie,cacheIcon:je,sortSiteNames:Ee},null,4)],n=new Blob(t,{type:"application/json"});e.href=window.URL.createObjectURL(n),e.click()}()}),document.addEventListener("importCache",e=>{var t;(t=e.detail?e.detail.cacheData:e.cacheData).cacheIcon&&(je=t.cacheIcon,pe.setItem("cacheIcon",je),Le=[],p.prefConfig.cacheSwitch=!0,pe.setItem("searchData",p)),t.sortTypeNames&&(Ie=t.sortTypeNames,pe.setItem("sortTypeNames",Ie)),t.sortSiteNames&&(Ee=t.sortSiteNames,pe.setItem("sortSiteNames",Ee)),re("Cache imported successfully!")}),document.addEventListener("showSiteAdd",e=>{let t=e.detail?e.detail.site:e.site;t&&(t.url?q(t.name,t.description,t.url,t.icon?[t.icon]:[],t.charset,t.kwFilter,t.match,t.hideNotMatch):Ft.open(t))}),r(),document.addEventListener("dataChanged",()=>{r()});let a=(e,t,n,i)=>{window.postMessage({url:e,name:t,status:n,finalUrl:i,command:"verifyResult"},"*")};document.addEventListener("verifyUrl",e=>{let t=e.detail?e.detail.url:e.url,n=e.detail?e.detail.name:e.name;ne({method:"GET",url:t,headers:{referer:t,"User-Agent":navigator.userAgent},onload:function(e){a(t,n,e&&e.status,e&&e.finalUrl)},onerror:function(){a(t,n,"error","")},ontimeout:function(){a(t,n,"timeout","")}})});let o=p.prefConfig.cacheSwitch;document.addEventListener("saveConfig",n=>{p=(n.detail?n.detail.searchData:n.searchData)||t.searchData,pe.setItem("searchData",p);let i={},r=je?Object.keys(je).length:0;o==p.prefConfig.cacheSwitch?(p.sitesConfig.forEach(e=>{if(/^[a-z\- ]+$/.test(e.icon||"")||/^http/.test(e.icon)){let t=e.icon.trim().replace(/ /g,"_"),n=je[t];n&&(i[t]=n)}e.sites.forEach(e=>{let t=e.icon;if(t||(t=e.url.replace(/^showTips:/,"").replace(/\?.*/,"").replace(/^(https?:\/\/[^\/]*\/)[\s\S]*$/,"$1favicon.ico")),/^http/.test(t)){let e=je[t];e&&(i[t]=e)}})}),r!==Object.keys(i).length&&(je=i,pe.setItem("cacheIcon",i))):(p.sitesConfig.forEach(e=>{if(/^http/.test(e.icon)){let t=je[e.icon];if(t)if("fail"===t){let t=document.createElement("img");t.src=e.icon,Le.push(t)}else i[e.icon]=t}e.sites.forEach(e=>{let t=e.icon;if(t||(t=e.url.replace(/^showTips:/,"").replace(/\?.*/,"").replace(/^(https?:\/\/[^\/]*\/)[\s\S]*$/,"$1favicon.ico")),/^http/.test(t)){let e=je[t];if(e)if("fail"===e){let e=document.createElement("img");e.src=t,Le.push(e)}else i[t]=e}})}),pe.setItem("cacheIcon",i),p.prefConfig.cacheSwitch&&(Le.length>0&&(re(e("startCache")),$(!0)),W())),o=p.prefConfig.cacheSwitch,(n.notification||n.detail&&n.detail.notification)&&re("Configuration imported successfully!")}),document.addEventListener("copyConfig",()=>{let e=p.sitesConfig.filter(e=>e&&!(/^BM/.test(e.type)&&"bookmark"===e.icon));se(JSON.stringify(e,null,2)),re("Configuration copied successfully!")})}else if(r.test(Et)){let t,n=oe("\n                    #import-btns-con {\n                        position: absolute;\n                        display: block;\n                        font-size: 20px;\n                        left: 0px;\n                        top: 0px;\n                        width: 100%;\n                        height: 100%;\n                    }\n                    #import-btns-con.hide {\n                        pointer-events: none;\n                    }\n                    #import-btns-con>button {\n                        opacity: 0.5;\n                    }\n                    #import-btns-con>button:hover {\n                        opacity: 0.9;\n                    }\n                    #import-btn {\n                        position: absolute;\n                        display: block;\n                        font-size: 20px;\n                        right: 45px;\n                        top: 45px;\n                        pointer-events: all;\n                    }\n                    #filter-btn {\n                        position: absolute;\n                        display: none;\n                        font-size: 20px;\n                        left: 45px;\n                        top: 45px;\n                        pointer-events: all;\n                    }\n                    .filter>#filter-btn {\n                        display: block;\n                    }\n                    #import-btns-con>h3 {\n                        float: left;\n                        margin-left: 20px;\n                    }\n                    #import-btns-con.hide>h3 {\n                        display: none;\n                    }\n                "),i=0,s=document.createElement("button");s.id="import-btn",s.className="btn Button--secondary Button";let a=document.createElement("button");a.id="filter-btn",a.className="btn Button--secondary Button";let o=document.createElement("h3"),l=document.createElement("div");l.id="import-btns-con",l.appendChild(n),l.appendChild(s),l.appendChild(a),l.appendChild(o),l.addEventListener("click",()=>{t&&(t.style.filter=""),l.classList.add("hide")}),s.innerText=e("import"),s.addEventListener("click",n=>{if(Ge)return;if(!t)return;let r,s=t.innerText.trim();if(s){try{r=JSON.parse(s)}catch(n){return void re(n.toString())}switch(i){case 0:window.confirm(e("importOrNot"))&&(l.parentNode&&l.parentNode.removeChild(l),d(()=>{p.sitesConfig=r,p.lastModified=(new Date).getTime(),pe.setItem("searchData",p),re(e("siteAddOver")),me.refreshEngines()},!0));break;case 1:q(r.name,"",r.url,r.icon?[r.icon]:[],r.charset,r.kwFilter,r.match,r.hideNotMatch);break;case 2:p.prefConfig.inPageRule||(p.prefConfig.inPageRule={}),Object.keys(r).forEach(e=>{let t=r[e];if(!t)return;if(0===e.indexOf("@"))return void(p.prefConfig.inPageRule[e]=t);if(!t.words||0===t.words.length)return;let n="",i=t.sep||"";i?n="$c"+i:(i=" ",1===t.words.length&&-1!==t.words[0].indexOf(" ")&&(i="",n="$o")),p.prefConfig.inPageRule[e]=n+t.words.join(i)}),pe.setItem("searchData",p),re("Over!")}}}),a.innerText=e("filter"),a.addEventListener("click",e=>{if(t){l.parentNode&&l.parentNode.removeChild(l);let n,i=t.innerText.trim();if(!i||0!==i.indexOf("["))return;try{n=JSON.parse(i),Ft.open(n)}catch(e){re(e.toString())}}});let c=e=>{if(e==t&&l.parentNode)return;let n=e.offsetTop+"px",r=e.innerText.trim();if(r){if(o.innerText="",/^\[/.test(r))i=0,l.style.top=n,l.classList.add("filter");else if(/^\{\s*"name"/.test(r))i=1,l.style.top=n,l.classList.remove("filter"),o.innerText=r.match(/"name":\s*"(.*)"/)[1];else{if(!/^\{/.test(r))return;i=2,l.style.top=n,l.classList.remove("filter")}t&&(t.style.filter=""),e.parentNode.appendChild(l),e.style.filter="blur(5px)",t=e,l.classList.remove("hide")}};window.addEventListener("load",()=>{if(!t){let e=document.querySelector(".highlight>pre");e&&c(e)}}),document.addEventListener("mouseover",e=>{if(r.test(Et))if("PRE"===e.target.nodeName)c(e.target);else{let t=e.target.children[0];t&&"PRE"===t.nodeName&&c(t)}})}}(),function(){if("mycroftproject.com"!==location.hostname)return;oe("\n                 .searchJumper-loading {\n                     animation-name: changeScale;\n                     animation-duration: 2.5s;\n                     animation-iteration-count: infinite;\n                 }\n                 @keyframes changeScale {\n                     0% {\n                         -webkit-transform:rotate(0deg) scale(1);\n                         -moz-transform:rotate(0deg) scale(1);\n                         transform:rotate(0deg) scale(1);\n                     }\n                     50% {\n                         -webkit-transform:rotate(180deg) scale(1.5);\n                         -moz-transform:rotate(180deg) scale(1.5);\n                         transform:rotate(180deg) scale(1.5);\n                     }\n                     100% {\n                         -webkit-transform:rotate(360deg) scale(1);\n                         -moz-transform:rotate(360deg) scale(1);\n                         transform:rotate(360deg) scale(1);\n                     }\n                 }\n            ");let e=()=>{let e=document.querySelectorAll("img.icon~a[href^='/install']");if(e.length<=0)return;let t=!1;[].forEach.call(e,e=>{if(e.previousElementSibling&&e.previousElementSibling.classList.contains("searchJumperIcon"))return;if(e.previousElementSibling&&e.previousElementSibling.previousElementSibling&&e.previousElementSibling.previousElementSibling.classList.contains("searchJumperIcon"))return;let n=e.href.match(/\?id=(\d+)&basename=(.+?)&/);if(null===n)return;let i=document.createElement("img");i.className="icon searchJumperIcon",i.style.cssText="border: 1px solid #4c4c4c; border-radius: 9px; box-sizing: border-box; margin-right: 4px; cursor: pointer;",i.title="Add to SearchJumper",i.src=Mt,e.parentNode.insertBefore(i,e),i.onclick=()=>{t||(t=!0,i.classList.add("searchJumper-loading"),G(`https://mycroftproject.com/installos.php/${n[1]}/${n[2]}.xml`,(e,n)=>{t=!1,i.classList.remove("searchJumper-loading"),"load"!=e&&re(n.statusText||n.error)}))}})};e();let t=setInterval(()=>{e()},1e3);window.addEventListener("load",()=>{clearInterval(t),e()})}(),async function(){await me.initRun(),function(){ie(e("settings"),()=>{ae(l,{active:!0,insert:!0})}),ie(e("searchInPage"),()=>{me.showInPage(),me.showInPageSearch()}),ie(e("search"),()=>{me.searchAuto(0,{})}),ie(e("addSearchEngine"),()=>{let e=document.head.querySelector('[rel="search"]');e?G(e.href,(e,t)=>{"load"!=e&&(t&&X(t.statusText||t.error||t.response||t),K(m(document).querySelector("input[type=text]:not([readonly]),input[type=search]:not([readonly]),input:not([type])")||m(document).querySelector("textarea")))}):K(m(document).querySelector("input[type=text]:not([readonly]),input[type=search]:not([readonly]),input:not([type])")||m(document).querySelector("textarea"))}),document.addEventListener("searchJumper",e=>{switch(e.detail.action){case"search":e.detail.query&&(Ht=e.detail.query),e.detail.name?me.searchBySiteName(e.detail.name,e.detail.key||{}):me.searchAuto(e.detail.index,e.detail.key||{});break;case"show":me.setFuncKeyCall(!1),me.showInPage(),p.prefConfig.disableInputOnWords&&!me.inInput&&J()||me.showSearchInput();break;case"showAll":me.appendBar(),me.showAllSites()}}),Re=m(document);let t,n,i=ue.children[0],r=0,s=!1,a=e=>{if(clearTimeout(t),me.bar.classList.remove("grabbing"),document.removeEventListener("mouseup",a,!1),document.removeEventListener("mousemove",c,!1),document.removeEventListener("touchend",a,!1),document.removeEventListener("touchmove",c,!1),me.bar.style.marginLeft="",me.bar.style.marginTop="",me.bar.style.transform="",1===r)return r=0,void me.showAllSites();r=0;let n,s,o,l,h=window.innerWidth||document.documentElement.clientWidth,d=window.innerHeight||document.documentElement.clientHeight,u=h/3,m=f(e),y=g(e);m<u?(n="left",o=parseInt(me.bar.style.left)>0?parseInt(me.bar.style.left):0):m<2*u?(n="center",o=parseInt(me.bar.style.left)-h/2):(n="right",o=h-parseInt(me.bar.style.left)-me.bar.scrollWidth),y<d/2?(s="top",l=parseInt(me.bar.style.top)):(s="bottom",l=d-parseInt(me.bar.style.top)-me.bar.scrollHeight,l<0&&(l=0)),i.style.cursor="",me.closeOpenType(),me.initPos(n,s,o,l),pe.setItem("searchData",p)},o={x:0,y:0},c=e=>{let n=f(e),s=g(e);Math.abs(o.x-n)+Math.abs(o.y-s)<50||(1===r&&(clearTimeout(t),i.style.cursor="grabbing",me.bar.style.position="fixed",me.bar.style.marginLeft="0",me.bar.style.marginTop="0",me.bar.style.right="",me.bar.style.bottom="",me.bar.style.transform="unset",me.con.classList.remove("search-jumper-scroll"),me.bar.className="search-jumper-searchBar grabbing"),r=2,me.bar.style.left=n-me.bar.scrollWidth+20+"px",me.bar.style.top=s-me.bar.scrollHeight+20+"px")};if(ue.oncontextmenu=function(e){me.bar.style.display="none",e.preventDefault()},ue.addEventListener("mousedown",e=>{if(s)s=!1;else{if(2===e.button)return p.prefConfig.resizePage&&(void 0!==me.initBodyStyle&&(m(document).style.cssText=me.initBodyStyle),me.con.classList.remove("resizePage")),document.removeEventListener("mouseup",a,!1),document.removeEventListener("mousemove",c,!1),document.removeEventListener("touchend",a,!1),void document.removeEventListener("touchmove",c,!1);e.preventDefault(),e.stopPropagation(),me.inInput||1===e.button||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey?ae(l,{active:!0,insert:!0}):(r=1,o={x:f(e),y:g(e)},document.addEventListener("mouseup",a,!1),setTimeout(()=>{1===r&&document.addEventListener("mousemove",c,!1)},100),t=setTimeout(()=>{me.bar.style.display="none",document.removeEventListener("mouseup",a,!1),document.removeEventListener("mousemove",c,!1)},2e3))}},!1),ue.addEventListener("touchstart",e=>{e.preventDefault(),e.stopPropagation(),s=!0,r=1,o={x:f(e),y:g(e)},document.addEventListener("touchend",a,!1),setTimeout(()=>{1===r&&document.addEventListener("touchmove",c,!1)},100),t=setTimeout(()=>{me.bar.style.display="none",p.prefConfig.resizePage&&(void 0!==me.initBodyStyle&&(m(document).style.cssText=me.initBodyStyle),me.con.classList.remove("resizePage")),document.removeEventListener("touchend",a,!1),document.removeEventListener("touchmove",c,!1)},1500)},{passive:!1,capture:!1}),me.bar.addEventListener(R(),e=>{var t,n;if(e.target.parentNode&&("sitelistCon"==e.target.parentNode.className||e.target.parentNode.parentNode&&"sitelistCon"==e.target.parentNode.parentNode.className))return;let i=me.con.classList;i.contains("search-jumper-scroll")&&(i.contains("search-jumper-left")||i.contains("search-jumper-right")||("wheel"!==e.type?(n=0,"number"==typeof e.axis?2==e.axis?n=e.detail:e.detail:void 0===e.wheelDeltaY||0!=e.wheelDeltaY?n=-e.wheelDelta/40:e.wheelDelta,t=n):(e.deltaX,t=e.deltaY),e.preventDefault(),e.stopPropagation(),me.con.scrollLeft+=t))},{passive:!1,capture:!1}),p.prefConfig.shortcut&&(p.prefConfig.switchSitesPreKey||p.prefConfig.switchSitesNextKey||p.prefConfig.shortcutKey||p.prefConfig.showAllShortcutKey)){let k=-1,j=!1,T=(e,t,n,i,r,s)=>!(t&&!e.altKey||n&&!e.ctrlKey||i&&!e.shiftKey||r&&!e.metaKey||(j||(j=(e.key||String.fromCharCode(e.keyCode)).toLowerCase()),s!=j&&s!=e.code||!(p.prefConfig.enableInInput||-1!=k||(k=1,n||t||i||r||!C(document)))||(k=0,e.preventDefault(),e.stopPropagation(),0)));document.addEventListener("mouseenter",e=>{e.target&&!me.contains(e.target)&&(Fe=e.target)},!0),document.addEventListener("keydown",e=>{if("searchJumperInput"!==e.target.id&&(k=-1,j=!1,p.prefConfig.shortcutKey&&T(e,p.prefConfig.callBarAlt,p.prefConfig.callBarCtrl,p.prefConfig.callBarShift,p.prefConfig.callBarMeta,p.prefConfig.shortcutKey)&&(me.setFuncKeyCall(!1),me.showInPage(),p.prefConfig.disableInputOnWords&&!me.inInput&&J()||me.showSearchInput()),1!=k&&(p.prefConfig.showAllShortcutKey&&T(e,p.prefConfig.showAllAlt,p.prefConfig.showAllCtrl,p.prefConfig.showAllShift,p.prefConfig.showAllMeta,p.prefConfig.showAllShortcutKey)&&(me.appendBar(),me.showAllSites()),ge&&"none"!==me.bar.style.display))){if(p.prefConfig.switchSitesPreKey&&T(e,p.prefConfig.switchSitesAlt,p.prefConfig.switchSitesCtrl,p.prefConfig.switchSitesShift,p.prefConfig.switchSitesMeta,p.prefConfig.switchSitesPreKey))return void me.switchSite();p.prefConfig.switchSitesNextKey&&T(e,p.prefConfig.switchSitesAlt,p.prefConfig.switchSitesCtrl,p.prefConfig.switchSitesShift,p.prefConfig.switchSitesMeta,p.prefConfig.switchSitesNextKey)&&me.switchSite(!0)}},!0)}if(p.prefConfig.enableInPage){let S,I,E=!1,L=!1;document.addEventListener("selectionchange",()=>{if(p.prefConfig.leftMouse||p.prefConfig.middleMouse)if(window.getSelection().toString()){const e=window.getSelection().getRangeAt(0);I=e.getBoundingClientRect()}else I=null});let P=!1;function N(e){let t=!1;if(C(document))t=!0;else{let n=!1,i=e;for(;i&&(n="true"==i.contentEditable,!n&&"BODY"!=i.nodeName.toUpperCase());)i=i.parentNode;n&&(t=!0)}return t}n=e=>{E&&e.preventDefault(),E=!1,document.removeEventListener("click",n,!0)};let M=e=>{if(P&&"mousedown"===e.type&&0===e.button||e.target.classList&&e.target.classList.contains("search-jumper-btn")||me.contains(e.target))return;if(me.bar.classList.contains("grabbing"))return;let t=N(e.target),i=!p.prefConfig.enableInInput&&t;if(i&&"dblclick"===e.type)return;if(2==p.prefConfig.minPopup&&(t?me.con.classList.add("targetInput"):me.con.classList.remove("targetInput")),"touchstart"===e.type)return void(p.prefConfig.selectToShow&&setTimeout(()=>{J()?me.showInPage(!0,e):me.waitForHide(0)},0));P=!0,setTimeout(()=>{P=!1},500),E=!1,Re=e.target,me.closePopupWindow();let r=!1;if((p.prefConfig.altKey||p.prefConfig.ctrlKey||p.prefConfig.shiftKey||p.prefConfig.metaKey)&&!(p.prefConfig.altKey&&!e.altKey||p.prefConfig.ctrlKey&&!e.ctrlKey||p.prefConfig.shiftKey&&!e.shiftKey||p.prefConfig.metaKey&&!e.metaKey)&&(r=!0),!p.prefConfig.selectToShow&&(0===e.button&&!p.prefConfig.leftMouse||1===e.button&&!p.prefConfig.middleMouse))return void me.waitForHide(0);let s=e.clientX,a=e.clientY,o=!1,l=e=>{Math.abs(s-e.clientX)+Math.abs(a-e.clientY)>2&&(clearTimeout(S),document.removeEventListener("mousemove",l,!0),e.target.removeEventListener("scroll",c),o=!0)},c=e=>{clearTimeout(S),document.removeEventListener("mousemove",l,!0),e.target.removeEventListener("scroll",c)},h=e=>{Ot=!1,me.contains(e.target)||E?e.preventDefault():setTimeout(()=>{E||/^pv-/.test(e.target.className)||(t=N(e.target),i=!p.prefConfig.enableInInput&&t,!i&&(r&&2===e.button||(o||L)&&0===e.button&&p.prefConfig.selectToShow&&J())?me.showInPage(!0,e):(P=!1,me.waitForHide(0)))},0),clearTimeout(S),document.removeEventListener("mouseup",h,!0),document.removeEventListener("mousemove",l,!0),e.target.removeEventListener("scroll",c)};if("dblclick"===e.type)return void(""!==J()?(E=!0,Ot=!1,document.removeEventListener("mouseup",h,!0),document.removeEventListener("mousemove",l,!0),e.target.removeEventListener("scroll",c),clearTimeout(S),setTimeout(()=>{me.showInPage(!0,e)},200)):(L=!0,setTimeout(()=>{L=!1},200)));S&&clearTimeout(S),S=setTimeout(()=>{Ot||Re==e.target&&(1!==e.button||p.prefConfig.middleMouse)&&(2!==e.button||p.prefConfig.rightMouse)&&(0!==e.button||p.prefConfig.leftMouse)&&(p.prefConfig.longPressTile?me.showInPage(!0,e):(me.setFuncKeyCall(!1),me.showInPage()),E=!0)},parseInt(p.prefConfig.longPressTime));let d=!1;if(2===e.button?r&&(d=!0):(0===e.button?p.prefConfig.leftMouse&&(d=!0):1===e.button&&p.prefConfig.middleMouse&&(d=!0),d&&(i?d=!1:I?(e.clientX<I.left||e.clientX>I.left+I.width||e.clientY<I.top||e.clientY>I.top+I.height)&&(d=!1):d=!1)),d)return setTimeout(()=>{Ot||me.showInPage(!0,e),document.removeEventListener("mousemove",l,!0),e.target.removeEventListener("scroll",c)},200),E=!0,document.addEventListener("mouseup",h,!0),document.addEventListener("click",n,!0),!1;document.addEventListener("mousemove",l,!0),document.addEventListener("mouseup",h,!0),e.target.addEventListener("scroll",c)};if(document.addEventListener("mousedown",M),document.addEventListener("dblclick",M),p.prefConfig.selectToShow){let A,B,$=()=>{clearTimeout(A),A=setTimeout(()=>{window.getSelection().toString()&&(M(B),document.removeEventListener("selectionchange",$))},300)};document.addEventListener("touchstart",e=>{!1!==e.isTrusted&&(B=e,document.addEventListener("selectionchange",$))})}document.addEventListener("contextmenu",e=>{E&&e.preventDefault(),E=!1})}p.prefConfig.dragToSearch&&!ee&&m(document).addEventListener("dragstart",e=>{!e.isTrusted||p.prefConfig.dragAlt&&!e.altKey||p.prefConfig.dragCtrl&&!e.ctrlKey||p.prefConfig.dragShift&&!e.shiftKey||p.prefConfig.dragMeta&&!e.metaKey||(p.prefConfig.enableInInput||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||!C(document))&&(1!==(Re=e.target).nodeType&&(Re=Re.parentNode),Re.shadowRoot&&(Re=Re.shadowRoot.activeElement||Re),Re.getAttribute&&"true"==Re.getAttribute("draggable")||Re.parentNode&&Re.parentNode.getAttribute&&"true"==Re.parentNode.getAttribute("draggable")||(me.funcKeyCall=!0,me.waitForHide(0),setTimeout(()=>{!function(e,t){if(!me||!me.bar)return;let n=me.bar.querySelector(".search-jumper-type.search-jumper-open"),i=()=>{if(document.removeEventListener("dragend",Xe,!0),document.removeEventListener("dragenter",Qe,!0),Ve.parentNode&&(Ve.parentNode.removeChild(Ve),Ye.style.opacity="",Ye.style.transform=""),Ot=!1,clearTimeout(et),ge&&!ge.hideNotMatch&&!p.prefConfig.hideOnSearchEngine||me.con.classList.contains("resizePage")){if(n&&!n.classList.contains("search-jumper-open"))if(n.children[0].onmouseup)n.children[0].onmouseup();else{let e=new PointerEvent("mouseup");n.children[0].dispatchEvent(e)}}else me.bar.style.display="none"};if(tt||nt||(it=(p.prefConfig.zoomDrag||100)/100,tt=190*it,nt=190*it),!Ye){let e=`\n                    #dragCon {\n                      position: fixed;\n                      top: 0;\n                      left: 0;\n                      transform: scale(${it});\n                      z-index: 2147483647;\n                      -moz-transition:left 0.3s ease, top 0.3s;\n                      -webkit-transition:left 0.3s ease, top 0.3s;\n                      transition:left 0.3s ease, top 0.3s;\n                    }\n                    #searchJumperWrapper * {\n                      margin: 0;\n                      padding: 0;\n                      border: none;\n                      outline: none;\n                      user-select: none;\n                      box-sizing: content-box;\n                      font-size: 12px;\n                      line-height: normal;\n                      overflow: visible;\n                      background-image: initial;\n                      float: initial;\n                    }\n                    #searchJumperWrapper {\n                      position: fixed;\n                      height: 300px;\n                      width: 300px;\n                      padding: 20px;\n                      margin: 20px;\n                      background-color: #000000${p.prefConfig.hideDragHistory?"10":"9e"};\n                      box-shadow: #000000 0px 0px 10px;\n                      border-radius: 50%;\n                      z-index: 2147483647;\n                      box-sizing: content-box;\n                      opacity: 0;\n                      transform: scale(.5);\n                      -moz-transition:opacity 0.3s ease, transform 0.15s;\n                      -webkit-transition:opacity 0.3s ease, transform 0.15s;\n                      transition:opacity 0.3s ease, transform 0.15s;\n                    }\n                    #searchJumperWrapper>.panel {\n                      position: relative;\n                    }\n                    #searchJumperWrapper .sector:nth-child(2n+1) .sector-inner {\n                      background: #454545;\n                      color: white;\n                    }\n                    #searchJumperWrapper .sector:nth-child(2n) .sector-inner {\n                      background: #ffffff;\n                      color: black;\n                    }\n                    #searchJumperWrapper .sector.out:nth-child(2n+1) .sector-inner {\n                      background: #353535;\n                    }\n                    #searchJumperWrapper .sector.out:nth-child(2n) .sector-inner {\n                      background: #eeeeee;\n                    }\n                    #searchJumperWrapper .sector {\n                      position: absolute;\n                      left: 150px;\n                      top: 50px;\n                      width: 100px;\n                      height: 200px;\n                      font-size: 14px;\n                      border-radius: 0px 100px 100px 0;\n                      overflow: hidden;\n                      transform-origin: left center;\n                      z-index: 1;\n                      -moz-transition:transform 0.3s ease;\n                      -webkit-transition:transform 0.3s ease;\n                      transition:transform 0.3s ease;\n                      pointer-events: none;\n                    }\n                    #searchJumperWrapper .sector.out {\n                      left: 150px;\n                      top: 0px;\n                      width: 150px;\n                      height: 300px;\n                      font-size: 14px;\n                      border-radius: 0px 150px 150px 0;\n                      overflow: hidden;\n                      transform-origin: left center;\n                      z-index: 0;\n                      ${p.prefConfig.hideDragHistory?"display: none;":""}\n                    }\n                    #searchJumperWrapper .sector-inner {\n                      text-align: center;\n                      display: block;\n                      width: 40px;\n                      padding: 5px 3px 0 57px;\n                      height: 195px;\n                      transform: translateX(-100px) rotate(60deg);\n                      transform-origin: right center;\n                      border-radius: 100px 0 0 100px;\n                    }\n                    #searchJumperWrapper .sector.out>.sector-inner {\n                      text-align: center;\n                      display: block;\n                      width: 90px;\n                      height: 295px;\n                      transform: translateX(-150px) rotate(36deg);\n                      transform-origin: right center;\n                      border-radius: 150px 0 0 150px;\n                    }\n                    #searchJumperWrapper .sector-inner span {\n                      transform-origin: center;\n                      padding: 20px 0;\n                      pointer-events: all;\n                      opacity: 0.8;\n                      word-break: break-word;\n                      height: 55px;\n                      font-size: 12px;\n                      font-weight: bold;\n                      font-family: Arial, sans-serif,微软雅黑,"Noto Sans SC";\n                      display: flex;\n                      flex-direction: column;\n                      align-items: center;\n                      justify-content: space-evenly;\n                    }\n                    #searchJumperWrapper .sector-inner span {\n                      width: 70px;\n                      margin-left: -15px;\n                    }\n                    #searchJumperWrapper .sector-inner span>p {\n                      max-width: 58px;\n                    }\n                    #searchJumperWrapper .sector.out>.sector-inner span {\n                      width: unset;\n                      margin-left: unset;\n                    }\n                    #searchJumperWrapper .over>.sector-inner span {\n                      opacity: 1;\n                    }\n                    #searchJumperWrapper .sector-inner span>img {\n                      width: 25px;\n                      height: 25px;\n                    }\n                    #searchJumperWrapper .sector-inner span:hover {\n                      opacity: 1;\n                    }\n                    #searchJumperWrapper .dragLogo {\n                      position: absolute;\n                      left: 150px;\n                      top: 150px;\n                      border-radius: 50%;\n                      box-shadow: #000000 0px 0px 10px;\n                      z-index: 10;\n                      font-size: 0;\n                      -moz-transition:transform 0.3s ease;\n                      -webkit-transition:transform 0.3s ease;\n                      transition:transform 0.3s ease;\n                    }\n                    .dragLogo>svg {\n                      width: 40px;\n                      height: 40px;\n                      pointer-events: none;\n                    }\n                `,t=oe(e);_e=[],Ze=[],(Ye=document.createElement("div")).id="searchJumperWrapper",Ye.innerHTML=h(`\n                <div class="panel"></div>\n                <div class="dragLogo">${Nt}</div>\n                `),Q||Ye.appendChild(t);const n=6,r=10;let s,a,o=Ye.querySelector(".panel"),l=360/n,c=360/r,d=-l/2,u=-c/2,m=Ye.querySelector(".dragLogo");m.addEventListener("dragover",e=>{e.preventDefault()},!0),m.addEventListener("dragenter",e=>{clearTimeout(a),s&&(s.style.transform=`rotate(${s.dataset.deg}deg) ${p.prefConfig.hideDragHistory?"scale(1.2)":""}`,s.classList.remove("over")),s=null,m.style.transform="scale(1.35)",e.preventDefault(),clearTimeout(et),et=setTimeout(()=>{i(),me.appendBar(),me.showAllSites()},1e3)},!0);let f=(e,t,n)=>{let i=document.createElement("div");i.className=e;let r=document.createElement("div");r.className="sector-inner";let l=document.createElement("span");r.appendChild(l),i.appendChild(r);let c=`rotate(${t}deg)`;return l.style.transform=n,i.style.transform=c+(p.prefConfig.hideDragHistory?"scale(1.2)":""),i.dataset.deg=t,o.appendChild(i),l.addEventListener("dragover",e=>{e.clientX<50?Ve.style.left="0px":e.clientX>document.documentElement.clientWidth-50&&(Ve.style.left=document.documentElement.clientWidth-(tt<<1)+"px"),e.clientY<50?Ve.style.top="0px":e.clientY>document.documentElement.clientHeight-50&&(Ve.style.top=document.documentElement.clientHeight-(nt<<1)+"px"),e.preventDefault()},!0),l.addEventListener("dragenter",()=>{clearTimeout(a),l.innerText&&(s&&(s.style.transform=`rotate(${s.dataset.deg}deg) ${p.prefConfig.hideDragHistory?"scale(1.2)":""}`,s.classList.remove("over")),m.style.transform="",i.style.transform=`scale(${p.prefConfig.hideDragHistory?"1.6":"1.25"}) ${c}`,i.classList.add("over"),s=i,clearTimeout(et))},!0),l};for(let e=0;e<n;e++){let t=f("sector",d+l*e,`translateX(-10px) translateY(-10px) rotate(${d-l*e}deg)`);_e.push(t)}for(let e=0;e<r;e++){let t=f("sector out",u+c*e,`translateX(12px) translateY(-15px) rotate(${u-c*e}deg)`);Ze.push(t)}Xe=()=>{i()},Ye.addEventListener("click",()=>{i()}),Ye.addEventListener("drop",e=>{e.target===m?(me.setFuncKeyCall(!1),me.showInPage()):s&&(i(),me.searchBySiteName(s.children[0].dataset.name,e),s.style.transform=`rotate(${s.dataset.deg}deg)`,s.classList.remove("over"),s=null),e.preventDefault()}),Qe=e=>{clearTimeout(a),Ye.contains(e.target)||(a=setTimeout(()=>{i()},300))},(Ve=document.createElement("div")).id="dragCon",Ve.appendChild(Ye)}me.recoveHistory();let r=me.autoGetFirstType(),s=r.querySelectorAll("a.search-jumper-btn:not(.notmatch)"),a=0,o=()=>{let e=null;for(let t=a;t<s.length;t++){let n=s[t];if("none"!==n.style.display){e=n,a=t+1;break}}return e};const l=(e,t)=>{e.parentNode.dataset.name=t.dataset.name;let n=document.createElement("p");if(n.innerText=t.dataset.name.substr(0,10).trim(),!/^\w+$/.test(n.innerText)){let e="",t=0;for(let i of n.innerText)if(e+=i,/^\w+$/.test(i)?t++:t+=2,t>10){e+="...";break}n.innerText=e}let i=document.createElement("img");i.style.display="none",e.appendChild(i),e.appendChild(n),i.onload=()=>{i.style.display=""};let r=t.querySelector("img");if(r){let e=r.src||r.dataset.src;e&&(i.src=e)}};_e.forEach(e=>{e.innerHTML=h();let t=o();t?(e.parentNode.parentNode.style.filter="",l(e,t)):e.parentNode.parentNode.style.filter="contrast(0.5)"});let c,d=0;r.classList.contains("search-jumper-needInPage")?c=me.txtHistorySiteBtns:r.classList.contains("search-jumper-targetImg")?c=me.imgHistorySiteBtns:r.classList.contains("search-jumper-targetAudio")?c=me.audioHistorySiteBtns:r.classList.contains("search-jumper-targetVideo")?c=me.videoHistorySiteBtns:(r.classList.contains("search-jumper-targetLink")||r.classList.contains("search-jumper-targetPage"))&&(c=me.linkHistorySiteBtns),c?(c=c.concat(me.historySiteBtns),c=c.filter((e,t,n)=>n.indexOf(e)===t)):c=me.historySiteBtns,Ze.forEach(e=>{let t=new DragEvent("dragleave");e.dispatchEvent(t),e.innerHTML=h(),e.parentNode.parentNode.style.opacity=.6;let n=(()=>{if(p.prefConfig.reuseDragHistory)return o();if(p.prefConfig.hideDragHistory)return!1;let e=null;for(let t=d;t<c.length;t++){let n=c[t];if("none"!==n.style.display){e=n,d=t+1;break}}return e})();if(!n)return;let i=n.querySelector("img");i&&i.dataset.src&&(i.src=i.dataset.src,delete i.dataset.src),e.parentNode.parentNode.style.opacity=1,l(e,n)}),Ve.style.left=e-tt+"px",Ve.style.top=t-nt+"px",Ye.style.opacity="",Ye.style.transform="",setTimeout(()=>{document.addEventListener("dragend",Xe,!0),me.addToShadow(Ve),setTimeout(()=>{Ye.style.opacity=1,Ye.style.transform="scale(1)"},10),setTimeout(()=>{"2147483647"!=getComputedStyle(Ye).zIndex?i():document.addEventListener("dragenter",Qe,!0)},100)},0)}(e.clientX,e.clientY)},2),n&&document.removeEventListener("click",n,!0),Ot=!0))}),p.prefConfig.quickAddRule&&document.addEventListener("click",e=>{((e.ctrlKey||e.metaKey)&&e.shiftKey||(e.ctrlKey||e.metaKey)&&e.altKey||e.altKey&&e.shiftKey)&&/^(INPUT|TEXTAREA)$/i.test(e.target.nodeName)&&(/^INPUT$/i.test(e.target.nodeName)&&e.target.type&&"text"!=e.target.type&&"search"!=e.target.type||K(e.target))},!0);let d,u=()=>{clearTimeout(d),d=setTimeout(()=>{me.refresh()},100)};document.addEventListener("fullscreenchange",()=>{document.fullscreenElement&&(me.bar.style.display="none")});let y=!1,v=e=>{if(y)return;y=!0,setTimeout(()=>{y=!1},300);let t=e.target;if(ge&&t)if(t.nodeName&&t.nodeName.toLowerCase&&"a"==t.nodeName.toLowerCase())me.updateCacheKeywords(),pe.setItem("clickLink",t.href);else{let e=t.parentNode;e&&e.nodeName&&e.nodeName.toLowerCase&&"a"==e.nodeName.toLowerCase()&&(me.updateCacheKeywords(),pe.setItem("clickLink",t.href))}};m(document).addEventListener("auxclick",v,!0),m(document).addEventListener("click",v,!0),window.addEventListener("sj_pushState",u),window.addEventListener("sj_replaceState",u),window.addEventListener("yt-navigate-finish",u),window.addEventListener("securitypolicyviolation",e=>{"form-action"===e.violatedDirective&&U()});let w=window.location.href,b=e=>me.removeMark(e),x=0;new MutationObserver(e=>{if(e.some(e=>"childList"===e.type||"attributes"===e.type)){const e=window.location.href;e!==w&&(w=e,u(),me.checkDiscussions())}if(me.lockWords){if(me.initHighlight&&x>100)return;for(let t of e){if("characterData"===t.type){let e=t.target.parentNode;if(!e)return;let n=t.target.previousElementSibling;if(n&&!n.dataset.inited&&"searchJumper"===n.className)return void(n.dataset.inited=!0);if(n=t.target.nextElementSibling,n&&!n.dataset.inited&&"searchJumper"===n.className)return void(n.dataset.inited=!0);me.checkCharacterData(e),me.initHighlight&&x++}if(t.removedNodes.length&&[].forEach.call(t.removedNodes,e=>{1===e.nodeType&&(e.classList&&e.classList.contains("searchJumper")?b(e):e.children.length&&[].forEach.call(e.querySelectorAll("mark.searchJumper,a.searchJumper,input.searchJumper,textarea.searchJumper"),e=>{b(e)}))}),t.addedNodes.length)for(let e=0;e<t.addedNodes.length;e++){let n,i=t.addedNodes[e];if(1===i.nodeType){if(/^searchJumper$/.test(i.className))continue;n=i}else{if(i.previousElementSibling&&/^searchJumper$/.test(i.previousElementSibling.className))continue;if(i.nextElementSibling&&/^searchJumper$/.test(i.nextElementSibling.className))continue;n=i.parentNode}n&&(setTimeout(()=>{var e;e=n,me.highlight("insert",e)},0),me.initHighlight&&x++)}}me.appendBar()}}).observe(m(document),{childList:!0,characterData:!0,subtree:!0})}(),function(){if(c){if(me.appendBar(),me.showAllSites(),setTimeout(()=>{me.con.style.zIndex=0},5),location.hash){let e=location.hash.slice(1);try{e=decodeURIComponent(e)}catch(e){}me.searchJumperInputKeyWords.value=e}else if(location.search){let e,t,n;location.search.slice(1).split("&").forEach(i=>{let r=i.split("="),s=r[0],a=r[1];try{a=decodeURIComponent(a)}catch(e){}switch(s){case"kw":e=a;break;case"engine":t=a;break;case"self":n=a}}),e&&(me.searchJumperInputKeyWords.value=e||""),t&&me.searchBySiteName(t,{},!!n)}m(document).style.cssText="\n                    zoom: 1;\n                    margin: 0;\n                    padding: 0;\n                    width: 100vw;\n                    height: 100vh;\n                    background-position: center 0;\n                    background-repeat: no-repeat;\n                    background-size: cover;\n                    -webkit-background-size: cover;\n                    -o-background-size: cover;\n                    overflow: hidden;\n                ",p.prefConfig.bgUrl&&(He=p.prefConfig.bgUrl).length?m(document).style.backgroundImage=`url("${He}")`:pe.getItem("allPageBg",e=>{e?(He=e.url,m(document).style.backgroundImage=`url("${e.base64||He}")`):e={url:""},ne({method:"GET",url:"https://global.bing.com/HPImageArchive.aspx?format=js&idx=0&pid=hp&video=1&n=1",onload:function(t){var n,i=null;try{if(i=JSON.parse(t.responseText),n=i.images[0].url,/^https?:\/\//.test(n)||(n="https://global.bing.com"+n),He=n,n==e.url)return;ne({method:"GET",url:n,responseType:"blob",onload:function(t){var i=t.response,r=new FileReader;r.readAsDataURL(i),r.onload=function(t){var i=t.target.result;e={url:n,base64:i},pe.setItem("allPageBg",e)}}}),e.base64||(m(document).style.backgroundImage=`url("${n}")`)}catch(e){console.log(e)}}})})}}()}(),n&&n(),Ct=document.title}}function Z(){document.head&&m(document)&&!i&&!ye&&(p.prefConfig.globalSearchNow&&(clearInterval(bt),clearInterval(xt),document.hidden?Ct=document.title:Ct&&(document.title=Ct)),kt||(kt=!0,setTimeout(()=>{!function(){if(document.hidden){if(!me)return;if(me.closeShowAll(),!p.prefConfig.globalSearchNow)return;bt=setInterval(async()=>{(Me||"")!=((Me=await pe.getItem("globalInPageWords"))||"")&&(me.refreshPageWords(),me.navMarks.innerHTML&&(clearInterval(bt),clearInterval(xt),Ct=document.title,xt=setInterval(()=>{document.title=document.title==Ct?"🚩":Ct},500)))},parseInt(500+500*Math.random()))}else _(async()=>{(ee||p.prefConfig.syncBuild)&&(p=await pe.getItem("searchData"),me&&p.lastModified&&Oe!=p.lastModified&&(me.refreshEngines(),document.dispatchEvent(new Event("dataChanged"))));let e=Me||"";pe.getItem("globalInPageWords",t=>{e!=(Me=t||"")&&me&&me.refreshPageWords()});let t=Ae||!1;pe.getItem("navEnable",e=>{t!=(Ae=void 0===e||e)&&me&&me.refreshNav()})})}(),kt=!1},500)))}var X,Q,ee,te,ne,ie,re,se,ae,oe,le,ce,pe,he,de,ue,me,fe,ge,ye,ve,we,be,xe,Ce,ke,je,Te,Se,Ie,Ee,Le,Pe,Ne,Me,Ae,Be,$e,We,Je,De,ze,Oe,He,Re,Fe,Ke,Ue,qe,Ge,Ye,Ve,_e,Ze,Xe,Qe,et,tt,nt,it,rt,st,at,ot,lt,ct,pt,ht,dt,ut,mt,ft,gt,yt,vt,wt,bt,xt,Ct,kt;let jt="Netscape"===navigator.appName?navigator.language:navigator.userLanguage,Tt={};const St="ontouchstart"in document.documentElement;if(X=(e,t)=>{console.log(`%c【SearchJumper v.${le.script.version}】 ${t||"debug"}`,"color: orange;font-size: large;font-weight: bold;",e)},Q=!1,ee=!1,"undefined"!=typeof GM_xmlhttpRequest)ne=GM_xmlhttpRequest,ce=!0;else if("undefined"!=typeof GM&&void 0!==GM.xmlHttpRequest)ne=GM.xmlHttpRequest,ce=!0;else{let e;ne=t=>{fetch(t.url,{method:t.method||"GET",body:t.data,headers:t.headers}).then(n=>(e=n,"blob"===t.responseType?n.blob():n.text())).then(n=>{let i=document.implementation.createHTMLDocument("");i.documentElement.innerHTML=h(n),t.onload&&t.onload({status:e.status,response:n,responseXML:i})}).catch(e=>t.onerror&&t.onerror(e))}}ce=ce?async(e,t)=>e?(te=e,new Promise((n,i)=>{let r=t&&/^post$/i.test(t.method),s={method:t&&t.method||"GET",url:e,headers:t&&t.headers||{referer:e,origin:e,"Content-Type":r?"application/x-www-form-urlencoded":"","X-Requested-With":r?"XMLHttpRequest":""},onload:function(t){if(te!=e)return;let i=t.response;(t.status>=400||!i)&&(i=""),n({text:()=>new Promise(e=>{e(i)}),json:()=>new Promise(e=>{try{e(JSON.parse(i))}catch(t){e(null)}}),finalUrl:t.finalUrl||e})},onerror:function(e){X(e),i(e)},ontimeout:function(e){X(e),i(e)}};t&&t.body&&(s.data=t.body),t&&"stream"===t.responseType&&(s.responseType="stream",delete s.onload,s.onloadstart=i=>{if(!i||!i.response||!i.response.getReader)return;let r,s=[];const a=i.response.getReader();let o=()=>{let e="";try{return r&&(e=r.trim(),/^data:/.test(e)?e="["+e.replace(/^data:\s+\[DONE\]\s*/m,"").trim().replace(/\n+/g,"\n").split("\n").map(e=>e.replace(/^data:/,"")).join(",")+"]":/^({.*} *\n)* *{.*}$/.test(e)?e=e.split("\n").pop():/^\[[\s\S]+[^\]]$/.test(e)&&(e+="]")),JSON.parse(e)}catch(e){return null}};a.read().then(function l({done:c,value:p}){if(te==e){if(!c){s="standalone"===t.streamMode?Array.from(p):s.concat(Array.from(p));try{r=new TextDecoder("utf-8").decode(new Uint8Array(s)),t.onstream({text:r,json:o,finalUrl:i.finalUrl||e})}catch(e){console.log(e)}return a.read().then(l)}n({text:r,json:o,finalUrl:i.finalUrl||e})}})}),ne(s)})):null:fetch,ie=i?()=>{}:"undefined"!=typeof GM_registerMenuCommand?GM_registerMenuCommand:"undefined"!=typeof GM&&void 0!==GM.registerMenuCommand?GM.registerMenuCommand:()=>{},ae="undefined"!=typeof GM_openInTab?GM_openInTab:"undefined"!=typeof GM&&void 0!==GM.openInTab?GM.openInTab:e=>{window.open(e)},re="undefined"!=typeof GM_notification?e=>GM_notification({text:e,onclick:()=>ae(l,{active:!0})}):"undefined"!=typeof GM&&void 0!==GM.notification?e=>GM.notification({text:e,onclick:()=>ae(l,{active:!0})}):()=>{},se="undefined"!=typeof GM_setClipboard?GM_setClipboard:"undefined"!=typeof GM&&void 0!==GM.setClipboard?GM.setClipboard:e=>{try{n.writeText(e).then(()=>{console.log("Text copied to clipboard")}).catch(e=>{document.execCommand("copy"),console.error("Failed to copy text: ",e)})}catch(e){document.execCommand("copy")}},oe=e=>{if(e=e.replace(/\n\s*/g,""),"undefined"!=typeof GM_addStyle)return GM_addStyle(e);{let t=document.createElement("style");return t.innerHTML=h(e),document.head.appendChild(t),t}},le="undefined"!=typeof GM_info?GM_info:"undefined"!=typeof GM&&void 0!==GM.info?GM.info:{script:{name:"SearchJumper",version:0}},t.searchJumperAddons||(t.searchJumperAddons=[]);const It=document.referrer;let Et=location.href.slice(0,500);pe={supportGM:"function"==typeof GM_getValue&&void 0!==GM_getValue("a","b"),supportGMPromise:"undefined"!=typeof GM&&"function"==typeof GM.getValue&&void 0!==GM.getValue("a","b"),supportCrossSave:function(){return this.supportGM||this.supportGMPromise},listItemCache:[],mxAppStorage:function(){try{return window.external.mxGetRuntime().storage}catch(e){}}(),operaUJSStorage:function(){try{return window.opera.scriptStorage}catch(e){}}(),setItem:function(e,t){this.supportGMPromise?(GM.setValue(e,t),""===t&&"undefined"!=typeof GM&&void 0!==GM.deleteValue&&GM.deleteValue(e)):this.supportGM?(GM_setValue(e,t),""===t&&"undefined"!=typeof GM_deleteValue&&GM_deleteValue(e)):this.operaUJSStorage?this.operaUJSStorage.setItem(e,t):this.mxAppStorage?this.mxAppStorage.setConfig(e,t):window.localStorage&&window.localStorage.setItem(e,t)},getItem:async function(e,t){var n;return this.supportGMPromise?n=await GM.getValue(e):this.supportGM?n=GM_getValue(e):this.operaUJSStorage?n=this.operaUJSStorage.getItem(e):this.mxAppStorage?n=this.mxAppStorage.getConfig(e):window.localStorage&&(n=window.localStorage.getItem(e)),t&&t(n),n},getListItem:async function(e,t){var n,i=this.listItemCache[e];if(void 0===i&&(i=await this.getItem(e),this.listItemCache[e]=i||null),!i)return null;for(n=0;n<i.length;n++){let e=i[n];if(e.k==t)return e.v}return null},setListItem:async function(e,t,n){var i=this.listItemCache[e];void 0===i&&(i=await this.getItem(e)),i||(i=[]),i=i.filter(e=>e&&e.k!=t),n&&(i.unshift({k:t,v:n}),i.length>50&&i.pop()),this.setItem(e,i),this.listItemCache[e]=i}};class Lt{constructor(e,t,n){this.webDAVUrl=e,this.username=t,this.password=n}init(){this.inited||(this.inited=!0,this.auth=btoa(`${this.username}:${this.password}`))}request(e,t,n,i,r,s){{this.init();let a=this.webDAVUrl+n,o={referer:a,origin:a,"Content-Type":"text/xml; charset=UTF-8",Authorization:`Basic ${this.auth}`};for(let e in s)o[e]=s[e];ne({method:e,url:a,data:t,headers:o,onload:function(e){let t=e.response;if((e.status>=400||!t)&&(t=""),"xml"==i){var n=e.responseXML;n&&(t=n.firstChild.nextSibling?n.firstChild.nextSibling:n.firstChild)}r&&r(t)},onerror:function(e){X(e),r&&r(e)},ontimeout:function(e){X(e),r&&r(e)}})}}GET(e,t){return this.request("GET",null,e,"text",t,{})}PROPFIND(e,t){return this.request("PROPFIND",null,e,"xml",t,{Depth:"1"})}MKCOL(e,t){return this.request("MKCOL",null,e,"text",t,{})}DELETE(e,t){return this.request("DELETE",null,e,"text",t,{})}PUT(e,t,n){return this.request("PUT",t,e,"text",n,{})}async read(e){let t=this;return new Promise(n=>{t.GET(e,n)})}async write(e,t){let n=this;return new Promise(i=>{n.PUT(e,t,i)})}async rm(e){let t=this;return new Promise(n=>{t.DELETE(e,n)})}}const Pt=Object.getPrototypeOf(async function(){}).constructor;"function"!=typeof String.prototype.replaceAll&&(String.prototype.replaceAll=function(e,t){return this.split(e).join(t)}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e}),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e,t){return this.slice(t||0,e.length)===e}),fe=[],ge=!1,ye=!1,Le=[],Pe=[],ze=!1,Oe=0;const Nt=`<svg class="search-jumper-logoBtnSvg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><title>${le.script.name}</title><path d="M.736 510.464c0-281.942 228.335-510.5 510-510.5 135.26 0 264.981 53.784 360.625 149.522 95.643 95.737 149.375 225.585 149.375 360.978 0 281.94-228.335 510.5-510 510.5-281.665 0-510-228.56-510-510.5zm510-510.5v1021m-510-510.5h1020" fill="#fefefe"/><path d="M237.44 346.624a48.64 48.64 0 1 0 97.28 0 48.64 48.64 0 1 0-97.28 0zM699.904 346.624a48.64 48.64 0 1 0 97.28 0 48.64 48.64 0 1 0-97.28 0zM423.296 759.296c-64 0-115.712-52.224-115.712-115.712 0-26.624 9.216-52.224 25.6-72.704 9.216-11.776 26.112-13.312 37.888-4.096s13.312 26.112 4.096 37.888c-9.216 11.264-13.824 24.576-13.824 38.912 0 34.304 27.648 61.952 61.952 61.952s61.952-27.648 61.952-61.952c0-4.096-.512-8.192-1.024-11.776-2.56-14.848 6.656-28.672 21.504-31.744 14.848-2.56 28.672 6.656 31.744 21.504 1.536 7.168 2.048 14.336 2.048 22.016-.512 63.488-52.224 115.712-116.224 115.712z" fill="#333"/><path d="M602.08 760.296c-64 0-115.712-52.224-115.712-115.712 0-14.848 12.288-27.136 27.136-27.136s27.136 12.288 27.136 27.136c0 34.304 27.648 61.952 61.952 61.952s61.952-27.648 61.952-61.952c0-15.36-5.632-30.208-15.872-41.472-9.728-11.264-9.216-28.16 2.048-37.888 11.264-9.728 28.16-9.216 37.888 2.048 19.456 21.504 29.696 48.64 29.696 77.824 0 62.976-52.224 115.2-116.224 115.2z" fill="#333"/><ellipse ry="58" rx="125" cy="506.284" cx="201.183" fill="#faf"/><ellipse ry="58" rx="125" cy="506.284" cx="823.183" fill="#faf"/></svg>`,Mt="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0ic2VhcmNoLWp1bXBlci1sb2dvQnRuU3ZnIiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik0uNzM2IDUxMC40NjRjMC0yODEuOTQyIDIyOC4zMzUtNTEwLjUgNTEwLTUxMC41IDEzNS4yNiAwIDI2NC45ODEgNTMuNzg0IDM2MC42MjUgMTQ5LjUyMiA5NS42NDMgOTUuNzM3IDE0OS4zNzUgMjI1LjU4NSAxNDkuMzc1IDM2MC45NzggMCAyODEuOTQtMjI4LjMzNSA1MTAuNS01MTAgNTEwLjUtMjgxLjY2NSAwLTUxMC0yMjguNTYtNTEwLTUxMC41em01MTAtNTEwLjV2MTAyMW0tNTEwLTUxMC41aDEwMjAiIGZpbGw9IiNmZWZlZmUiLz48cGF0aCBkPSJNMjM3LjQ0IDM0Ni42MjRhNDguNjQgNDguNjQgMCAxIDAgOTcuMjggMCA0OC42NCA0OC42NCAwIDEgMC05Ny4yOCAwek02OTkuOTA0IDM0Ni42MjRhNDguNjQgNDguNjQgMCAxIDAgOTcuMjggMCA0OC42NCA0OC42NCAwIDEgMC05Ny4yOCAwek00MjMuMjk2IDc1OS4yOTZjLTY0IDAtMTE1LjcxMi01Mi4yMjQtMTE1LjcxMi0xMTUuNzEyIDAtMjYuNjI0IDkuMjE2LTUyLjIyNCAyNS42LTcyLjcwNCA5LjIxNi0xMS43NzYgMjYuMTEyLTEzLjMxMiAzNy44ODgtNC4wOTZzMTMuMzEyIDI2LjExMiA0LjA5NiAzNy44ODhjLTkuMjE2IDExLjI2NC0xMy44MjQgMjQuNTc2LTEzLjgyNCAzOC45MTIgMCAzNC4zMDQgMjcuNjQ4IDYxLjk1MiA2MS45NTIgNjEuOTUyczYxLjk1Mi0yNy42NDggNjEuOTUyLTYxLjk1MmMwLTQuMDk2LS41MTItOC4xOTItMS4wMjQtMTEuNzc2LTIuNTYtMTQuODQ4IDYuNjU2LTI4LjY3MiAyMS41MDQtMzEuNzQ0IDE0Ljg0OC0yLjU2IDI4LjY3MiA2LjY1NiAzMS43NDQgMjEuNTA0IDEuNTM2IDcuMTY4IDIuMDQ4IDE0LjMzNiAyLjA0OCAyMi4wMTYtLjUxMiA2My40ODgtNTIuMjI0IDExNS43MTItMTE2LjIyNCAxMTUuNzEyeiIgZmlsbD0iIzMzMyIvPjxwYXRoIGQ9Ik02MDIuMDggNzYwLjI5NmMtNjQgMC0xMTUuNzEyLTUyLjIyNC0xMTUuNzEyLTExNS43MTIgMC0xNC44NDggMTIuMjg4LTI3LjEzNiAyNy4xMzYtMjcuMTM2czI3LjEzNiAxMi4yODggMjcuMTM2IDI3LjEzNmMwIDM0LjMwNCAyNy42NDggNjEuOTUyIDYxLjk1MiA2MS45NTJzNjEuOTUyLTI3LjY0OCA2MS45NTItNjEuOTUyYzAtMTUuMzYtNS42MzItMzAuMjA4LTE1Ljg3Mi00MS40NzItOS43MjgtMTEuMjY0LTkuMjE2LTI4LjE2IDIuMDQ4LTM3Ljg4OCAxMS4yNjQtOS43MjggMjguMTYtOS4yMTYgMzcuODg4IDIuMDQ4IDE5LjQ1NiAyMS41MDQgMjkuNjk2IDQ4LjY0IDI5LjY5NiA3Ny44MjQgMCA2Mi45NzYtNTIuMjI0IDExNS4yLTExNi4yMjQgMTE1LjJ6IiBmaWxsPSIjMzMzIi8+PGVsbGlwc2Ugcnk9IjU4IiByeD0iMTI1IiBjeT0iNTA2LjI4NCIgY3g9IjIwMS4xODMiIGZpbGw9IiNmYWYiLz48ZWxsaXBzZSByeT0iNTgiIHJ4PSIxMjUiIGN5PSI1MDYuMjg0IiBjeD0iODIzLjE4MyIgZmlsbD0iI2ZhZiIvPjwvc3ZnPg==",At="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNNDI5LjAxMzMzMyA2NDBBMzIgMzIgMCAwIDEgMzg0IDU5NC45ODY2NjdsMzcuNzYtMzcuNzYtMjIuODI2NjY3LTIyLjYxMzMzNC0xMzUuNjggMTM1LjY4IDkwLjQ1MzMzNCA5MC40NTMzMzQgMTM1LjY4LTEzNS42OC0yMi42MTMzMzQtMjIuNjEzMzM0ek01MzQuNjEzMzMzIDM5OC45MzMzMzNsMjIuNjEzMzM0IDIyLjYxMzMzNEw1OTQuOTg2NjY3IDM4NEEzMiAzMiAwIDAgMSA2NDAgNDI5LjAxMzMzM2wtMzcuNzYgMzcuNzYgMjIuNjEzMzMzIDIyLjYxMzMzNCAxMzUuNjgtMTM1LjY4LTkwLjQ1MzMzMy05MC40NTMzMzR6IiBmaWxsPSIjNUU1QzVDIj48L3BhdGg+PHBhdGggZD0iTTUxMiAyMS4zMzMzMzNhNDkwLjY2NjY2NyA0OTAuNjY2NjY3IDAgMSAwIDQ5MC42NjY2NjcgNDkwLjY2NjY2N0E0OTAuNjY2NjY3IDQ5MC42NjY2NjcgMCAwIDAgNTEyIDIxLjMzMzMzM3ogbTMxNi44IDM1NC45ODY2NjdsLTE4MS4xMiAxODEuMTJhMzIgMzIgMCAwIDEtNDUuMjI2NjY3IDBMNTU3LjIyNjY2NyA1MTIgNTEyIDU1Ny4yMjY2NjdsNDUuMjI2NjY3IDQ1LjIyNjY2NmEzMiAzMiAwIDAgMSAwIDQ1LjIyNjY2N2wtMTgxLjEyIDE4MS4xMmEzMiAzMiAwIDAgMS00NS4yMjY2NjcgMGwtMTM1LjY4LTEzNS42OGEzMiAzMiAwIDAgMSAwLTQ1LjIyNjY2N2wxODEuMTItMTgxLjEyYTMyIDMyIDAgMCAxIDQ1LjIyNjY2NyAwTDQ2Ni43NzMzMzMgNTEyIDUxMiA0NjYuNzczMzMzbC00NS4yMjY2NjctNDUuMjI2NjY2YTMyIDMyIDAgMCAxIDAtNDUuMjI2NjY3bDE4MS4xMi0xODEuMTJhMzIgMzIgMCAwIDEgNDUuMjI2NjY3IDBsMTM1LjY4IDEzNS42OGEzMiAzMiAwIDAgMSAwIDQ1LjIyNjY2N3oiIGZpbGw9IiM1RTVDNUMiPjwvcGF0aD4KPC9zdmc+",Bt='<path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m165.4 618.2l-66-0.3L512 563.4l-99.3 118.4-66.1 0.3c-4.4 0-8-3.5-8-8 0-1.9 0.7-3.7 1.9-5.2l130.1-155L340.5 359c-1.2-1.5-1.9-3.3-1.9-5.2 0-4.4 3.6-8 8-8l66.1 0.3L512 464.6l99.3-118.4 66-0.3c4.4 0 8 3.5 8 8 0 1.9-0.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"></path>',$t="%s[lurest]?\\b",Wt=new RegExp($t);qe=!1;class Jt{constructor(){let t=this;this.scale=p.prefConfig.customSize/100,this.tilesZoom=p.prefConfig.tilesZoom/100,this.tipsZoom=p.prefConfig.tipsZoom/100,Ke=`\n                 #search-jumper {\n                     font-size: 16px;\n                 }\n                 #search-jumper-root {\n                     font-size: initial;\n                 }\n                 #search-jumper.search-jumper-showall {\n                     overflow-y: hidden;\n                     pointer-events: all;\n                     overscroll-behavior: contain;\n                     -ms-scroll-chaining: contain;\n                     flex-direction: unset;\n                     max-width: unset;\n                     max-height: unset;\n                     text-align: center;\n                     top: 0;\n                     bottom: unset;\n                     height: 100%;\n                 }\n                 #search-jumper.search-jumper-showall>.search-jumper-searchBar {\n                     display: none;\n                 }\n                 #search-jumper>.search-jumper-searchBar.grabbing>.search-jumper-type {\n                     display: none!important;\n                 }\n                 #search-jumper.search-jumper-showall #filterSites {\n                     background-color: #f5f5f5e0;\n                     border: none;\n                     height: 40px;\n                     margin-bottom: 0;\n                     padding: 5px;\n                     margin: 0 10px;\n                     box-shadow: #ddd 0px 0px 3px;\n                     outline: none;\n                     box-sizing: border-box;\n                     cursor: default;\n                     user-select: none;\n                     -webkit-user-select: none;\n                     -moz-user-select: none;\n                     -khtml-user-select: none;\n                     -ms-user-select: none;\n                     position: fixed;\n                     width: 80%;\n                     left: calc(10% - 10px);\n                     top: 1%;\n                     border-radius: 20px;\n                     pointer-events: all;\n                 }\n                 #search-jumper.search-jumper-showall #filterSites>input,\n                 #search-jumper.search-jumper-showall #filterSites>textarea {\n                     background-color: white;\n                     color: black;\n                     border: none;\n                     outline: none;\n                     box-sizing: border-box;\n                     font-size: 20px;\n                     cursor: text;\n                 }\n                 #search-jumper.search-jumper-showall #filterSites>span {\n                     display: none;\n                 }\n                 #search-jumper.search-jumper-showall #search-jumper-alllist .sitelist {\n                     visibility: visible!important;\n                     opacity: 0.7;\n                     pointer-events: all;\n                     text-align: left;\n                     position: static;\n                     display: block!important;\n                     height: fit-content;\n                     max-height: calc(100vh - 110px);\n                     overscroll-behavior: contain;\n                     -ms-scroll-chaining: contain;\n                 }\n                 #search-jumper.search-jumper-showall #search-jumper-alllist .sitelist:hover {\n                     opacity: 1;\n                 }\n                 #search-jumper.search-jumper-showall #search-jumper-alllist .sitelist>.sitelistCon {\n                     opacity: 1;\n                 }\n                 #search-jumper.search-jumper-showall #search-jumper-alllist .sitelist>.sitelistCon>p {\n                     pointer-events: all;\n                     cursor: pointer;\n                     margin: 0 auto;\n                 }\n                 #search-jumper.search-jumper-showall.searching #search-jumper-alllist .sitelist>.sitelistCon a {\n                     display: flex!important;\n                 }\n                 #search-jumper.search-jumper-showall #search-jumper-alllist .sitelist:hover {\n                     z-index: 1;\n                 }\n                 #search-jumper.search-jumper-showall.search-jumper-searchBarCon {\n                     -ms-overflow-style: unset;\n                     scrollbar-width: unset;\n                     overflow: hidden;\n                 }\n                 #search-jumper-alllist {\n                     display: none;\n                     top: 101px;\n                     position: absolute;\n                     width: 100%;\n                     overflow-x: auto;\n                     overflow-y: hidden;\n                     height: calc(100% - 101px);\n                     overscroll-behavior: contain;\n                     -ms-scroll-chaining: contain;\n                 }\n                 #search-jumper-alllist>.search-jumper-btn {\n                     position: fixed;\n                     top: 1%;\n                     right: 10%;\n                     filter: drop-shadow(1px 1px 3px #00000060);\n                     cursor: pointer;\n                     pointer-events: all;\n                     z-index: 1;\n                     width: 32px;\n                     height: 32px;\n                 }\n                 #search-jumper-alllist>.search-jumper-btn>svg {\n                     cursor: pointer;\n                     width: 32px;\n                     height: 32px;\n                 }\n                 .search-jumper-showallBg {\n                     display: none;\n                     position: fixed;\n                     left: 0;\n                     top: 0;\n                     width: 100%;\n                     height: 100%;\n                     z-index: -1;\n                     transform: translateZ(0);\n                     ${p.prefConfig.noAni?"background-color: rgba(0, 0, 0, 0.1);":"background-color: rgba(0, 0, 0, 0.1);transition:background-color .6s ease;"}\n                 }\n                 #search-jumper.search-jumper-showall>#search-jumper-alllist:hover~.search-jumper-showallBg {\n                     background-color: rgba(0, 0, 0, 0.8);\n                 }\n                 #search-jumper.search-jumper-showall>.search-jumper-showallBg {\n                     display: block;\n                 }\n                 #search-jumper>.groupTab {\n                     position: fixed;\n                     background: #ffffffee !important;\n                     left: 0;\n                     top: 0;\n                     overflow: hidden;\n                     height: 100%;\n                     overflow: auto;\n                     scrollbar-width: none;\n                     padding: 20px 0;\n                     box-sizing: border-box;\n                     display: none;\n                     z-index: 1;\n                 }\n                 #search-jumper.search-jumper-showall>#search-jumper-alllist.new-mode+.groupTab {\n                     display: block;\n                 }\n                 #search-jumper.search-jumper-showall>.groupTab::-webkit-scrollbar {\n                     width: 0 !important;\n                     height: 0 !important;\n                 }\n                 #search-jumper.search-jumper-showall>.groupTab>span {\n                     display: block;\n                     width: ${42*this.scale}px;\n                     transition: all 0.25s ease;\n                     cursor: pointer;\n                 }\n                 #search-jumper.search-jumper-showall>.groupTab>span>span.search-jumper-word {\n                     opacity: 0.8;\n                 }\n                 #search-jumper.search-jumper-showall>.groupTab:hover>span {\n                     width: ${42*this.scale+150}px;\n                 }\n                 #search-jumper.search-jumper-showall>.groupTab>span:hover{\n                     background: #f5f7fa !important;\n                 }\n                 #search-jumper.search-jumper-showall>.groupTab:hover>span::after {\n                     content: attr(data-type);\n                     color: #6b6e74;\n                     position: absolute;\n                     margin-top: -${21*this.scale+10}px;\n                     left: ${42*this.scale+5}px;\n                     white-space: nowrap;\n                     font-weight: bold;\n                 }\n                 .search-jumper-historylistcon {\n                     display: flex;\n                     position: fixed;\n                     width: 100%;\n                     max-width: 100%;\n                     overflow: auto;\n                     justify-content: center;\n                     left: 0;\n                     top: 60px;\n                     background: #ffffffee;\n                     border-bottom: 1px solid #ddd;\n                     pointer-events: all;\n                     min-height: 40px;\n                     -ms-overflow-style: unset;\n                     scrollbar-width: unset;\n                 }\n                 .search-jumper-historylistcon::-webkit-scrollbar {\n                     width: 0 !important;\n                     height: 0 !important;\n                 }\n                 .search-jumper-historylist {\n                     display: flex;\n                     max-width: 100%;\n                 }\n                 #search-jumper.search-jumper-showall #search-jumper-alllist {\n                     display: block;\n                 }\n                 #search-jumper-alllist>.sitelistBox {\n                     display: flex;\n                     min-width: 100%;\n                     justify-content: center;\n                     width: fit-content;\n                     min-height: 100%;\n                     position: initial;\n                     transition: all 0.3s ease;\n                 }\n                 #search-jumper-alllist>.timeInAll,\n                 #search-jumper-alllist>.dayInAll {\n                     position: fixed;\n                     bottom: 0;\n                     line-height: 1.5;\n                     color: white;\n                     opacity: 0.45;\n                     font-weight: bold;\n                     font-family: Arial,sans-serif,微软雅黑,"Noto Sans SC";\n                     overflow-wrap: normal;\n                     white-space: nowrap;\n                     margin: 20px;\n                     pointer-events: none;\n                     text-shadow: 0 0 5px black;\n                     background-image: initial;\n                 }\n                 #search-jumper-alllist>.dayInAll {\n                     left: 50px;\n                     font-size: ${0==jt.indexOf("zh")?"1.5":"2"}vw;\n                 }\n                 #search-jumper-alllist>.timeInAll {\n                     right: 50px;\n                     font-size: 2vw;\n                 }\n                 #search-jumper-alllist>.modeSwitch {\n                     position: fixed;\n                     top: 5px;\n                     right: 5px;\n                     width: 45px;\n                     height: 45px;\n                     border-radius: 50%;\n                     box-shadow: 0px 0px 5px 0px #7a7a7a;\n                     cursor: pointer;\n                     transition: transform 0.25s ease;\n                 }\n                 #search-jumper-alllist>.modeSwitch>* {\n                     pointer-events: none;\n                 }\n                 #search-jumper-alllist>.modeSwitch:hover {\n                     transform: scale(1.1);\n                 }\n                 #search-jumper-alllist.new-mode {\n                     overflow-x: hidden;\n                     overflow-y: auto;\n                     scrollbar-width: none;\n                 }\n                 #search-jumper-alllist.new-mode>.sitelistBox {\n                     flex-wrap: wrap;\n                     flex-direction: column;\n                     align-items: center;\n                     justify-content: flex-start;\n                 }\n                 #search-jumper.search-jumper-showall #search-jumper-alllist.new-mode .sitelist {\n                     width: 78%;\n                     max-height: unset;\n                     height: auto !important;\n                 }\n                 #search-jumper.search-jumper-showall #search-jumper-alllist.new-mode .sitelist>.sitelistCon {\n                     display: flex;\n                     flex-wrap: wrap;\n                     padding: 0;\n                 }\n                 #search-jumper.search-jumper-showall #search-jumper-alllist.new-mode .sitelist>.sitelistCon>p {\n                     text-align: left;\n                     font-size: large;\n                     padding: 10px 30px;\n                     display: table-caption;\n                     width: 100%;\n                 }\n                 #search-jumper #search-jumper-alllist.new-mode .sitelist a {\n                     width: 240px;\n                     height: 100px;\n                     display: block!important;\n                     padding: 10px 8%;\n                     box-sizing: border-box;\n                 }\n                 #search-jumper.search-jumper-showall.searching #search-jumper-alllist.new-mode .sitelist>.sitelistCon a {\n                     display: block!important;\n                 }\n                 #search-jumper #search-jumper-alllist.new-mode .sitelist>.sitelistCon>div {\n                     padding: 0 10px;\n                     border-radius: 5px;\n                     transition: transform 0.25s ease, box-shadow 0.25s ease;\n                     box-shadow: 0 0 #0000, 0 0 #0000, 0 1px 3px #9e9e9e1a, 0 1px 2px -1px #9e9e9e1a;\n                 }\n                 #search-jumper #search-jumper-alllist.new-mode .sitelist>.sitelistCon>div:hover {\n                     transform: translateY(-6px);\n                     -webkit-transform: translateY(-6px);\n                     -moz-transform: translateY(-6px);\n                     box-shadow: 0 0 #0000, 0 0 #0000, 0 1px 3px #0000001a, 0 1px 2px -1px #0000001a;\n                 }\n                 #search-jumper #search-jumper-alllist.new-mode .sitelist>.sitelistCon>div:before {\n                     content: attr(title);\n                     margin-left: 41px;\n                     color: #abb0bd;\n                     font-size: 12px;\n                     height: 3em;\n                     line-height: 1.5em;\n                     overflow: hidden;\n                     display: -webkit-box;\n                     -webkit-line-clamp: 2;\n                     -webkit-box-orient: vertical;\n                     margin-left: 62px;\n                     margin-top: 35px;\n                     width: 185px;\n                     position: absolute;\n                     pointer-events: none;\n                 }\n                 #search-jumper #search-jumper-alllist.new-mode .sitelist a>img {\n                     width: 48px;\n                     height: 48px;\n                     float: left;\n                     margin-left: -20px;\n                 }\n                 #search-jumper #search-jumper-alllist.new-mode .sitelist a>p {\n                     -webkit-line-clamp: 2;\n                     -webkit-box-orient: vertical;\n                     display: block;\n                     font-size: 16px;\n                     height: 21px;\n                     line-height: 21px;\n                     margin-bottom: 8px;\n                     margin-top: 0px;\n                     margin-left: 40px;\n                     overflow: hidden;\n                     text-overflow: ellipsis;\n                     white-space: nowrap;\n                 }\n                 #search-jumper .sitelist a+p {\n                     display: none;\n                 }\n                 #search-jumper #search-jumper-alllist.new-mode .sitelist a+p {\n                     position: absolute;\n                     margin-top: -28px;\n                     color: white;\n                     width: 250px;\n                     max-width: calc(100% - 20px);\n                     display: flex;\n                     justify-content: space-evenly;\n                     overflow: hidden;\n                     opacity: 0;\n                     transition: .3s;\n                     border-top: 1px solid rgba(136,136,136,.2);\n                     padding-top: 3px;\n                 }\n                 #search-jumper #search-jumper-alllist.new-mode .sitelist a+p>span {\n                     flex-shrink: 0;\n                     font-size: 14px;\n                     padding: 2px 6px;\n                     background: rgb(160 160 160 / 10%);\n                     color: #888;\n                     border-radius: 10px;\n                     transition: .3s;\n                     cursor: pointer;\n                 }\n                 #search-jumper #search-jumper-alllist.new-mode .sitelist a+p>span:hover {\n                     color: white;\n                     background: rgb(160 160 160 / 30%);\n                 }\n                 #search-jumper #search-jumper-alllist.new-mode .sitelistCon>div:hover>p {\n                     opacity: 1;\n                 }\n                 #search-jumper #search-jumper-alllist.showbg>.inputGroup,\n                 #search-jumper #search-jumper-alllist.showbg>.search-jumper-btn,\n                 #search-jumper #search-jumper-alllist.showbg>.search-jumper-historylistcon,\n                 #search-jumper #search-jumper-alllist.showbg+.groupTab,\n                 #search-jumper #search-jumper-alllist.showbg>.sitelistBox {\n                     transition: .3s;\n                     opacity: 0;\n                 }\n                 #search-jumper.search-jumper-showall>#search-jumper-alllist.showbg:hover~.search-jumper-showallBg {\n                     background: unset;\n                 }\n                 .search-jumper-searchBarCon {\n                     all: unset;\n                     position: fixed;\n                     top: 0;\n                     left: 0;\n                     width: 100%;\n                     height: 100%;\n                     z-index: 2147483646;\n                     pointer-events: none;\n                     text-align: center;\n                     overflow: scroll;\n                     display: block;\n                     -ms-overflow-style: none;\n                     scrollbar-width: none;\n                     box-sizing: border-box;\n                     user-select: none;\n                 }\n                 .search-jumper-searchBar {\n                     z-index: 2147483646;\n                     overflow-wrap: break-word;\n                     background: #505050cc;\n                     border-radius: ${21*this.scale}px!important;\n                     border: 1px solid #b3b3b3;\n                     display: inline-flex;\n                     pointer-events: all;\n                     margin-top: -${25*this.scale}px;\n                     vertical-align: top;\n                     ${p.prefConfig.noAni?"":"opacity: 0.8;"}\n                     ${p.prefConfig.noAni?"":"transition:margin-top 1s ease, margin-left 1s, right 1s, opacity 1s, transform 1s;"}\n                     user-select: none;\n                     text-align: center;\n                     position: relative;\n                     box-sizing: border-box;\n                 }\n                 .hideAll>.search-jumper-searchBar {\n                     margin-top: -${40*this.scale}px;\n                 }\n                 .search-jumper-searchBarCon:not(.search-jumper-showall)::-webkit-scrollbar {\n                     width: 0 !important;\n                     height: 0 !important;\n                 }\n                 .search-jumper-searchBarCon.search-jumper-scroll {\n                     overscroll-behavior: contain;\n                     -ms-scroll-chaining: contain;\n                 }\n                 .search-jumper-searchBarCon.search-jumper-scroll>.search-jumper-searchBar {\n                     pointer-events: all;\n                 }\n                 .search-jumper-scroll.search-jumper-bottom {\n                     overflow-y: hidden;\n                 }\n                 .search-jumper-scroll.search-jumper-right>.search-jumper-searchBar {\n                     position: absolute !important;\n                     top: 0;\n                 }\n                 .search-jumper-scroll.search-jumper-bottom>.search-jumper-searchBar {\n                     margin-top: 0px;\n                 }\n                 .search-jumper-scroll.search-jumper-bottom>.search-jumper-searchBar:hover,\n                 .search-jumper-scroll.search-jumper-bottom>.search-jumper-searchBar.initShow,\n                 .resizePage.search-jumper-scroll.search-jumper-bottom>.search-jumper-searchBar,\n                 .search-jumper-scroll.search-jumper-bottom.funcKeyCall>.search-jumper-searchBar,\n                 #search-jumper.in-input.search-jumper-scroll.search-jumper-bottom>.search-jumper-searchBar {\n                     margin-top: 0px;\n                 }\n                 .search-jumper-searchBar:hover {\n                     margin-top: 0;\n                     opacity: 1;\n                     ${p.prefConfig.noAni?"":"transition:margin-top 0.1s ease, margin-left 0.1s, right 0.1s, opacity 0.1s, transform 0.1s;"}\n                 }\n                 .search-jumper-searchBar.initShow,\n                 .resizePage>.search-jumper-searchBar {\n                     margin-top: 0;\n                     ${p.prefConfig.noAni?"":"transition:margin-top 0.25s ease, margin-left 0.25s, right 0.25s, opacity 0.25s, transform 0.25s;"}\n                 }\n                 .funcKeyCall>.search-jumper-searchBar.initShow {\n                     ${p.prefConfig.noAni?"":"transition:opacity 0.15s ease-out, transform 0.25s ease;"}\n                 }\n                 #search-jumper.funcKeyCall {\n                     overflow: visible;\n                     position: absolute;\n                     max-width: 100%;\n                     width: 100%;\n                     top: 0;\n                 }\n                 .funcKeyCall>.search-jumper-searchBar {\n                     position: absolute!important;\n                     background: none;\n                     border: none;\n                     max-width: unset!important;\n                     margin: unset;\n                     ${p.prefConfig.minPopup&&!p.prefConfig.noAni?"transition: transform 0.25s ease;":""}\n                     ${p.prefConfig.minPopup?"transform: scale(0.7);":""}\n                 }\n                 .funcKeyCall>.search-jumper-searchBar:hover {\n                     ${p.prefConfig.minPopup?"transform: scale(1);":""}\n                 }\n                 .in-input>.search-jumper-searchBar,\n                 .funcKeyCall>.search-jumper-searchBar {\n                     opacity: 1;\n                     display: inline-flex!important;\n                 }\n                 .in-input.in-find {\n                     pointer-events: none;\n                 }\n                 .in-input.in-find>.searchJumperNavBar,\n                 .in-input.in-find>.search-jumper-input {\n                     pointer-events: all;\n                 }\n                 .in-input.in-find>.search-jumper-searchBar, .in-input>.rectSelecting.search-jumper-searchBar {\n                     opacity: 0!important;\n                     pointer-events: none;\n                     transition: none;\n                 }\n                 .in-input.in-find>.search-jumper-searchBar:hover {\n                     opacity: 1!important;\n                 }\n                 .in-input.in-find>.search-jumper-input {\n                     opacity: 0.6;\n                     transition:opacity 0.25s ease;\n                 }\n                 .in-input.in-find>.search-jumper-input:hover,\n                 .in-input.in-find>.search-jumper-input.active {\n                     opacity: 1;\n                 }\n                 .funcKeyCall>.search-jumper-searchBar {\n                     flex-direction: column;\n                 }\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type {\n                     height: ${p.prefConfig.minPopup?24*this.tilesZoom+"px":"auto"}!important;\n                     max-width: ${p.prefConfig.minPopup?24*this.tilesZoom:40*(p.prefConfig.numPerLine||7)*this.tilesZoom}px!important;\n                     width: auto!important;\n                     width: max-content!important;\n                     max-height: ${108*this.tilesZoom+10}px;\n                     flex-wrap: wrap!important;\n                     flex-direction: row;\n                     padding: 5px;\n                     box-shadow: #000000 0px 0px 10px;\n                     overflow: auto;\n                     scrollbar-width: none;\n                     transition: none;\n                     background: #d0d0d0d0;\n                     box-sizing: content-box;\n                 }\n                 ${p.prefConfig.hideTileType?`\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type:before {\n                     content: attr(data-type);\n                     position: absolute;\n                     background: #ffffffd0;\n                     color: black;\n                     margin-top: -${22*this.tilesZoom}px;\n                     line-height: 1.2;\n                     font-size: ${13*this.tilesZoom}px;\n                     font-weight: bold;\n                     border-radius: ${20*this.tilesZoom}px;\n                     padding: 3px 6px;\n                     box-shadow: #000000 0px 0px 10px;\n                     opacity: 0;\n                     pointer-events: none;\n                     transition: all 0.5s ease;\n                     left: 50%;\n                     transform: translate(-50%, 0);\n                     z-index: 1;\n                     max-width: 100%;\n                     white-space: nowrap;\n                     overflow: hidden;\n                     text-overflow: ellipsis;\n                 }\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type>span.search-jumper-btn:first-child {\n                     display: none;\n                 }\n                 #search-jumper.funcKeyCall .search-jumper-type.search-jumper-open.not-expand>a:nth-of-type(${(p.prefConfig.expandTypeLength||12)+1}) {\n                     display: grid!important;\n                 }\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type:hover:before {\n                     opacity: 1;\n                 }\n                 `:""}\n                 #search-jumper>.search-jumper-searchBar>.search-jumper-type.search-jumper-open {\n                     overflow: visible;\n                 }\n                 #search-jumper>.search-jumper-searchBar>.search-jumper-type.search-jumper-open.search-jumper-move:hover {\n                     width: fit-content!important;\n                 }\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type.search-jumper-open:not(.not-expand) {\n                     overflow: auto;\n                 }\n                 #search-jumper.search-jumper-left>.search-jumper-searchBar>.search-jumper-type.search-jumper-open.search-jumper-move:hover,\n                 #search-jumper.search-jumper-right>.search-jumper-searchBar>.search-jumper-type.search-jumper-open.search-jumper-move:hover {\n                     width: 100%!important;\n                     height: fit-content!important;\n                 }\n                 #search-jumper.search-jumper-bottom>.search-jumper-searchBar>.search-jumper-type.search-jumper-open.search-jumper-move:hover {\n                     align-items: flex-end;\n                 }\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type.search-jumper-open {\n                     overscroll-behavior: contain;\n                     -ms-scroll-chaining: contain;\n                     overflow: auto;\n                 }\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type>.sitelist {\n                     border-radius: 10px;\n                     box-shadow: 0px 0px 10px 0px #7a7a7a;\n                 }\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type>.sitelist>.sitelistCon {\n                     margin: 0;\n                     padding: 5px;\n                 }\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type>.sitelist>.sitelistCon>p {\n                     display: none;\n                 }\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type>.sitelist>.sitelistCon a>img {\n                     width: 20px;\n                     height: 20px;\n                 }\n                 ${p.prefConfig.minPopup&&!p.prefConfig.hideTileType?"\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type>a.search-jumper-btn,\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type>.searchJumperExpand {\n                     display: none;\n                 }\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type:hover>a.search-jumper-btn,\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type:hover>.searchJumperExpand {\n                     display: grid;\n                 }\n                 input#search-jumper-tileInput {\n                     opacity: 0;\n                 }\n                 ":""}\n                 ${2==p.prefConfig.minPopup?`\n                 .funcKeyCall:not(.targetInput)>.search-jumper-searchBar {\n                     transform: scale(1);\n                 }\n                 #search-jumper.funcKeyCall:not(.targetInput)>.search-jumper-searchBar>.search-jumper-type {\n                     height: auto!important;\n                     width: auto!important;\n                     width: max-content!important;\n                     max-width: ${40*(p.prefConfig.numPerLine||7)*this.tilesZoom}px!important;\n                 }\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type>a.search-jumper-btn {\n                     display: grid;\n                 }\n                 #search-jumper.funcKeyCall.targetInput>.search-jumper-searchBar>.search-jumper-type>a.search-jumper-btn {\n                     display: none;\n                 }\n                 #search-jumper.funcKeyCall.targetInput>.search-jumper-searchBar>.search-jumper-type:hover>a.search-jumper-btn {\n                     display: grid;\n                 }\n                 `:""}\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type:hover {\n                     height: auto!important;\n                     width: auto!important;\n                     width: max-content!important;\n                     max-width: ${40*(p.prefConfig.numPerLine||7)*this.tilesZoom}px!important;\n                 }\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-type::-webkit-scrollbar {\n                     width: 0 !important;\n                     height: 0 !important;\n                 }\n                 .search-jumper-left,\n                 .search-jumper-left .search-jumper-type,\n                 .search-jumper-left>.search-jumper-searchBar,\n                 .search-jumper-right,\n                 .search-jumper-right .search-jumper-type,\n                 .search-jumper-right>.search-jumper-searchBar {\n                     flex-direction: column;\n                     max-width: ${42*this.scale}px;\n                     max-height: unset;\n                 }\n                 .search-jumper-left .search-jumper-type,\n                 .search-jumper-right .search-jumper-type {\n                     max-width: ${40*this.scale}px;\n                 }\n                 .search-jumper-left,\n                 .search-jumper-left>.search-jumper-searchBar,\n                 .search-jumper-right,\n                 .search-jumper-right>.search-jumper-searchBar {\n                     max-width: 100%;\n                 }\n                 .search-jumper-searchBar.grabbing {\n                     max-width: ${42*this.scale}px;\n                 }\n                 .search-jumper-right .search-jumper-type {\n                     align-items: flex-end;\n                 }\n                 .search-jumper-left {\n                     height: 100%;\n                     text-align: initial;\n                 }\n                 .search-jumper-left:not(.search-jumper-showall) {\n                     width: initial;\n                     width: -webkit-fill-available;\n                 }\n                 .search-jumper-right {\n                     left: unset;\n                     right: 0;\n                     height: 100%;\n                 }\n                 .searchJumperExpand {\n                     opacity: 0.8;\n                 }\n                 .search-jumper-type.not-expand:not(.search-jumper-open)>.searchJumperExpand {\n                     display: none;\n                 }\n                 .searchJumperExpand:hover {\n                     opacity: 1;\n                 }\n                 .searchJumperExpand>svg {\n                     transform: rotate(-90deg);\n                     border-radius: 20px;\n                     filter: drop-shadow(0px 0px 2px black);\n                     width: unset;\n                     height: unset;\n                     color: black;\n                     fill: black;\n                 }\n                 .search-jumper-type.search-jumper-open>span.search-jumper-word,\n                 #search-jumper.funcKeyCall .search-jumper-type>span.search-jumper-word {\n                     filter: drop-shadow(0px 0px 2px black);\n                 }\n                 .search-jumper-left .searchJumperExpand>svg,\n                 .search-jumper-right .searchJumperExpand>svg {\n                     transform: unset;\n                 }\n                 .search-jumper-bottom {\n                     top: unset;\n                     bottom: 0;\n                     height: ${42*this.scale*2}px;\n                     max-height: ${43*this.scale*2}px;\n                     overflow-y: hidden;\n                 }\n                 .search-jumper-left>.search-jumper-searchBar {\n                     width: fit-content;\n                     margin-top: 0;\n                     margin-left: -${20*this.scale}px;\n                 }\n                 .hideAll.search-jumper-left>.search-jumper-searchBar {\n                     margin-left: -${40*this.scale}px;\n                 }\n                 .search-jumper-right>.search-jumper-searchBar {\n                     margin-top: 0;\n                     right: -${20*this.scale}px;\n                     position: fixed;\n                 }\n                 .hideAll.search-jumper-right>.search-jumper-searchBar {\n                     right: -${40*this.scale}px;\n                 }\n                 .search-jumper-left>.search-jumper-searchBar:hover,\n                 .search-jumper-left>.search-jumper-searchBar.initShow,\n                 .resizePage.search-jumper-left>.search-jumper-searchBar,\n                 .search-jumper-left.funcKeyCall>.search-jumper-searchBar,\n                 #search-jumper.in-input.search-jumper-left>.search-jumper-searchBar {\n                     margin-top: unset;\n                     margin-left: 0;\n                     opacity: 1;\n                 }\n                 .search-jumper-right>.search-jumper-searchBar:hover,\n                 .search-jumper-right>.search-jumper-searchBar.initShow,\n                 .resizePage.search-jumper-right>.search-jumper-searchBar,\n                 .search-jumper-right.funcKeyCall>.search-jumper-searchBar,\n                 #search-jumper.in-input.search-jumper-right>.search-jumper-searchBar {\n                     margin-top: unset;\n                     right: 0;\n                     opacity: 1;\n                 }\n                 .search-jumper-bottom>.search-jumper-searchBar {\n                     position: relative;\n                     margin-top: 0px;\n                     top: ${42*this.scale}px;\n                 }\n                 .hideAll.search-jumper-bottom>.search-jumper-searchBar {\n                     opacity: 0;\n                 }\n                 .search-jumper-bottom>.search-jumper-searchBar:hover,\n                 .search-jumper-bottom>.search-jumper-searchBar.initShow,\n                 .resizePage.search-jumper-bottom>.search-jumper-searchBar,\n                 .search-jumper-bottom.funcKeyCall>.search-jumper-searchBar,\n                 #search-jumper.in-input.search-jumper-bottom>.search-jumper-searchBar {\n                     margin-top: 0px;\n                     opacity: 1;\n                 }\n                 .search-jumper-btn {\n                     position: relative;\n                     display: grid;\n                     --scale: 1;\n                     padding: ${1*this.scale}px!important;\n                     margin: ${3*this.scale}px!important;\n                     cursor: pointer;\n                     box-sizing: content-box;\n                     ${p.prefConfig.noAni?"":"transition:margin-left 0.25s ease, width 0.25s, height 0.25s, transform 0.25s, background 0.25s;"}\n                     width: calc(${32*this.scale}px * var(--scale));\n                     height: calc(${32*this.scale}px * var(--scale));\n                     overflow: hidden;\n                     text-overflow: ellipsis;\n                     white-space: nowrap;\n                     text-decoration:none;\n                     min-width: ${32*this.scale}px;\n                     min-height: ${32*this.scale}px;\n                     text-align: center;\n                     background-image: initial;\n                     filter: drop-shadow(1px 1px 3px #00000030);\n                 }\n                 #search-jumper.funcKeyCall .search-jumper-btn {\n                     padding: ${1*this.tilesZoom}px!important;\n                     margin: ${3*this.tilesZoom}px!important;\n                     width: ${32*this.tilesZoom}px;\n                     height: ${32*this.tilesZoom}px;\n                     min-width: ${32*this.tilesZoom}px;\n                     min-height: ${32*this.tilesZoom}px;\n                     border-radius: ${10*this.tilesZoom}px;\n                     filter: drop-shadow(1px 1px 3px #00000060);\n                 }\n                 #search-jumper.funcKeyCall a.search-jumper-btn {\n                     background: #f7f7f7a0;\n                 }\n                 a.search-jumper-btn:not(.search-jumper-word)>span {\n                     position: absolute;\n                     text-align: center;\n                     width: 100%;\n                     bottom: 0px;\n                     color: black!important;\n                     font-family: Arial, sans-serif,微软雅黑,"Noto Sans SC";\n                     text-shadow: 0 1px white, 1px 0 white, -1px 0 white, 0 -1px white;\n                     font-size: ${12*this.scale}px;\n                     font-weight: normal;\n                     opacity: 0.8;\n                 }\n                 #search-jumper.funcKeyCall a.search-jumper-btn:not(.search-jumper-word)>span {\n                     font-size: ${12*this.tilesZoom}px;\n                 }\n                 .search-jumper-type>a.search-jumper-btn.historySite {\n                     box-shadow: 0px 0px 6px 0px #00000099;\n                 }\n                 .search-jumper-btn>img {\n                     width: ${32*this.scale}px;\n                     height: ${32*this.scale}px;\n                     border: unset;\n                 }\n                 #search-jumper.funcKeyCall .search-jumper-btn>img {\n                     width: ${32*this.tilesZoom}px;\n                     height: ${32*this.tilesZoom}px;\n                     border-radius: unset;\n                 }\n                 .search-jumper-btn>b {\n                     line-height: ${32*this.scale}px;\n                     font-size: ${14*this.scale}px;\n                     letter-spacing: 0;\n                     color: white;\n                     opacity: 0.9;\n                     text-shadow: 0 0 1px #d9d9d9cc;\n                 }\n                 #search-jumper.funcKeyCall .search-jumper-btn>b {\n                     line-height: ${32*this.tilesZoom}px;\n                     font-size: ${14*this.tilesZoom}px;\n                 }\n                 .search-jumper-btn:hover>b {\n                     opacity: 1;\n                 }\n                 .search-jumper-btn>div {\n                     position: absolute;\n                     width: 100%;\n                     height: 100%;\n                     line-height: ${32*this.scale}px;\n                     background: black;\n                     border-radius: ${20*this.scale}px;\n                     font-size: ${30*this.scale}px;\n                     color: wheat;\n                     display: none;\n                 }\n                 #search-jumper.funcKeyCall .search-jumper-btn>div {\n                     line-height: ${32*this.tilesZoom}px;\n                     border-radius: ${10*this.tilesZoom}px;\n                     font-size: ${30*this.tilesZoom}px;\n                 }\n                 .search-jumper-isInPage .search-jumper-btn>div,\n                 .search-jumper-isTargetImg .search-jumper-btn>div,\n                 .search-jumper-isTargetAudio .search-jumper-btn>div,\n                 .search-jumper-isTargetVideo .search-jumper-btn>div,\n                 .search-jumper-isTargetLink .search-jumper-btn>div,\n                 .search-jumper-isTargetPage .search-jumper-btn>div {\n                     animation-name: changeOpacity;\n                     animation-duration: 2s;\n                     animation-iteration-count: 3;\n                     animation-delay: 0.1s;\n                     display: block;\n                     opacity: 0;\n                 }\n                 @keyframes changeOpacity {\n                     0%   {opacity: 0;}\n                     10%  {opacity: 0;}\n                     50%  {opacity: 0.75;}\n                     80%  {opacity: 0;}\n                     100% {opacity: 0;}\n                 }\n                 @-webkit-keyframes loader-rotate {\n                   from {\n                     transform: rotate(0deg);\n                   }\n                   to {\n                     transform: rotate(360deg);\n                   }\n                 }\n                 @keyframes loader-rotate {\n                   from {\n                     transform: rotate(0deg);\n                   }\n                   to {\n                     transform: rotate(360deg);\n                   }\n                 }\n                 .search-jumper-tips>.loader {\n                     border-width: 5px;\n                     border-style: solid;\n                     border-color: gainsboro gainsboro dodgerblue gainsboro;\n                     border-radius: 50%;\n                     display: block;\n                     width: 25px;\n                     float: left;\n                     height: 25px;\n                     margin-right: 10px;\n                     margin-top: 5px;\n                     -webkit-animation: loader-rotate 1.5s linear infinite;\n                     animation: loader-rotate 1.5s linear infinite;\n                 }\n                 .search-jumper-tips>.loader+font {\n                     font-size: 25px;\n                     line-height: 40px;\n                 }\n                 .search-jumper-tips>div {\n                     font-size: initial;\n                     line-height: initial;\n                     font-weight: normal;\n                     padding: 5px;\n                     cursor: initial;\n                 }\n                 .search-jumper-tips>div [data-read],\n                 .search-jumper-tips>div [data-close],\n                 .search-jumper-tips>div [data-paste],\n                 .search-jumper-tips>div [data-copy] {\n                     cursor: pointer;\n                 }\n                 .search-jumper-tips>div [data-search] {\n                     cursor: help;\n                 }\n                 .search-jumper-tips>div [data-close] {\n                     position: absolute;\n                     top: 0px;\n                     right: 0px;\n                     width: 20px;\n                     height: 20px;\n                     color: white;\n                     transition:all 0.2s ease;\n                 }\n                 .search-jumper-tips>div [data-close]:hover {\n                     color: red;\n                 }\n                 .search-jumper-tips>div [data-read] {\n                     color: #f9690e;\n                 }\n                 .search-jumper-tips>div [data-drag] {\n                     cursor: grab;\n                 }\n                 .search-jumper-tips>div [data-copy] {\n                     display: inline-block;\n                     transition:all 0.2s ease;\n                 }\n                 .search-jumper-tips>div [data-copy]:hover {\n                     -webkit-transform: scale(1.1);\n                     -moz-transform: scale(1.1);\n                     transform: scale(1.1);\n                 }\n                 .search-jumper-tips.draging {\n                     cursor: grabbing;\n                     transition: none;\n                 }\n                 .search-jumper-tips.draging * {\n                     pointer-events: none;\n                 }\n                 .search-jumper-tips .showTips-inputGroup {\n                     display: flex;\n                     flex-wrap: wrap;\n                     text-align: left;\n                     justify-content: center;\n                 }\n                 .search-jumper-tips .showTips-input-title {\n                     font-size: 9pt;\n                     font-family: Arial, sans-serif,微软雅黑,"Noto Sans SC";\n                     display: inline-block;\n                     background-color: white;\n                     position: relative;\n                     left: 20px;\n                     padding: 0px 4px;\n                     text-align: left;\n                     color: #646464;\n                     word-break: break-all;\n                     max-width: 85%;\n                     z-index: 1;\n                 }\n                 .search-jumper-tips .showTips-inputGroup .select {\n                     resize: both;\n                     font-size: 11pt;\n                     font-weight: normal;\n                     border-radius: 4px;\n                     border: 1px solid rgba(0, 0, 0, 0.23);\n                     margin: 4px;\n                     font-family: inherit;\n                     background-color: #FFF;\n                     width: calc(100% - 8px);\n                     color: #4A4A4A;\n                     margin-top: -8px;\n                     padding: 4px;\n                     padding-top: 8px;\n                     box-sizing: border-box;\n                     height: 30px;\n                     position: relative;\n                 }\n                 .search-jumper-tips .showTips-inputGroup .searchBtn {\n                     -moz-transition: transform 0.3s ease;\n                     -webkit-transition: transform 0.3s ease;\n                     transition: transform 0.3s ease;\n                     cursor: pointer;\n                     margin-bottom: 5px;\n                 }\n                 .search-jumper-tips .showTips-inputGroup * {\n                     margin-left: 2px;\n                     margin-right: 2px;\n                 }\n                 .search-jumper-tips .showTips-inputGroup .searchBtn:hover {\n                     -webkit-transform: scale(1.1);\n                     -moz-transform: scale(1.1);\n                     transform: scale(1.1);\n                     filter: drop-shadow(1px 1px 3px #00000050);\n                 }\n                 .search-jumper-tips .showTips-inputGroup .select>input[type=text] {\n                     top: -8px;\n                     left: 0px;\n                     position: relative;\n                     border: unset!important;\n                     width: calc(100% - 25px);\n                     padding-bottom: 3px;\n                     margin-bottom: -30px;\n                     float: left;\n                     background: unset;\n                     height: 24px;\n                     outline: unset;\n                 }\n                 .search-jumper-tips .showTips-inputGroup .select>p {\n                     padding: 0;\n                     margin: 0;\n                     position: absolute;\n                     pointer-events: none;\n                 }\n                 .search-jumper-tips .showTips-inputGroup .select>.options {\n                     position: fixed;\n                     visibility: hidden;\n                     opacity: 0;\n                     transition: opacity .1s;\n                     background-color: #FFF;\n                     color: #4A4A4A;\n                     border: 1px solid rgba(0, 0, 0, 0.23);\n                     border-radius: 4px;\n                     z-index: 10;\n                     width: auto;\n                     max-width: 35%;\n                 }\n                 .search-jumper-tips .showTips-inputGroup .select>input:focus+p {\n                     display: none;\n                 }\n                 .search-jumper-tips .showTips-inputGroup .select:hover>.options {\n                     visibility: visible;\n                     opacity: 1;\n                 }\n                 .search-jumper-tips .showTips-inputGroup .select>.options>p {\n                     cursor: pointer;\n                     min-height: 20px;\n                     padding: 3px 0;\n                     margin: 0;\n                 }\n                 .search-jumper-tips .showTips-inputGroup .select>.options>p:hover {\n                     background: aliceblue;\n                 }\n                 .search-jumper-tips .showTips-inputGroup div.select:after {\n                     content: "▼";\n                     position: absolute;\n                     right: 6px;\n                     top: 8px;\n                     font-size: 9px;\n                 }\n                 @media (prefers-color-scheme: dark) {\n                     .search-jumper-tips .showTips-input-title,\n                     .search-jumper-tips .showTips-inputGroup input,\n                     .search-jumper-tips .showTips-inputGroup textarea,\n                     .search-jumper-tips .showTips-inputGroup .select {\n                         background-color: black!important;\n                         color: #d5d5d5!important;\n                     }\n                     .search-jumper-tips .showTips-inputGroup input:focus,\n                     .search-jumper-tips .showTips-inputGroup textarea:focus,\n                     .search-jumper-tips .showTips-inputGroup .select:focus {\n                         background-color: #1e1e1e!important;\n                     }\n                     .search-jumper-tips .showTips-inputGroup input,\n                     .search-jumper-tips .showTips-inputGroup textarea,\n                     .search-jumper-tips .showTips-inputGroup .select {\n                         border: 1px solid rgb(255 255 255 / 36%)!important;\n                         background-color: #0c0c0c!important;\n                     }\n                     .search-jumper-tips .showTips-inputGroup .select>.options {\n                         border: 1px solid rgb(255 255 255 / 36%)!important;\n                         background-color: black;\n                         color: #d5d5d5;\n                     }\n                     .search-jumper-tips .showTips-inputGroup .select>.options>p:hover {\n                         background: #1e1e1e;\n                     }\n                 }\n                 .search-jumper-logoBtnSvg {\n                     width: ${32*this.scale}px;\n                     height: ${32*this.scale}px;\n                     overflow: hidden;\n                     vertical-align: top;\n                     cursor: grab;\n                 }\n                 #search-jumper.funcKeyCall .search-jumper-logoBtnSvg {\n                     height: ${32*this.tilesZoom}px;\n                     width: ${32*this.tilesZoom}px;\n                 }\n                 .search-jumper-type.search-jumper-targetImg,\n                 .search-jumper-type.search-jumper-targetAudio,\n                 .search-jumper-type.search-jumper-targetVideo,\n                 .search-jumper-type.search-jumper-targetLink,\n                 .search-jumper-type.search-jumper-targetPage,\n                 .search-jumper-isTargetImg>.search-jumper-type,\n                 .search-jumper-isTargetAudio>.search-jumper-type,\n                 .search-jumper-isTargetVideo>.search-jumper-type,\n                 .search-jumper-isTargetLink>.search-jumper-type,\n                 .search-jumper-searchBar:hover>.search-jumper-type.search-jumper-targetImg,\n                 .search-jumper-searchBar:hover>.search-jumper-type.search-jumper-targetAudio,\n                 .search-jumper-searchBar:hover>.search-jumper-type.search-jumper-targetVideo,\n                 .search-jumper-searchBar:hover>.search-jumper-type.search-jumper-targetLink,\n                 .search-jumper-searchBar:hover>.search-jumper-type.search-jumper-targetPage,\n                 .search-jumper-searchBar.search-jumper-isTargetImg:hover>.search-jumper-type,\n                 .search-jumper-searchBar.search-jumper-isTargetAudio:hover>.search-jumper-type,\n                 .search-jumper-searchBar.search-jumper-isTargetVideo:hover>.search-jumper-type,\n                 .search-jumper-searchBar.search-jumper-isTargetLink:hover>.search-jumper-type {\n                     display: none;\n                 }\n                 #search-jumper.in-input .search-jumper-type.search-jumper-open {\n                     width: auto!important;\n                     height: auto!important;\n                 }\n                 #search-jumper.in-input .sitelistCon>div:not(.input-hide)>a {\n                     display: flex!important;\n                 }\n                 #search-jumper .input-hide,\n                 #search-jumper.search-jumper-showall #search-jumper-alllist .sitelist.input-hide {\n                     display: none!important;\n                 }\n                 #search-jumper.in-input .search-jumper-type:not(.input-hide) {\n                     display: inline-flex!important;\n                     flex-wrap: nowrap!important;\n                 }\n                 #search-jumper.in-input .search-jumper-btn:not(.input-hide) {\n                     display: grid!important;\n                 }\n                 #search-jumper>.search-jumper-searchBar>.search-jumper-logo {\n                     display: inline-flex;\n                     background: unset;\n                     padding: 0px;\n                 }\n                 #search-jumper.funcKeyCall>.search-jumper-searchBar>.search-jumper-logo {\n                     display: none;\n                 }\n                 .search-jumper-searchBar>.search-jumper-type.search-jumper-targetAll,\n                 .search-jumper-searchBar:hover>.search-jumper-type.search-jumper-targetAll {\n                     display: inline-flex;\n                 }\n                 .search-jumper-isInPage>.search-jumper-type.search-jumper-needInPage,\n                 .search-jumper-isTargetImg>.search-jumper-type.search-jumper-targetImg,\n                 .search-jumper-isTargetAudio>.search-jumper-type.search-jumper-targetAudio,\n                 .search-jumper-isTargetVideo>.search-jumper-type.search-jumper-targetVideo,\n                 .search-jumper-isTargetLink>.search-jumper-type.search-jumper-targetLink,\n                 .search-jumper-isTargetPage>.search-jumper-type,\n                 .search-jumper-searchBar.search-jumper-isInPage:hover>.search-jumper-type.search-jumper-needInPage,\n                 .search-jumper-searchBar.search-jumper-isTargetImg:hover>.search-jumper-type.search-jumper-targetImg,\n                 .search-jumper-searchBar.search-jumper-isTargetAudio:hover>.search-jumper-type.search-jumper-targetAudio,\n                 .search-jumper-searchBar.search-jumper-isTargetVideo:hover>.search-jumper-type.search-jumper-targetVideo,\n                 .search-jumper-searchBar.search-jumper-isTargetLink:hover>.search-jumper-type.search-jumper-targetLink,\n                 .search-jumper-searchBar.search-jumper-isTargetPage:hover>.search-jumper-type.search-jumper-targetPage,\n                 .search-jumper-searchBar.search-jumper-isTargetPage:hover>.search-jumper-type {\n                     display: inline-flex;\n                 }\n                 .search-jumper-type,\n                 .search-jumper-logo {\n                     display: inline-flex;\n                     box-sizing: border-box;\n                     background: #d0d0d0;\n                     border-radius: ${20*this.scale}px!important;\n                     overflow: hidden;\n                     padding: 0.2px;\n                     height: ${40*this.scale}px;\n                     width: ${40*this.scale}px;\n                     max-height: ${40*this.scale}px;\n                     min-height: ${40*this.scale}px;\n                     min-width: ${40*this.scale}px;\n                     ${p.prefConfig.noAni?"":`transition:width ${p.prefConfig.typeOpenTime}ms ease, height ${p.prefConfig.typeOpenTime}ms;`}\n                 }\n                 #search-jumper.funcKeyCall .search-jumper-type,\n                 #search-jumper.funcKeyCall .search-jumper-logo {\n                     border-radius: ${20*this.tilesZoom}px!important;\n                     height: ${40*this.tilesZoom}px;\n                     width: ${40*this.tilesZoom}px;\n                     max-height: ${40*this.tilesZoom}px;\n                     min-height: ${40*this.tilesZoom}px;\n                     min-width: ${40*this.tilesZoom}px;\n                 }\n                 #search-jumper-tileInput {\n                     display: none;\n                     opacity: 0.2;\n                     user-select: all;\n                     background-color: #212022;\n                     color: #adadad;\n                     border: none;\n                     font-size: 12px;\n                     margin-bottom: 3px;\n                     padding: 5px;\n                     border-radius: 10px;\n                     box-shadow: #adadad 0px 0px 2px;\n                     width: 100%;\n                     outline: none;\n                     box-sizing: border-box;\n                     cursor: text;\n                     -moz-transition: opacity 0.3s ease;\n                     -webkit-transition: opacity 0.3s ease;\n                     transition: opacity 0.3s ease;\n                 }\n                 #search-jumper-tileInput:hover {\n                     opacity: 0.95;\n                 }\n                 #search-jumper.funcKeyCall #search-jumper-tileInput {\n                     display: block;\n                 }\n                 .search-jumper-right>.searchJumperNavBar {\n                     right: unset;\n                     left: 0;\n                 }\n                 .search-jumper-right>.searchJumperNavBar>#navMarks+div.navPointer {\n                     right: unset;\n                     left: 20px;\n                     transform: rotate(180deg);\n                 }\n                 .search-jumper-bottom>.search-jumper-input {\n                     bottom: unset;\n                     top: 80px;\n                 }\n                 #search-jumper .search-jumper-type.search-jumper-open.not-expand>a:nth-of-type(${p.prefConfig.expandTypeLength||12})~a {\n                     display: none!important;\n                 }\n                 #search-jumper .sitelist {\n                     position: fixed;\n                     text-align: left;\n                     background: #00000000;\n                     max-height: calc(100vh - ${42*this.scale}px);\n                     overflow: scroll;\n                     border: 0;\n                     pointer-events: none;\n                     opacity: 0;\n                     ${p.prefConfig.noAni?"":"transition:opacity 0.25s ease;"}\n                     scrollbar-width: none;\n                     box-sizing: content-box;\n                     overscroll-behavior: contain;\n                     -ms-scroll-chaining: contain;\n                     z-index: 1;\n                 }\n                 #search-jumper .search-jumper-type:hover>.sitelist {\n                     pointer-events: all;\n                     opacity: 1;\n                 }\n                 #search-jumper .sitelist>.sitelistCon {\n                     margin: 10px;\n                     border-radius: 10px;\n                     box-shadow: 0px 0px 10px 0px #7a7a7a;\n                     padding: 0 0 10px 0;\n                     background: #ffffffee;\n                     opacity: 1;\n                     border: 0;\n                 }\n                 #search-jumper .sitelist>.sitelistCon:hover {\n                     opacity: 1;\n                 }\n                 #search-jumper .sitelist::-webkit-scrollbar {\n                     width: 0 !important;\n                     height: 0 !important;\n                 }\n                 #search-jumper .sitelist>.sitelistCon>div {\n                     padding: 0 10px;\n                 }\n                 #search-jumper .sitelist>.sitelistCon>div:hover {\n                     background: #f5f7fa;\n                 }\n                 #search-jumper .sitelist a {\n                     display: flex;\n                     align-items: center;\n                     text-decoration: none;\n                     cursor: pointer;\n                 }\n                 #search-jumper .sitelist a>img {\n                     width: 20px;\n                     height: 20px;\n                     margin-right: 10px;\n                     margin-top: unset;\n                     max-width: unset;\n                     -moz-transition: transform 0.3s ease;\n                     -webkit-transition: transform 0.3s ease;\n                     transition: transform 0.3s ease;\n                 }\n                 #search-jumper .sitelist a>p {\n                     display: inline-block;\n                     font-size: 15px;\n                     font-family: Arial, sans-serif,微软雅黑,"Noto Sans SC";\n                     line-height: 25px;\n                     margin: 5px auto;\n                     color: #6b6e74;\n                     flex: 1;\n                     text-align: left;\n                     white-space: nowrap;\n                     transform-origin: left;\n                     -moz-transition: transform 0.3s ease;\n                     -webkit-transition: transform 0.3s ease;\n                     transition: transform 0.3s ease;\n                 }\n                 #search-jumper .sitelist a.dragTarget>img {\n                     -webkit-transform:scale(1.5);\n                     -moz-transform:scale(1.5);\n                     transform:scale(1.5);\n                 }\n                 #search-jumper .sitelist a.dragTarget>p {\n                     -webkit-transform:scale(1.2);\n                     -moz-transform:scale(1.2);\n                     transform: scale(1.2);\n                 }\n                 #search-jumper .sitelist a * {\n                     pointer-events: none;\n                 }\n                 #search-jumper .sitelist>.sitelistCon>p {\n                     color: #565656;\n                     text-align: center;\n                     font-size: 16px;\n                     font-family: Arial, sans-serif,微软雅黑,"Noto Sans SC";\n                     font-weight: bold;\n                     background: #f6f6f6;\n                     border-radius: 10px 10px 0 0;\n                     overflow: hidden;\n                     white-space: nowrap;\n                     text-overflow: ellipsis;\n                     padding: 3px 10px;\n                     position: sticky;\n                     top: 0;\n                     pointer-events: none;\n                     margin: -1px 0 0 0;\n                 }\n                 .search-jumper-searchBar.disable-pointer>.search-jumper-type {\n                     pointer-events: none;\n                 }\n                 .search-jumper-word {\n                     background: black;\n                     color: #ffffff!important;\n                     font-family: Arial, sans-serif,微软雅黑,"Noto Sans SC";\n                     font-weight: 500;\n                     font-size: ${13*this.scale}px;\n                     line-height: calc(${32*this.scale}px * var(--scale));\n                     min-width: ${32*this.scale}px;\n                     min-height: ${32*this.scale}px;\n                     letter-spacing: 0px;\n                     text-shadow: unset;\n                     text-decoration: none;\n                 }\n                 span.search-jumper-word {\n                     border-radius: ${20*this.scale}px!important;\n                 }\n                 a.search-jumper-word>span {\n                     border-radius: 50%!important;\n                     min-width: ${32*this.tilesZoom}px;\n                     min-height: ${32*this.tilesZoom}px;\n                     background: white;\n                 }\n                 #search-jumper.funcKeyCall .search-jumper-word {\n                     border-radius: ${10*this.tilesZoom}px!important;\n                     font-size: ${14*this.tilesZoom}px;\n                     line-height: ${32*this.tilesZoom}px;\n                     width: ${32*this.tilesZoom}px;\n                     height: ${32*this.tilesZoom}px;\n                     min-width: ${32*this.tilesZoom}px;\n                     min-height: ${32*this.tilesZoom}px;\n                 }\n                 #search-jumper.funcKeyCall .search-jumper-word>span {\n                     background: unset;\n                 }\n                 .search-jumper-word:hover {\n                     font-weight: bold;\n                     text-shadow: 0px 0px 5px #d0d0d0;\n                 }\n                 a.search-jumper-word {\n                     color: #111111!important;\n                     background: unset;\n                 }\n                 .funcKeyCall a.search-jumper-word {\n                     background: #f7f7f7a0;\n                 }\n                 a.search-jumper-word>span {\n                     color: #222!important;\n                     border-radius: 20px;\n                     line-height: unset;\n                     text-align: center;\n                     text-shadow: 0 0 0.7px #787878dd;\n                     background-image: initial;\n                 }\n                 .search-jumper-type img {\n                     width: 100%;\n                     height: 100%;\n                     margin-top: unset;\n                 }\n                 #search-jumper.funcKeyCall .search-jumper-type img {\n                     width: ${32*this.tilesZoom}px;\n                     height: ${32*this.tilesZoom}px;\n                 }\n                 .funcKeyCall>.search-jumper-tips {\n                     position: absolute;\n                 }\n                 .search-jumper-tips {\n                     z-index: 2147483646;\n                     pointer-events: none;\n                     position: fixed;\n                     font-size: ${35*this.tipsZoom}px;\n                     background: #f5f5f5f0;\n                     border-radius: ${10*this.tipsZoom}px!important;\n                     padding: 6px;\n                     box-shadow: 0px 0px 10px 0px #000;\n                     font-weight: bold;\n                     ${p.prefConfig.noAni?"":"transition: all 0.2s ease;"}\n                     color: black;\n                     white-space: normal;\n                     max-width: 640px;\n                     max-width: min(80vw,640px);\n                     width: max-content;\n                     line-height: ${35*this.tipsZoom}px;\n                     word-break: break-all;\n                     text-align: center;\n                     box-sizing: content-box;\n                     overflow: hidden;\n                     scrollbar-width: none;\n                     font-family: Roboto,arial,sans-serif,微软雅黑,"Noto Sans SC";\n                     cursor: grab;\n                     max-height: 80vh;\n                     overscroll-behavior: contain;\n                     -ms-scroll-chaining: contain;\n                 }\n                 .search-jumper-tips::-webkit-scrollbar {\n                     width: 0 !important;\n                     height: 0 !important;\n                 }\n                 .search-jumper-tips:hover {\n                     overflow: auto;\n                 }\n                 .search-jumper-tips * {\n                     max-width: 640px;\n                     max-width: min(80vw,640px);\n                     margin: auto;\n                 }\n                 .search-jumper-tips .markdown {\n                     white-space: pre-wrap;\n                     line-height: 1.2;\n                     text-align: initial;\n                     margin: 10px;\n                     display: block;\n                     user-select: text;\n                     cursor: auto;\n                 }\n                 .search-jumper-tips iframe {\n                     border: unset;\n                     display: block;\n                 }\n                 .search-jumper-searchBar>.search-jumper-type {\n                     padding: 0px;\n                     ${p.prefConfig.disableTypeOpen?"background: unset;":""}\n                 }\n                 .search-jumper-searchBar>.search-jumper-type:not(.search-jumper-open) {\n                     background: unset;\n                     border-radius: unset!important;\n                 }\n                 .minSizeMode.search-jumper-searchBar>.search-jumper-type:not(.search-jumper-open),\n                 .minSizeMode.search-jumper-searchBar:hover>.search-jumper-type:not(.search-jumper-open) {\n                     display: none;\n                 }\n                 .minSizeModeClose.minSizeMode.search-jumper-searchBar:hover>.search-jumper-type:not(.search-jumper-targetImg,.search-jumper-targetLink,.search-jumper-targetPage,.search-jumper-targetVideo,.search-jumper-targetAudio) {\n                     display: inline-flex;\n                 }\n                 .funcKeyCall>.search-jumper-searchBar>.search-jumper-type:not(.search-jumper-open) {\n                     display: none;\n                     border-radius: ${20*this.tilesZoom}px!important;\n                 }\n                 span.search-jumper-word>img {\n                     width: ${20*this.scale}px;\n                     height: ${20*this.scale}px;\n                     margin: auto;\n                 }\n                 #search-jumper.funcKeyCall span.search-jumper-word>img {\n                     width: ${20*this.tilesZoom}px;\n                     height: ${20*this.tilesZoom}px;\n                 }\n                 .search-jumper-btn:hover {\n                     -webkit-transform:scale(1.1);\n                     -moz-transform:scale(1.1);\n                     transform:scale(1.1);\n                     color: white;\n                     text-decoration:none;\n                     filter: drop-shadow(1px 1px 3px #00000050);\n                 }\n                 .search-jumper-btn:active {\n                     -webkit-transform:scale(1.1);\n                     -moz-transform:scale(1.1);\n                     transform:scale(1.1);\n                     transition:unset;\n                     filter: drop-shadow(1px 1px 5px #000000a0);\n                 }\n                 .search-jumper-searchBar .search-jumper-btn.current {\n                     overflow: visible;\n                 }\n                 .search-jumper-searchBar .search-jumper-btn.current::before {\n                     content: '';\n                     position: absolute;\n                     right: -2px;\n                     top: -2px;\n                     border: 1px solid #00000099;\n                     display: inline-block;\n                     width: 10px;\n                     height: 10px;\n                     border-radius: 50%;\n                     background: white;\n                     box-shadow: 0px 0px 3px 0px rgb(0 0 0 / 80%);\n                     ${p.prefConfig.noAni?"":"opacity: 0.8;"}\n                 }\n                 .in-input .search-jumper-input {\n                     display: block;\n                     box-sizing: content-box;\n                 }\n                 .lock-input .search-jumper-lock-input {\n                     float: left;\n                     font-size: 20px;\n                     top: 14px;\n                     left: 25px;\n                     color: darkgrey;\n                     position: absolute;\n                     border-right: 2px solid #32373a;\n                     padding-right: 10px;\n                     display: block;\n                 }\n                 .search-jumper-input {\n                     width: 50%;\n                     min-width: 500px;\n                     bottom: 2%;\n                     left: 50%;\n                     margin: 0 0 0 -25%;\n                     margin-left: min(-25%, -250px);\n                     position: fixed;\n                     font-family: Arial, sans-serif,微软雅黑,"Noto Sans SC";\n                     text-align: left;\n                     box-shadow: 0px 2px 10px rgb(0 0 0 / 80%);\n                     border: 1px solid rgb(179 179 179 / 10%);\n                     border-radius: 28px;\n                     background-color: rgb(51 56 59 / 90%);\n                     padding: 5px;\n                     display: none;\n                     z-index: 2139999999;\n                     font-size: 20px;\n                     height: 36px;\n                     touch-action: none;\n                 }\n                 .inputGroup {\n                     cursor: grab;\n                     display: flex;\n                 }\n                 .inputGroup * {\n                     cursor: default;\n                 }\n                 .search-jumper-input input,\n                 .search-jumper-input textarea {\n                     background-color: #212022;\n                     color: #adadad;\n                     border: none;\n                     font-size: 16px;\n                     height: 35px;\n                     margin-bottom: 0;\n                     padding: 5px;\n                     margin: 0 10px;\n                     border-radius: 3px;\n                     box-shadow: #333 0px 0px 2px;\n                     width: calc(100% - 20px);\n                     outline: none;\n                     box-sizing: border-box;\n                     cursor: text;\n                 }\n                 #searchJumperInput,\n                 #searchJumperInputKeyWords {\n                     width: calc(100% - 11px);\n                     float: left;\n                     transition: 0.25s width ease;\n                 }\n                 #searchJumperInput {\n                     margin: 0 5px 0 10px;\n                 }\n                 #searchJumperInputKeyWords {\n                     margin: 0 10px 0 1px;\n                 }\n                 #searchJumperInputKeyWords:disabled {\n                     opacity: 0.5;\n                     max-width: 20%;\n                     min-width: 20%;\n                 }\n                 #filterSites>input:focus,\n                 #filterSites>textarea:focus {\n                     width: calc(400% - 20px);\n                     color: white;\n                 }\n                 .search-jumper-input * {\n                     box-sizing: border-box;\n                 }\n                 .search-jumper-input input[type="radio"] {\n                     display: none;\n                 }\n                 .search-jumper-input input:checked + label {\n                     background: #3a444add;\n                     opacity: 0.9;\n                     color: white;\n                     font-size: 14px;\n                 }\n                 .search-jumper-input input#filterSitesTab:checked ~ .line {\n                     left: 27px;\n                 }\n                 .search-jumper-input input#filterSitesTab:checked ~ .content-container #filterSites {\n                     opacity: 1;\n                     pointer-events: all;\n                 }\n                 .search-jumper-input input#searchInPageTab:checked ~ .line {\n                     left: 233px;\n                 }\n                 .search-jumper-input input#searchInPageTab:checked ~ .content-container #searchInPage {\n                     opacity: 1;\n                     pointer-events: all;\n                 }\n                 .search-jumper-input label {\n                     display: inline-block;\n                     font-size: 12px;\n                     height: 32px;\n                     line-height: 32px;\n                     width: 200px;\n                     text-align: center;\n                     background: #2a343acc;\n                     color: #959595;\n                     position: relative;\n                     transition: 0.25s background ease, 0.25s opacity ease;\n                     cursor: pointer;\n                     position: relative;\n                     top: -38px;\n                     left: 22px;\n                     border-radius: 5px 5px 0 0;\n                     user-select: none;\n                     pointer-events: all;\n                     max-width: 40%;\n                     white-space: nowrap;\n                     overflow: hidden;\n                     text-overflow: ellipsis;\n                     opacity: 0.6;\n                 }\n                 .search-jumper-input input:checked + label:hover,\n                 .search-jumper-input label:hover {\n                     background: #3a444a;\n                     opacity: 1;\n                 }\n                 .search-jumper-input label::after {\n                     content: "";\n                     height: 1px;\n                     width: 100%;\n                     position: absolute;\n                     display: block;\n                     background: #ccc;\n                     bottom: 0;\n                     opacity: 0;\n                     left: 0;\n                     transition: 0.25s ease;\n                 }\n                 .search-jumper-input label:hover::after {\n                     opacity: 1;\n                 }\n                 .search-jumper-input .line {\n                     background: #1E88E5;\n                     width: 200px;\n                     height: 1px;\n                     top: -2px;\n                     left: 0;\n                     transition: 0.25s ease;\n                     position: absolute;\n                 }\n                 .inputGroup>.svgBtns {\n                     right: 16px;\n                     top: 5px;\n                     height: 35px;\n                     position: absolute;\n                     user-select: none;\n                     background: #212022;\n                     white-space: nowrap;\n                     overflow: hidden;\n                     display: flex;\n                     align-items: center;\n                 }\n                 .inputGroup>#addons {\n                     position: absolute;\n                     bottom: 41px;\n                     right: 110px;\n                     display: none;\n                     flex-direction: column;\n                     background: #212022;\n                     border-radius: 10px;\n                     opacity: 0;\n                     transition: 0.5s opacity ease;\n                 }\n                 .inputGroup>#addons>div {\n                     padding: 10px;\n                 }\n                 .inputGroup>#addons>div>input {\n                     float: left;\n                     width: 20px;\n                     height: 20px;\n                     margin: 0 10px 0 0;\n                     cursor: pointer;\n                 }\n                 .inputGroup:hover>#addons {\n                     display: flex;\n                 }\n                 .inputGroup>#addons:hover {\n                     opacity: 1;\n                 }\n                 .inputGroup>.svgBtns:hover+#addons {\n                     opacity: 1;\n                 }\n                 .inputGroup>#addons>div>label {\n                     color: white;\n                     display: inline;\n                     background: none;\n                     top: unset;\n                     left: unset;\n                     font-size: unset;\n                     line-height: 20px;\n                     max-width: unset;\n                 }\n                 .inputGroup>.svgBtns:hover {\n                     width: auto;\n                 }\n                 .inputGroup>.svgBtns>svg {\n                     margin: 0 2px;\n                 }\n                 .inputGroup svg.checked {\n                     fill: #1E88E5;\n                 }\n                 @media screen and (max-width: 2048px) {\n                     #search-jumper.search-jumper-showall #search-jumper-alllist.new-mode .sitelist {\n                         width: 1580px;\n                     }\n                 }\n                 @media screen and (max-width: 1920px) {\n                     #search-jumper.search-jumper-showall #search-jumper-alllist.new-mode .sitelist {\n                         width: 1320px;\n                     }\n                 }\n                 @media screen and (max-width: 1600px) {\n                     #search-jumper.search-jumper-showall #search-jumper-alllist.new-mode .sitelist {\n                         width: 1060px;\n                     }\n                 }\n                 @media screen and (max-width: 1300px) {\n                     #search-jumper.search-jumper-showall #search-jumper-alllist.new-mode .sitelist {\n                         width: 800px;\n                     }\n                 }\n                 @media screen and (max-width: 900px) {\n                     #search-jumper.search-jumper-showall #search-jumper-alllist.new-mode .sitelist {\n                         width: 540px;\n                     }\n                 }\n                 @media screen and (max-width: 600px) {\n                     #search-jumper.search-jumper-showall #search-jumper-alllist.new-mode .sitelist {\n                         width: 95vw;\n                     }\n                     #search-jumper.search-jumper-showall #search-jumper-alllist.new-mode .sitelist>.sitelistCon {\n                         width: calc(100% - 20px);\n                     }\n                     #search-jumper-alllist>.timeInAll, #search-jumper-alllist>.dayInAll {\n                         margin: 10px;\n                     }\n                     #search-jumper #search-jumper-alllist.new-mode .sitelist a {\n                         width: calc(50vw - 45px);\n                     }\n                     #search-jumper #search-jumper-alllist.new-mode .sitelist>.sitelistCon>div:before {\n                         width: 100px;\n                         margin-left: 68px;\n                     }\n                     #search-jumper #search-jumper-alllist.new-mode .sitelist a>img {\n                         margin-left: 0;\n                     }\n                 }\n                 @media screen and (max-width: 380px) {\n                     #search-jumper #search-jumper-alllist.new-mode .sitelist a {\n                         width: calc(100vw - 60px);\n                     }\n                     #search-jumper #search-jumper-alllist.new-mode .sitelist>.sitelistCon>div:before {\n                         width: calc(100vw - 150px);\n                         margin-left: 85px;\n                     }\n                     #search-jumper #search-jumper-alllist.new-mode .sitelist a+p {\n                         width: calc(100vw - 60px);\n                     }\n                 }\n                 @media screen and (max-width: 800px) {\n                     .search-jumper-input .line {\n                         display: none;\n                     }\n                     .search-jumper-input {\n                         min-width: 300px;\n                         margin-left: min(-25%, -150px);\n                     }\n                     .inputGroup>.svgBtns {\n                         width: 25px;\n                     }\n                     #search-jumper-alllist>.modeSwitch {\n                         width: 36px;\n                         height: 36px;\n                         right: 2px;\n                         top: 10px;\n                     }\n                 }\n                 @media screen and (max-width: 650px) {\n                     #search-jumper.search-jumper-showall>#search-jumper-alllist.new-mode+.groupTab {\n                         display: none;\n                     }\n                 }\n                 .search-jumper-input .content-container {\n                     background: #eee;\n                     position: static;\n                     font-size: 16px;\n                 }\n                 .search-jumper-input .content-container .inputGroup {\n                     position: absolute;\n                     padding: 5px;\n                     width: 100%;\n                     top: 0;\n                     left: 0;\n                     opacity: 0;\n                     pointer-events: none;\n                     transition: 0.25s ease;\n                     color: #333;\n                 }\n                 .search-jumper-input svg,\n                 .searchJumperNavBar svg {\n                     width: 25px;\n                     height: 25px;\n                     fill: white;\n                     cursor: pointer;\n                     opacity: 0.8;\n                     transition: 0.25s all ease;\n                     font-size: 0px;\n                 }\n                 .search-jumper-input .inputGroup:hover svg,\n                 .searchJumperNavBar.sjNavShow svg {\n                     pointer-events: all;\n                 }\n                 .search-jumper-input svg *,\n                 .searchJumperNavBar svg * {\n                     cursor: pointer;\n                 }\n                 .search-jumper-input svg:hover,\n                 .searchJumperNavBar svg:hover,\n                 .search-jumper-input>.closeBtn:hover,\n                 .searchJumperNavBar>div.minNavBtn:hover,\n                 .searchJumperNavBar>div.maxNavBtn:hover {\n                     -webkit-transform:scale(1.2);\n                     -moz-transform:scale(1.2);\n                     transform:scale(1.2);\n                     opacity: 1;\n                 }\n                 #search-jumper.selectedEle #filterSites>.svgBtns>svg {\n                     display: inline-block!important;\n                 }\n                 .search-jumper-input>.closeBtn {\n                     position: absolute;\n                     right: 0px;\n                     top: -35px;\n                     width: 30px;\n                     height: 30px;\n                     vertical-align: middle;\n                     overflow: hidden;\n                     background: rgb(51 56 59 / 90%);\n                     color: white;\n                     text-align: center;\n                     line-height: 30px;\n                     border-radius: 20px;\n                     pointer-events: all;\n                     transition: 0.25s all ease;\n                     opacity: 0.6;\n                     font-size: 26px;\n                     box-shadow: 0px 0px 2px rgb(0 0 0 / 80%);\n                     border: 1px solid rgb(179 179 179 / 20%);\n                     cursor: pointer;\n                     user-select: none;\n                 }\n                 #searchInPage>.lockWords {\n                     max-width: 50%;\n                     position: absolute;\n                     bottom: 4px;\n                     left: 16px;\n                     color: white;\n                     font-size: 18px;\n                     display: flex;\n                     flex-wrap: wrap-reverse;\n                     max-height: 38px;\n                     overflow: hidden;\n                 }\n                 #searchInPage>.lockWords:hover {\n                     overflow-y: auto;\n                     height: auto;\n                     max-height: 90vh;\n                 }\n                 #searchInPage>.lockWords>span {\n                     position: relative;\n                     padding: 5px;\n                     cursor: pointer;\n                     user-select: none;\n                     background: yellow;\n                     color: black;\n                     border: 1px solid;\n                     margin: 2px;\n                     display: flex;\n                     align-items: center;\n                     white-space: nowrap;\n                     max-width: 100%;\n                     line-height: initial;\n                 }\n                 #searchInPage>.lockWords>span>em {\n                     cursor: alias;\n                 }\n                 #searchInPage>.lockWords .lockWordTool {\n                     position: absolute;\n                     right: 0;\n                     top: 0;\n                     display: none;\n                     opacity: 0.3;\n                     height: 15px;\n                     width: 15px;\n                     text-align: center;\n                     line-height: 15px;\n                     border-radius: 50%;\n                     background: black;\n                     color: white;\n                 }\n                 #searchInPage>.lockWords .lockWordTool>span {\n                     cursor: pointer;\n                     font-size: 15px;\n                 }\n                 #searchInPage>.lockWords .modifyBtn {\n                     top: unset;\n                     bottom: 0;\n                 }\n                 #searchInPage>.lockWords .lockWordTool:hover {\n                     opacity: 1;\n                 }\n                 #searchInPage>.lockWords>span:hover .lockWordTool {\n                     display: block;\n                     pointer-events: all;\n                 }\n                 #searchInPage>.lockWords .lockWordTool>svg {\n                     width: 15px;\n                     height: 15px;\n                     fill: black;\n                     color: black;\n                     border: 1px solid white;\n                     border-radius: 10px;\n                     background: white;\n                 }\n                 #searchInPage>.lockWords>span>em {\n                     font-size: 12px;\n                     margin-right: 5px;\n                     color: unset;\n                 }\n                 .searchJumperNavBar {\n                     all: unset;\n                     top: 0px;\n                     bottom: 0px;\n                     right: 0px;\n                     position: fixed;\n                     width: 20px;\n                     z-index: 2147483647;\n                     background: #00000026;\n                     text-align: center;\n                     pointer-events: none;\n                     font-size: 0px;\n                     opacity: 0;\n                     transition: width 0.3s, background 0.3s;\n                 }\n                 .searchJumperNavBar:hover {\n                     width: 25px;\n                     background: #00000066;\n                 }\n                 .searchJumperNavBar.sjNavShow {\n                     pointer-events: all;\n                     opacity: 1;\n                 }\n                 .search-jumper-showall > .searchJumperNavBar.sjNavShow {\n                     opacity: 0;\n                 }\n                 .searchJumperNavBar>.closeNavBtn {\n                     width: 16px;\n                     height: 16px;\n                     fill: white;\n                     cursor: pointer;\n                     display: inline-block;\n                 }\n                 .searchJumperNavBar>.minNavBtn,\n                 .searchJumperNavBar>.maxNavBtn {\n                     font-size: 12px;\n                     font-weight: bold;\n                     font-family: system-ui;\n                     line-height: 16px;\n                     opacity: 0.1;\n                     background: white;\n                     color: black;\n                     border-radius: 10px;\n                     width: 16px;\n                     height: 16px;\n                     display: inline-block;\n                     cursor: pointer;\n                     transition: 0.25s opacity ease, 0.25s transform ease;\n                 }\n                 .searchJumperNavBar:hover>.minNavBtn,\n                 .searchJumperNavBar:hover>.maxNavBtn {\n                     opacity: 0.8;\n                 }\n                 #search-jumper>.searchJumperNavBar.minimize {\n                     background: transparent;\n                     pointer-events: none;\n                 }\n                 .searchJumperNavBar.minimize>.closeNavBtn,\n                 .searchJumperNavBar.minimize>.navPointer,\n                 .searchJumperNavBar.minimize>.maxNavBtn,\n                 .searchJumperNavBar.minimize>#navMarks {\n                     display: none;\n                 }\n                 .searchJumperNavBar.minimize>.minNavBtn {\n                     opacity: 1;\n                     box-shadow: 0px 0px 3px 1px #000;\n                     margin-left: -50px;\n                     margin-top: 5px;\n                     pointer-events: all;\n                 }\n                 .search-jumper-right>.searchJumperNavBar.minimize>.minNavBtn {\n                     margin-left: unset;\n                     margin-right: -50px;\n                 }\n                 #navMarks+.navPointer {\n                     pointer-events: none;\n                     position: absolute;\n                     right: 20px;\n                     text-shadow: #fff 1px 0 0, #fff 0 1px 0, #fff -1px 0 0, #fff 0 -1px 0;\n                     font-size: 30px;\n                     font-family: system-ui;\n                     line-height: 0px;\n                     border: 0;\n                     margin-top: 0;\n                     opacity: 0.8;\n                     color: black;\n                     transition: top 0.25s ease;\n                     animation-name: changeHor;\n                     animation-duration: 1s;\n                     animation-iteration-count: infinite;\n                     animation-timing-function: ease-in-out;\n                 }\n                 @keyframes changeHor {\n                     0%   {right: 20px;}\n                     10%  {right: 18px;}\n                     80%  {right: 25px;}\n                     100% {right: 20px;}\n                 }\n                 #navMarks {\n                     height: calc(100% - 50px);\n                     width: 100%;\n                     position: relative;\n                 }\n                 #navMarks>span {\n                     height: 0.5vh;\n                     width: 100%;\n                     position: absolute;\n                     border: 1px solid #cccccc;\n                     min-height: 5px;\n                     box-sizing: border-box;\n                     left: 0;\n                     border-radius: 0px!important;\n                     cursor: alias;\n                 }\n                 .searchJumperPosBar {\n                     background: rgba(29, 93, 163, 0.3);\n                     position: absolute;\n                     min-height: 10px;\n                     min-width: 10px;\n                     animation-duration: 2s;\n                     z-index: 2147483647;\n                     margin: 0;\n                     opacity: 0;\n                     pointer-events: none;\n                     transition: 0.25s all ease;\n                 }\n                 .searchJumperPosBar.searchJumperPosW {\n                     width: 100%;\n                     left: 0;\n                 }\n                 .searchJumperPosBar.searchJumperPosH {\n                     height: 100%;\n                     top: 0;\n                     position: fixed;\n                 }\n                 @keyframes fadeit {\n                     0% {opacity: 1;}\n                     50% {opacity: 0.8;}\n                     100% {opacity: 0;}\n                 }\n                 #rightSizeChange {\n                     top: 0;\n                     opacity: 0;\n                     height: 45px;\n                     width: 15px;\n                     position: absolute;\n                     cursor: e-resize;\n                     right: 0;\n                     pointer-events: all;\n                 }\n                 .searchJumper-hide {\n                     display: none!important;\n                 }\n                 .search-jumper-historylist>a.search-jumper-btn {\n                     filter: drop-shadow(0px 0px 3px #00000050);\n                     width: 32px;\n                     height: 32px;\n                     line-height: 32px;\n                     min-width: auto;\n                     min-height: auto;\n                     flex-shrink: 0;\n                 }\n                 .search-jumper-historylist>a.search-jumper-btn>img {\n                     width: 32px;\n                     height: 32px;\n                 }\n                 .search-jumper-historylist>a.search-jumper-btn:not(.search-jumper-word)>span {\n                     font-size: 12px;\n                     line-height: normal;\n                 }\n                 #search-jumper .listArrow {\n                     width: 0;\n                     height: 0;\n                     border: 10px solid transparent;\n                     pointer-events: none;\n                     border-bottom-color: white;\n                     position: fixed;\n                     opacity: 0;\n                     visibility: hidden;\n                     z-index: 2147483647;\n                     transition: opacity .3s ease, top .15s, bottom .15s, left .15s, right .15s;\n                 }\n                 #search-jumper.search-jumper-left .listArrow {\n                     border-bottom-color: transparent;\n                     border-right-color: white;\n                 }\n                 #search-jumper.search-jumper-right .listArrow {\n                     border-bottom-color: transparent;\n                     border-left-color: white;\n                 }\n                 #search-jumper.search-jumper-bottom .listArrow {\n                     border-bottom-color: transparent;\n                     border-top-color: white;\n                 }\n                 @media (prefers-color-scheme: dark) {\n                     /* 站点列表 */\n                     #search-jumper .sitelist > .sitelistCon > p {\n                         background-color: #252B32 !important;\n                     }\n                     #search-jumper.search-jumper-showall #filterSites {\n                         background-color: #2a282cc0;\n                     }\n                     #search-jumper.search-jumper-showall #filterSites>input,\n                     #search-jumper.search-jumper-showall #filterSites>textarea {\n                         background-color: #000000;\n                         color: white;\n                     }\n\n                     #search-jumper .sitelist > .sitelistCon {\n                         background-color: #1C2127ee !important;\n                     }\n\n                     #search-jumper .sitelist > .sitelistCon > div:hover {\n                         background-color: #283C57 !important;\n                     }\n\n                     #search-jumper .sitelist > .sitelistCon > p,\n                     #search-jumper .sitelist a > p {\n                         color: #DADADA !important;\n                     }\n                     #search-jumper .listArrow {\n                         border-bottom-color: #1C2127;\n                     }\n                     #search-jumper.search-jumper-left .listArrow {\n                         border-bottom-color: transparent;\n                         border-right-color: #1C2127;\n                     }\n                     #search-jumper.search-jumper-right .listArrow {\n                         border-bottom-color: transparent;\n                         border-left-color: #1C2127;\n                     }\n                     #search-jumper.search-jumper-bottom .listArrow {\n                         border-bottom-color: transparent;\n                         border-top-color: #1C2127;\n                     }\n\n                     /* 历史列表 */\n                     .search-jumper-historylistcon {\n                         background-color: #181C20e0 !important;\n                     }\n\n                     .search-jumper-historylist>a.search-jumper-btn {\n                         filter: drop-shadow(0px 0px 3px #ffffff50);\n                     }\n\n                     .search-jumper-showall a.search-jumper-word,\n                     .search-jumper-showall a.search-jumper-word > span {\n                         background-color: #292A2D !important;\n                         border-radius: 20px !important;\n                     }\n\n                     .search-jumper-tips {\n                         background-color: #3F4042f0;\n                         color: #DADADA;\n                     }\n                     .search-jumper-tips>*:not(font) {\n                         color: white;\n                     }\n\n                     .search-jumper-showall a.search-jumper-word > span {\n                         color: #DADADA !important;\n                     }\n\n                     .search-jumper-showall .search-jumper-word:hover {\n                         text-shadow: 0px 0px 5px #2374FF !important;\n                     }\n\n                     /* 类别 */\n                     .search-jumper-showall .search-jumper-type,\n                     .search-jumper-showall .search-jumper-logo {\n                         background-color: #181C20 !important;\n                     }\n\n                     #search-jumper.search-jumper-showall>.groupTab {\n                         background: #1C2127ee !important;\n                     }\n                     #search-jumper.search-jumper-showall>.groupTab>span:hover{\n                         background: #283C57 !important;\n                     }\n                     #search-jumper.search-jumper-showall>.groupTab:hover>span::after {\n                         color: white;\n                     }\n                 }\n                 `,this.inPageCss="\n                 mark.searchJumper,\n                 a.searchJumper {\n                     visibility: inherit;\n                     font-style: inherit;\n                     box-shadow: rgba(0, 0, 0, 0.3) 1px 1px 3px;\n                     border-radius: 3px;\n                     text-decoration: none;\n                     padding: 1px 0;\n                     -webkit-text-fill-color: initial;\n                     text-shadow: initial;\n                     min-width: initial;\n                     display: inline;\n                     margin: initial;\n                 }\n                 mark.searchJumper:before,\n                 a.searchJumper:before,\n                 mark.searchJumper:after,\n                 a.searchJumper:after {\n                     all: unset;\n                     content: none!important;\n                 }\n                 mark.searchJumper[data-current=true],\n                 a.searchJumper[data-current=true] {\n                     border-bottom: 0.2em solid;\n                     border-bottom-left-radius: 0;\n                     border-bottom-right-radius: 0;\n                     animation: 0.5s linear 0s 5 normal none running currentMark;\n                 }\n                 @keyframes currentMark {\n                     from {border-color: unset}\n                     to {border-color: transparent;}\n                 }\n                ",p.prefConfig.cssText&&(Ke+=p.prefConfig.cssText);let n=document.createElement("span");n.className="search-jumper-searchBar";let i,r=document.createElement("input");r.id="search-jumper-tileInput",r.addEventListener("mousedown",e=>{e&&e.stopPropagation&&e.stopPropagation()},!0),r.addEventListener("input",()=>{clearTimeout(i),i=setTimeout(()=>{let e=t.bar.querySelector(".search-jumper-open>span:first-child");e&&e.dispatchEvent(new CustomEvent("checkSites",{detail:r.value}))},500)},!0),this.tileInput=r;let s=document.createElement("span");s.className="search-jumper-logo",(ue=document.createElement("span")).innerHTML=h(Nt),ue.className="search-jumper-btn",s.addEventListener("mouseenter",()=>{this.preList&&(this.preList.style.visibility="hidden",this.listArrow.style.cssText="")}),s.appendChild(ue),n.appendChild(s);let a=document.createElement("div");a.id="search-jumper",a.style.display="none",a.className="search-jumper-searchBarCon",a.appendChild(n),a.setAttribute("translate","no");let o=document.createElement("div");o.id="search-jumper-alllist",a.appendChild(o),this.alllist=o;let c=document.createElement("span");c.className="groupTab",a.appendChild(c),this.groupTab=c;let d=document.createElement("div");d.className="search-jumper-showallBg",a.appendChild(d);let u=document.createElement("div");u.className="sitelistBox",o.appendChild(u),this.sitelistBox=u;const y=/#[^\s#]+/g;u.addEventListener("mouseover",e=>{if(!o.classList.contains("new-mode"))return;let n=e.target;n.parentNode&&n.parentNode.dataset.name&&(n=n.parentNode);let i=n.title;if(!n.dataset.name||!i||n.initedTag)return;let r=document.createElement("p"),s=i.match(y);s&&(s.forEach(e=>{let n=document.createElement("span");n.innerText=e.slice(1),n.addEventListener("click",()=>{t.searchInput.value=e,t.searchInput.dispatchEvent(new CustomEvent("input"))}),r.appendChild(n)}),n.appendChild(r)),n.initedTag=!0});let v=document.createElement("span");v.className="timeInAll",o.appendChild(v),this.timeInAll=v,this.modeSwitch=document.createElement("div"),this.modeSwitch.className="modeSwitch",this.modeSwitch.innerHTML=h('<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" version="1.1"><rect height="450" width="520" y="287" x="253" fill="#fff"></rect><path d="m511.8,64.2c-247.5,0 -448.2,200.7 -448.2,448.2s200.7,448.2 448.2,448.2s448.2,-200.6 448.2,-448.2s-200.7,-448.2 -448.2,-448.2zm-260.4,353.9c0,-7.8 6.3,-14.2 14.2,-14.2l315.6,0l0,-102.5c0,-12.3 14.7,-18.8 23.7,-10.4l165.1,151.7c9.5,8.7 3.3,24.6 -9.6,24.6l-495,0c-7.8,0 -14.2,-6.3 -14.2,-14.2l0,-35l0.2,0zm523.2,188.5c0,7.8 -6.3,14.2 -14.2,14.2l-315.5,0l0,102.6c0,12.3 -14.7,18.8 -23.7,10.4l-165.2,-151.8c-9.5,-8.7 -3.3,-24.6 9.6,-24.6l495,0c7.8,0 14.2,6.3 14.2,14.2l0,35l-0.2,0z"></path></svg>'),o.appendChild(this.modeSwitch),this.modeSwitch.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),o.classList.toggle("new-mode"),o.classList.remove("showbg"),pe.setItem("allPageNewMode",o.classList.contains("new-mode"))}),this.modeSwitch.addEventListener("mouseenter",e=>{He&&(e.preventDefault(),e.stopPropagation(),o.classList.add("showbg"))}),this.modeSwitch.addEventListener("mouseleave",e=>{He&&(e.preventDefault(),e.stopPropagation(),o.classList.remove("showbg"))}),this.modeSwitch.addEventListener("contextmenu",e=>{He&&(e.preventDefault(),e.stopPropagation(),o.classList.remove("showbg"),ae(He,{active:!0,insert:!0}))}),ze&&o.classList.add("new-mode");let w=document.createElement("span");w.className="dayInAll",o.appendChild(w),this.dayInAll=w,o.addEventListener(R(),e=>{var n,i;t.tips.style.display="none",clearTimeout(t.requestShowTipsTimer),e.target!=o&&e.target!=d&&e.target!=u||o.classList.contains("new-mode")||("wheel"!==e.type?(i=0,"number"==typeof e.axis?2==e.axis?i=e.detail:e.detail:void 0===e.wheelDeltaY||0!=e.wheelDeltaY?i=-e.wheelDelta/40:e.wheelDelta,n=i):(e.deltaX,n=e.deltaY),e.preventDefault(),e.stopPropagation(),o.scrollLeft+=n)},{passive:!1,capture:!1});let b=document.createElement("span");b.innerHTML=h(Nt),b.className="search-jumper-btn",b.addEventListener("click",()=>{ae(l,{active:!0,insert:!0})}),o.appendChild(b);let x=document.createElement("div");x.className="search-jumper-historylistcon",o.appendChild(x);let C=document.createElement("div");if(C.className="search-jumper-historylist",x.appendChild(C),this.historylist=C,n.addEventListener("mouseenter",()=>{n.classList.contains("grabbing")||(this.hideTimeout&&clearTimeout(this.hideTimeout),this.checkScroll(!0),p.prefConfig.mouseLeaveToHide&&n.classList.remove("initShow"))},!1),n.addEventListener("mouseleave",()=>{if(p.prefConfig.mouseLeaveToHide){if(n.classList.contains("grabbing"))return;t.waitForHide()}t.preList&&(t.preList.style.visibility="hidden",t.listArrow.style.cssText="")},!1),this.touched=!0,p.prefConfig.initShow?n.classList.add("initShow"):this.touched=!1,p.prefConfig.minSizeMode&&(n.classList.add("minSizeMode"),n.classList.add("minSizeModeClose")),St&&!p.prefConfig.resizePage){let e=()=>{this.touched=!1,n.classList.remove("initShow")},t=e=>{this.touched||this.funcKeyCall||(this.touched=!0,n.classList.add("disable-pointer"),e.stopPropagation(),setTimeout(()=>{n.classList.remove("disable-pointer")},250))};m(document).addEventListener("touchstart",e,{passive:!0,capture:!1}),n.addEventListener("touchstart",t,{passive:!1,capture:!0})}this.bar=n,this.con=a;let k=document.createElement("span");k.className="search-jumper-tips",k.style.opacity=0,a.appendChild(k),k.addEventListener("mouseenter",()=>{t.hideTimeout&&clearTimeout(t.hideTimeout)},!1),k.addEventListener("click",e=>{let n=e.target.dataset,i=e.target.innerText;if(n){if(void 0!==n.read){let e=new SpeechSynthesisUtterance("");e.volume=n.volume||1,e.rate=n.rate||1,e.pitch=n.pitch||1,e.lang=n.lang||"",e.text=n.read||i,window.speechSynthesis.speak(e)}void 0!==n.copy&&se(n.copy||i),n.search&&(Ht=i,t.searchBySiteName(n.search)),void 0!==n.paste&&Re&&(/INPUT|TEXTAREA/i.test(Re.nodeName)&&"true"!=Re.getAttribute("aria-readonly")||"true"==Re.contentEditable)&&E(Re,n.paste||i),void 0!==n.close&&(t.tips.style.opacity=0,t.tips.style.display="none",t.tips.innerHTML=h(""))}},!1);let j,T,S=e=>{let t=f(e)-j.x,n=g(e)-j.y;Math.abs(t)+Math.abs(n)<5||(""===k.style.right?k.style.setProperty("left",T.left+t+"px","important"):k.style.setProperty("right",T.right-t+"px","important"),""===k.style.bottom?k.style.setProperty("top",T.top+n+"px","important"):k.style.setProperty("bottom",T.bottom-n+"px","important"),k.classList.add("draging"))},I=()=>{document.removeEventListener("mouseup",I,!1),document.removeEventListener("mousemove",S,!1),document.removeEventListener("touchend",I,!1),document.removeEventListener("touchmove",S,!1),k.classList.remove("draging")},L=(e,t)=>{if(!e.target)return;if(e.target!==k&&void 0===e.target.dataset.drag)return;e.preventDefault(),e.stopPropagation(),j={x:f(e),y:g(e)};let n=getComputedStyle(k);T={left:parseFloat(n.left),right:parseFloat(n.right),top:parseFloat(n.top),bottom:parseFloat(n.bottom)},t&&t()};k.addEventListener("mousedown",e=>{L(e,()=>{document.addEventListener("mouseup",I,!1),document.addEventListener("mousemove",S,!1)})},!1),k.addEventListener("touchstart",e=>{L(e,()=>{document.addEventListener("touchend",I,!1),document.addEventListener("touchmove",S,!1)})},{passive:!1,capture:!1}),this.tips=k;let P=document.createElement("div");P.className="searchJumperNavBar",P.style.display="none",P.innerHTML=h(`\n                  <svg class="closeNavBtn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>Close navigation</title>${Bt}</svg>\n                  <div class="minNavBtn" title="Minimize navigation">-</div>\n                  <div id="navMarks"></div>\n                  <div class="maxNavBtn" title="Restore input"><img src="${Mt}" /></div>\n                  <div class="navPointer">></div>\n                `),a.appendChild(P);let N=document.createElement("span");N.title=e("expand"),N.className="searchJumperExpand search-jumper-btn",N.innerHTML=h('\n                <svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><rect height="450" width="600" y="300" x="200" fill="#fff"></rect><path d="M512 64C264.8 64 64 264.8 64 512s200.8 448 448 448 448-200.8 448-448S759.2 64 512 64z m0 640L240 432l45.6-45.6L512 613.6l226.4-226.4 45.6 45.6L512 704z"></path></svg>\n                '),this.searchJumperExpand=N,this.navMarks=P.querySelector("#navMarks"),this.closeNavBtn=P.querySelector(".closeNavBtn"),this.minNavBtn=P.querySelector(".minNavBtn"),this.maxNavBtn=P.querySelector(".maxNavBtn"),this.searchJumperNavBar=P,this.navPointer=P.querySelector(".navPointer"),this.navPointer.style.display="none";let M=document.createElement("div");M.className="search-jumper-input",M.innerHTML=h(`<span class="closeBtn">×</span>\n                <input type="radio" id="filterSitesTab" name="tab" ${p.prefConfig.defaultFindTab?"":'checked="checked"'} />\n                <label for="filterSitesTab">${e("filterSites")}</label>\n                <input type="radio" id="searchInPageTab" name="tab" ${p.prefConfig.defaultFindTab?'checked="checked"':""} />\n                <label for="searchInPageTab">${e("searchInPage")}</label>\n                <div class="line"></div>\n                <div class="content-container">\n                  <div class="inputGroup" id="filterSites">\n                    <input spellcheck="false" id="searchJumperInput" autocomplete="on" title="${e("inputTitle")}" placeholder="${e("inputPlaceholder")}" list="filterGlob" />\n                    <input spellcheck="false" id="searchJumperInputKeyWords" autocomplete="on" placeholder="${e("inputKeywords")}" list="suggest" />\n                    <datalist id="filterGlob">\n                    </datalist>\n                    <datalist id="suggest">\n                    </datalist>\n                    <span class="search-jumper-lock-input"></span>\n                    <span class="svgBtns">\n                      <svg id="copyEleBtn" style="display:none;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("copyEleBtn")}</title><path d="M706.5 188.4H190.2c-29.8 0-54 24.2-54 54v662.9c0 29.8 24.2 54 54 54h516.3c29.8 0 54-24.2 54-54V242.4c0-29.8-24.2-54-54-54z m-18 698.9H208.2V260.4h480.3v626.9zM313.7 512.2h275.2c19.9 0 36-16.1 36-36s-16.1-36-36-36H313.7c-19.9 0-36 16.1-36 36s16.1 36 36 36zM313.7 715.2h201.6c19.9 0 36-16.1 36-36s-16.1-36-36-36H313.7c-19.9 0-36 16.1-36 36s16.1 36 36 36zM837.2 64.7H302.9c-19.9 0-36 16.1-36 36s16.1 36 36 36h516.3v662.9c0 19.9 16.1 36 36 36s36-16.1 36-36V118.7c0-29.8-24.2-54-54-54z"></path></svg>\n                      <svg id="openLinkBtn" style="display:none;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("openLinkBtn")}</title><path d="M429.013333 640A32 32 0 0 1 384 594.986667l37.76-37.76-22.826667-22.613334-135.68 135.68 90.453334 90.453334 135.68-135.68-22.613334-22.613334zM534.613333 398.933333l22.613334 22.613334L594.986667 384A32 32 0 0 1 640 429.013333l-37.76 37.76 22.613333 22.613334 135.68-135.68-90.453333-90.453334z"/><path d="M512 21.333333a490.666667 490.666667 0 1 0 490.666667 490.666667A490.666667 490.666667 0 0 0 512 21.333333z m316.8 354.986667l-181.12 181.12a32 32 0 0 1-45.226667 0L557.226667 512 512 557.226667l45.226667 45.226666a32 32 0 0 1 0 45.226667l-181.12 181.12a32 32 0 0 1-45.226667 0l-135.68-135.68a32 32 0 0 1 0-45.226667l181.12-181.12a32 32 0 0 1 45.226667 0L466.773333 512 512 466.773333l-45.226667-45.226666a32 32 0 0 1 0-45.226667l181.12-181.12a32 32 0 0 1 45.226667 0l135.68 135.68a32 32 0 0 1 0 45.226667z"/></svg>\n                      <svg id="maxEleBtn" style="display:none;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("maxEleBtn")}</title><path d="M192 832h160a32 32 0 0 1 0 64H160a32 32 0 0 1-32-32V672a32 32 0 0 1 64 0zM182.72 886.72a32 32 0 0 1-45.44-45.44l224-224a32 32 0 0 1 45.44 45.44zM832 832V672a32 32 0 0 1 64 0v192a32 32 0 0 1-32 32H672a32 32 0 0 1 0-64zM886.72 841.28a32 32 0 0 1-45.44 45.44l-224-224a32 32 0 0 1 45.44-45.44zM192 192v160a32 32 0 0 1-64 0V160a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64zM137.28 182.72a32 32 0 0 1 45.44-45.44l224 224a32 32 0 0 1-45.44 45.44zM832 192H672a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0zM841.28 137.28a32 32 0 1 1 45.44 45.44l-224 224a32 32 0 0 1-45.44-45.44z"></path></svg>\n                      <svg id="minEleBtn" style="display:none;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("minEleBtn")}</title><path d="M672 352h160a32 32 0 0 1 0 64H640a32 32 0 0 1-32-32V192a32 32 0 0 1 64 0zM662.72 406.72a32 32 0 0 1-45.44-45.44l224-224a32 32 0 1 1 45.44 45.44zM352 352V192a32 32 0 0 1 64 0v192a32 32 0 0 1-32 32H192a32 32 0 0 1 0-64zM406.72 361.28a32 32 0 0 1-45.44 45.44l-224-224a32 32 0 0 1 45.44-45.44zM672 672v160a32 32 0 0 1-64 0V640a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64zM617.28 662.72a32 32 0 0 1 45.44-45.44l224 224a32 32 0 0 1-45.44 45.44zM192 672a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V672zM361.28 617.28a32 32 0 0 1 45.44 45.44l-224 224a32 32 0 0 1-45.44-45.44z"></path></svg>\n                      <svg id="pickerBtn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("multiPickerBtn")}</title><path d="M874.048 533.333333C863.424 716.629333 716.629333 863.424 533.333333 874.048V917.333333a21.333333 21.333333 0 0 1-42.666666 0v-43.285333C307.370667 863.424 160.576 716.629333 149.952 533.333333H106.666667a21.333333 21.333333 0 0 1 0-42.666666h43.285333C160.576 307.370667 307.370667 160.576 490.666667 149.952V106.666667a21.333333 21.333333 0 0 1 42.666666 0v43.285333c183.296 10.624 330.090667 157.418667 340.714667 340.714667h42.816a21.333333 21.333333 0 1 1 0 42.666666H874.026667z m-42.752 0h-127.786667a21.333333 21.333333 0 0 1 0-42.666666h127.786667C820.778667 330.922667 693.056 203.221333 533.333333 192.704V320a21.333333 21.333333 0 0 1-42.666666 0V192.704C330.922667 203.221333 203.221333 330.944 192.704 490.666667H320a21.333333 21.333333 0 0 1 0 42.666666H192.704c10.517333 159.744 138.24 287.445333 297.962667 297.962667V704a21.333333 21.333333 0 0 1 42.666666 0v127.296c159.744-10.517333 287.445333-138.24 297.962667-297.962667zM512 554.666667a42.666667 42.666667 0 1 1 0-85.333334 42.666667 42.666667 0 0 1 0 85.333334z"></path></svg>\n                    </span>\n                  </div>\n                  <div class="inputGroup" id="searchInPage">\n                    <span class="lockWords"></span>\n                    <input spellcheck="false" id="searchJumperInPageInput" autocomplete="on" title="${e("inPageTips")}" placeholder="${e("inPagePlaceholder")}" />\n                    <span class="svgBtns">\n                      <svg id="editBtn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("editBtn")}</title><path d="M928 365.664a32 32 0 0 0-32 32V864a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h429.6a32 32 0 0 0 0-64H160a96 96 0 0 0-96 96v704a96 96 0 0 0 96 96h704a96 96 0 0 0 96-96V397.664a32 32 0 0 0-32-32z"></path><path d="M231.616 696.416a38.4 38.4 0 0 0 44.256 53.792l148-38.368L950.496 185.248 814.72 49.472 290.432 573.76l-58.816 122.656z m111.808-85.12L814.72 140l45.248 45.248-468.992 468.992-77.824 20.16 30.272-63.104z"></path></svg>\n                      <svg id="addWord" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("addWord")}</title><path d="M821.364 962h-618.75C123.864 962 62 900.114 62 821.364v-618.75c0-78.75 61.864-140.635 140.614-140.635h618.75c78.75 0 140.636 61.885 140.636 140.635v618.75C962 900.114 900.114 962 821.364 962z m79.265-756.814c0-46.586-35.25-81.815-81.815-81.815H205.186c-46.843-0.214-84.557 34.758-83.165 82.393-0.128 14.4 1.35 613.05 1.35 613.05 0 46.565 35.25 81.815 81.815 81.815h613.628c46.565 0 81.815-35.25 81.815-81.815V205.186z m-173.55 347.657H552.843v174.236c0 16.95-13.736 30.685-30.686 30.685h-0.236a30.686 30.686 0 0 1-30.685-30.685V552.843H296.92a30.686 30.686 0 0 1-30.685-30.686v-0.236c0-16.95 13.735-30.685 30.685-30.685h194.315V296.92c0-16.95 13.735-30.685 30.685-30.685h0.236c16.95 0 30.686 13.735 30.686 30.685v194.315h174.236c16.95 0 30.685 13.735 30.685 30.685v0.236c0 16.95-13.735 30.686-30.685 30.686z"></path></svg>\n                      <svg id="emptyBtn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("emptyBtn")}</title><path d="m159.45829,231.40004l-48.83334,0a36.625,34.1375 0 0 1 0,-68.275l805.75004,0a36.625,34.1375 0 0 1 0,68.275l-683.6667,0l0,603.09581a61.04167,56.89583 0 0 0 61.04167,56.89584l439.50002,0a61.04167,56.89583 0 0 0 61.04167,-56.89584l0,-500.68332a36.625,34.1375 0 0 1 73.25,0l0,500.68332c0,69.12844 -60.12604,125.17084 -134.29167,125.17084l-439.50002,0c-74.16563,0 -134.29167,-56.0424 -134.29167,-125.17084l0,-603.09581zm256.37501,-113.79167a36.625,34.1375 0 0 1 0,-68.275l195.33334,0a36.625,34.1375 0 0 1 0,68.275l-195.33334,0zm-36.625,307.23749a36.625,34.1375 0 0 1 73.25,0l0,273.09999a36.625,34.1375 0 0 1 -73.25,0l0,-273.09999zm195.33334,0a36.625,34.1375 0 0 1 73.25,0l0,273.09999a36.625,34.1375 0 0 1 -73.25,0l0,-273.09999z"/></svg>\n                      <svg id="copyInPageBtn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("copyInPageBtn")}</title><path d="M706.5 188.4H190.2c-29.8 0-54 24.2-54 54v662.9c0 29.8 24.2 54 54 54h516.3c29.8 0 54-24.2 54-54V242.4c0-29.8-24.2-54-54-54z m-18 698.9H208.2V260.4h480.3v626.9zM313.7 512.2h275.2c19.9 0 36-16.1 36-36s-16.1-36-36-36H313.7c-19.9 0-36 16.1-36 36s16.1 36 36 36zM313.7 715.2h201.6c19.9 0 36-16.1 36-36s-16.1-36-36-36H313.7c-19.9 0-36 16.1-36 36s16.1 36 36 36zM837.2 64.7H302.9c-19.9 0-36 16.1-36 36s16.1 36 36 36h516.3v662.9c0 19.9 16.1 36 36 36s36-16.1 36-36V118.7c0-29.8-24.2-54-54-54z"></path></svg>\n                      <svg id="wordModeBtn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("wordModeBtn")}</title><path d="M832 128c38.4 0 64 25.6 64 64v640c0 38.4-25.6 64-64 64H192c-38.4 0-64-25.6-64-64V192c0-38.4 25.6-64 64-64h640m0-64H192c-70.4 0-128 57.6-128 128v640c0 70.4 57.6 128 128 128h640c70.4 0 128-57.6 128-128V192c0-70.4-57.6-128-128-128z"></path><path d="M736 812.8h-448c-19.2 0-32-12.8-32-32s12.8-32 32-32h448c19.2 0 32 12.8 32 32 0 12.8-12.8 32-32 32zM320 704c-19.2-6.4-25.6-25.6-19.2-44.8l185.6-454.4c6.4-12.8 25.6-19.2 38.4-12.8 19.2 6.4 25.6 25.6 19.2 44.8l-185.6 454.4c-6.4 12.8-25.6 19.2-38.4 12.8z"></path><path d="M704 691.2c19.2-6.4 25.6-25.6 19.2-44.8L544 211.2c-6.4-19.2-25.6-25.6-38.4-19.2-19.2 6.4-25.6 25.6-19.2 38.4l179.2 441.6c6.4 19.2 25.6 25.6 38.4 19.2z"></path><path d="M371.2 492.8h256v64h-256z"></path></svg>\n                      <svg id="recoverBtn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("recoverBtn")}</title><path d="M502.26 289.06c-0.02 16.95 13.26 30.94 30.18 31.8 123.47 8.79 236.97 70.94 310.89 170.21 73.92 99.28 100.91 225.84 73.93 346.65-41.65-181.74-195.38-316.12-381.05-333.08-8.89-0.6-17.63 2.55-24.09 8.7a31.798 31.798 0 0 0-9.86 23.64v85.15a32.343 32.343 0 0 1-50.67 26.41L114.21 413.02a32.341 32.341 0 0 1-14.46-26.95c0-10.84 5.43-20.96 14.46-26.95L451.6 124.68a32.358 32.358 0 0 1 33.28-2.03 32.355 32.355 0 0 1 17.39 28.44v137.97h-0.01z"></path></svg>\n                      <svg id="saveRuleBtn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("saveRuleBtn")}</title><path d="M579.7 291.4c18.8 0 34.1-15.3 34.1-34.1v-34.1c0-18.8-15.4-34.1-34.1-34.1-18.8 0-34.1 15.3-34.1 34.1v34.1c0 18.7 15.4 34.1 34.1 34.1zM944.7 216.3L808.2 79.9c-6.8-6.8-15.3-10.2-23.9-10.2H170.4c-56.3 0-102.3 46-102.3 102.3v682.1c0 56.3 46 102.3 102.3 102.3H852.5c56.3 0 102.3-46 102.3-102.3V240.2c0.1-8.5-3.3-17-10.1-23.9zM358 137.9h307v182.5c0 11.9-10.2 22.2-22.2 22.2H380.2c-11.9 0-22.2-10.2-22.2-22.2V137.9z m358.1 750.3H306.9V652.9c0-20.5 17.1-37.5 37.5-37.5h334.2c20.5 0 37.5 17 37.5 37.5v235.3z m170.6-34.1c0 18.8-15.3 34.1-34.1 34.1h-66.5V652.9c0-58-47.7-105.7-105.7-105.7h-336c-58 0-105.7 47.7-105.7 105.7v235.3h-68.2c-18.8 0-34.1-15.3-34.1-34.1V172c0-18.8 15.3-34.1 34.1-34.1h119.4v182.5c0 49.5 40.9 90.4 90.4 90.4h262.6c49.5 0 90.4-40.9 90.4-90.4V137.9h37.5l116 116v600.2z"></path></svg>\n                      <svg id="pinBtn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("pinBtn")}</title><path d="m674.8822,92.83803a81.61801,81.04246 0 0 1 25.30158,17.09996l213.75757,212.46631a81.61801,81.04246 0 0 1 -24.70304,131.36982l-75.74151,33.30845l-142.09696,141.257l-11.26329,155.3854a81.61801,81.04246 0 0 1 -139.13151,51.46196l-137.98885,-137.15085l-235.14149,234.56388l-57.83996,-57.18896l235.27751,-234.69896l-142.7499,-141.85131a81.61801,81.04246 0 0 1 51.6642,-138.09635l160.95072,-11.94025l139.5668,-138.74469l32.78324,-75.09935a81.61801,81.04246 0 0 1 107.35489,-42.14208zm-32.45675,74.36997l-38.95901,89.22775l-171.94193,170.99958l-191.25821,14.1284l338.46989,336.3262l13.43977,-185.47917l174.33607,-173.32279l89.69819,-39.44067l-213.78477,-212.43929z"></path></svg>\n                      <svg id="locBtn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("locBtn")}</title><path d="M357.6 832l-255.2 56c-20 4.8-39.2-10.4-39.2-31.2V569.6c0-15.2 10.4-28 24.8-31.2L243.2 504l53.6 53.6L139.2 592c-7.2 1.6-12.8 8-12.8 16v188c0 10.4 9.6 17.6 19.2 16l192.8-42.4 12.8-3.2 12.8 2.4 306.4 60.8 210.4-47.2c7.2-1.6 12.8-8 12.8-16V580c0-10.4-9.6-17.6-19.2-16L688 606.4l-12 2.4L760 524.8l160.8-36c20-4.8 39.2 10.4 39.2 31.2v286.4c0 15.2-10.4 28-24.8 31.2L672.8 896M512 128c-115.2 0-206.4 101.6-190.4 220 5.6 41.6 26.4 80 56 109.6l0.8 0.8L512 591.2l133.6-132.8 0.8-0.8c29.6-29.6 49.6-68 56-109.6C719.2 229.6 627.2 128 512 128m0-64c141.6 0 256 114.4 256 256 0 70.4-28 133.6-74.4 180L512 681.6 330.4 500C284.8 453.6 256 390.4 256 320 256 178.4 371.2 64 512 64z m64.8 193.6c0-35.2-28.8-64-64-64s-64 28.8-64 64 28.8 64 64 64 64-28 64-64z"></path></svg>\n                    </span>\n                    <div id="addons"></div>\n                  </div>\n                </div>\n                <div id="rightSizeChange"></div>\n                `),a.appendChild(M),this.searchInputDiv=M,this.searchInput=M.querySelector("#searchJumperInput"),this.searchJumperInputKeyWords=M.querySelector("#searchJumperInputKeyWords"),this.searchLockInput=M.querySelector(".search-jumper-lock-input"),this.searchJumperInPageInput=M.querySelector("#searchJumperInPageInput"),this.pickerBtn=M.querySelector("#pickerBtn"),this.minEleBtn=M.querySelector("#minEleBtn"),this.maxEleBtn=M.querySelector("#maxEleBtn"),this.copyEleBtn=M.querySelector("#copyEleBtn"),this.openLinkBtn=M.querySelector("#openLinkBtn"),this.editBtn=M.querySelector("#editBtn"),this.addWord=M.querySelector("#addWord"),this.recoverBtn=M.querySelector("#recoverBtn"),this.wordModeBtn=M.querySelector("#wordModeBtn"),this.saveRuleBtn=M.querySelector("#saveRuleBtn"),this.pinBtn=M.querySelector("#pinBtn"),this.locBtn=M.querySelector("#locBtn"),this.emptyBtn=M.querySelector("#emptyBtn"),this.copyInPageBtn=M.querySelector("#copyInPageBtn"),this.closeBtn=M.querySelector(".closeBtn"),this.filterSites=M.querySelector("#filterSites"),this.filterSitesTab=M.querySelector("#filterSitesTab"),this.searchInPageTab=M.querySelector("#searchInPageTab"),this.searchInPageLockWords=M.querySelector("#searchInPage>.lockWords"),this.contentContainer=M.querySelector(".content-container"),this.rightSizeChange=M.querySelector("#rightSizeChange"),this.filterGlob=M.querySelector("#filterGlob"),this.suggestDatalist=M.querySelector("#suggest"),this.addonsList=M.querySelector("#addons"),this.fakeTextareas=new Map,this.addonCheckboxDict={}}showInPageSearch(){this.searchInPageTab.checked=!0,this.showSearchInput(),this.initSetInPageWords(),this.searchJumperInPageInput.value="",this.initShowSearchInput=!0}showFilterSearch(){this.filterSitesTab.checked=!0,this.showSearchInput()}initSetInPageWords(){if(this.searchInPageTab.checked&&!this.searchJumperInPageInput.value){let e=J()||this.searchJumperInputKeyWords.value.replace(/^\*/,"")||O();if(e)try{e=decodeURIComponent(e)}catch(e){}if(this.lockWords&&-1!==this.lockWords.indexOf(e))return;this.searchJumperInPageInput.value=e||Me,this.lockWords||this.submitIgnoreSpace(this.searchJumperInPageInput.value)}}anylizeInPageWords(e,t){if(!e)return[];let n=this,i=[];if(this.lockWords||(0===e.indexOf("$c")&&e.length>2?e=e.substr(3).trim():0===e.indexOf("$o")&&(e=e.substr(2).trim())),this.splitSep){let r=this.wordModeBtn.classList.contains("checked")?new RegExp(`[\\${this.splitSep} ]`):this.splitSep;e.split(r).sort((e,t)=>t.length-e.length).forEach(e=>{let r=e;if(!(e=e.trim()))return;if(t){if(e.length<(p.prefConfig.limitInPageLen||1))return;if((p.prefConfig.ignoreWords||[]).includes(e.toLowerCase()))return}let s,a,o,l="",c="",h=!1,d=!1,u="",m=/\$t{(.*?)}($|\$)/,f=e.match(m),g=0;if(f)if(l=f[1],e=e.replace(m,"$2"),"\\$popup"==l)l="$popup";else if("\\@popup"==l)l="@popup";else{let e=l.match(/^[\$@]popup(\((.*)\))?$/);e&&(l="",h=!0,e[1]&&(g=e[2]||"1"))}let y=/\$p{(.*?)}($|\$)/,v=e.match(y);v&&(s=parseInt(v[1])||0,e=e.replace(y,"$2"));let w=/\$in{(.*?)}($|\$)/,b=e.match(w);b&&(o=b[1]||"",e=e.replace(w,"$2"));let x=/\$s{(.*?)}($|\$)/,C=e.match(x);if(C){let t=C[1],i="";C=C[1].match(/(.*?);(.*)/),C&&(t=C[1],i=C[2]),c=n.getHighlightStyle(n.curWordIndex,t,i),e=e.replace(x,"$2")}else c=n.getHighlightStyle(n.curWordIndex,"","");let k="";if(0===e.indexOf("@")){k=e;let t=p.prefConfig.inPageRule&&p.prefConfig.inPageRule[e];t&&(e=t)}else e=e.replace(/^\\@/,"@");let j=e.match(/^\/(.*)\/([il]*)($|\$)/);j&&(d=!0,e=j[1],u=-1!=j[2].indexOf("i")?"i":"",a=-1!=j[2].indexOf("l")),k||(k=e),n.highlightSpans[k]||(i.push({content:e,showWords:k,isRe:d,link:a,reCase:u,title:l,style:c,oriWord:r,hideParent:s,inRange:o,popup:h,showTips:g,init:t}),n.curWordIndex++)})}else{this.curWordIndex=0;let r=(this.lockWords||"").replace(/^\$o/,"")+e;i=[{content:r,showWords:r,isRe:!1,reCase:"",title:"",style:n.getHighlightStyle(n.curWordIndex,"",""),init:t}]}return i}submitInPageWords(t){let n=this.searchJumperInPageInput.value,i=[];if(!n){if(this.lockWords){this.highlight("insert");for(let e in this.highlightSpans){let t=this.highlightSpans[e],n=this.marks[e];this.setHighlightSpan(t,0,n)}}else this.highlight("");return i}this.initHighlight=!!t,this.initHighlight&&setTimeout(()=>{this.initHighlight=!1},500),this.lockWords||(0===n.indexOf("$c")&&n.length>2?this.splitSep=n.substr(2,1):0===n.indexOf("$o")?this.splitSep=null:this.splitSep="◎",this.curWordIndex=0),this.searchJumperInPageInput.value="";let r=this.anylizeInPageWords(n,this.initHighlight);return r&&0!=r.length?(this.lockWords?this.lockWords+=(this.lockWords.indexOf(this.splitSep)===this.lockWords.length-this.splitSep.length?"":this.splitSep)+n:this.lockWords=n,this.splitSep||(this.searchInPageLockWords.innerHTML=h(),this.highlight("")),this.highlight(r),r.forEach(t=>{if(!t)return;let n=document.createElement("span");n.innerHTML=h(t.showWords),n.title=t.title?JSON.parse('"'+t.title+'"'):t.showWords;let r=t.style.match(/background: *(#?\w+)/);r&&-1===r[1].indexOf("unset")&&(n.style.background=r[1]);let s=t.style.match(/color: *(#?\w+)/);s&&(n.style.color=s[1]),n.addEventListener("click",e=>(e.stopPropagation(),e.preventDefault(),!1)),n.oncontextmenu=e=>{e.preventDefault()},n.addEventListener("dblclick",e=>{e.stopPropagation(),e.preventDefault(),"EM"!==e.target.nodeName.toUpperCase()&&(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||-1!==this.lockWords.indexOf(t.oriWord)&&this.showModifyWindow(t,n))},!0),n.addEventListener("mousedown",e=>{0===e.button?this.focusHighlightByText(t.showWords,!0,n):2===e.button&&this.focusHighlightByText(t.showWords,!1,n)});let a=!1;n.addEventListener(R(),e=>{if(e.preventDefault(),e.stopPropagation(),a)return;let i;if(a=!0,setTimeout(()=>{a=!1},100),"wheel"!==e.type){let t=0;"number"==typeof e.axis?2==e.axis&&(t=e.detail):void 0!==e.wheelDeltaY&&0==e.wheelDeltaY||(t=-e.wheelDelta/40),i=t}else i=e.deltaY;this.focusHighlightByText(t.showWords,i>0,n)},{passive:!1,capture:!1}),n.addEventListener("editword",()=>{n.parentNode.removeChild(n),this.removeHighlightWord(t),this.searchJumperInPageInput.value=t.content});let o=document.createElement("div");o.addEventListener("mousedown",e=>{e.stopPropagation(),e.preventDefault(),n.parentNode.removeChild(n),this.removeHighlightWord(t)}),o.className="lockWordTool",o.innerHTML=h(`<span title="${e("removeBtn")}">×</span>`),n.appendChild(o);let l=document.createElement("div");l.addEventListener("mousedown",e=>{e.stopPropagation(),e.preventDefault(),-1!==this.lockWords.indexOf(t.oriWord)&&this.showModifyWindow(t,n)}),l.className="lockWordTool modifyBtn",l.innerHTML=h("<span>+</span>"),n.appendChild(l);let c=this.marks[t.showWords];this.setHighlightSpan(n,-1,c),this.highlightSpans[t.showWords]=n,this.searchInPageLockWords.appendChild(n),i.push(n)}),this.searchInPageLockWords.scrollTop<=0&&(this.searchInPageLockWords.scrollTop=this.searchInPageLockWords.scrollHeight),this.searchJumperInPageInput.style.paddingLeft=this.searchInPageLockWords.clientWidth+3+"px",this.navMarks.innerHTML&&"none"===this.con.style.display&&(this.con.style.display=""),i):i}async showCustomInputWindow(t,n){return new Promise(i=>{this.customInputCallback=n;let r=()=>{let e=this.finalSearch.dataset.url;[].forEach.call(this.customGroup.children,t=>{let n=t.value;if("select"==t.className)n=t.children[0].value;else if(/^DIV$/i.test(t.nodeName))return;e=e.replace("◎",n||"")}),this.finalSearch.value=e};if(!this.customInputFrame){let t=oe('\n                         .customInputFrame-body {\n                             width: 300px;\n                             min-height: 200px;\n                             position: fixed;\n                             text-align: left;\n                             left: 50%;\n                             top: 50%;\n                             margin-top: -160px;\n                             margin-left: -150px;\n                             z-index: 2147483647;\n                             background-color: #ffffff;\n                             border: 1px solid #afb3b6;\n                             border-radius: 10px;\n                             opacity: 0.95;\n                             filter: alpha(opacity=95);\n                             box-shadow: 5px 5px 20px 0px #000;\n                             color: #6e7070;\n                             font-size: initial;\n                         }\n                         .customInputFrame-body #customGroup {\n                             max-height: 50vh;\n                             overflow: auto;\n                             scrollbar-width: none;\n                         }\n                         .customInputFrame-body #customGroup::-webkit-scrollbar {\n                             width: 0 !important;\n                             height: 0 !important;\n                         }\n                         .customInputFrame-title {\n                             background: #458bd1!important;\n                             display: flex!important;\n                             align-items: center!important;\n                             justify-content: center!important;\n                             color: white!important;\n                             font-weight: bold;\n                             font-size: 18px!important;\n                             border-radius: 10px 10px 0 0!important;\n                         }\n                         .customInputFrame-title>img {\n                             margin: 5px;\n                             height: 32px;\n                             width: 32px;\n                         }\n                         .customInputFrame-input-title {\n                             font-size: 9pt;\n                             font-family: Arial, sans-serif,微软雅黑,"Noto Sans SC";\n                             display: inline-block;\n                             background-color: white;\n                             position: relative;\n                             left: 20px;\n                             padding: 0px 4px;\n                             text-align: left;\n                             color: #646464;\n                             word-break: break-all;\n                             max-width: 85%;\n                             z-index: 1;\n                         }\n                         .customInputFrame-body input[type=text],\n                         .customInputFrame-body input[type=number],\n                         .customInputFrame-body textarea,\n                         .customInputFrame-body .select {\n                             resize: both;\n                             font-size: 11pt;\n                             font-weight: normal;\n                             border-radius: 4px;\n                             border: 1px solid rgba(0, 0, 0, 0.23);\n                             margin: 4px;\n                             font-family: inherit;\n                             background-color: #FFF;\n                             width: calc(100% - 8px);\n                             color: #4A4A4A;\n                             margin-top: -8px;\n                             padding: 4px;\n                             padding-top: 8px;\n                             box-sizing: border-box;\n                         }\n                         .customInputFrame-buttons {\n                             text-align: center;\n                             margin-bottom: 5px;\n                             display: flex;\n                             justify-content: space-evenly;\n                         }\n                         .customInputFrame-buttons>button {\n                             width: 32%;\n                             font-size: 16px;\n                             cursor: pointer;\n                             border: 1px solid #1976d2;\n                             border-radius: 4px;\n                             transition: all .3s;\n                             color: #fff;\n                             background-color: #458bd1;\n                             line-height: 25px;\n                         }\n                         .customInputFrame-buttons>button:hover {\n                             color: #e3f2fd;\n                         }\n                         .customInputFrame-body .select {\n                             height: 30px;\n                             position: relative;\n                         }\n                         .customInputFrame-body .select>input[type=text] {\n                             top: 0px;\n                             left: -7px;\n                             position: relative;\n                             border: unset!important;\n                             width: calc(100% - 25px);\n                             padding-bottom: 3px;\n                             margin-bottom: -30px;\n                             float: left;\n                             background: unset;\n                             height: 28px;\n                             outline: unset;\n                         }\n                         .customInputFrame-body .select>p {\n                             padding: 0;\n                             margin: 0;\n                             position: absolute;\n                             pointer-events: none;\n                         }\n                         .customInputFrame-body .select>.options {\n                             position: absolute;\n                             visibility: hidden;\n                             opacity: 0;\n                             transition: opacity .1s;\n                             background-color: #FFF;\n                             color: #4A4A4A;\n                             border: 1px solid rgba(0, 0, 0, 0.23);\n                             border-radius: 4px;\n                             z-index: 10;\n                             width: auto;\n                             max-width: 35%;\n                             right: calc(50% - 147px);\n                             margin-top: -10px;\n                             position: fixed;\n                         }\n                         .customInputFrame-body .select>input:focus+p {\n                             display: none;\n                         }\n                         .customInputFrame-body .select:hover>.options {\n                             visibility: visible;\n                             opacity: 1;\n                         }\n                         .customInputFrame-body .select>.options>p {\n                             cursor: pointer;\n                             min-height: 20px;\n                             padding: 3px 0;\n                             margin: 0;\n                         }\n                         .customInputFrame-body .select>.options>p:hover {\n                             background: aliceblue;\n                         }\n                         .customInputFrame-body div.select:after {\n                             content: "▼";\n                             position: absolute;\n                             right: 6px;\n                             top: 8px;\n                             font-size: 9px;\n                         }\n                         @media (prefers-color-scheme: dark) {\n                           .customInputFrame-body,\n                           .customInputFrame-input-title,\n                           .customInputFrame-body input,\n                           .customInputFrame-body textarea,\n                           .customInputFrame-body .select {\n                             background-color: black!important;\n                             color: #d5d5d5!important;\n                           }\n                           .customInputFrame-body input:focus,\n                           .customInputFrame-body textarea:focus,\n                           .customInputFrame-body .select:focus {\n                             background-color: #1e1e1e!important;\n                           }\n                           .customInputFrame-body input,\n                           .customInputFrame-body textarea,\n                           .customInputFrame-body .select {\n                             border: 1px solid rgb(255 255 255 / 36%)!important;\n                             background-color: #0c0c0c!important;\n                           }\n                           .customInputFrame-title,\n                           .customInputFrame-buttons>button {\n                             background: #245d8f!important;\n                           }\n                           .customInputFrame-body .select>.options {\n                             border: 1px solid rgb(255 255 255 / 36%)!important;\n                             background-color: black;\n                             color: #d5d5d5;\n                           }\n                           .customInputFrame-body .select>.options>p:hover {\n                             background: #1e1e1e;\n                           }\n                         }\n                        '),n=document.createElement("div");this.customInputFrame=n,n.innerHTML=h(`\n                         <div class="customInputFrame-body">\n                             <a href="${a}" class="customInputFrame-title" target="_blank">\n                                 <img width="32px" height="32px" src="${Mt}" />${e("customInputFrame")}\n                             </a>\n                             <div id="customGroup">\n                             </div>\n                             <div class="customInputFrame-input-title">${e("finalSearch")}</div>\n                             <textarea name="finalSearch" type="text"></textarea>\n                             <div class="customInputFrame-buttons">\n                                 <button id="cancel" type="button">${e("cancel")}</button>\n                                 <button id="customSubmit" type="button">${e("customSubmit")}</button>\n                             </div>\n                         </div>\n                        `),Q||n.appendChild(t),n.querySelector("#cancel").addEventListener("click",()=>{n.parentNode&&n.parentNode.removeChild(n),i("")}),n.addEventListener("keydown",e=>{13==e.keyCode&&l.click()});let s=this.customInputFrame.querySelector("#customGroup");this.customGroup=s;let o=this.customInputFrame.querySelector("[name='finalSearch']");this.finalSearch=o,o.addEventListener("click",()=>{r()});let l=n.querySelector("#customSubmit");l.addEventListener("click",()=>{r(),o.value&&this.customInputCallback&&this.customInputCallback(o.value),i(o.value),n.parentNode&&n.parentNode.removeChild(n)})}this.customInputFrame.parentNode&&this.customInputFrame.parentNode.removeChild(this.customInputFrame),this.customGroup.innerHTML=h();let s=t,o=s.match(/%input{(.*?[^\\])}/);for(;o;){let e=o[1];if(e=/^".*","/.test(e)?e.substr(1,e.length-2).split('","'):e.replace(/\\,/g,"◎SJ").split(",").map(e=>e.replace(/◎SJ/g,",")),1===e.length){e=e[0].replace(/\\\|/g,"◎SJ").split("|").map(e=>e.replace(/◎SJ/g,"|"));let t=document.createElement("div");t.className="customInputFrame-input-title",t.innerText=e[0],this.customGroup.appendChild(t);let n=document.createElement("input");n.type="text",e.length>1&&(n.title=e[1]),this.customGroup.appendChild(n)}else if(e.length>=2){let t=e[0].replace(/\\}/g,"}");t=/^'.*'\/'/.test(t)?t.substr(1,t.length-2).split("'/'"):t.replace(/\\\//g,"◎SJ").split("/").map(e=>e.replace(/◎SJ/g,"/"));let n=e.slice(1).join(",");n=/^'.*'\/'/.test(n)?n.substr(1,n.length-2).split("'/'"):n.replace(/\\\//g,"◎SJ").split("/").map(e=>e.replace(/◎SJ/g,"/"));let i=t.length===n.length+1,s=document.createElement("div");s.className="customInputFrame-input-title",s.innerText=t[0],this.customGroup.appendChild(s);let a=document.createElement("input");a.type="text";let o=document.createElement("div");o.className="select",o.appendChild(a);let l=document.createElement("p");l.innerText="Select option",o.appendChild(l);let c=document.createElement("div");c.className="options",o.appendChild(c);let p=document.createElement("p");p.setAttribute("value",""),p.innerHTML=h("<b>Select option</b>"),c.appendChild(p),p.addEventListener("click",()=>{c.style.visibility="hidden",setTimeout(()=>{c.style.visibility=""},0),a.value="",l.innerText="Select option",r()});for(let e=0;e<n.length;e++){let s=n[e],o=document.createElement("p");if(o.setAttribute("value",s),i){let n=t[e+1];n=n.replace(/\\\|/g,"◎SJ").split("|").map(e=>e.replace(/◎SJ/g,"|")),o.innerText=n[0],n.length>1&&(o.title=n[1])}else o.innerText=s;o.addEventListener("click",()=>{c.style.visibility="hidden",setTimeout(()=>{c.style.visibility=""},0),a.value=o.getAttribute("value"),l.innerText="",r()}),c.appendChild(o)}a.addEventListener("change",()=>{l.innerText=""}),o.addEventListener("mouseenter",()=>{o.focus(),c.style.marginTop=20-this.customGroup.scrollTop+"px"}),this.customGroup.appendChild(o)}s=s.replace(o[0],"◎"),o=s.match(/%input{(.*?[^\\])}/)}this.finalSearch.dataset.url=s,this.finalSearch.value=s.replace(/◎/g,""),this.addToShadow(this.customInputFrame);let l=this.customInputFrame.children[0];l.style.marginTop=-l.offsetHeight/2+"px"})}showModifyWindow(t,n){let i;if(this.modifyWord={},this.addNew=!t&&!n,!this.addNew){if(i=t.oriWord,!i)return;this.modifyWord=t,this.modifySpan=n}if(!this.modifyFrame){let t=oe('\n                    .searchJumperModify-body {\n                        width: 300px;\n                        min-height: 200px;\n                        position: fixed;\n                        text-align: left;\n                        left: 50%;\n                        top: 50%;\n                        margin-top: -160px;\n                        margin-left: -150px;\n                        z-index: 100000;\n                        background-color: #ffffff;\n                        border: 1px solid #afb3b6;\n                        border-radius: 10px;\n                        opacity: 0.95;\n                        filter: alpha(opacity=95);\n                        box-shadow: 5px 5px 20px 0px #000;\n                        color: #6e7070;\n                    }\n                    .searchJumperModify-title {\n                        background: #458bd1!important;\n                        display: flex!important;\n                        align-items: center!important;\n                        justify-content: center!important;\n                        color: white!important;\n                        font-weight: bold;\n                        font-size: 18px!important;\n                        border-radius: 10px 10px 0 0!important;\n                    }\n                    .searchJumperModify-title>img {\n                        margin: 5px;\n                        height: 32px;\n                        width: 32px;\n                    }\n                    .searchJumperModify-input-title {\n                        font-size: 9pt;\n                        font-family: Arial, sans-serif,微软雅黑,"Noto Sans SC";\n                        display: inline-block;\n                        background-color: white;\n                        position: relative;\n                        left: 20px;\n                        padding: 0px 4px;\n                        text-align: left;\n                        color: #646464;\n                    }\n                    .searchJumperModify-body>input[type=text],\n                    .searchJumperModify-body>input[type=number],\n                    .searchJumperModify-body>textarea {\n                        resize: both;\n                        font-size: 11pt;\n                        font-weight: normal;\n                        border-radius: 4px;\n                        border: 1px solid rgba(0, 0, 0, 0.23);\n                        margin: 4px;\n                        font-family: inherit;\n                        background-color: #FFF;\n                        width: calc(100% - 8px);\n                        color: #4A4A4A;\n                        margin-top: -8px;\n                        padding: 4px;\n                        padding-top: 8px;\n                        box-sizing: border-box;\n                    }\n                    .searchJumperModify-buttons {\n                        text-align: center;\n                        margin-bottom: 5px;\n                        display: flex;\n                        justify-content: space-evenly;\n                    }\n                    .searchJumperModify-buttons>button {\n                        width: 32%;\n                        font-size: 16px;\n                        cursor: pointer;\n                        border: 1px solid #1976d2;\n                        border-radius: 4px;\n                        transition: all .3s;\n                        color: #fff;\n                        background-color: #458bd1;\n                        line-height: 25px;\n                    }\n                    .searchJumperModify-buttons>button:hover {\n                        color: #e3f2fd;\n                    }\n                    #rangePickerBtn {\n                        width: 28px;\n                        float: right;\n                        margin-top: -33px;\n                        margin-right: 6px;\n                        position: sticky;\n                        display: block;\n                        cursor: pointer;\n                        background: rgb(255 255 255 / 80%);\n                    }\n                    .searchJumperModify-checkGroup {\n                        margin: 5px;\n                    }\n                    #searchJumperModify-re + label ~ * {\n                        display: none;\n                    }\n                    #searchJumperModify-re:checked + label ~ * {\n                        display: inline;\n                    }\n                    @media (prefers-color-scheme: dark) {\n                      .searchJumperModify-body,\n                      .searchJumperModify-input-title,\n                      .searchJumperModify-body>input[type=text],\n                      .searchJumperModify-body>input[type=number],\n                      .searchJumperModify-body>textarea,\n                      .searchJumperModify-body>select {\n                        background-color: black!important;\n                        color: #d5d5d5!important;\n                      }\n                      .searchJumperModify-body>input:focus,\n                      .searchJumperModify-body>textarea:focus,\n                      .searchJumperModify-body>select:focus {\n                        background-color: #1e1e1e!important;\n                      }\n                      .searchJumperModify-body>input[type=text],\n                      .searchJumperModify-body>input[type=number],\n                      .searchJumperModify-body>textarea {\n                        border: 1px solid rgb(255 255 255 / 36%)!important;\n                      }\n                      .searchJumperModify-title,\n                      .searchJumperModify-buttons>button {\n                        background: #245d8f!important;\n                      }\n                      #rangePickerBtn {\n                        background: rgb(0 0 0 / 80%);\n                        fill: white;\n                      }\n                    }\n                    '),n=document.createElement("div");this.modifyFrame=n,n.id="searchJumperModifyWord",n.innerHTML=h(`\n                     <div class="searchJumperModify-body">\n                         <a href="${a}" class="searchJumperModify-title" target="_blank">\n                             <img onerror="this.style.display='none'" width="32px" height="32px" src="${Mt}" />${e("modifyWord")}\n                         </a>\n                         <div class="searchJumperModify-input-title">${e("wordContent")}</div>\n                         <input id="searchJumperHighlightWord" name="wordContent" placeholder="words" type="text"/>\n                         <div class="searchJumperModify-checkGroup">\n                             <input id="searchJumperModify-re" type="checkbox"/>\n                             <label for="searchJumperModify-re">${e("re")}</label>\n                             <input id="searchJumperModify-case" type="checkbox"/>\n                             <label for="searchJumperModify-case">${e("ignoreCase")}</label>\n                             <input id="searchJumperModify-link" type="checkbox"/>\n                             <label for="searchJumperModify-link">${e("filterLink")}</label>\n                         </div>\n                         <div class="searchJumperModify-input-title">${e("wordHide")}</div>\n                         <input name="wordHide" min="0" placeholder="${e("wordHideTips")}" type="number" />\n                         <div class="searchJumperModify-input-title">${e("wordRange")}</div>\n                         <input name="wordRange" placeholder="#main" type="text" />\n                         <svg id="rangePickerBtn" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>${e("pickerBtn")}</title><path d="M874.048 533.333333C863.424 716.629333 716.629333 863.424 533.333333 874.048V917.333333a21.333333 21.333333 0 0 1-42.666666 0v-43.285333C307.370667 863.424 160.576 716.629333 149.952 533.333333H106.666667a21.333333 21.333333 0 0 1 0-42.666666h43.285333C160.576 307.370667 307.370667 160.576 490.666667 149.952V106.666667a21.333333 21.333333 0 0 1 42.666666 0v43.285333c183.296 10.624 330.090667 157.418667 340.714667 340.714667h42.816a21.333333 21.333333 0 1 1 0 42.666666H874.026667z m-42.752 0h-127.786667a21.333333 21.333333 0 0 1 0-42.666666h127.786667C820.778667 330.922667 693.056 203.221333 533.333333 192.704V320a21.333333 21.333333 0 0 1-42.666666 0V192.704C330.922667 203.221333 203.221333 330.944 192.704 490.666667H320a21.333333 21.333333 0 0 1 0 42.666666H192.704c10.517333 159.744 138.24 287.445333 297.962667 297.962667V704a21.333333 21.333333 0 0 1 42.666666 0v127.296c159.744-10.517333 287.445333-138.24 297.962667-297.962667zM512 554.666667a42.666667 42.666667 0 1 1 0-85.333334 42.666667 42.666667 0 0 1 0 85.333334z"></path></svg>\n                         <div class="searchJumperModify-input-title">${e("wordStyle")}</div>\n                         <input name="wordStyle" placeholder="orange or #333333;color:red;" type="text" />\n                         <div class="searchJumperModify-input-title">${e("wordTitle")}</div>\n                         <textarea name="wordTitle" type="text" placeholder="Text comment, or @popup to popup, @popup(1) to popup 1st showTips, @popup(name) to popup showTips of target engine"></textarea>\n                         <div class="searchJumperModify-buttons">\n                             <button id="cancel" type="button">${e("cancel")}</button>\n                             <button id="modify" type="button">${e("modify")}</button>\n                         </div>\n                     </div>\n                    `),Q||n.appendChild(t),n.querySelector("#cancel").addEventListener("click",()=>{n.parentNode&&n.parentNode.removeChild(n)}),n.querySelector("#rangePickerBtn").addEventListener("click",()=>{Dt.getSelector(e=>{l.value=e,n.style.display=""}),n.style.display="none"});let i=n.querySelector("#modify");this.modifyBtn=i,i.addEventListener("click",()=>{let e=r.value;if(this.splitSep&&(e=e.replaceAll(this.splitSep,"")),!e)return;let t=e!==this.modifyWord.showWords||d.checked!==this.modifyWord.isRe||u.checked!==this.modifyWord.link;p.checked&&0!==e.indexOf("@")&&(e=`/${e}/${d.checked?"i":""}${u.checked?"l":""}`);let i=c.value;i&&(this.splitSep&&(i=i.replaceAll(this.splitSep,"")),i=i>=0?i:0,e+=`$p{${i}}`);let a=s.value;a&&(this.splitSep&&(a=a.replaceAll(this.splitSep,"")),e+=`$s{${a}}`);let h=JSON.stringify(o.value).replace(/^"|"$/g,"");h&&(this.splitSep&&(h=h.replaceAll(this.splitSep,"")),e+=`$t{${h}}`);let m=l.value;m&&(this.splitSep&&(m=m.replaceAll(this.splitSep,"")),m!==this.modifyWord.inRange&&(t=!0),e+=`$in{${m}}`),this.addNew?(this.wordModeBtn.classList.contains("checked")&&(this.wordModeBtn.classList.remove("checked"),this.lockWords&&this.refreshPageWords(this.lockWords)),this.searchJumperInPageInput.value=e,this.submitInPageWords()):this.replaceWord(this.modifyWord,e,this.modifySpan,t),n.parentNode&&n.parentNode.removeChild(n)}),n.addEventListener("keydown",e=>{13==e.keyCode&&e.target&&"INPUT"==e.target.nodeName&&i.click()})}let r=this.modifyFrame.querySelector("[name='wordContent']"),s=this.modifyFrame.querySelector("[name='wordStyle']"),o=this.modifyFrame.querySelector("[name='wordTitle']"),l=this.modifyFrame.querySelector("[name='wordRange']"),c=this.modifyFrame.querySelector("[name='wordHide']"),p=this.modifyFrame.querySelector("#searchJumperModify-re"),d=this.modifyFrame.querySelector("#searchJumperModify-case"),u=this.modifyFrame.querySelector("#searchJumperModify-link");if(this.addNew)r.value="",s.value="",l.value="",c.value="",o.value="",p.checked=!1,d.checked=!1,u.checked=!1,this.modifyBtn.innerText=e("add");else{this.modifyBtn.innerText=e("modify");let n="",a=/\$s{(.*?)}($|\$)/,h=i.match(a);h&&(n=h[1]),r.value=t.showWords||"",s.value=n||"",l.value=t.inRange||"",p.checked=!!t.isRe,d.checked=!!t.reCase,u.checked=!!t.link,void 0!==t.hideParent&&(c.value=t.hideParent);try{t.popup?(o.value="@popup",t.showTips&&(o.value=`@popup(${t.showTips})`)):o.value=t.title!==t.showWords?JSON.parse('"'+t.title+'"'):""}catch(e){X(e)}}this.addToShadow(this.modifyFrame)}replaceWord(e,t,n,i){if(i)n.parentNode&&n.parentNode.removeChild(n),this.removeHighlightWord(e),this.searchJumperInPageInput.value=t,this.submitInPageWords();else{let i="",r="",s=-1,a=/\$t{(.*?)}($|\$)/,o=t.match(a);o&&(i=o[1],i=JSON.parse('"'+i+'"')),e.title=i,n.title=i;let l=/\$s{(.*?)}($|\$)/,c=t.match(l);if(c){let t=c[1],i="";c=c[1].match(/(.*?);(.*)/),c&&(t=c[1],i=c[2]),r=this.getHighlightStyle(this.curWordIndex,t,i),e.style=r,n.style=r}let p=!1,d=/\$p{(.*?)}($|\$)/,u=t.match(d);u?(s=parseInt(u[1])||0,p=s!=e.hideParent):p=void 0!==e.hideParent,p&&[].forEach.call(document.querySelectorAll(".searchJumper-hide"),t=>{t.dataset.content===e.showWords&&(t.classList.remove("searchJumper-hide"),t.style.display="",t.removeAttribute("data-content"))}),this.marks[e.showWords].forEach(t=>{if(t&&(t.title=i,r&&(t.style=r),p&&-1!=s)){let n=s,i=t.parentElement;for(;n-- >0&&i;)i=i.parentElement;i&&(i.dataset.content=e.showWords,i.classList.add("searchJumper-hide"),i.innerHTML=h(""))}}),-1==s?delete e.hideParent:e.hideParent=s,this.lockWords=this.lockWords.replace(e.oriWord,t),e.oriWord=t}}removeHighlightWord(e){if(!this.lockWords)return;if(this.splitSep||this.emptyInPageWords(),!e.oriWord)return;if(-1===this.lockWords.indexOf(e.oriWord))return;let t,n=this.lockWords.match(/^\$(c.|o)/),i=0;n=n?n[0]:"";let r=this.lockWords.replace(n,"").split(this.splitSep);if(t=r.indexOf(e.oriWord),this.wordModeBtn.classList.contains("checked")){-1!=t&&(r.splice(t,1),i=1);for(let n=0;n<r.length;n++){let s=r[n].split(/[ ]/);if(t=s.indexOf(e.oriWord),-1!=t){if(i++,1!=i)break;s.splice(t,1),r[n]=s.join(" ")}}this.lockWords=n+r.join(this.splitSep)}else{if(t<0)return;r.splice(t,1),i=-1!=r.indexOf(e.oriWord)?2:1,this.lockWords=n+r.join(this.splitSep)}if(delete this.highlightSpans[e.showWords],t=this.curHighlightWords.indexOf(e),t<0)return;if(this.curHighlightWords.splice(t,1),this.searchJumperInPageInput.style.paddingLeft=this.searchInPageLockWords.clientWidth+3+"px",i>1)return;this.marks[e.showWords].forEach(e=>{if(e.parentNode)if(e.dataset.block)e.parentNode&&e.parentNode.removeChild(e);else if(/^MARK$/i.test(e.nodeName)){let t=document.createTextNode(e.firstChild.data);e.parentNode.replaceChild(t,e),t.parentNode.normalize()}else e.classList.remove("searchJumper"),e.style.cssText=e.dataset.css||"",delete e.dataset.css}),delete this.marks[e.showWords];let s=[].slice.call(this.navMarks.children);[].forEach.call(s,t=>{t.dataset.content==e.showWords&&t.parentNode.removeChild(t)})}emptyInPageWords(){this.searchInPageLockWords.innerHTML=h(),this.highlight("")}focusHighlightByText(e,t,n){let i=this.marks[e];if(!i||0===i.length)return;e!=this.focusText?(this.focusIndex=0,this.focusText=e):t?this.focusIndex!=i.length-1?this.focusIndex=this.focusIndex+1:this.focusIndex=0:0!=this.focusIndex?this.focusIndex=this.focusIndex-1:this.focusIndex=i.length-1;let r=this.focusIndex;if(r>=i.length&&(r=0),t)for(;(!i[r].offsetParent||i[r].dataset.type)&&(r!=i.length-1?r+=1:r=0,r!=this.focusIndex););else for(;(!i[r].offsetParent||i[r].dataset.type)&&(0!=r?r-=1:r=i.length-1,r!=this.focusIndex););this.focusIndex=r,this.focusHighlight(i[this.focusIndex]),this.setHighlightSpan(n,this.focusIndex,i)}getRect(e){let t=e.getBoundingClientRect(),n={left:t.left,top:t.top,width:t.width,height:t.height},i=e.ownerDocument&&e.ownerDocument.defaultView,r=i&&i.frameElement;for(;r;){const e=r.getBoundingClientRect();n.left+=e.left,n.top+=e.top,i=i.parent,r=i.frameElement}return n}focusHighlight(e){if(!e)return;this.focusMark&&this.focusMark.removeAttribute("data-current"),this.focusMark=e,this.wPosBar||(this.wPosBar=document.createElement("div"),this.hPosBar=document.createElement("div"),this.wPosBar.className="searchJumperPosBar searchJumperPosW",this.hPosBar.className="searchJumperPosBar searchJumperPosH"),this.wPosBar.parentNode||(this.addToShadow(this.wPosBar),this.addToShadow(this.hPosBar));let t=this.getRect(e);this.wPosBar.style.top=t.top+document.documentElement.scrollTop+m(document).scrollTop+"px",this.wPosBar.style.height=t.height+"px",this.hPosBar.style.left=t.left+"px",this.hPosBar.style.width=t.width+"px",this.wPosBar.style.animationName="",this.hPosBar.style.animationName="";let n=this;setTimeout(async()=>{e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),e.dataset.current=!0,n.wPosBar.style.animationName="fadeit",n.hPosBar.style.animationName="fadeit",n.fixTimes=0;let t=window.innerHeight||document.documentElement.clientHeight;!function i(){if(n.focusMark!=e)return;let r=n.getRect(e);if(n.wPosBar.style.top=r.top+document.documentElement.scrollTop+m(document).scrollTop+"px",n.hPosBar.style.left=r.left+"px",!(n.fixTimes>0&&r.top>t/3&&r.top<t/3*2)){if(5==++n.fixTimes)e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});else if(n.fixTimes>10)return e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),n.wPosBar.style.animationName="",void(n.hPosBar.style.animationName="");setTimeout(()=>{i()},200)}}()},0)}getHighlightSpanByText(e){return this.highlightSpans[e]}setHighlightSpan(e,t,n){if(!e)return;let i=e.querySelector("em");i||(i=document.createElement("em"),e.insertBefore(i,e.firstChild)),t++;let r=0;n&&n.length&&(r=0,n.forEach(e=>{e.dataset.type||r++})),i.innerHTML=h("["+t+"/"+r+"]")}getHighlightStyle(e,t,n){if(!t&&!n){let t=p.prefConfig.inPageWordsStyles[e];if(t)return t}if(n=n||"",t||(t=p.prefConfig.firstFiveWordsColor[e]),!t)switch(e){case 0:t="#ffff00";break;case 1:t="#e91e63";break;case 2:t="#00bcd4";break;case 3:t="#008000";break;case 4:t="#800080";break;default:t=function(){let e,t,n;return e=Math.floor(256*Math.random()),t=Math.floor(256*Math.random()),n=Math.floor(256*Math.random()),e=e.toString(16),1===e.length&&(e="0"+e),t=t.toString(16),1===t.length&&(t="0"+t),n=n.toString(16),1===n.length&&(n="0"+n),"#"+e+t+n}()}if(t){let e=function(e){if(0!==e.indexOf("#"))return"";if("#ffff00"===e)return"black";let t,n,i;e=e.substr(1),t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2,2),16),i=parseInt(e.substr(4,2),16);let r=.299*t+.587*n+.114*i;t=255-t,n=255-n,i=255-i;let s=.299*t+.587*n+.114*i;return Math.abs(s-r)<=128?r>158?"#000000":"#FFFFFF":(t=t.toString(16),1===t.length&&(t="0"+t),n=n.toString(16),1===n.length&&(n="0"+n),i=i.toString(16),1===i.length&&(i="0"+i),"#"+t+n+i)}(t);e&&(e="color:"+e+"!important;"),t=`background:${t}!important;${e}`}return`${t}${n}`}createNavMark(e,t,n,i,r){let s=this,a=document.createElement("span"),o=function(e,t){for(var n=e.offsetTop,i=e.offsetParent;i;)n+=i.offsetTop,i=i.offsetParent;if(t){for(i=t;i;)n+=i.offsetTop,i=i.offsetParent;try{let e=t.contentWindow.parent;for(t=e.frameElement;t;){for(i=t;i;)n+=i.offsetTop,i=i.offsetParent;e=e.parent,t=e.frameElement}}catch(e){}}return n}(e,s.targetIframe);a.title=t.title||t.showWords,a.dataset.top=o,a.dataset.content=t.showWords,a.style.top=o/r*100+"%",a.style.background=e.style.background||"yellow",a.addEventListener("click",r=>(r.stopPropagation(),r.preventDefault(),s.focusIndex=n,s.focusHighlight(e),s.setHighlightSpan(s.getHighlightSpanByText(t.showWords),n,i),s.navPointer.style.display="",s.navPointer.style.top=a.offsetTop+33+"px",!1),!0),s.navMarks.appendChild(a)}anylizeDomWithTextPos(e,t){return t||(t={text:"",data:[]}),e&&e.childNodes&&e.childNodes.length&&(1!=e.nodeType||e.offsetParent||e.offsetHeight||e.firstElementChild&&e.firstElementChild.offsetParent)?(e.childNodes.forEach(e=>{if(e.classList&&e.classList.contains("searchJumper")||/^(img|svg|picture|br|hr|textarea)$/i.test(e.nodeName)){const n=t.text.length;t.text+="\n",t.data.push({index:n,node:e,text:"\n"})}else if(e.offsetParent||e.offsetHeight||e.firstElementChild&&e.firstElementChild.offsetParent)if(/^(div|h\d|p|form|ul|li|ol|dl|address|menu|table|fieldset|td)$/i.test(e.nodeName)){let n=t.text.length;t.text+="\n",t.data.push({index:n,node:{},text:"\n"}),n=(t=this.anylizeDomWithTextPos(e,t)).text.length,t.text+="\n",t.data.push({index:n,node:{},text:"\n"})}else t=this.anylizeDomWithTextPos(e,t);else if(3===e.nodeType){let n;if(n=1==e.parentNode.nodeType&&1==e.parentNode.childNodes.length&&e.parentNode.innerText||e.data,!n||!n.trim())return;t.text.length,t.text+=n,t.data.push({index:t.text.length-1,node:e,text:n})}}),t):t}highlightPopup(e,t){let n,i=this,r=()=>{n&&i.clingPos(e,i.tips)};e.addEventListener("mouseenter",s=>{if(e.addEventListener("mousemove",r),Re!=e||!i.funcKeyCall){if(n=null,Re=e,t.showTips)if(/^\d+$/.test(t.showTips)){let e=i.autoGetFirstType().querySelectorAll("a.search-jumper-btn[data-show-tips]:not(.notmatch)"),r=parseInt(t.showTips)-1;n=e[r]}else n=i.getTargetSitesByName([t.showTips])[0];i.setFuncKeyCall(!0),n?(i.bar.style.setProperty("display","none","important"),n.dispatchEvent(new CustomEvent("showTips"))):i.showInPage(!0,s)}}),e.addEventListener("mouseleave",()=>{e.removeEventListener("mousemove",r)})}createHighlightMark(e,n,i){let r,s=this,a=document.createElement("mark");return a.className="searchJumper",e.title&&(a.title=JSON.parse('"'+e.title+'"')),e.popup&&this.highlightPopup(a,e),a.style.cssText=e.style,a.addEventListener("click",e=>{if(e.altKey)return e.stopPropagation(),e.preventDefault(),!1}),a.dataset.content=e.showWords,a.addEventListener("mousedown",a=>{if(clearTimeout(r),r=setTimeout(()=>{let i=location.href.replace(/#.*/,"")+"#sjhl="+encodeURIComponent(e.oriWord)+"&i="+(n+1);t.history.replaceState("","",i)},800),!a.altKey)return;let o,l=n;for(;(!o||o.dataset.type)&&(0===a.button?l!=i.length-1?(l++,s.focusIndex=l):s.focusIndex=0:2===a.button&&(0!=l?(l--,s.focusIndex=l):s.focusIndex=i.length-1),o=i[s.focusIndex],l!=n););s.focusHighlight(o),s.setHighlightSpan(s.getHighlightSpanByText(e.showWords),s.focusIndex,i),s.focusText=e.showWords}),a.addEventListener("mouseup",()=>{clearTimeout(r)}),a}createAddonSpan(e,t){let n="addon_"+this.addonsList.children.length,i=this,r=document.createElement("div"),s=document.createElement("input");s.type="checkbox",s.id=n,s.checked=!t.disable,s.addEventListener("change",()=>{p.prefConfig.disableAddon[e]=!s.checked,t.disable=!s.checked,s.checked&&i.findInpageAddons.forEach(e=>{if(e!=t&&e.sort==t.sort){e.disable=!0;let t=e.name||"addon"+n++;i.addonCheckboxDict[t].checked=!1,p.prefConfig.disableAddon[t]=!0}}),pe.setItem("searchData",p),i.lockWords&&i.refreshPageWords(i.lockWords)}),r.appendChild(s),r.title=t.title||"";let a=document.createElement("label");a.setAttribute("for",n),a.innerText=e,r.appendChild(a),this.addonCheckboxDict[e]=s,this.addonsList.appendChild(r)}findAccentedWord(e,t,n){const i=t.length;let r=0,s=-1;for(let a=0;a<e.length;a++){const e=n[a];if(""!==e)if(e===t[r]){if(0===r&&(s=a),r++,r===i)return{pos:s,len:a-s+1}}else r=0,s=-1,e===t[0]&&(s=a,r=1)}return s=e.indexOf(t),{len:t.length,pos:s}}findPosInStr(e,t,n,i,r){if(!e)return{len:0,pos:-1};let s=0,a=-1,o=!1;if(this.findInpageAddons.length)for(let n=0;n<this.findInpageAddons.length;n++){let i=this.findInpageAddons[n];if(!i||!i.run||i.disable)continue;o=!0;let r=i.run(e,t);if(r&&r.matched){s=r.len,a=r.pos;break}}return-1!=a||o?{len:s,pos:a}:this.findAccentedWord(n,i,r)}highlight(e,t,n,i){function r(e,i,u){let m,f,g,y,v=-1;if(f=0,e.parentNode,1==e.nodeType&&e.className&&e.className.indexOf&&-1!=e.className.indexOf("searchJumper"))return 0;if(u&&(1==e.nodeType||11==e.nodeType)){let x=l.anylizeDomWithTextPos(e),C=x.text,k=C.toUpperCase(),j=[];for(let M=0;M<k.length;M++){const A=k[M].normalize("NFD").replace(/[\u0300-\u036f]/g,"");j.push(A)}let T=i.content.toUpperCase(),S=x.data,I=0,E=[],L=(i.init||s)&&/^[a-z]+$/i.test(i.content);function P(e,t,n){let i=t,r="",s="",a="";for(const t of S){const o=t.index;if(e>o)continue;let l=e-(o-t.text.length)-1,c="full";if(l<0?c=t.text.length<i?"middle":"end":t.text.length-l<i&&(c="start"),"full"===c&&(n=""),L&&("full"==c?(r=0==l?"\n":t.text[l-1],s=l+i==t.text.length?"\n":t.text[l+i],"\n"!==s&&(a=l+i+1==t.text.length?"\n":t.text[l+i+1])):"start"!=c||r?"end"!=c&&"full"!=c||s||(s=l+i==t.text.length?"\n":t.text[l+i],"\n"!==s&&(a=l+i+1==t.text.length?"\n":t.text[l+i+1])):r=0==l?"\n":t.text[l-1],r&&s&&(/[a-z]/i.test(r)||/[a-rt-z]/i.test(s)||"s"==s.toLowerCase()&&/[a-z]/i.test(a))))break;l<0&&(l=0);let p,h=Math.min(i,t.text.length-l);if(i-=h,t.text.trim()){for(let e=0;e<E.length;e++)if(E[e].node==t.node){p=E[e];break}if(p?p.match.push({pos:l,len:h,type:c,matched:n}):E.push({node:t.node,text:t.text,match:[{pos:l,len:h,type:c,matched:n}]}),i<=0)break}else"start"===c&&(e+=t.text.length)}}function N(){if(v=-1,i.isRe){let e=C.match(new RegExp(i.content,i.reCase));if(e){let t=e[0];m=t.length,v=e.index}}else{let e=l.findPosInStr(C,i.content,k,T,j);m=e.len,v=e.pos}if(v>-1){let e=C.slice(v,v+m);C=C.slice(v+m),k=k.slice(v+m),j=j.slice(v+m),v+=I,I=v+m,P(v,m,e),N()}}N(),E.length&&E.forEach(e=>{if(void 0!==i.hideParent){let t=i.hideParent,n=e.node.parentElement;for(;t-- >0&&n;)n=n.parentElement;n&&n.classList&&!n.classList.contains("searchJumper-hide")&&(n.innerHTML=h(""),n.dataset.content=i.showWords,n.classList.add("searchJumper-hide"))}else{let t,n=l.marks[i.showWords],r=n.length;const s=document.createElement("span");s.style.all="unset";let a=document.createTextNode(e.text);s.appendChild(a);let o=e.match.reverse(),c=[],h=o.length-1;o.forEach(e=>{switch(t=l.createHighlightMark(i,r+h,n),e.type){case"start":t.style.borderTopRightRadius=0,t.style.borderBottomRightRadius=0,h--;break;case"middle":t.style.borderRadius=0;break;case"end":t.style.borderTopLeftRadius=0,t.style.borderBottomLeftRadius=0;break;default:h--}g=a.splitText(e.pos),"start"!=e.type&&"middle"!=e.type&&g.data.length&&g.splitText(e.len),y=g.cloneNode(!0),t.appendChild(y),"full"!=e.type&&"start"!=e.type&&(t.dataset.type=e.type),e.matched&&(t.dataset.matched=e.matched),s.replaceChild(t,g),c.unshift(t)}),e.node.parentNode.replaceChild(s,e.node),l.marks[i.showWords].push(...c),c.forEach(e=>{e.dataset.type||d.push([e,i,r,n,p])})}})}let w=!0;if(i.link){if(1==e.nodeType&&e.href&&e.href.match&&(w=!1,e.href.match(new RegExp(i.content,i.reCase))))if(void 0!==i.hideParent){let B=i.hideParent,$=e;for(;B-- >0&&$;)$=$.parentElement;if($)return $.innerHTML=h(""),$.dataset.content=i.showWords,$.classList.add("searchJumper-hide"),0}else{let W=l.marks[i.showWords],J=W.length;e.classList.add("searchJumper"),i.title&&(e.title=JSON.parse('"'+i.title+'"')),i.popup&&l.highlightPopup(e,i),e.dataset.css||(e.dataset.css=e.style.cssText),i.style&&(e.style.cssText+=i.style),e.addEventListener("click",e=>{if(e.altKey)return e.stopPropagation(),e.preventDefault(),!1}),e.dataset.content=i.showWords,e.addEventListener("mousedown",e=>{if(!e.altKey)return;let t;0===e.button?J!=W.length-1?l.focusIndex=J+1:l.focusIndex=0:2===e.button&&(l.focusIndex=0!=J?J-1:W.length-1),t=W[l.focusIndex],l.focusHighlight(t),l.setHighlightSpan(l.getHighlightSpanByText(i.showWords),l.focusIndex,W),l.focusText=i.showWords}),l.marks[i.showWords].push(e),d.push([e,i,J,W,p])}}else{let D="";if(1==e.nodeType&&e.value&&(e.offsetParent||e.offsetHeight)&&!i.init&&/^(button|select|input|textarea)$/i.test(e.nodeName)&&!/^(hidden|file|password|radio|range|checkbox|image)$/i.test(e.type)&&(D=e.value),D){w=!1;let z=!1,O=0,H=l.fakeTextareas.get(e);if(c&&H)return 0;let R=getComputedStyle(e),F=e.offsetLeft,K=e.offsetTop,U=D.toUpperCase(),q=[];for(let V=0;V<U.length;V++){const _=U[V].normalize("NFD").replace(/[\u0300-\u036f]/g,"");q.push(_)}let G=i.content.toUpperCase();for(;;){if(i.isRe)z=D.match(new RegExp(i.content,i.reCase)),z&&(v=z.index,z=z[0]);else{let Z=l.findPosInStr(D,i.content,U,G,q);m=Z.len,v=Z.pos,(i.init||s)&&v>=0&&/^[a-z]+$/i.test(i.content)&&(0!==v&&/[a-z]/i.test(D[v-1])&&(v=-1),v+i.content.length!==D.length&&/[a-z]/i.test(D[v+m])&&(v=-1)),z=v>=0&&D.slice(v,v+m)}if(!z)break;Y(z,O+v),O+=v+z.length,D=D.slice(v+z.length),U=U.slice(v+z.length),q=q.slice(v+z.length)}function Y(t,n){if(t){if(!H){H=document.createElement("pre"),H.className="searchJumper";let t=document.createTextNode(D);H.appendChild(t);let n,i=/^(number|string)$/,r=[],s=e.style;for(n in s)if(!/^(content|outline|outlineWidth)$/.test(n)){let e=R[n];""!==e&&i.test(typeof e)&&(n=n.replace(/([A-Z])/g,"-$1").toLowerCase(),r.push(n),r.push(":"),r.push(e),r.push(";"))}r=r.join(""),H.style.cssText=r,H.style.position="fixed",H.style.left="0px",H.style.top="0px",H.style.margin="0",e.nodeName&&e.nodeName.toLowerCase&&"textarea"!==e.nodeName.toLowerCase()&&(H.style.display="inline-grid",H.style.lineHeight=H.style.height,"border-box"==H.style.boxSizing&&(H.style.paddingTop=0)),l.fakeTextareas.set(e,H)}document.body.appendChild(H);let r=document.createRange();r.setStart(H.firstChild,Math.min(H.firstChild.length,n)),r.setEnd(H.firstChild,Math.min(H.firstChild.length,n+1));let s=r.getBoundingClientRect();if(document.body.removeChild(H),void 0!==i.hideParent){let t=i.hideParent,n=e.parentElement;for(;t-- >0&&n;)n=n.parentElement;if(n)return n.innerHTML=h(""),n.dataset.content=i.showWords,n.classList.add("searchJumper-hide"),0}else{let n=l.marks[i.showWords],r=n.length,a=document.createElement("mark");a.className="searchJumper",a.dataset.block=!0,i.title&&(a.title=JSON.parse('"'+i.title+'"')),a.style.cssText=i.style,a.dataset.content=i.showWords,a.innerText=t,a.style.padding="0",a.style.position="absolute",a.style.fontSize=H.style.fontSize,a.style.fontFamily=H.style.fontFamily,a.style.lineHeight="1",a.style.pointerEvents="none",e.parentNode.appendChild(a);let o=s.left+F,c=s.top+K;if(a.style.left=o+"px",a.style.top=c+"px",l.marks[i.showWords].push(a),d.push([a,i,r,n,p]),e.nodeName&&e.nodeName.toLowerCase&&"textarea"==e.nodeName.toLowerCase()){let t=()=>{a.parentNode?(a.style.left=o-e.scrollLeft+"px",a.style.top=c-e.scrollTop+"px"):(a.parentNode.removeChild(a),e.removeEventListener("scroll",t))};e.addEventListener("scroll",t)}}}}}}if(w&&(!n||e===t)&&(1==e.nodeType||11==e.nodeType)&&e.childNodes&&!/^(SCRIPT|STYLE|MARK|SVG|TEXTAREA)$/i.test(e.nodeName)&&(!i.init||"true"!=e.ariaHidden&&"search"!=e.role&&(!e.hasAttribute||0==e.hasAttribute("jsname"))))if(!o&&/^(PRE|CODE)$/i.test(e.nodeName))a.push(e);else{for(var b=0;b<e.childNodes.length;++b)b+=r(e.childNodes[b],i);try{e.shadowRoot&&(b+=r(e.shadowRoot,i,!0))}catch(Q){X(Q)}}return 0}if(!(e||this.curHighlightWords&&0!==this.curHighlightWords.length))return;if(!t)return void this.highlight(e,m(document),n);if([].forEach.call(t.getElementsByTagName("iframe"),t=>{if(!t.offsetParent)return;if(t.offsetHeight<100||t.offsetWidth<100)return;let i;try{i=t.contentDocument||t.contentWindow.document}catch(e){return}i&&m(i)&&this.highlight(e,m(i),n,t)}),this.targetIframe=i||!1,"searchJumperModifyWord"==t.id)return;t=t||m(document);let s=this.wordModeBtn.classList.contains("checked"),a=[],o=!1,l=this;if(""===e)return this.highlightSpans={},Object.values(this.marks).forEach(async e=>{if(!e)return;let t=new Set;for(let n of e)if(n.parentNode)if(n.dataset.block)n.parentNode&&n.parentNode.removeChild(n);else if(/^MARK$/i.test(n.nodeName)){let e=document.createTextNode(n.firstChild.data);n.parentNode.replaceChild(e,n);const i=e.parentNode;if(i&&"SPAN"===i.nodeName&&"all: unset;"===i.style.cssText){const e=i.parentNode;if(e){const t=document.createDocumentFragment();t.append(...i.childNodes),e.replaceChild(t,i)}}t.add(e.parentNode)}else n.classList.remove("searchJumper"),n.style.cssText=n.dataset.css||"",delete n.dataset.css;t.forEach(e=>{e.normalize()})}),[].forEach.call(t.querySelectorAll(".searchJumper-hide"),e=>{e.classList.remove("searchJumper-hide"),e.style.display="",e.removeAttribute("data-content")}),this.navMarks.innerHTML=h(),this.marks={},void(this.curHighlightWords=[]);this.inPageStyle||(this.inPageStyle=oe(this.inPageCss)),this.inPageStyle.parentNode||document.head.appendChild(this.inPageStyle);let c="insert"===e;c?(e=this.curHighlightWords,this.refreshNavMarks()):this.curHighlightWords=(this.curHighlightWords||[]).concat(e),this.fakeTextareas=new Map;let p=Math.max(document.documentElement.scrollHeight,m(document).scrollHeight);this.navMarks.style.display="none";let d=[];e.forEach(e=>{if(l.marks[e.showWords]||(l.marks[e.showWords]=[]),e.inRange){let n=t;t.parentNode&&(n=t.parentNode),[].forEach.call(n.querySelectorAll(e.inRange),n=>{(n==t||t.contains(n))&&r(n,e,!0)})}else r(t,e,!0)}),d.forEach(e=>{l.createNavMark(...e)}),this.navMarks.style.display="",setTimeout(()=>{l.navMarks.style.display="none",d=[],o=!0,e.forEach(e=>{l.marks[e.showWords]||(l.marks[e.showWords]=[]),a.forEach(t=>{r(t,e,!0)})}),d.forEach(e=>{l.createNavMark(...e)}),l.navMarks.style.display=""},1e3),""!=this.navMarks.innerHTML&&(this.searchJumperNavBar.classList.add("sjNavShow"),Ae&&(this.appendBar(),this.con.style.display="",this.setNav(!0,!0)))}refreshPageWords(e){this.lockWords="",this.searchJumperInPageInput.value="",this.searchInPageLockWords.innerHTML=h(),this.searchJumperInPageInput.style.paddingLeft="",this.submitInPageWords();let t=e||Me;t&&(this.searchJumperInPageInput.value=t,this.submitInPageWords(t==this.lastSearchEngineWords),this.appendBar())}refreshNav(){this.setNav(Ae)}refreshNavMarks(){this.refreshNavMarksTimer&&clearTimeout(this.refreshNavMarksTimer),this.refreshNavMarksTimer=setTimeout(()=>{let e=Math.max(document.documentElement.scrollHeight,m(document).scrollHeight);this.navPointer.style.display="none",this.navMarks.style.display="none",[].forEach.call(this.navMarks.children,t=>{t.style.top=t.dataset.top/e*100+"%"}),this.navMarks.style.display=""},1e3)}checkCharacterData(e){setTimeout(()=>{this.highlight("insert",e,!0)},0)}removeMark(e){let t=e.dataset.content,n=this.marks[t];if(!n)return;var i=n.indexOf(e);if(-1===i)return;n.splice(i,1),this.marks[t]=n;let r=this.navMarks.querySelectorAll(`span[data-content="${t}"]`)[i];r&&this.navMarks.removeChild(r)}submitIgnoreSpace(e){e&&(this.lockWords||0===e.indexOf("$c")||0===e.indexOf("$o")||-1===e.indexOf(" ")||(this.splitSep="◎"),this.searchJumperInPageInput.value=e,this.submitInPageWords())}siteBtnReturnHome(e){e.parentNode&&e.parentNode.removeChild(e)}closeShowAll(){if(this.con.classList.contains("search-jumper-showall")&&!c){if(this.clearInputHide(),clearInterval(this.showAllTimeTimer),document.removeEventListener("mousedown",self.showAllMouseHandler),document.removeEventListener("keydown",self.showAllKeydownHandler),this.con.classList.remove("search-jumper-showall"),document.documentElement.style.scrollbarWidth=this.preScrollbarWidth,this.searchJumperInputKeyWords.value="",this.historylist.innerHTML=h(),this.touched=!1,this.initPos(),this.funcKeyCall&&this.setFuncKeyCall(!1),!p.prefConfig.disableAutoOpen&&!p.prefConfig.disableTypeOpen){let e=this.bar.querySelector(".search-jumper-type:nth-child(1)>span");if(e&&!e.classList.contains("search-jumper-open"))if(e.onmouseup)e.onmouseup();else{let t=new PointerEvent("mouseup");e.dispatchEvent(t)}}this.bar.style.display=""}}toggleShowAll(){this.appendBar(),this.con&&this.con.parentNode&&(this.con.classList.contains("search-jumper-showall")?this.closeShowAll():this.showAllSites())}showAllSites(){if(!this.con||!this.con.parentNode||this.con.classList.contains("search-jumper-showall"))return;this.con.style.display="",this.clearInputHide(),this.alllist.appendChild(this.filterSites),this.filterGlob.innerHTML=h();let t=this,n=this.tileInput.value;this.setFuncKeyCall(!1),this.hideSearchInput(),this.con.classList.add("search-jumper-showall"),this.preScrollbarWidth=document.documentElement.style.scrollbarWidth||"",document.documentElement.style.scrollbarWidth="none",clearInterval(this.showAllTimeTimer),window.innerWidth<1e3?(t.timeInAll.style.fontSize="15px",t.dayInAll.style.fontSize="15px"):(t.timeInAll.style.fontSize="",t.dayInAll.style.fontSize="");let i=new Date,r=i.getFullYear(),s=i.getMonth(),a=i.getDate(),o=e(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][i.getDay()])+"<br/>"+r+"-"+(++s<10?"0"+s:s)+"-"+(a<10?"0"+a:a);if(0==jt.indexOf("zh")){let e=function(e,t,n){function i(e){return!!(15&e)&&15&e}function r(e){return i(e)?983040&e?30:29:0}function s(e){let t=0;for(let n=32768;n>8;n>>=1)t+=e&n?30:29;return i(e)&&(t+=r(e)),t}function a(e){let t=[];for(let n=32768;n>8;n>>=1)t.push(e&n?30:29);return i(e)&&t.splice(i(e),0,r(e)),t}if(!e&&!t&&!n){let i=new Date;i.getFullYear(),i.getMonth(),i.getDate(),e=i.getFullYear(),t=i.getMonth()+1,n=i.getDate()}let o=[51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,41696,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],l="正二三四五六七八九十冬臘",c="一二三四五六七八九十初廿";return function(e,t,n){t-=1;let r,p,h,d,u=(Date.UTC(e,t,n)-Date.UTC(2e3,1,5))/864e5+1;for(let e=0;e<o.length;e++)if(u-=s(o[e]),u<=0){r=2e3+e,d=o[e],u+=s(d);break}if(!d)return null;for(let e=0;e<a(d).length;e++)if(u-=a(d)[e],u<=0){p=i(d)&&i(d)<=e?i(d)<e?e:i(d)===e?"闰"+e:e+1:e+1,u+=a(d)[e];break}return h=u,p=i(d)&&"string"==typeof p&&p.indexOf("闰")>-1?`闰${l[/\d/.exec(p)-1]}`:l[p-1],r=function(e){let t=(e-3)%10;return 0===t&&(t=10),"甲乙丙丁戊己庚辛壬癸"[t-1]}(r)+function(e){let t=(e-3)%12;return 0===t&&(t=12),t--,"子丑寅卯辰巳午未申酉戌亥"[t]+` (${"鼠牛虎兔龍蛇馬羊猴雞狗豬"[t]}) `}(r),h<11?h=`${c[10]}${c[h-1]}`:h>10&&h<20?h=`${c[9]}${c[h-11]}`:20===h?h=`${c[1]}${c[9]}`:h>20&&h<30?h=`${c[11]}${c[h-21]}`:30===h&&(h=`${c[2]}${c[9]}`),{lunarYear:r,lunarMonth:p,lunarDay:h}}(e,t,n)}(r,s,a);e&&(o=o+"<br/>"+`${e.lunarYear}年${e.lunarMonth}月${e.lunarDay}`)}t.dayInAll.innerHTML=h(o);let l=()=>{let e=new Date,n=e.getHours(),i=e.getMinutes(),r=e.getSeconds();t.timeInAll.innerText=(n<10?"0"+n:n)+":"+(i<10?"0"+i:i)+":"+(r<10?"0"+r:r)};this.showAllTimeTimer=setInterval(l,1e3),l(),fe.forEach(e=>{if("none"!=e.style.display){let n=e.querySelector(".sitelist");n&&(t.sitelistBox.appendChild(n),t.initList(n))}}),this.historySiteBtns.slice(0,20).forEach(e=>{let n=e.querySelector("img");n&&n.dataset.src&&(n.src=n.dataset.src,delete n.dataset.src),t.historylist.appendChild(e)});let c="";Re&&("A"==Re.nodeName.toUpperCase()||Re.parentNode&&"A"==Re.parentNode.nodeName.toUpperCase())&&(c=Re.textContent.trim()),n=n||O()||c,this.searchJumperInputKeyWords.value=n,setTimeout(()=>{t.showAllMouseHandler||(t.showAllMouseHandler=e=>{0!=e.isTrusted&&"sitelistBox"!==e.target.className&&"search-jumper-showallBg"!==e.target.className||t.closeShowAll()}),t.con.addEventListener("mousedown",t.showAllMouseHandler),t.showAllKeydownHandler||(t.showAllKeydownHandler=e=>{27==e.keyCode&&t.closeShowAll()}),document.addEventListener("keydown",t.showAllKeydownHandler,!0),we?(this.searchInput.value=we,this.searchInput.dispatchEvent(new Event("input")),this.searchInput.focus(),this.searchInput.select()):this.searchJumperInputKeyWords.value&&(this.searchJumperInputKeyWords.focus(),this.searchJumperInputKeyWords.select())},0)}switchSite(e){if(!ge||"none"==this.bar.style.display)return;let t=this.con.querySelector(".search-jumper-btn.current");if(e)for(t=t.nextElementSibling;t&&(t.classList.contains("notmatch")||"none"==t.style.display||"true"==t.dataset.current||"true"!=t.dataset.isPage);)t=t.nextElementSibling;else for(t=t.previousElementSibling;t&&(t.classList.contains("notmatch")||"none"==t.style.display||"true"==t.dataset.current||"true"!=t.dataset.isPage);)t=t.previousElementSibling;t&&this.openSiteBtn(t,"_self")}clearInputHide(){fe.forEach(e=>{e.classList.remove("input-hide")}),this.allSiteBtns.forEach(e=>{e[0].classList.remove("input-hide")}),this.allListBtns.forEach(e=>{e.classList.remove("input-hide")}),this.allLists.forEach(e=>{e.classList.remove("input-hide")})}showSearchInput(){if(this.con&&this.con.classList.contains("search-jumper-showall"))return;this.recoveHistory(),this.con.classList.add("in-input"),this.searchInput.value="",this.contentContainer.appendChild(this.filterSites);let e=J();if(e&&(this.searchJumperInputKeyWords.value=e),this.filterSitesTab.checked){this.con.classList.remove("in-find"),p.prefConfig.defaultPicker&&this.togglePicker(),this.searchJumperInputKeyWords.value||(this.searchJumperInputKeyWords.value=O());let e=this.bar.querySelector(".search-jumper-needInPage:not(.notmatch)>span");if(e&&!e.parentNode.classList.contains("search-jumper-open"))if(e.onmouseup)e.onmouseup();else{let t=new PointerEvent("mouseup");e.dispatchEvent(t)}we&&(this.searchInput.value=we,this.searchInput.dispatchEvent(new Event("input"))),this.searchJumperInputKeyWords.focus(),this.searchJumperInputKeyWords.select()}else this.searchInPageTab.checked&&(this.con.classList.add("in-find"),this.searchJumperInPageInput.focus(),setTimeout(()=>{e&&-1==this.lockWords.indexOf(e)?(this.searchJumperInPageInput.value="",this.navMarks.innerHTML?(this.searchJumperInPageInput.value=e,this.submitInPageWords()):this.submitIgnoreSpace(e)):this.searchJumperInPageInput.value?this.submitInPageWords():!this.initShowSearchInput&&ve&&this.lockWords!==ve&&(this.searchJumperInPageInput.value=ve,this.initShowSearchInput=!0,this.searchJumperInPageInput.select())},10));this.inInput=!0,this.clearInputHide(),this.lockWords?this.searchJumperInPageInput.style.paddingLeft=this.searchInPageLockWords.clientWidth+3+"px":this.searchJumperInPageInput.style.paddingLeft="",p.prefConfig.altToHighlight&&(document.removeEventListener("mouseup",this.checkSelHandler),document.addEventListener("mouseup",this.checkSelHandler))}togglePicker(){this.pickerBtn.classList.toggle("checked"),this.con.classList.toggle("in-pick"),this.searchJumperInputKeyWords.disabled=!this.searchJumperInputKeyWords.disabled,Dt.toggle(!0),this.searchJumperInputKeyWords.disabled&&(this.searchJumperInputKeyWords.value="")}hideSearchInput(){this.inInput=!1,this.clearInputHide(),this.con.classList.remove("in-find"),this.con.classList.remove("in-input"),this.con.classList.remove("lock-input"),this.bar.classList.remove("initShow"),this.searchInput.value="",this.searchJumperInputKeyWords.value="",this.pickerBtn.classList.remove("checked"),this.searchJumperInputKeyWords.disabled=!1,Dt.close(),document.removeEventListener("mouseup",this.checkSelHandler),this.setFuncKeyCall(!1),this.closeOpenType()}removeBar(){this.shadowContainer&&this.shadowContainer.parentNode&&this.shadowContainer.parentNode.removeChild(this.shadowContainer),this.con.parentNode&&this.con.parentNode.removeChild(this.con)}async testCSP(){let e=e=>{e.violatedDirective&&-1!=e.violatedDirective.indexOf("style-src")&&(Q=!0)};window.addEventListener("securitypolicyviolation",e);let t=oe("html {color: #000;}");this.addToShadow(t),await Y(0),window.removeEventListener("securitypolicyviolation",e),t.parentNode&&t.parentNode.removeChild(t)}addToShadow(e){let t;if(this.shadowContainer||(this.shadowContainer=document.createElement("div")),this.shadowContainer.parentNode||(Ge?document.body.appendChild(this.shadowContainer):document.documentElement.appendChild(this.shadowContainer)),Q){if(/^style$/i.test(e.nodeName))return!0;t=this.shadowContainer}else if(this.shadowRoot)t=this.shadowRoot;else{this.shadowContainer.className="search-jumper-shadow";let e=oe("\n                         .search-jumper-shadow {\n                          display: block !important;\n                          width: 0px !important;\n                          height: 0px !important;\n                          margin: 0px !important;\n                          padding: 0px !important;\n                          border-width: initial !important;\n                          border-style: none !important;\n                          border-color: initial !important;\n                          border-image: initial !important;\n                          outline: none !important;\n                          position: unset !important;\n                         }\n                        ");this.shadowContainer.appendChild(e);let n=this.shadowContainer.attachShadow({mode:"closed"});t=document.createElement("div"),t.id="search-jumper-root",t.style.display="none",t.setAttribute("contenteditable","false");let i=document.createElement("style");i.innerHTML=h("#search-jumper-root{display: block!important;}"),t.appendChild(i),n.appendChild(t),this.shadowRoot=t}return e.parentNode!=t&&t.appendChild(e),!0}contains(e){return e==this.shadowContainer||this.bar.contains(e)}appendBar(){if(Ue&&Ue.parentNode||(Ue=oe(Ke),Q||this.addToShadow(Ue)),this.addToShadow(this.con)){let t=this,n=()=>{setTimeout(()=>{if(t.shadowContainer&&!t.shadowContainer.parentNode)return Ge?document.body.appendChild(t.shadowContainer):document.documentElement.appendChild(t.shadowContainer),void n();!c&&t.con.parentNode&&"2147483646"!=getComputedStyle(t.con).zIndex&&(this.removeBar(),Q?X(e("cspDisabled")):(Q=!0,Ue=oe(Ke),t.shadowContainer.parentNode.removeChild(t.shadowContainer),t.shadowContainer=document.createElement("div"),t.shadowContainer.setAttribute("contenteditable","false"),document.documentElement.appendChild(t.shadowContainer),t.appendBar()))},100)};n()}}async searchBySiteName(e,t,n){t||(t={}),t&&"drop"===t.type&&this.closeShowAll();for(let[i,r]of this.allSiteBtns)if(i.dataset.name==e){if(i.dataset.showTips)return void i.dispatchEvent(new CustomEvent("showTips"));await this.siteSetUrl(i,{button:t.button,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,metaKey:t.metaKey});let e=/^(https?|ftp):/.test(i.href);return e&&i.setAttribute("target",n?"_self":"_blank"),i.click(),void(e&&i.setAttribute("target",1==i.dataset.target?"_blank":"_self"))}for(let t=fe.length-1;t>=0;t--){let n=fe[t];if(n.dataset.type==e)return void(n.firstChild.onmouseup&&n.firstChild.onmouseup({button:2}))}}async searcAllhByTypeName(e){for(let t=fe.length-1;t>=0;t--){let n=fe[t];if(n.dataset.type==e)return void(n.firstChild.onmouseup&&n.firstChild.onmouseup({button:2}))}}autoGetFirstType(){let e;switch(Re||(Re=m(document)),Re.nodeName.toUpperCase()){case"IMG":e=this.bar.querySelector(".search-jumper-targetImg:not(.notmatch)");break;case"AUDIO":e=this.bar.querySelector(".search-jumper-targetAudio:not(.notmatch)");break;case"VIDEO":e=this.bar.querySelector(".search-jumper-targetVideo:not(.notmatch)");break;case"A":e=J()?this.bar.querySelector(".search-jumper-needInPage:not(.notmatch)"):this.bar.querySelector(".search-jumper-targetLink:not(.notmatch)");break;default:e=J()?this.bar.querySelector(".search-jumper-needInPage:not(.notmatch)"):"A"===Re.parentNode.nodeName.toUpperCase()?this.bar.querySelector(".search-jumper-targetLink:not(.notmatch)"):this.bar.querySelector(".search-jumper-targetPage:not(.notmatch)")}if(e||(e=this.bar.querySelector(".search-jumper-targetAll:not(.notmatch)")||this.bar.querySelector(".search-jumper-type")),e){this.setFuncKeyCall(!1);let t=new PointerEvent("mouseup");e.classList.contains("search-jumper-open")&&(e.children[0].onmouseup?e.children[0].onmouseup():e.children[0].dispatchEvent(t)),e.children[0].onmouseup?e.children[0].onmouseup():e.children[0].dispatchEvent(t)}return e}searchAuto(e,t){e||(e=0);let n=this.autoGetFirstType();if(!n)return;let i=n.querySelectorAll("a.search-jumper-btn:not(.notmatch)");if(e<i.length){let n=i[e];this.searchBySiteName(n.dataset.name,t)}}setNav(e,t){t||Ae==e||(pe.setItem("navEnable",e||""),Ae=e),e?(t||this.locBtn.classList.add("checked"),this.searchJumperNavBar.style.display=""):(t||this.locBtn.classList.remove("checked"),this.searchJumperNavBar.style.display="none",this.navPointer.style.display="none")}lockSearchInput(t){this.lockSiteKeywords=!0,this.searchLockInput.innerText=t,this.con.classList.add("lock-input"),this.searchInput.value="",this.searchInput.style.paddingLeft=`${15+this.searchLockInput.scrollWidth}px`,this.searchInput.placeholder=e("inputKeywords")}async initRun(){let n=this;this.siteIndex=1,this.customInput=!1,this.fontPool=[],this.allSiteBtns=[],this.allListBtns=[],this.allLists=[],this.dockerScaleBtns=[],this.bar.style.visibility="hidden";let r=0,s=[];this.checkSelHandler=e=>{e.altKey&&this.searchInPageTab.checked&&window.getSelection().toString()&&this.showSearchInput()},this.splitSep="◎",this.lockWords="",this.marks={},this.initInPageWords=[],this.highlightSpans={},this.curHighlightWords=[],this.curWordIndex=0;let a=()=>{this.searchJumperInPageInput.focus(),this.highlight("");let e=this.lockWords.trim();e?(this.searchJumperInPageInput.value&&(e+=this.splitSep+this.searchJumperInPageInput.value),this.lockWords="",this.searchJumperInPageInput.value=e,this.searchInPageLockWords.innerHTML=h(),this.searchJumperInPageInput.style.paddingLeft=""):this.submitInPageWords()};document.addEventListener("keydown",e=>{27===e.keyCode&&(c?(this.searchInput.value="",this.searchInput.dispatchEvent(new CustomEvent("input"))):this.inInput?this.hideSearchInput():this.lockWords?(this.highlight(""),this.searchJumperInPageInput.value=this.lockWords,this.lockWords="",this.searchInPageLockWords.innerHTML=h(),this.setNav(!1,!0)):this.funcKeyCall&&this.removeBar())},!0),this.searchJumperInPageInput.addEventListener("focus",()=>{this.searchInputDiv.classList.add("active")}),this.searchJumperInPageInput.addEventListener("blur",()=>{this.searchInputDiv.classList.remove("active")}),this.searchJumperInPageInput.addEventListener("keydown",e=>{switch(e.stopPropagation(),e.keyCode){case 8:if(!this.searchJumperInPageInput.value){let t=this.searchInPageLockWords.lastChild;t&&(t.dispatchEvent(new CustomEvent("editword")),e.preventDefault())}break;case 9:e.preventDefault(),this.filterSitesTab.checked=!0,this.con.classList.remove("in-find"),this.searchInput.focus();break;case 13:{let t=this.searchJumperInPageInput.value?this.submitInPageWords():[];if(t&&t.length>0){let n=t.pop();this.currentSearchInPageLockWords&&(this.currentSearchInPageLockWords.firstChild.style.transform=""),this.currentSearchInPageLockWords=n;let i=new PointerEvent("mousedown",{button:e.shiftKey?2:0});n.dispatchEvent(i)}else if(this.lockWords){this.currentSearchInPageLockWords||(this.currentSearchInPageLockWords=this.searchInPageLockWords.lastChild,this.currentSearchInPageLockWords.firstChild.style.transform="scale(1.1)");let t=new PointerEvent("mousedown",{button:e.shiftKey?2:0});this.currentSearchInPageLockWords.dispatchEvent(t)}}break;case 37:""==this.searchJumperInPageInput.value&&this.lockWords&&(this.currentSearchInPageLockWords?this.currentSearchInPageLockWords.previousElementSibling&&(this.currentSearchInPageLockWords.firstChild.style.transform="",this.currentSearchInPageLockWords=this.currentSearchInPageLockWords.previousElementSibling,this.currentSearchInPageLockWords.firstChild.style.transform="scale(1.1)"):(this.currentSearchInPageLockWords=this.searchInPageLockWords.lastChild,this.currentSearchInPageLockWords.firstChild.style.transform="scale(1.1)"));break;case 39:""==this.searchJumperInPageInput.value&&this.lockWords&&(this.currentSearchInPageLockWords?this.currentSearchInPageLockWords.nextElementSibling&&(this.currentSearchInPageLockWords.firstChild.style.transform="",this.currentSearchInPageLockWords=this.currentSearchInPageLockWords.nextElementSibling,this.currentSearchInPageLockWords.firstChild.style.transform="scale(1.1)"):(this.currentSearchInPageLockWords=this.searchInPageLockWords.lastChild,this.currentSearchInPageLockWords.firstChild.style.transform="scale(1.1)"))}},!0),this.editBtn.addEventListener("click",()=>{a()}),this.addWord.addEventListener("click",()=>{this.showModifyWindow()}),this.searchInPageTab.addEventListener("change",()=>{this.initSetInPageWords(),this.searchJumperInPageInput.focus(),this.con.classList.add("in-find")}),this.filterSitesTab.addEventListener("change",()=>{this.searchInput.focus(),this.con.classList.remove("in-find")}),Me?(this.recoverBtn.addEventListener("click",()=>{this.lockWords="",this.searchJumperInPageInput.value=Me,this.searchInPageLockWords.innerHTML=h(),this.highlight(""),this.submitInPageWords(),this.searchJumperInPageInput.focus()}),this.pinBtn.classList.add("checked")):this.recoverBtn.style.display="none",this.pinBtn.addEventListener("click",()=>{this.submitInPageWords(),this.pinBtn.classList.contains("checked")?(Me="",this.pinBtn.classList.remove("checked")):this.lockWords&&(Me=this.lockWords,this.pinBtn.classList.add("checked")),pe.setItem("globalInPageWords",Me)}),this.wordModeBtn.addEventListener("click",()=>{this.wordModeBtn.classList.contains("checked")?this.wordModeBtn.classList.remove("checked"):this.wordModeBtn.classList.add("checked"),this.lockWords&&this.refreshPageWords(this.lockWords)}),this.saveRuleBtn.addEventListener("click",()=>{this.lockWords&&(Ge||d(()=>{let t=p.prefConfig.inPageRule||{};t[this.inPageRuleKey||Et.replace(/([&\?]_i=|#).*/,"")]=this.lockWords,p.prefConfig.inPageRule=t,p.lastModified=(new Date).getTime(),Oe=p.lastModified,pe.setItem("searchData",p),re(e("save completed"))}))}),this.emptyBtn.addEventListener("click",()=>{this.lockWords="",this.searchJumperInPageInput.value="",this.searchInPageLockWords.innerHTML=h(),this.searchJumperInPageInput.style.paddingLeft="",this.submitInPageWords(),this.searchJumperInPageInput.focus()}),this.copyInPageBtn.addEventListener("click",()=>{this.lockWords&&(se(this.lockWords.replace(/◎/g,"\n")),re("Copied successfully!"))}),this.setNav(Ae),this.locBtn.addEventListener("click",()=>{this.setNav(!this.locBtn.classList.contains("checked"))}),this.closeNavBtn.addEventListener("click",()=>{this.lockWords?(this.searchJumperInPageInput.value=this.lockWords||"",this.lockWords="",this.searchInPageLockWords.innerHTML=h(),this.searchJumperInPageInput.style.paddingLeft="",this.highlight(""),this.searchJumperInPageInput.focus(),this.setNav(!1,!0),pe.setItem("disableHighlight",location.hostname),"none"===this.bar.style.display&&this.removeBar()):this.setNav(!1)}),this.minNavBtn.addEventListener("click",()=>{if(this.searchJumperNavBar.classList.contains("minimize")){if(this.searchJumperNavBar.classList.remove("minimize"),this.lockWords.trim())return;this.submitInPageWords()}else{this.searchJumperNavBar.classList.add("minimize"),this.highlight("");let e=this.lockWords.trim();if(!e)return;this.searchJumperInPageInput.value&&(e+=this.splitSep+this.searchJumperInPageInput.value),this.lockWords="",this.searchJumperInPageInput.value=e,this.searchInPageLockWords.innerHTML=h(),this.searchJumperInPageInput.style.paddingLeft=""}}),this.maxNavBtn.addEventListener("click",()=>{n.showInPage(),n.showInPageSearch()}),this.navMarks.addEventListener("click",e=>{let t,n=e.offsetY/this.navMarks.clientHeight*100,i=[].slice.call(this.navMarks.querySelectorAll("span"));i.sort((e,t)=>(e=parseFloat(e.style.top))>(t=parseFloat(t.style.top))?1:e<t?-1:0);for(let e=0;e<i.length;e++){t=i[e];let r=parseFloat(t.style.top);if(r>n){if(e>0){let s=i[e-1];r-n>n-parseFloat(s.style.top)&&(t=s)}break}}t&&t.click()}),this.bar.addEventListener("mousedown",e=>{e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault()}),this.con.addEventListener("dblclick",e=>{e.stopPropagation(),e.preventDefault()});let o,l=e=>{e.stopPropagation(),e.preventDefault();let t=n.searchJumperExpand.parentNode;if(!t||!t.classList.contains("not-expand"))return;t.classList.remove("not-expand"),t.classList.remove("search-jumper-move");let i=n.con.classList.contains("search-jumper-left")||n.con.classList.contains("search-jumper-right");t.removeChild(n.searchJumperExpand);let r=Math.max(t.scrollWidth,t.scrollHeight)+5+"px";i?(t.style.height=r,t.style.width=""):(t.style.width=r,t.style.height=""),setTimeout(()=>{n.checkScroll(),t.classList.add("search-jumper-move")},251)};this.searchJumperExpand.addEventListener("click",l,!0),this.searchJumperExpand.addEventListener("contextmenu",l,!0),this.searchJumperExpand.addEventListener("mouseenter",e=>{p.prefConfig.overOpen&&(clearTimeout(o),o=setTimeout(()=>{l(e)},500));let t=new CustomEvent("sitelist",{detail:{bind:e.currentTarget}});e.currentTarget.parentNode.dispatchEvent(t)},!1),p.prefConfig.overOpen&&this.searchJumperExpand.addEventListener("mouseleave",()=>{clearTimeout(o)},!1),this.pickerBtn.addEventListener("click",()=>{this.togglePicker()}),this.maxEleBtn.addEventListener("click",()=>{Dt.expand()}),this.minEleBtn.addEventListener("click",()=>{Dt.collapse()}),this.copyEleBtn.addEventListener("click",()=>{Dt.copy()}),this.openLinkBtn.addEventListener("click",()=>{Dt.openLinks()});let u=document.createElement("div");u.className="listArrow",this.listArrow=u,this.con.appendChild(u);for(let e of p.sitesConfig)e.bookmark||e.sites.length>100||/^BM/.test(e.type)&&"bookmark"===e.icon?s.push(e):(await this.createType(e),r+=e.sites.length,r>100&&(await Y(1),r=0));this.initHistorySites(),this.initSort(),this.bar.style.visibility="",this.bar.style.display="none",this.searchInPageRule(),ge&&Wt.test(ge.url)?this.inSearchEngine():!p.prefConfig.alwaysShow||i||ee||(this.bar.style.display="",this.initPos(),this.appendBar()),Ce&&(Re=Ce.target,this.batchOpen(Ce.sites,{button:2})),Ce=!1,ke&&(this.submitAction(ke),setTimeout(()=>{pe.setListItem("inPagePostParams",location.hostname,"")},1e4));let f,g=!1;this.inInput=!1;let y=()=>{we!==n.searchInput.value&&(we=n.searchInput.value,pe.setItem("cacheFilter",we))};this.searchInput.addEventListener("input",()=>{clearTimeout(f),f=setTimeout(()=>{g||n.searchSiteBtns(n.searchInput.value)},500)}),this.searchInput.addEventListener("compositionstart",function(){g=!0}),this.searchInput.addEventListener("compositionend",function(){g=!1}),this.searchInput.addEventListener("click",()=>{n.searchInput.select()}),this.searchInput.addEventListener("blur",()=>{y()}),this.searchInput.addEventListener("keydown",e=>{switch(e.stopPropagation(),e.keyCode){case 9:e.shiftKey&&(e.preventDefault(),this.searchInPageTab.checked=!0,this.con.classList.add("in-find"),this.searchJumperInPageInput.focus(),this.initSetInPageWords());break;case 13:if(this.searchJumperInputKeyWords.disabled){clearTimeout(f);let t,i="";ge&&!n.searchInput.value?(t=n.con.querySelector(".search-jumper-btn.current"),i="_self"):(t=n.con.querySelector(".search-jumper-type.search-jumper-open>a.search-jumper-btn:not(.input-hide)")||n.con.querySelector(".search-jumper-needInPage>a.search-jumper-btn:not(.input-hide)")||n.con.querySelector("a.search-jumper-btn:not(.input-hide)"),i="_blank"),t&&n.openSiteBtn(t,i,!e.ctrlKey)}else this.searchJumperInputKeyWords.focus(),this.searchJumperInputKeyWords.value,y()}}),this.searchJumperInputKeyWords.addEventListener("input",()=>{clearTimeout(f),f=setTimeout(()=>{g||n.getSuggest(n.searchJumperInputKeyWords.value)},200)}),this.searchJumperInputKeyWords.addEventListener("compositionstart",function(){g=!0}),this.searchJumperInputKeyWords.addEventListener("compositionend",function(){g=!1}),this.searchJumperInputKeyWords.addEventListener("keydown",e=>{switch(27!==e.keyCode&&e.stopPropagation(),e.keyCode){case 9:this.inInput?e.shiftKey||(e.preventDefault(),this.searchInPageTab.checked=!0,this.con.classList.add("in-find"),this.searchJumperInPageInput.focus(),this.initSetInPageWords()):(e.preventDefault(),this.searchInput.focus());break;case 13:(e=>{clearTimeout(f);let t,i="";ge&&!n.searchInput.value?(t=n.con.querySelector(".search-jumper-btn.current"),i="_self"):(t=n.con.querySelector(".search-jumper-type.search-jumper-open>a.search-jumper-btn:not(.input-hide)")||n.con.querySelector(".search-jumper-needInPage>a.search-jumper-btn:not(.input-hide)")||n.con.querySelector("a.search-jumper-btn:not(.input-hide)"),i="_blank"),t&&n.openSiteBtn(t,i,!e.ctrlKey)})(e)}},!0),this.con.addEventListener("keypress",e=>{e.stopPropagation()},!0),this.closeBtn.addEventListener("mousedown",()=>{n.hideSearchInput(),p.prefConfig.emptyAfterCloseInput&&(n.highlight(""),n.searchJumperInPageInput.value=n.lockWords||"",n.lockWords="",n.searchInPageLockWords.innerHTML=h(),n.setNav(!1,!0))});let v,w,b,x,C,k,j=window.innerWidth/2,T=e=>0===e.type.indexOf("mouse")?e.clientX:e.changedTouches[0].clientX,S=e=>0===e.type.indexOf("mouse")?e.clientY:e.changedTouches[0].clientY,I=e=>{let t=.25*window.innerWidth,i=j+T(e)-b;if(n.searchInputDiv.style.top="unset",n.searchInputDiv.style.left=i+"px",n.searchInputDiv.style.bottom=v-(S(e)-x)+"px",i>window.innerWidth/2){let e=window.innerWidth-i+t-50;n.searchInputDiv.style.maxWidth=e+"px"}else{let e=i+t;i<t&&(i+=t-i,n.searchInputDiv.style.left=i+"px"),n.searchInputDiv.style.maxWidth=e+"px"}e.stopPropagation(),e.preventDefault()},E=e=>{document.removeEventListener("mouseup",E),document.removeEventListener("mousemove",I),document.removeEventListener("touchend",E),document.removeEventListener("touchmove",I),w.style.cursor="",j+=T(e)-b,v-=S(e)-x},L=()=>{v||(v=n.con.classList.contains("search-jumper-bottom")?.95*window.innerHeight-60:.03*window.innerHeight)},P=!1;this.searchInputDiv.addEventListener("touchstart",e=>{P=!0,"inputGroup"!==e.target.className&&"LABEL"!==e.target.nodeName.toUpperCase()||(L(),w=e.target,w.style.cursor="grabbing",b=T(e),x=S(e),document.addEventListener("touchend",E),document.addEventListener("touchmove",I))},{passive:!0,capture:!1}),this.searchInputDiv.addEventListener("mousedown",e=>{P?P=!1:"inputGroup"!==e.target.className&&"LABEL"!==e.target.nodeName.toUpperCase()||(L(),w=e.target,w.style.cursor="grabbing",b=e.clientX,x=e.clientY,document.addEventListener("mouseup",E),document.addEventListener("mousemove",I),e.stopPropagation(),e.preventDefault())});let N,M=e=>{let t=e.clientX-k+C+20;this.searchInputDiv.style.width=t+"px"},A=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",A)};this.rightSizeChange.addEventListener("mousedown",e=>{k=e.clientX,C=2*this.searchInput.clientWidth+2,document.addEventListener("mousemove",M),document.addEventListener("mouseup",A),e.stopPropagation(),e.preventDefault()});let B=e=>{if(!this.contains(e.target)){let e=/^(https?|ftp):/.test(N.href);e&&N.setAttribute("target","_blank"),e?ae(N.href,{active:!1,insert:!0}):N.click(),e&&N.setAttribute("target",1==N.dataset.target?"_blank":"_self")}m(document).removeEventListener("dragover",$),document.removeEventListener("drop",B),document.removeEventListener("dragover",$)},$=e=>{e.preventDefault()},J=()=>{m(document).removeEventListener("dragover",$),document.removeEventListener("drop",B),document.removeEventListener("dragover",$)};this.bar.addEventListener("dragstart",e=>{let t=e.target,n=t.parentNode;"IMG"!==t.nodeName.toUpperCase()&&"A"!==t.nodeName.toUpperCase()||(t.classList&&t.classList.contains("search-jumper-btn")?(N=t,m(document).addEventListener("dragover",$),document.addEventListener("drop",B),document.addEventListener("dragend",J)):n&&n.classList&&n.classList.contains("search-jumper-btn")&&(N=n,m(document).addEventListener("dragover",$),document.addEventListener("drop",B),document.addEventListener("dragend",J)))},!0),r=0;let D=!1!==ge;for(let e of s)await this.createType(e),r+=e.sites.length,r>200&&(await Y(1),r=0);if(!this.findInpageAddons){this.findInpageAddons=t.searchJumperAddons.filter(e=>"findInPage"==e.type).sort((e,t)=>(e.sort||0)-(t.sort||0));let e=this,n=0,i={};this.findInpageAddons.forEach(t=>{let r=t.name||"addon"+n++;i[t.sort]||!0===p.prefConfig.disableAddon[r]?t.disable=!0:(p.prefConfig.disableAddon[r],t.disable=!1),i[t.sort]=!0,e.createAddonSpan(r,t)})}if(this.fontPool.length>0||ee){let e=document.createElement("link");e.rel="stylesheet",e.href=p.prefConfig.fontAwesomeCss||"https://lib.baomitu.com/font-awesome/6.1.2/css/all.css",document.documentElement.insertBefore(e,document.documentElement.children[0]),this.addToShadow(e.cloneNode()),async function(e){for(var t,n;document.hidden;)await Y(500);t=100,n=function(){var i,r,s;t-=1,(i=document.createElement("canvas")).width=20,i.height=20,(r=i.getContext("2d",{willReadFrequently:!0})).fillStyle="rgba(0,0,0,1.0)",r.fillRect(0,0,20,20),r.font="16pt FontAwesome",r.textAlign="center",r.fillStyle="rgba(255,255,255,1.0)",r.fillText("",10,18),0==(s=r.getImageData(2,10,1,1).data)[0]&&0==s[1]&&0==s[2]?(r.font='16pt "Font Awesome 6 Free"',r.fillText("",10,18),0==(s=r.getImageData(2,10,1,1).data)[0]&&0==s[1]&&0==s[2]?t>0&&setTimeout(n,150):e()):e()},setTimeout(n,100)}(()=>{let e=!1;this.fontPool.forEach(t=>{t.innerText="",t.style.fontSize="",t.style.color="",e=!0,Pe.unshift(t)}),e&&ee&&setTimeout(()=>{W()},500),this.buildAllPageGroupTab()})}else this.buildAllPageGroupTab();if(c)return;We&&We!=location.hostname&&window.top==window.self&&pe.setItem("disableHighlight",""),await this.testCSP();let z=ge&&Wt.test(ge.url);if(!D&&z?this.inSearchEngine():ge||window.top!=window.self||this.checkSearchJump(),/^#sjhl=/.test(location.hash)){let e=location.hash.match(/^#sjhl=(.*?)(&i=(\d+))?$/),t=e[1],n=parseInt(e[3]||1)-1;try{t=decodeURIComponent(t)}catch(e){console.log(e)}this.setInPageWords(t,()=>{let e=document.querySelectorAll("mark.searchJumper")[n];e&&e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})})}else this.checkDiscussions();let O=this.initInPageWords&&this.initInPageWords.length;!qe&&("none"!==this.bar.style.display||Ae&&O)||this.removeBar()}checkDiscussions(){if("/hoothin/SearchJumper/discussions/new"===location.pathname&&"?category=search-engines"===location.search){let e=p.sitesConfig.filter(e=>e&&!(/^BM/.test(e.type)&&"bookmark"===e.icon));S('textarea[name="discussion[body]"]',"```json\n"+JSON.stringify(e,null,2)+"\n```")}}buildAllPageGroupTab(){let e=this;this.groupTab.innerHTML=h(),fe.forEach(t=>{if(t.classList.contains("notmatch"))return;let n=t.dataset.type,i=t.firstElementChild.cloneNode(!0);i.children.length>1&&(i.children[0].style.display="none",i.children[1].style.display="");let r=document.createElement("span");r.appendChild(i),r.dataset.type=n,r.addEventListener("click",()=>{let t=e.sitelistBox.querySelector(`[data-type="${n}"]`);t&&t.scrollIntoView({behavior:"smooth",block:"start",inline:"center"})}),e.groupTab.appendChild(r)})}async refreshEngines(){if(p&&!this.refreshing){this.refreshing=!0,setTimeout(()=>{this.refreshing=!1},500),Oe=p.lastModified,this.removeBar(),fe&&fe.length&&fe.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),fe=[],this.allSiteBtns=[],this.allListBtns=[],this.allLists=[],this.historyTypeEle=null;for(let e of p.sitesConfig)await this.createType(e);this.initHistorySites(),this.initSort(),this.buildAllPageGroupTab(),c&&this.appendBar()}}waitForHide(e){let t=this;if(this.bar.classList.contains("grabbing")||this.hiding)return;0===e&&(this.hiding=!0,setTimeout(()=>{t.hiding=!1},500)),this.touched=!1;var n=()=>{if(t.bar.classList.remove("search-jumper-isTargetImg"),t.bar.classList.remove("search-jumper-isTargetAudio"),t.bar.classList.remove("search-jumper-isTargetVideo"),t.bar.classList.remove("search-jumper-isTargetLink"),t.bar.classList.remove("initShow"),t.tips.style.opacity=0,t.tips.style.display="none",t.tips.innerHTML=h(""),t.funcKeyCall)if(t.setFuncKeyCall(!1),ge&&!ge.hideNotMatch&&!p.prefConfig.hideOnSearchEngine||t.con.classList.contains("resizePage")){t.initPos();let e=t.bar.querySelector(".search-jumper-type:nth-child(1)>span");if(e&&!e.classList.contains("search-jumper-open"))if(e.onmouseup)e.onmouseup();else{let t=new PointerEvent("mouseup");e.dispatchEvent(t)}}else t.bar.style.display="none";p.prefConfig.autoClose&&t.closeOpenType(),t.hideTimeout=null};this.hideTimeout&&clearTimeout(this.hideTimeout);let i=void 0===e?this.funcKeyCall?500:p.prefConfig.autoDelay||1e3:e;i?this.hideTimeout=setTimeout(n,i):n(),this.preList&&(this.preList.style.visibility="hidden",this.listArrow.style.cssText="")}searchEngineWords(e){return e=e.replace(/( |^)-\S+/g,""),/".+"/.test(e)&&(e=e.replace(/"(.+)"/g,(e,t)=>`◎${t}◎`).replace(/^◎|◎$/g,"")),this.lastSearchEngineWords=e.replace(/['";]/g," "),this.lastSearchEngineWords}setInPageWords(e,t,n){this.initInPageWords.push(e),this.con.classList.add("in-find");let i=()=>{setTimeout(async()=>{if("none"===m(document).style.display&&(m(document).style.display=""),this.lockWords)this.initInPageWords=[];else{for(;document.hidden;)await Y(1e3);pe.setItem("lastHighlight",location.hostname);let e=this.initInPageWords.shift();for(;e;)this.searchJumperInPageInput.value=e,this.submitInPageWords(!!n),e=this.initInPageWords.shift()}t&&t(),await Y(100),pe.setItem("lastHighlight","")},300)};if("complete"!=document.readyState){let e=()=>{"complete"==document.readyState&&(document.removeEventListener("readystatechange",e),window.removeEventListener("load",e),i())};document.addEventListener("readystatechange",e),window.addEventListener("load",e)}else i()}searchInPageRule(){if(p.prefConfig.disableAutoHighlight){let e=p.prefConfig.disableAutoHighlight.trim().split("\n");for(let t=0;t<e.length;t++){let n=e[t],i=!1;if(0===n.indexOf("/")){let e=n.match(/^\/(.*)\/([igm]*)$/);e&&(i=new RegExp(e[1],e[2]).test(Et))}else i=this.globMatch(n,Et);if(i)return void(this.disableAutoHighlight=!0)}}if(Je===location.hostname&&(this.disableAutoHighlight=!0),p.prefConfig.inPageRule){let e=Object.keys(p.prefConfig.inPageRule);for(let t=0;t<e.length;t++){let n=e[t];if(!n)continue;let i=!1;if(0===n.indexOf("/")){let e=n.match(/^\/(.*)\/([igm]*)$/);e&&(i=new RegExp(e[1],e[2]).test(Et))}else i=this.globMatch(n,Et);if(i){let e=p.prefConfig.inPageRule[n];if(!e)continue;this.inPageRuleKey=n,this.disableAutoHighlight=!0,this.setInPageWords(e);break}}}}checkSearchJump(){if(this.inPageRuleKey||this.disableAutoHighlight)return;let e;if(p.prefConfig.showInSearchJumpPage&&Be&&!We){let t=!It&&$e&&-1!=location.href.indexOf($e);if(t&&pe.setItem("clickLink",""),It&&-1!=It.indexOf(Be)||t){ve&&this.wordModeBtn.classList.add("checked"),e=ve;try{e=decodeURIComponent(e),e=this.searchEngineWords(e)}catch(e){}}}if(e=e||Me,e){this.appendBar();let t=this;this.setInPageWords(e,()=>{t.navMarks.innerHTML||"none"!==t.bar.style.display||t.removeBar()},!0)}else if(!this.searchJumperInPageInput.value&&-1!=It.indexOf(Be)&&ve){e=ve,this.wordModeBtn.classList.add("checked");try{e=decodeURIComponent(e)}catch(e){}this.searchJumperInPageInput.value=e}}inSearchEngine(){if(!this.currentType||!ge||i||this.inPageRuleKey||this.disableAutoHighlight)return;if(!/sidesearch=(1|true)$/i.test(location.search)&&(!/#p{/.test(ge.url)||ge.keywords)){if(this.appendBar(),this.currentType.classList.contains("search-jumper-needInPage"))this.bar.classList.add("search-jumper-isTargetPage");else if(this.currentType.classList.contains("search-jumper-targetAll")||this.currentType.classList.contains("search-jumper-targetImg")||this.currentType.classList.contains("search-jumper-targetAudio")||this.currentType.classList.contains("search-jumper-targetVideo")||this.currentType.classList.contains("search-jumper-targetLink")||this.currentType.classList.contains("search-jumper-targetPage"))return;p.prefConfig.hideOnSearchEngine||(this.bar.style.display="",this.initPos())}this.insertHistory(this.currentType,!0),this.wordModeBtn.classList.add("checked");let e=p.prefConfig.showInSearchEngine?this.searchEngineWords(xe):Me;e&&this.setInPageWords(e,null,!0)}getSuggest(e){let t=this.suggestDatalist;if(t.innerHTML=h(),!e)return;let n=(e,t,n)=>{ne({method:"GET",url:e,responseType:n?"blob":"",headers:{referer:e,origin:e},onload:function(e){let i=e.response;if(!(e.status>=400)&&i)if(n){let e=new FileReader;e.onload=()=>{t(e.result)},e.readAsText(i,n)}else t(i)},onerror:function(e){X(e)},ontimeout:function(e){X(e)}})};switch(p.prefConfig.suggestType){case"google":n("https://suggestqueries.google.com/complete/search?client=youtube&q=%s&jsonp=window.google.ac.h".replace("%s",e),e=>{if(e=e.match(/window.google.ac.h\((.*)\)$/,"$1")){e=JSON.parse(e[1])[1];for(let n in e){let i=document.createElement("option");i.value=e[n][0],t.appendChild(i)}}});break;case"baidu":n("https://suggestion.baidu.com/su?wd=%s&cb=".replace("%s",e),e=>{if(e=e.match(/.*,s:(.*)}\);$/,"$1")){e=JSON.parse(e[1]);for(let n in e){let i=document.createElement("option");i.value=e[n],t.appendChild(i)}}},"GBK");break;case"bing":n("https://api.bing.com/qsonhs.aspx?type=json&q=%s".replace("%s",e),e=>{if(e){e=JSON.parse(e).AS.Results;for(let n in e){let i=e[n].Suggests;for(let e in i){let n=document.createElement("option");n.value=i[e].Txt,t.appendChild(n)}}}})}}searchSiteBtns(e){let t=e.indexOf("**"),n="",i=!1;t>0&&(n=e.slice(0,t),e=e.slice(t+2)),0===e.indexOf("^")?i=!0:(n=n.toLowerCase(),e=e.toLowerCase()),e?this.con.classList.add("searching"):this.con.classList.remove("searching");let r=!/[^\w\.\/\:\*\?\^\$]/.test(e);this.allListBtns.forEach(e=>{e.classList.add("input-hide")}),fe.forEach(e=>{e.classList.add("input-hide")});let s=0;this.filterGlob.innerHTML=h(),this.allSiteBtns.forEach(t=>{let a=t[0],o=t[1],l=a.parentNode,c=a.dataset.type,p=a.dataset.name,h=a.title;i||(c=c.toLowerCase(),p=p.toLowerCase(),h=h.toLowerCase());let d="";if(n){if(!this.globMatch(n,c))return;d=a.dataset.type+"**"}let u=!1;if(a.dataset.clone||(this.globMatch(e,p)?(u=!0,d+="^"+a.dataset.name+"$"):a.title&&this.globMatch(e,h)&&(u=!0,d+="^"+a.title+"$")),!u){if(r){if(!a.dataset.host){let e=/^https?:\/\/([^\/]*)\/[\s\S]*$/,t=o.url,n=e.test(t)?t.replace(e,"$1"):t;a.dataset.host=n&&n.split("\n")[0].toLowerCase()}u=this.globMatch(e,a.dataset.host)}u?a.dataset.isPage&&(d+="^"+a.dataset.host+"$"):a.classList.add("input-hide")}if(u){let t;a.classList.remove("input-hide"),l&&l.classList.remove("input-hide");for(let e=0;e<this.allListBtns.length;e++)if(this.allListBtns[e].id=="list"+a.dataset.id){t=this.allListBtns[e];break}if(t&&t.classList.remove("input-hide"),s<50&&e&&this.searchInput.value!==d&&!this.filterGlob.querySelector(`option[value="${d}"]`)){s++;let e=document.createElement("option");e.value=d,this.filterGlob.appendChild(e)}}}),fe.forEach(e=>{let t;for(let n=0;n<this.allLists.length;n++)if(this.allLists[n].dataset.type==e.dataset.type){t=this.allLists[n];break}t&&(e.classList.contains("input-hide")?t.classList.add("input-hide"):t.classList.remove("input-hide"))});let a=this.bar.querySelector(".search-jumper-type:not(.input-hide)");if(a){if(!a.classList.contains("search-jumper-open")){let e=a.querySelector("span.search-jumper-btn");if(e.onmouseup)e.onmouseup();else{let t=new PointerEvent("mouseup");e.dispatchEvent(t)}}if(this.searchJumperExpand.parentNode==a){let e=new PointerEvent("click");this.searchJumperExpand.dispatchEvent(e)}}}globMatch(e,t,n){if(t.length>500)return!1;try{if(0==e.length||"*"===e)return!0;if(1===e.length&&"$"===e[0])return!t||0===t.length;if(e.length>1&&"*"===e[0]&&(!t||0===t.length))return!1;if(!n)if(n=!0,e.length>1&&"^"===e[0]&&t&&0!==t.length){if((e=e.substring(1))[0]!==t[0])return!1}else"*"!==e[0]&&(e="*"+e);if(e.length>1&&"?"===e[0]||0!=e.length&&t&&0!==t.length&&e[0]===t[0])return this.globMatch(e.substring(1),t.substring(1),!!n);if(e.length>0&&"*"===e[0])return this.globMatch(e.substring(1),t,!!n)||this.globMatch(e,t&&t.substring(1),!!n)}catch(e){X(e)}return!1}setCurrentSite(e,t){ge=e,t.classList.add("current"),xe="",!/#p{|^(showTips|find)/.test(e.url)&&Wt.test(e.url)&&(this.updateCacheKeywords(),pe.setItem("referrer",location.hostname))}updateCacheKeywords(){let e=O();e&&e!=ve&&(ve=e,pe.setItem("cacheKeywords",e))}refresh(){this.refreshInPageTimer&&clearTimeout(this.refreshInPageTimer),this.refreshInPageTimer=setTimeout(()=>{if("none"==this.bar.style.display){let e;ge=null;for(let t in p.sitesConfig){if(ge)break;if(e=p.sitesConfig[t],!e)continue;let n=e.sites;for(let e in n){if(ge)break;let t,i=n[e];if(i&&i.url){if("0"===i.match);else if(i.match)new RegExp(i.match).test(Et)&&(t=i);else if(-1!=i.url.indexOf(location.hostname))if(-1!=i.url.indexOf("site")){let e=i.url.match(/site(%3A|:)([\s\S]+?)[\s%]/);e&&-1!=Et.indexOf(e[2])&&-1!=i.url.replace(e[0],"").indexOf(location.hostname)&&(t=i)}else if(!ge&&i.url.replace(/^https?:\/\//,"").replace(location.host,"").replace(/\/?[\?#][\s\S]*/,"")==location.pathname.replace(/\/$/,"")){let e=i.url.match(/[^\/\?&]+(?=%[stb])/g);e&&(e=e.join(".*"),new RegExp(e).test(Et)&&(t=i))}if(t){let e=this.getTargetSitesByName([t.name])[0];this.currentType=e.parentNode,this.setCurrentSite(t,e)}}}}if(ge&&Wt.test(ge.url)&&(!/#p{/.test(ge.url)||ge.keywords)&&!p.prefConfig.hideOnSearchEngine){if(this.currentType.classList.contains("search-jumper-targetAll")||this.currentType.classList.contains("search-jumper-targetImg")||this.currentType.classList.contains("search-jumper-targetAudio")||this.currentType.classList.contains("search-jumper-targetVideo")||this.currentType.classList.contains("search-jumper-targetLink")||this.currentType.classList.contains("search-jumper-targetPage"))return;this.appendBar(),this.bar.style.display="",this.initPos();let t=this.bar.querySelector(`.search-jumper-type[data-type="${e.type}"]>span`);if(t&&!t.classList.contains("search-jumper-open")&&(this.bar.insertBefore(t.parentNode,this.bar.children[0]),!p.prefConfig.disableAutoOpen&&!p.prefConfig.disableTypeOpen))if(t.onmouseup)t.onmouseup();else{let e=new PointerEvent("mouseup");t.dispatchEvent(e)}}}let e=this.curHighlightWords;if(this.highlight(""),ge&&p.prefConfig.showInSearchEngine){let t=this.lastSearchEngineWords,n=this.searchEngineWords(O());if(n&&t!=n){let e=this.anylizeInPageWords(n,!0);this.highlight(e)}else e&&this.highlight(e)}else e&&this.highlight(e)},500)}initSort(){if(p.prefConfig.shiftLastUsedType&&this.historyTypeEle&&(ge?this.bar.insertBefore(this.historyTypeEle,this.bar.children[1]):this.bar.insertBefore(this.historyTypeEle,this.bar.children[0])),p.prefConfig.sortType){let e=this;fe.sort((e,t)=>{let n=Ie[e.dataset.type]||0;return(Ie[t.dataset.type]||0)-n});let t=!1,n=!e.bar.children[0].classList.contains("search-jumper-open");for(let i=fe.length-1;i>=0;i--){let r=fe[i],s=Ie[r.dataset.type]||0;if(i==fe.length-1)s>0&&(t=!0,Ie[r.dataset.type]=0);else{let e=Ie[fe[i+1].dataset.type]||0;s-e>10&&(t=!0,Ie[r.dataset.type]=e+10)}e.bar.insertBefore(r,e.bar.children[n?0:1])}t&&pe.setItem("sortTypeNames",Ie)}}initHistorySites(){this.historySiteBtns=[],this.txtHistorySiteBtns=[],this.imgHistorySiteBtns=[],this.linkHistorySiteBtns=[],this.videoHistorySiteBtns=[],this.audioHistorySiteBtns=[];let e=this;Te.forEach(async t=>{for(let n of p.sitesConfig){let i=!1,r=n.bookmark||n.sites.length>100||/^BM/.test(n.type)&&"bookmark"===n.icon;for(let s=0;s<n.sites.length;s++){let a=n.sites[s];if(a.name==t){let t=await e.createSiteBtn(p.prefConfig.noIcons?"0":a.icon,a,!0,r,n,!0);t.classList.add("historySite"),e.historySiteBtns.push(t),n.selectImg||n.selectLink||n.selectPage||n.selectVideo||n.selectAudio||e.txtHistorySiteBtns.push(t),n.selectImg&&e.imgHistorySiteBtns.push(t),(n.selectLink||n.selectPage)&&e.linkHistorySiteBtns.push(t),n.selectVideo&&e.videoHistorySiteBtns.push(t),n.selectAudio&&e.audioHistorySiteBtns.push(t),i=!0;break}}if(i)break}})}insertHistory(e,t){if(!p.prefConfig.historyLength)return;e.style.width="auto",e.style.height="auto";let n=this;this.historyInserted=!0;let i=0,r=!t&&p.prefConfig.historyInsertFirst,s=!1,a=0;r||(s=this.searchJumperExpand.parentNode==e&&!p.prefConfig.expandType,s&&(a=(p.prefConfig.numPerLine||7)-1,a=p.prefConfig.historyLength<a?a+a-p.prefConfig.historyLength:a,p.prefConfig.hideTileType&&a++));let o=this.historySiteBtns;e.classList.contains("search-jumper-needInPage")?o=this.txtHistorySiteBtns:e.classList.contains("search-jumper-targetImg")?o=this.imgHistorySiteBtns:e.classList.contains("search-jumper-targetAudio")?o=this.audioHistorySiteBtns:e.classList.contains("search-jumper-targetVideo")?o=this.videoHistorySiteBtns:(e.classList.contains("search-jumper-targetLink")||e.classList.contains("search-jumper-targetPage"))&&(o=this.linkHistorySiteBtns);for(let t=0;t<o.length;t++){let l=o[t];if("none"==l.style.display)continue;let c=l.querySelector("img");if(c&&c.dataset.src&&(c.src=c.dataset.src,delete c.dataset.src),l.parentNode!=e){let t=e.querySelectorAll("a.search-jumper-btn"),o=!1;for(let e=0;e<t.length;e++){let n=t[e];if((n.dataset.oriName||n.dataset.name)==(l.dataset.oriName||l.dataset.name)){o=!0;break}}if(o)continue;if(r)e.children.length>1?e.insertBefore(l,e.children[1]):e.appendChild(l);else if(s){let t=e.querySelectorAll("a.search-jumper-btn");t.length>a?e.insertBefore(l,t[a]):e.insertBefore(l,n.searchJumperExpand)}else e.appendChild(l);if(++i>=p.prefConfig.historyLength)break}else r&&(e.children.length>1?e.insertBefore(l,e.children[1]):e.appendChild(l))}e.style.width=e.scrollWidth+"px",e.style.height=e.scrollHeight+"px"}recoveHistory(){if(!p.prefConfig.historyLength)return;if(!this.historyInserted)return;let e;this.historyInserted=!1;for(let t=0;t<this.historySiteBtns.length;t++){let n=this.historySiteBtns[t];n.classList.contains("historySite")&&(e=n.parentNode,this.siteBtnReturnHome(n))}e&&e.classList.contains("search-jumper-open")&&(e.style.width="auto",e.style.height="auto",e.style.width=e.scrollWidth+"px",e.style.height=e.scrollHeight+"px")}bindSite(e,t){if(e.getAttribute("bind"))return;e.setAttribute("bind",!0);let n=this;t.href&&(e.href=t.href),e.style.display=t.style.display,e.addEventListener("mousedown",async i=>{t.dataset.showTips?(n.con.classList.contains("search-jumper-showall")?Re=e.parentNode:n.waitForHide(0),t.dispatchEvent(new CustomEvent("showTips",{detail:e}))):(await n.siteSetUrl(t,{button:i.button,altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}),t.href&&(e.href=t.href),e.setAttribute("target",t.target)),e.onclick||(e.onclick=e=>(t.dataset.showTips||t.click(),e.stopPropagation(),e.preventDefault(),!1))},!1),e.addEventListener("dragover",e=>{e.preventDefault()},!0),e.addEventListener("dragenter",()=>{n.dragTarget&&n.dragTarget.classList.remove("dragTarget"),n.dragTarget=e,n.dragTarget.classList.add("dragTarget"),clearTimeout(n.dragTimer),n.dragTimer=setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},1e3)},!0),e.addEventListener("dragleave",()=>{e.classList.remove("dragTarget")},!0),e.addEventListener("drop",e=>{clearTimeout(n.dragTimer),n.dragTarget&&n.dragTarget.classList.remove("dragTarget"),n.searchBySiteName(t.dataset.name,e)},!0)}async createList(t,n,i){function r(e,t){let n=document.createElement("div");n.id="list"+t;let i=e.querySelector("img"),r=document.createElement("a");if(r.setAttribute("ref","noopener noreferrer"),s.bindSite(r,e),n.appendChild(r),s.allListBtns.push(n),i&&!p.prefConfig.noIcons){let e=i.src||i.dataset.src,t=document.createElement("img");r.appendChild(t),t.onload=()=>{t.style.width="",t.style.height="",t.style.display=""},t.onerror=()=>{t.src=At},t.style.width="1px",t.style.height="1px",t.style.display="none",e?(/^data:/.test(e)||(t.οnerrοr=()=>{t.src=At,t.onerror=null,t.style.width="",t.style.height="",t.style.display=""}),t.dataset.src=e):t.dataset.src=At}let a=document.createElement("p");a.innerText=e.dataset.name,n.title=e.title,n.dataset.name=e.dataset.name,r.appendChild(a),o.appendChild(n)}let s=this,a=document.createElement("div");a.className="sitelist",a.style.visibility="hidden";let o=document.createElement("div");o.className="sitelistCon",a.appendChild(o),a.addEventListener("mouseenter",()=>{s.listArrow.style.cssText=""});let l=document.createElement("p");l.innerText=n.dataset.title,l.title=e("batchOpen"),l.addEventListener("click",e=>{s.batchOpen(i,{ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,button:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?0:2})}),a.dataset.type=n.dataset.type,o.appendChild(l);try{for(let[e,n]of t.entries())r(n,n.dataset.id),e%50==49&&await Y(1)}catch(e){for(let e=0;e<t.length;e++){let n=t[e];r(n,n.dataset.id)}}return this.allLists.push(a),a}async initList(e){e.dataset.inited||(e.style.display="none",e.dataset.inited=!0,[].forEach.call(e.querySelectorAll("div>a>img"),e=>{e.dataset.src&&(e.src=e.dataset.src,delete e.dataset.src)}),await Y(0))}async listPos(e,t){await this.initList(t),t.style="",this.preList=t;let n=e.clientWidth,i=e.clientHeight,r=e.offsetLeft+n/2-this.con.scrollLeft,s=e.offsetTop+i/2-this.con.scrollTop,a=e.offsetParent;for(;null!==a;)r+=a.offsetLeft,s+=a.offsetTop,a=a.offsetParent;let o=window.innerWidth||document.documentElement.clientWidth,l=window.innerHeight||document.documentElement.clientHeight,c=this.listArrow.style;if(c.visibility="visible",c.opacity=1,this.funcKeyCall){t.style.display="block",c.opacity=0;const a=e.getBoundingClientRect();r=a.x+n/2-this.con.scrollLeft,s=a.y+i/2-this.con.scrollTop,r-=t.clientWidth/2;let p=e.getBoundingClientRect().top;p>l/2?(p<t.clientHeight+10&&(t.style.height=p-20+"px"),s-=t.clientHeight+i/2+5):(s+=i/2+5,p+t.clientHeight+i+10>l&&(t.style.height=l-p-i-20+"px")),r<20&&(r=20);let h=o-t.clientWidth-30;r>h&&(r=h),t.style.left=r+"px",t.style.top=s+"px",t.style.display=""}else if(this.bar.clientWidth>this.bar.clientHeight){let e=r;r<30?e=30:r>o-40&&(e=o-40),c.left=e-10+"px",s-i/2<100?(t.style.top=this.bar.clientHeight+"px",c.top=this.bar.clientHeight-10+"px"):(t.style.bottom=this.bar.clientHeight+"px",c.bottom=this.bar.clientHeight-9+"px"),r-=t.scrollWidth/2,r>o-t.scrollWidth-10&&(r=o-t.scrollWidth-10),r<0&&(r=0),t.style.left=r+"px"}else{let e=s;s<30?e=30:s>l-30&&(e=l-30),c.top=e-10+"px",r-n/2<100?(t.style.left=this.bar.clientWidth+"px",c.left=this.bar.clientWidth-9+"px"):(t.style.right=this.bar.clientWidth+"px",c.right=this.bar.clientWidth-9+"px"),s-=t.scrollHeight/2,s>l-t.scrollHeight&&(s=l-t.scrollHeight),s<0&&(s=0),t.style.top=s+"px",t.style.maxHeight="100vh"}}clingPos(e,t,n){let i=e.clientWidth||e.offsetWidth,r=e.clientHeight||e.offsetHeight;const s=e.getBoundingClientRect();let a,o,l=this.con&&this.con.classList.contains("search-jumper-showall"),c=window.innerWidth||document.documentElement.clientWidth,p=window.innerHeight||document.documentElement.clientHeight;if(this.tips.style.position="",t.style.height="",t.style.position="",!e||/^(body|html)$/i.test(e.nodeName))this.tips.style.transition="none",this.tips.style.position="fixed",t.style.right="",t.style.bottom="",t.style.left=(c-t.clientWidth)/2+"px",t.style.top="min(11%,110px)";else if(l)a=s.x+i/2,o=s.y+r/2,a-=t.clientWidth/2-this.con.scrollLeft,o+=this.con.scrollTop,o>p/2?o-=t.clientHeight+r/2+10:o+=r/2+10,t.style.right="",t.style.bottom="",t.style.left=a+"px",t.style.top=o+"px";else if(this.funcKeyCall||!e.classList.contains("search-jumper-btn")){t.style.position="absolute";let n=window.pageYOffset||document.documentElement.scrollTop||m(document).scrollTop,l=window.pageXOffset||document.documentElement.scrollLeft||m(document).scrollLeft;a=s.x+i/2-(this.funcKeyCall?this.con.scrollLeft-l:0),o=s.y+r/2-(this.funcKeyCall?this.con.scrollTop-n:0),a-=t.clientWidth/2;let h=e.getBoundingClientRect().top;h>p/2?(h<t.clientHeight+10&&(t.style.height=h-20+"px"),o-=t.clientHeight+r/2+5):(o+=r/2+5,h+t.clientHeight+r+10>p&&(t.style.height=p-h-r-20+"px")),a<20&&(a=20);let d=c+l-t.clientWidth-30;a>d&&(a=d),t.style.right="",t.style.bottom="",t.style.left=a+"px",t.style.top=o+"px"}else{a=e.offsetLeft+i/2-this.con.scrollLeft-e.parentNode.scrollLeft,o=e.offsetTop+r/2-this.con.scrollTop-e.parentNode.scrollTop;let s=e.offsetParent;for(;null!==s;)a+=s.offsetLeft,o+=s.offsetTop,s=s.offsetParent;o<r?(a-=t.clientWidth/2,o+=t.clientHeight/2,a<5?(a=5,t.style.left="5px",t.style.right="",t.style.bottom=""):a>c-t.clientWidth?(t.style.left="",t.style.right="5px",t.style.bottom=""):(t.style.left=a+"px",t.style.right="",t.style.bottom=""),t.style.top=(n?r:r+20)+"px"):o>p-r-10?(a-=t.clientWidth/2,a<5?(t.style.left="5px",t.style.right="",t.style.top=""):a>c-t.clientWidth?(t.style.left="",t.style.right="5px",t.style.top=""):(t.style.left=a+"px",t.style.right="",t.style.top=""),t.style.bottom=(n?r:r+20)+"px"):a>c-i-10?(t.style.left="",t.style.bottom="",o-=t.clientHeight/2,o<5&&(o=5),t.style.right=(n?i:i+20)+"px",t.style.top=o+"px"):a<i?(t.style.right="",t.style.bottom="",o-=t.clientHeight/2,o<5&&(o=5),t.style.left=(n?i:i+20)+"px",t.style.top=o+"px"):(t.style.right="",t.style.bottom="",t.style.left=a+"px",t.style.top=o+"px")}}tipsPos(e,t,n){this.tips.innerHTML=h(t);let i=this.tips.querySelector("div");if(i&&!this.tips.querySelector("[data-close]")){let e=document.createElement("span");e.dataset.close=!0,e.innerText="×",i.appendChild(e)}n&&this.tips.insertBefore(n,this.tips.firstChild),"https:"===location.protocol&&[].forEach.call(this.tips.querySelectorAll("[src^='http:']"),e=>{e.src=e.src.replace("http:","https:")}),this.tips.style.pointerEvents="",this.tips.style.display="",this.tips.style.opacity=1,this.clingPos(e,this.tips),clearTimeout(this.hideTips),this.tips.style.transition&&setTimeout(()=>{this.tips.style.transition=""},1);let r=this;[].forEach.call(this.tips.querySelectorAll("iframe"),e=>{let t=e.innerHTML;if(t)if(e.innerHTML=h(),e.src)e.addEventListener("load",()=>{try{if(!e||!e.parentNode)return;let n=e.contentDocument||e.contentWindow.document,i=n.createElement("div");n.body.appendChild(i),i.outerHTML=h(t)}catch(e){}});else try{let n=e.contentDocument||e.contentWindow.document;n.open(),n.write(t),n.close()}catch(e){}}),[].forEach.call(this.tips.querySelectorAll("img,video"),t=>{t.addEventListener("load",()=>{r.clingPos(e,r.tips)})}),window.markdownit&&(r.md||(r.md=window.markdownit()),[].forEach.call(this.tips.querySelectorAll(".markdown"),e=>{e.innerHTML=h(r.md.render(e.innerHTML))}))}checkKwFilter(e,t){t.length>600&&(t=t.slice(0,500)+t.slice(t.length-10));let n=e.match(/^@{(.*?)}/);if(n){if(!Re)return!1;let t=n[1];if(![].some.call(v(t,document),e=>e===Re))return!1;e=e.replace(n[0],"")}let i,r=e.match(/^\/(.*)\/(\w*)$/);return i=r?new RegExp(r[1],r[2]):new RegExp(e,"i"),i.test(t||"")}async createType(t){async function n(e){if(!e.name)return;let n=await i.createSiteBtn(F||p.prefConfig.noIcons?"0":e.icon,e,f,k,t);n&&(n.classList.contains("notmatch")||S++,n.dataset.type=r,n.dataset.id=i.siteIndex,i.siteIndex++,i.allSiteBtns.push([n,e]),y.appendChild(n),g.push(n),e.nobatch||"0"===e.match||j.push(e.name),R||ge||!n.dataset.current&&!m||y.classList.contains("notmatch")||(R=!0,n.dataset.current&&(p.prefConfig.showCurrent||(n.style.display="none"),i.setCurrentSite(e,n)),i.currentType=y))}let i=this,r=t.type,s=t.icon,a=t.selectTxt,o=t.selectImg,l=t.selectAudio,c=t.selectVideo,h=t.selectLink,d=t.selectPage,u=t.sites,m=!1,f=void 0===t.openInNewTab?p.prefConfig.openInNewTab:t.openInNewTab,g=[],y=document.createElement("span");y.className="search-jumper-type",!p.prefConfig.expandType&&u.length>10&&y.classList.add("not-expand"),"0"===t.match?(y.style.display="none",y.classList.add("notmatch")):t.match&&(0==new RegExp(t.match).test(Et)?(y.style.display="none",y.classList.add("notmatch")):m=!0),void 0!==t.description?y.dataset.title=r+" - "+t.description:y.dataset.title=r,y.dataset.type=r;let v=document.createElement("span"),w=document.createElement("img"),b=document.createElement("b");r.length>=3?(b.innerText=r.trim().substr(0,4),/^[\w \-]+$/.test(b.innerText.substr(0,3))||(b.innerText=b.innerText.substr(0,2))):b.innerText=r,v.appendChild(b),w.style.display="none",y.appendChild(v),v.classList.add("search-jumper-word"),v.classList.add("search-jumper-btn"),v.classList.add("noIcon");let k=/^BM/.test(r)&&"bookmark"===t.icon;if(s){v.classList.remove("noIcon");let e=/^[a-z\- ]+$/.test(s);if(w.onload=()=>{w.style.display="",b.innerText="",b.style.display="none",e||v.classList.remove("search-jumper-word")},e){let e=je[s.trim().replace(/ /g,"_")];"fail"!==e&&e?(w.src=e,w.style.width="100%",w.style.height="100%",v.appendChild(w)):(b.className=0===s.indexOf("fa")?s:"fa fa-"+s,this.fontPool.push(b))}else{if(/^data:/.test(s))w.src=s;else{let e=p.prefConfig.cacheSwitch&&je[s];"fail"===e||(e?w.src=e:(w.src=s,je[s]||k||Le.push(w)))}v.appendChild(w)}}y.addEventListener("mouseleave",()=>{i.listArrow.style.cssText="",i.dockerScaleBtns.forEach(e=>{e.style.setProperty("--scale",1)})});let j=[],T=t=>{switch(p.prefConfig.batchOpenConfirm){case 1:window.confirm(e("batchOpenConfirm"))&&i.batchOpen(j,t);break;case 2:i.batchOpen(j,t);break;default:(y.classList.contains("search-jumper-open")||t.shiftKey||t.altKey||t.ctrlKey||t.metaKey||window.confirm(e("batchOpenConfirm")))&&i.batchOpen(j,t)}};if(p.prefConfig.shortcut&&t.shortcut&&!y.classList.contains("notmatch")){let e=t.shortcut.replace("Key","").replace("Digit","").toUpperCase();1==e.length&&(y.dataset.title+=` (${e})`),document.addEventListener("keydown",e=>{if((2!=p.prefConfig.shortcut||ge)&&"searchJumperInput"!==e.target.id&&!t.ctrl!=e.ctrlKey&&!t.alt!=e.altKey&&!t.shift!=e.shiftKey&&!t.meta!=e.metaKey&&(p.prefConfig.enableInInput||t.ctrl||t.alt||t.shift||t.meta||!C(document))){var n=(e.key||String.fromCharCode(e.keyCode)).toLowerCase();t.shortcut!=e.code&&t.shortcut!=n||(T(e),e.stopPropagation())}})}let S=0,I=40*this.scale,E=(e,t)=>{t?(e.style.display="",y.children.length>2&&y.insertBefore(e,y.children[2])):(e.style.display="none",i.searchJumperExpand.parentNode==y?y.insertBefore(e,i.searchJumperExpand):y.appendChild(e))},L=(e,t)=>{let n=i.con.classList.contains("search-jumper-left")||i.con.classList.contains("search-jumper-right"),r=!1;Re&&(r=x(Re));let s=Re&&(Re.href||Re.src);S=0,g.forEach((t,n)=>{let a=u[n],o=!0;if(a.kwFilter){let n;n=t.dataset.link?s||e:t.dataset.txt?e||Re&&Re.innerText||"":s||e||location.href,o=i.checkKwFilter(a.kwFilter,n)}o&&t.dataset.paste?(o=r,E(t,o)):a.kwFilter&&E(t,o);let l=t.querySelector("img");"none"!=t.style.display&&S++,l&&!l.src&&l.dataset.src&&(l.src=l.dataset.src,delete l.dataset.src)}),S>(p.prefConfig.expandTypeLength||12)&&!p.prefConfig.expandType&&(y.classList.add("not-expand"),y.appendChild(i.searchJumperExpand));let a=Math.max(y.scrollWidth,y.scrollHeight)+5+"px";p.prefConfig.disableTypeOpen&&(a=I+"px",t&&i.listPos(y.children[0],A)),n?(y.style.height=a,y.style.width=""):(y.style.width=a,y.style.height="")};v.addEventListener("checkSites",e=>{L(e.detail)},!1);let P,N,M,A,B=e=>{if(e){if(2===e.button)return T(e),!1;if(0===e.button&&(e.shiftKey||e.altKey||e.ctrlKey))return!1}if(i.funcKeyCall)return i.showAllSites(),!1;let t=i.con.classList.contains("search-jumper-left")||i.con.classList.contains("search-jumper-right");if(i.preList&&(i.preList.style.visibility="hidden",i.listArrow.style.cssText=""),y.classList.remove("search-jumper-move"),y.classList.contains("search-jumper-open"))p.prefConfig.minSizeMode&&i.bar.classList.add("minSizeModeClose"),y.classList.remove("search-jumper-open"),t?(y.style.height=I+"px",y.style.width=""):(y.style.height="",y.style.width=I+"px"),y.style.flexWrap="",p.prefConfig.disableTypeOpen&&(A.style.visibility="hidden");else{i.recoveHistory(),y.classList.add("search-jumper-open"),p.prefConfig.minSizeMode&&i.bar.classList.remove("minSizeModeClose");let t=O();L(t,e),setTimeout(()=>{y.classList.contains("search-jumper-open")&&(y.style.flexWrap="nowrap",y.classList.add("search-jumper-move"))},p.prefConfig.typeOpenTime),fe.forEach(e=>{y!=e&&(e.classList.remove("search-jumper-open"),e.style.width=I+"px",e.style.height=I+"px",e.style.flexWrap="")})}p.prefConfig.disableTypeOpen||setTimeout(()=>{i.checkScroll()},p.prefConfig.typeOpenTime)},$=!1,W=e=>{document.removeEventListener("mouseup",W),document.removeEventListener("mousemove",J),$||B(e),$=!1},J=e=>{$?(i.bar.style.left=N.x+e.clientX-P.x+"px",i.bar.style.top=N.y+e.clientY-P.y+"px"):(i.tips.style.opacity=0,$=!0,P={x:e.clientX,y:e.clientY},N={x:parseInt(i.bar.style.left),y:parseInt(i.bar.style.top)})};v.onmouseup=function(e){if(e&&i.funcKeyCall&&0===e.button&&!(e.shiftKey||e.altKey||e.ctrlKey))return $=!1,e.preventDefault&&e.preventDefault(),document.addEventListener("mouseup",W),void document.addEventListener("mousemove",J);B(e)},v.oncontextmenu=function(e){e.preventDefault()},v.addEventListener("click",e=>(i.batchOpen(j,e),!1),!1),v.addEventListener("dblclick",e=>{e.stopPropagation(),e.preventDefault()},!0);let D=window.screen.availWidth||window.innerWidth||document.documentElement.clientWidth,z=window.screen.availHeight||window.innerHeight||document.documentElement.clientHeight,H=!St||D>600&&z>600;y.addEventListener("sitelist",async e=>{y.appendChild(A),await i.listPos(e.detail.bind,A),A.style.display="block"},!1),v.addEventListener("mouseenter",e=>{if(!$&&(i.funcKeyCall||!p.prefConfig.showSiteLists||!p.prefConfig.alwaysShowSiteLists&&y.classList.contains("search-jumper-open")?H&&i.tipsPos(v,y.dataset.title):(y.appendChild(A),i.listPos(y.children[0],A)),p.prefConfig.overOpen)){if(y.classList.contains("search-jumper-open"))return;clearTimeout(M),M=setTimeout(()=>{B(e)},500)}},!1),v.addEventListener("mouseleave",()=>{i.tips.style.opacity=0,p.prefConfig.overOpen&&clearTimeout(M)},!1);let R=!1,F=u&&u.length>200;y.dataset.id=i.siteIndex,i.stopInput=!1;try{for(let[e,t]of u.entries())await n(t),e%100==99&&await Y(1)}catch(e){for(let e=0;e<u.length;e++)n(u[e]);await Y(1)}if(p.prefConfig.sortSite&&y.children.length>1){g.sort((e,t)=>{let n=Ee[e.dataset.name]||0;return(Ee[t.dataset.name]||0)-n});let e=!1;for(let t=g.length-1;t>=0;t--){let n=g[t],i=Ee[n.dataset.name]||0;if(t==g.length-1)i>0&&(e=!0,Ee[n.dataset.name]=0);else{let r=Ee[g[t+1].dataset.name]||0;i-r>10&&(e=!0,Ee[n.dataset.name]=r+10)}y.insertBefore(n,y.children[1])}e&&pe.setItem("sortSiteNames",Ee)}if(g.forEach(e=>{e.classList.contains("notmatch")&&y.appendChild(e)}),A=await i.createList(g,y,j),R){if(p.prefConfig.currentTypeFirst?i.bar.insertBefore(y,i.bar.children[0]):i.bar.insertBefore(y,i.bar.children[i.bar.children.length-1]),!p.prefConfig.disableAutoOpen&&!p.prefConfig.disableTypeOpen){y.classList.add("search-jumper-open"),y.classList.add("search-jumper-move"),S>(p.prefConfig.expandTypeLength||12)&&!p.prefConfig.expandType&&(y.classList.add("not-expand"),y.appendChild(i.searchJumperExpand));let e=-1,t=[];if("complete"!==document.readyState){e=3;let n=()=>{"complete"===document.readyState&&(document.removeEventListener("readystatechange",n),window.removeEventListener("load",n),t.forEach(e=>{e&&!e.src&&e.dataset.src&&(e.src=e.dataset.src,delete e.dataset.src)}),t=[])};document.addEventListener("readystatechange",n),window.addEventListener("load",n)}g.forEach((n,r)=>{let s=n.querySelector("img"),a=u[r];if(a&&xe&&a.kwFilter&&(i.checkKwFilter(a.kwFilter,xe)?n.style.display="":(n.style.display="none",i.searchJumperExpand.parentNode==y?y.insertBefore(n,i.searchJumperExpand):y.appendChild(n))),"none"!=n.style.display&&s&&!s.src&&s.dataset.src){if(e>=0&&!/^data/.test(s.dataset.src)){if(0===e)return void t.push(s);e--}s.src=s.dataset.src,delete s.dataset.src}})}}else i.historyTypeEle||Se==r&&(i.historyTypeEle=y),i.bar.insertBefore(y,i.bar.children[i.bar.children.length-1]);return y.style.width=y.scrollHeight+"px",y.style.height=y.scrollHeight+"px",A.style.display="none",y.appendChild(A),a&&o&&l&&c&&h&&d?y.classList.add("search-jumper-targetAll"):(a&&y.classList.add("search-jumper-needInPage"),o&&y.classList.add("search-jumper-targetImg"),l&&y.classList.add("search-jumper-targetAudio"),c&&y.classList.add("search-jumper-targetVideo"),h&&y.classList.add("search-jumper-targetLink"),d&&y.classList.add("search-jumper-targetPage")),fe.push(y),y}async openSiteBtn(e,t,n=!1){this.lastTips=null;let i=new CustomEvent("mouseenter");e.dispatchEvent(i),await this.siteSetUrl(e);let r=e.dataset.isPage;t||(t="_blank"),r&&e.setAttribute("target",t),r&&"_blank"==t&&e.href?ae(e.href,{active:n,insert:!0}):e.click(),e.setAttribute("target",1==e.dataset.target?"_blank":"_self")}async batchOpen(e,t,n){let i=this;if(i.batchOpening=!0,i.customInput=!1,t.altKey&&t.shiftKey){let t=i.getTargetSitesByName(e),n=window.innerWidth||document.documentElement.clientWidth,r="<title>SearchJumper Multi</title><style>body{background: black; margin: 0;}iframe{box-sizing: border-box;padding: 5px}</style>",s=window.open("","_blank"),a=1;for(let e of t)if(e.dataset.isPage){if(await i.siteSetUrl(e),i.stopInput)return;if(!e.href)continue;let o=document.createElement("iframe");o.width=t.length<=2||n<=1280?"50%":"33%",o.height="100%",o.frameBorder="0",o.sandbox="allow-same-origin allow-scripts allow-popups allow-forms",o.id="searchJumper"+a++,o.style.display="none",r+=o.outerHTML,ne({method:"GET",url:e.href,headers:{referer:e.href,origin:e.href,"User-Agent":navigator.userAgent},onload:function(t){let n=s.document.querySelector("iframe#"+o.id),i=()=>{let r=n.contentDocument||n.contentWindow&&n.contentWindow.document;if(r)try{n.style.display="",n.src=e.href;let i=`<base href="${e.href.replace(/[^\/]*$/,"")}" />`,s=-1!==t.response.indexOf("<head")?t.response.replace(/(\<head.*?\>)/,"$1"+i):i+t.response;r.write(s)}catch(e){}else setTimeout(()=>{i()},500)};n&&i()},onerror:function(e){X(e)},ontimeout:function(e){X(e)}})}s.document.write(r),s.document.close()}else if((t.ctrlKey||t.metaKey)&&t.shiftKey){let t=i.getTargetSitesByName(e);for(let n of t){if(await i.siteSetUrl(n),i.stopInput)return;if(n.dataset.isPage&&n.href){let t={};Re&&(t={src:Re.src||Re.href||"",title:Re.title||Re.alt}),e=e.filter(e=>e!==n.dataset.name),pe.setItem("lastSign",{target:t,sites:e}),setTimeout(()=>{ae(n.href,{incognito:!0})},300),setTimeout(()=>{pe.setItem("lastSign",!1)},2e3);break}}}else if(t.altKey){let t=i.getTargetSitesByName(e),n=[];for(let e of t)if(e.dataset.isPage){if(await i.siteSetUrl(e),i.stopInput)return;if(!e.href)continue;n.push(e.href)}let r=window.screen.availWidth||window.innerWidth||document.documentElement.clientWidth,s=window.screen.availHeight||window.innerHeight||document.documentElement.clientHeight,a=parseInt(r/800);a>n.length&&(a=n.length);let o=parseInt(r/a),l=s/(parseInt((n.length-1)/a)+1)-65;for(let e=0;e<n.length;e++){let t=e%a*o,i=parseInt(e/a)*(l+70);window.open(n[e]+"#searchJumperMin","_blank",`width=${o-10}, height=${l}, location=0, resizable=1, status=0, toolbar=0, menubar=0, scrollbars=0, left=${t}, top=${i}`)}}else if(t.shiftKey){let t=i.getTargetSitesByName(e);for(let n of t){if(await i.siteSetUrl(n),i.stopInput)return;if(n.dataset.isPage&&n.href){let t={};Re&&(t={src:Re.src||Re.href||"",title:Re.title||Re.alt}),e=e.filter(e=>e!==n.dataset.name),pe.setItem("lastSign",{target:t,sites:e}),window.open(n.href,"_blank"),setTimeout(()=>{pe.setItem("lastSign",!1)},2e3);break}}}else if(t.ctrlKey||t.metaKey){let t=i.getTargetSitesByName(e).reverse();for(let e of t)if(await i.siteSetUrl(e),e.dataset.isPage&&e.href)ae(e.href,{active:!1,insert:!0});else{if(i.stopInput)return;e.click()}}else 2===t.button&&i.getTargetSitesByName(e).reverse().forEach(e=>{e.dataset.current||i.openSiteBtn(e,"_blank",!!n)});i.batchOpening=!1}async siteSetUrl(e,t){return new Promise(n=>{let i=()=>{e.removeEventListener("actionOver",i),n(!0)};e.addEventListener("actionOver",i);let r=new PointerEvent("mousedown",t);e.dispatchEvent(r)})}getTargetSitesByName(e,t){let n=this,i=[];return e.forEach(e=>{for(let r=0;r<n.allSiteBtns.length;r++){let s=n.allSiteBtns[r][0];if(s.dataset.name==e){if(!t&&s.dataset.pointer){if(s.dataset.oriName){let e=n.getTargetSitesByName([s.dataset.oriName],!0);if(e.length){i.push(...e);break}}}else i.push(s);break}}}),i}async submitAction(e){if(e=e.slice(),"complete"!==document.readyState&&"interactive"!==document.readyState)return await Y(300),void this.submitAction(e);let n,i,r=!1,s=this,a=!1,o=0,l=[],c=!1,p=[],h=await pe.getItem("copyStore");h&&(p=JSON.parse(h));let d=async(e,n)=>{let a=!0;if("sleep"===e[0]||"@sleep"===e[0])await Y(e[1]),X(`sleep ${e[1]}`);else if("@click"===e[0])r=!0,await I(e[1],n)||(a=!1);else if("@dblclick"===e[0]){r=!0;let i=await async function(e,n=-1){let i=await T(e,n);if(!0===i)return!0;Re=i;let r={isTrusted:!0,altKey:!1,azimuthAngle:0,bubbles:!0,button:0,buttons:0,clientX:1,clientY:1,cancelBubble:!1,cancelable:!0,composed:!0,ctrlKey:!1,defaultPrevented:!1,detail:2,eventPhase:2,fromElement:null,height:1,isPrimary:!1,metaKey:!1,pointerId:1,pointerType:"mouse",pressure:0,relatedTarget:null,returnValue:!0,shiftKey:!1,toElement:null,twist:0,which:1};i.focus();var s=new PointerEvent("mouseover",r);return i.dispatchEvent(s),s=new PointerEvent("pointerover",r),i.dispatchEvent(s),s=new PointerEvent("mousedown",r),i.dispatchEvent(s),s=new PointerEvent("pointerdown",r),i.dispatchEvent(s),s=new PointerEvent("mouseup",r),i.dispatchEvent(s),s=new PointerEvent("pointerup",r),i.dispatchEvent(s),i.click(),i.click(),s=new MouseEvent("dblclick",{...r,view:t}),i.dispatchEvent(s),X(i,`dblclick ${e}`),zt}(e[1],n);i||(a=!1)}else if("@rclick"===e[0]){r=!0;let t=await async function(e,t=-1){let n=await T(e,t);if(!0===n)return!0;Re=n;let i={isTrusted:!0,altKey:!1,azimuthAngle:0,bubbles:!0,button:2,buttons:0,clientX:1,clientY:1,cancelBubble:!1,cancelable:!0,composed:!0,ctrlKey:!1,defaultPrevented:!1,detail:0,eventPhase:2,fromElement:null,height:1,isPrimary:!1,metaKey:!1,pointerId:1,pointerType:"mouse",pressure:0,relatedTarget:null,returnValue:!0,shiftKey:!1,toElement:null,twist:0,which:3};n.focus();var r=new PointerEvent("mouseover",i);return n.dispatchEvent(r),r=new PointerEvent("pointerover",i),n.dispatchEvent(r),r=new PointerEvent("mousedown",i),n.dispatchEvent(r),r=new PointerEvent("pointerdown",i),n.dispatchEvent(r),r=new PointerEvent("mouseup",i),n.dispatchEvent(r),r=new PointerEvent("pointerup",i),n.dispatchEvent(r),r=new PointerEvent("contextmenu",i),n.dispatchEvent(r),X(n,`rclick ${e}`),zt}(e[1],n);t||(a=!1)}else if("click"===e[1]&&0===e[0].indexOf("@"))r=!0,await I(e[0].substr(1),n)||(a=!1);else if("@copy"===e[0]){let t=await T(e[1],n);t&&!0!==t&&(p.push(t.innerText),zt||(a=!1))}else if("@call"===e[0]){let t=s.getTargetSitesByName([e[1]])[0];if(t)Ht=Ht||O()||ve,await s.siteSetUrl(t),t.click();else{let t=window[e[1]]||new Pt('"use strict";'+e[1]);t&&await t()}}else if("@open"===e[0]){let t=await k(e[1]);c?ae(t.href):(c=!0,setTimeout(()=>{location.href=t.href},50))}else if("@reload"===e[0]);else if("@wait"===e[0])0===e[1].indexOf("!")?await async function(e){return e?new Promise(t=>{let n=setInterval(()=>{w(e)||(clearInterval(n),t(null))},100)}):null}(e[1].slice(1)):await k(e[1]);else{let t=e[1];if(xe||(xe=t),-1!==t.indexOf("%input{")){let e=await s.showCustomInputWindow(t);if(!e)return pe.setListItem("inPagePostParams",location.hostname,""),!0;t=e}await S(e[0],t,n)||(a=!1),"@"!==e[0]&&(i=w(e[0]))}return a};for(let t of e){if("@loopStart"===t[0])a=!0,l=[],o=parseInt(t[1])||1;else if("@loopEnd"===t[0])for(a=!1;o-- >0;){let e=!1,t=0;for(;!e;){e=!0;for(let n of l)await d(n,t)||(e=!1);t++}}else a?l.push(t):await d(t);if(ke&&(ke.shift(),ke&&ke.length?(pe.setListItem("inPagePostParams",location.hostname,ke),pe.setItem("copyStore",JSON.stringify(p))):(se(p.join("\n")),pe.setListItem("inPagePostParams",location.hostname,""),pe.setItem("copyStore","")),"@reload"===t[0]))return void location.reload(!!t[1])}if(a)for(a=!1;o-- >0;){let e=!1,t=0;for(;!e;){e=!0;for(let n of l)await d(n,t)||(e=!1);t++}}if(!r&&i){for(n=i.parentNode;"FORM"!=n.nodeName.toUpperCase()&&(n=n.parentNode,n););if(n){let e=n.querySelector("[type=submit]");e?e.click():n.submit()}else!function(){if(!Re)return;let e={key:"Enter",keyCode:13,bubbles:!0},t=new KeyboardEvent("keydown",e);Re.dispatchEvent(t),t=new KeyboardEvent("keyup",e),Re.dispatchEvent(t),t=new KeyboardEvent("keypress",e),Re.dispatchEvent(t),X(Re,"press Enter")}()}}getCloneData(e){for(let t=0;t<p.sitesConfig.length;t++){let n=p.sitesConfig[t];for(let t=0;t<n.sites.length;t++){let i=n.sites[t];if(!/^\[/.test(i.url)&&i.name==e)return i}}return null}async createSiteBtn(n,i,r,s,a,o){let l=this,c=document.createElement("a");c.setAttribute("ref","noopener noreferrer"),c.setAttribute("referrerPolicy","no-referrer");let d,u=i.name,f=i.match,g=!1,y=!s&&/^\[/.test(i.url),v=i.description,b=i.shortcut;if(void 0!==i.openInNewTab&&(r=i.openInNewTab),y){c.dataset.pointer=!0;let e=JSON.parse(i.url);if(1===e.length){c.dataset.clone=!0;let t=this.getCloneData(e[0]);t&&(c.dataset.oriName=t.name,(i=t).icon&&"0"!==n&&(n=i.icon),i.description&&(v=i.description))}}/^d:/.test(i.url)?(c.setAttribute("download",""),i.url=i.url.replace(/^d:/,"")):/^showTips:/.test(i.url)&&(g=!0,c.dataset.showTips=!0),/^paste:/.test(i.url)&&(c.dataset.paste=!0);let x=/^(https?|ftp):/.test(i.url);x&&(c.dataset.isPage=x),c.className="search-jumper-btn",void 0!==v&&(c.title=v),c.dataset.name=u,c.classList.add("search-jumper-word"),c.dataset.inPagePost=-1!=i.url.indexOf("#p{")?"t":"f";let k="t"===c.dataset.inPagePost;if("0"===f)c.style.display="none",c.classList.add("notmatch");else if(!s&&(!ge||i.hideNotMatch)&&window.top==window.self){if(f){let e,t=f.match(/^\/(.*)\/(\w*)$/);e=t?new RegExp(t[1],t[2]):new RegExp(f,"i"),e.test(Et)&&(c.dataset.current=!0)}else if(!y&&location.hostname&&-1!=i.url.indexOf(location.hostname)){this.inSiteMatch||(this.inSiteMatch=/site(%3A|:)(.+?)[\s%]/);let e=i.url.match(this.inSiteMatch);if(e)-1!=Et.indexOf(e[2])&&-1!=i.url.replace(e[0],"").indexOf(location.hostname)&&(c.dataset.current=!0);else if(this.pathMatch||(this.pathMatch=new RegExp("^https?://"+location.host+location.pathname+"?([\\?#].*|[%:#]p{|$)")),this.pathMatch.test(i.url))if(this.postMatch||(this.postMatch=/[#:%]p{/),this.postMatch.test(i.url))c.dataset.current=!0;else{this.paramMatch||(this.paramMatch=/[^\/\?&]+(?=%[stb])/g);let e=i.url.match(this.paramMatch);e?(e=e.join(".*"),new RegExp(e).test(Et)&&(c.dataset.current=!0)):c.dataset.current=!0}else 0===i.url.indexOf("http")&&-1===i.url.indexOf("?")&&(this.keywordMatch||(this.keywordMatch=/%[stb][a-z]?\b/g),new RegExp(i.url.replace(/^https?/,"").replace(/[#%]\w+{.*/,"").replace(/\./g,"\\.").replace(this.keywordMatch,".*")).test(Et)&&(c.dataset.current=!0))}c.dataset.current||i.hideNotMatch&&(c.style.display="none",c.classList.add("notmatch"))}let j=document.createElement("span");!s&&u.length>=3?(j.innerText=u.substr(0,4),/^[\w \-]+$/.test(j.innerText.substr(0,3))||(j.innerText=j.innerText.substr(0,2))):j.innerText=u,c.appendChild(j);let T,S=document.createElement("img");if(S.style.display="none",c.appendChild(S),!o&&p.prefConfig.shortcut&&b&&!c.dataset.clone&&!c.classList.contains("notmatch")){let e=document.createElement("div"),t=b.replace("Key","").replace("Digit","").toUpperCase();1==t.length&&(e.innerText=t,c.appendChild(e)),document.addEventListener("keydown",async e=>{if((2!=p.prefConfig.shortcut||ge)&&"searchJumperInput"!==e.target.id&&(l.hideTimeout||!i.ctrl!=e.ctrlKey&&!i.alt!=e.altKey&&!i.shift!=e.shiftKey&&!i.meta!=e.metaKey)&&l.bar.contains(c)&&(p.prefConfig.enableInInput||i.ctrl||i.alt||i.shift||i.meta||!C(document))){var t=(e.key||String.fromCharCode(e.keyCode)).toLowerCase();b!=e.code&&b!=t||(e.stopPropagation(),Fe&&(Re=Fe),g?c.dispatchEvent(new CustomEvent("showTips")):!1===await U()||l.customInput||c.click())}})}if("0"==n||(n?T=n:!s&&x?T=i.url.replace(/\?.*/,"").replace(/^(https?:\/\/[^\/]*\/)[\s\S]*$/,"$1favicon.ico"):/^showTips:https?:\/\//.test(i.url)&&(T=i.url.replace(/\?.*/,"").replace(/^showTips:(https?:\/\/[^\/]*\/)[\s\S]*$/,"$1favicon.ico"))),T)if(S.onload=()=>{c.classList.remove("search-jumper-word"),j.parentNode&&!p.prefConfig.showEngineWords&&j.parentNode.removeChild(j),S.style.display=""},/^data:/.test(T))S.dataset.src=T;else{let e=p.prefConfig.cacheSwitch&&je[T];"fail"===e?c.dataset.current&&-1!=T.indexOf(location.host)&&(S.dataset.src=T,je[T]="",s||setTimeout(()=>{A(S)},0)):e?S.dataset.src=e:(S.dataset.src=T,s||je[T]||Le.push(S))}x&&(r?(c.setAttribute("target","_blank"),c.dataset.target=1):c.setAttribute("target","_self"));let I,L=i.url,P=Wt.test(L);P&&(c.dataset.txt=!0),/%[tb]\b/i.test(L)&&(c.dataset.link=!0);let B,$,W,H,R,F=async n=>{l.customInput=!1,L=i.url,I="";let s,o=n||l.searchJumperInputKeyWords.value||J()||l.tileInput.value;o||Ot||l.bar.classList.contains("search-jumper-isTargetLink")||(o=O()),o&&!n&&(o!=ve&&(l.keywordIndex=0,x&&(ve=o,pe.setItem("cacheKeywords",o))),I=o),(k||/^c(opy)?:|^paste:/.test(L))&&(-1!==L.indexOf("%input{")&&(L=await new Promise(e=>{l.showCustomInputWindow(L,t=>{e(t)})}),c.dataset.url=""),s=L.match(/#p{([\s\S]*[^\\])}/));let d,u=location.host,m=location.href,f=(e,t,n,i)=>{if(-1!==e.indexOf(t+"[")){let i,r=e.match(D(t,"","\\[(.*?)(\\|(.+))?\\]"));if(r){switch(r[3]?i=n.split(r[3]):(i=n.split(/[\n\r]/),1===i.length&&(i=n.split(" "))),l.keywordIndex||(l.keywordIndex=0),r[1]){case"all":I=i.join("\n");break;case"":n=i[l.keywordIndex],++l.keywordIndex>=i.length&&(l.keywordIndex=0);break;case"-1":--l.keywordIndex<0&&(l.keywordIndex=i.length-1),n=i[l.keywordIndex];break;default:n=i[parseInt(r[1])||0]}e=e.replace(r[0],t)}}return z(e,t,n,i)},y=!/^showTips:h/i.test(L)&&/^c(opy)?:|[#:%]P{|^javascript:|^showTips:/i.test(L),v="",b="",C="",j="",T="",S=e=>{let t=e;if(t=f(t,"%n",d),t=f(t,"%su",v),t=f(t,"%sl",b),t=f(t,"%sr",g?C.replace(/\n/g,"【SearchJumperBreak】"):C),t=f(t,"%S",ve||C),t=f(t,"%ss",j),t=f(t,"%st",T),t=f(t,"%se",escape?escape(C):C),t=f(t,"%s",C,e=>y?e:encodeURIComponent(e)),/%bd\b/.test(t))try{let e=atob(C);t=f(t,"%bd",e)}catch(e){console.log("No standard base64")}if(/%be\b/.test(t))try{let e=btoa(C);t=f(t,"%be",e)}catch(e){console.log(e)}return t};if(!c.dataset.url){let e=L;k&&(e=e.replace(s[0],"")),c.dataset.url=e.replace(/%e\b/g,document.characterSet).replace(/%c\b/g,St?"mobile":"pc")}let E="",A="";d=I||document.title;let B="",$=(e=>{let t=e.match(/%element{(.*?)}(\.prop\((.*?)\))?/),n=0;for(;t&&!(n++>100);){let n=t[1],i=t[3],r="";if(n){let e=w(n);e&&(r=i?e.getAttribute(i)||e[i]:e.innerText)}else try{let e=window.getSelection(),t=document.createElement("div");for(let n=0,i=e.rangeCount;n<i;++n)t.appendChild(e.getRangeAt(n).cloneContents());if([].forEach.call(t.querySelectorAll("style,script,svg,canvas"),e=>{let t=document.createTextNode("");e.parentNode.replaceChild(t,e)}),document.body.appendChild(t),i)for(let e=0;e<t.childNodes.length;e++){let n=t.childNodes[e];3==n.nodeType?(r+=n.nodeValue,r+="\n"):1==n.nodeType&&(r+=n.getAttribute(i)||n[i]||"",r+="\n")}else[].forEach.call(t.querySelectorAll("img"),e=>{if(!e.src)return;let t=document.createTextNode(` ![${(e.alt||"").replace(/[\n\r]/g," ").trim()}](${e.src||""}) `);e.parentNode.replaceChild(t,e)}),[].forEach.call(t.querySelectorAll("a"),e=>{if(!e.href)return;let t,n=(e.innerText||"").replace(/[\n\r]+/g,"\n").trim();n&&(n=` [${n}](${e.href||""}) `,-1==n.indexOf("\n")?t=document.createTextNode(n):(t=document.createElement("pre"),t.innerHTML=h(n)),e.parentNode.replaceChild(t,e))}),r=t.innerText;r&&(r=r.replace(/[\n\r]\s*/g,"\n")),document.body.removeChild(t)}catch(e){console.error(e)}t=(e=f(e,t[0],y?r:encodeURIComponent(r))).match(/%element{(.*?)}(\.prop\((.*?)\))?/)}t=e.match(/%date({(.*?)})?/),n=0;let i=(new Date).getTime();for(;t&&!(n++>100);){let n=t[2],r=i;if(n){n=n.replace(/\s/g,"");let e=n.match(/(\D*)?(\d+)/);for(;e;){switch(e[1]){case"-":r-=parseInt(e[2]);break;case"*":r*=parseInt(e[2]);break;case"/":e[2]&&"0"!=e[2]&&(r=parseInt(r/parseInt(e[2])));break;default:r+=parseInt(e[2])}n=n.replace(e[0],""),e=n.match(/(\D*)?(\d+)/)}}else r=i;t=(e=e.replace(t[0],r)).match(/%date({(.*?)})?/)}return e})(c.dataset.url);if(Re&&Re.nodeName){if(E=Re.href||Re.parentNode&&Re.parentNode.href||"",A=E||Re.parentNode&&Re.parentNode.parentNode&&Re.parentNode.parentNode.href||"",(a.selectImg||a.selectAudio||a.selectVideo)&&Re.src&&(E=Re.src),"VIDEO"==Re.nodeName.toUpperCase()||"AUDIO"==Re.nodeName.toUpperCase()){if(!E){let e=Re.querySelector("source");e&&(E=e.src)}E&&(E=E.replace(/^blob:/,""))}d=Re.title||Re.alt||document.title,"IMG"==Re.nodeName.toUpperCase()&&/%i\b/.test(L)?Re.src&&(/^data/.test(Re.src)?B=Re.src:(l.tipsPos(c,"<span class='loader'></span><font>Loading...</font>"),B=await N(Re)),$=$.replace(/%i\b/g,B)):("A"==Re.nodeName.toUpperCase()||Re.parentNode&&"A"==Re.parentNode.nodeName.toUpperCase())&&P&&!o&&Re.textContent.trim()&&(o=Re.textContent.trim())}for(;-1!==$.indexOf("%template{");){let t=$.match(/%template{(.*?[^\\])}/);if(!t)return!1;let n=t[1];p.prefConfig.templateData||(p.prefConfig.templateData={});let i=p.prefConfig.templateData[n];if(!i){if(l.stopInput)return!1;if(i=window.prompt(e("template",n))||"",!i)return!1;p.prefConfig.templateData[n]=i,pe.setItem("searchData",p)}$=$.replace(t[0],i)}for(;-1!==$.indexOf("%input{");){let e=$.match(/%input{(.*?[^\\])}/);if(!e)return!1;if(l.customInput=!0,l.stopInput)return!1;if(!l.batchOpening)break;{let t;if(t=0===e[1].indexOf('"')&&-1!==e[1].indexOf('","')?e[1].substr(1,e[1].length-2).split('","'):e[1].split(","),t=2===t.length?window.prompt(t[0],t[1]):window.prompt(e[1]),null===t)return!1;$=$.replace(e[0],t)}}E&&(E=E.replace(/%(\w{2})/g,(e,t)=>`%${t.toUpperCase()}`)),A&&(A=A.replace(/%(\w{2})/g,(e,t)=>`%${t.toUpperCase()}`));let W=E.replace(/^https?:\/\//i,"");o||(o=ge&&ve);try{if(void 0!==navigator.clipboard.readText&&(!o&&P&&(o=await navigator.clipboard.readText(),o&&!n&&(I=o)),!B&&/%i\b/.test(L))){if("denied"!==(await navigator.permissions.query({name:"clipboard-read"})).state){const e=await navigator.clipboard.read();for(const t of e)if(t.types.includes("image/png")){const e=await t.getType("image/png");B=await new Promise(t=>{const n=new FileReader;n.onload=function(e){t(e.target&&e.target.result)},n.readAsDataURL(e)}),B&&($=$.replace(/%i\b/g,B))}}if(!B){l.customInput=!0;let t=window.prompt(e("targetUrl"),"https://www.google.com/favicon.ico");if(!t)return!1;l.tipsPos(c,"<span class='loader'></span><font>Loading...</font>"),B=await M(t)}}}catch(e){console.error(e.message)}if(!o&&P){if(l.customInput=!0,l.con.classList.contains("search-jumper-showall"))return!1;if(l.inInput||g)return!1;if(l.stopInput)return!1;let n=window.prompt(e("keywords"));if(null===n)return!1;xe=n,setTimeout(()=>{xe=""},1),o=n,C=o,v=C.toUpperCase(),b=C.toLowerCase(),j=t.tc2sc?t.tc2sc(C):C,T=t.sc2tc?t.sc2tc(C):C,y||(o=encodeURIComponent(o)),$=S($)}else!o||v||b||C||(C=o,v=C.toUpperCase(),b=C.toLowerCase(),j=t.tc2sc?t.tc2sc(C):C,T=t.sc2tc?t.sc2tc(C):C,y||(o=encodeURIComponent(o)));if(""===E){let t=J()||l.searchJumperInputKeyWords.value||l.tileInput.value;if(!P&&t&&/^(http|ftp)/i.test(t))E=t,E=E.replace(/%(\w{2})/g,(e,t)=>`%${t.toUpperCase()}`);else{let t=!1,n=()=>!l.stopInput&&!g&&(!1===t&&(t=window.prompt(e("targetUrl"),"https://www.google.com/favicon.ico"),t&&(t=t.replace(/%(\w{2})/g,(e,t)=>`%${t.toUpperCase()}`),Re={src:t})),null!==t);if(/%t\b/.test($)){if(l.customInput=!0,!1===n())return!1;$=f($,"%t",t)}if(/%T\b/.test($)){if(l.customInput=!0,!1===n())return!1;$=$.replace(/%T\b/g,encodeURIComponent(t))}if(/%τ\b/.test($)){if(l.customInput=!0,!1===n())return!1;$=$.replace(/%τ\b/g,encodeURIComponent(encodeURIComponent(t)))}if(/%b\b/.test($)){if(l.customInput=!0,!1===n())return!1;$=$.replace(/%b\b/g,t.replace(/^https?:\/\//i,""))}if(/%B\b/.test($)){if(l.customInput=!0,!1===n())return!1;$=$.replace(/%B\b/g,encodeURIComponent(t.replace(/^https?:\/\//i,"")))}if(/%β\b/.test($)){if(l.customInput=!0,!1===n())return!1;$=$.replace(/%β\b/g,encodeURIComponent(encodeURIComponent(t.replace(/^https?:\/\//i,""))))}}}let H=u;if(!A&&!E||c.dataset.link||(m=A||E,H=m.replace(/^\w+:\/\/([^\/]+).*/,"$1")),k){let e=[],t=!1;if(s[1].replace(/([^\\])&/g,"$1SJ^PARAM").split("SJ^PARAM").forEach(n=>{if(n=n.trim(),/^loopStart\(\d+\)$/.test(n)){let t=n.match(/loopStart\((.*)\)/);e.push(["@loopStart",t[1]])}else if("loopEnd"==n)e.push(["@loopEnd",""]);else if(n.startsWith("click(")&&n.endsWith(")")){let t=n.slice(6,n.length-1);t&&e.push(["@click",t.replace(/\\([\=&])/g,"$1").trim()])}else if(n.startsWith("dblclick(")&&n.endsWith(")")){let t=n.slice(9,n.length-1);t&&e.push(["@dblclick",t.replace(/\\([\=&])/g,"$1").trim()])}else if(n.startsWith("rclick(")&&n.endsWith(")")){let t=n.slice(7,n.length-1);t&&e.push(["@rclick",t.replace(/\\([\=&])/g,"$1").trim()])}else if(n.startsWith("copy(")&&n.endsWith(")")){let t=n.slice(5,n.length-1);t&&e.push(["@copy",t.replace(/\\([\=&])/g,"$1").trim()])}else if(n.startsWith("call(")&&n.endsWith(")")){let i=n.slice(5,n.length-1);i&&(e.push(["@call",i.replace(/\\([\=&])/g,"$1").trim()]),t=!0)}else if(n.startsWith("reload(")&&n.endsWith(")")){let t=n.slice(7,n.length-1);e.push(["@reload",t.trim()])}else if(n.startsWith("wait(")&&n.endsWith(")")){let t=n.slice(5,n.length-1);e.push(["@wait",t.replace(/\\([\=&])/g,"$1").trim()])}else if(n.startsWith("open(")&&n.endsWith(")")){let t=n.slice(5,n.length-1);t&&e.push(["@open",t.replace(/\\([\=&])/g,"$1").trim()])}else if(/^sleep\(\d+\)$/.test(n)){let t=n.match(/sleep\((.*)\)/);t&&e.push(["@sleep",t[1]])}else{let t=(n=n.replace(/([^\\])\=/g,"$1SJ^PARAM").replace(/\\([\=&])/g,"$1")).split("SJ^PARAM");if(2===t.length){let n=t[0],i=S(t[1].replace(/\\([\=&])/g,"$1").replace(/%e\b/g,document.characterSet).replace(/%i\b/g,B).replace(/%c\b/g,St?"mobile":"pc").replace(/%U\b/g,encodeURIComponent(m)).replace(/%υ\b/g,encodeURIComponent(encodeURIComponent(m))).replace(/%h\b/g,H).replace(/%T\b/g,encodeURIComponent(E)).replace(/%τ\b/g,encodeURIComponent(encodeURIComponent(E))).replace(/%b\b/g,W).replace(/%B\b/g,encodeURIComponent(W)).replace(/%β\b/g,encodeURIComponent(encodeURIComponent(W))));i=f(i,"%t",E),i=f(i,"%u",m),e.push([n,i])}else(n.endsWith(".click()")||n.endsWith(".click"))&&e.push(["@"+n.replace(/\.click(\(\))?$/,""),"click"])}}),t&&l.updateCacheKeywords(),""===$||$===location.href)return ke=e,this.submitAction(e),!1;pe.setListItem("inPagePostParams",$.replace(/^https?:\/\/([^\/:]+).*/,"$1"),e)}return $=f($,"%h",H),$=f($,"%t",E),$=f($,"%u",m),$=S($.replace(/%U\b/g,encodeURIComponent(m)).replace(/%υ\b/g,encodeURIComponent(encodeURIComponent(m))).replace(/%T\b/g,encodeURIComponent(E)).replace(/%τ\b/g,encodeURIComponent(encodeURIComponent(E))).replace(/%b\b/g,W).replace(/%B\b/g,encodeURIComponent(W)).replace(/%β\b/g,encodeURIComponent(encodeURIComponent(W)))),r&&/^(https?|ftp):/.test($)?(c.setAttribute("target","_blank"),c.dataset.target=1):c.dataset.target=0,$},K=!1,U=async e=>{if(delete c.href,e||(e={}),$=e.altKey,W=e.ctrlKey,H=e.metaKey,R=e.shiftKey,$||W||H||R||(1==e.button||2==e.button?($=!1,W=!0,H=!1,R=!1):2===r?($=!1,W=!0,H=!1,R=!0):3===r?($=!0,W=!1,H=!1,R=!1):4===r&&($=!1,W=!0,H=!1,R=!1)),g)return c.removeAttribute("target"),d&&(/^(https?|ftp):/.test(d)?(B=d,c.href=B,r?c.setAttribute("target","_blank"):c.setAttribute("target","_self")):(/^copy:/.test(d)&&(d=d.replace(/^copy:/,"")),se(d))),void c.dispatchEvent(new Event("actionOver"));if(K=!1,B="",B=await F(),/^(https?|ftp):/.test(B)&&e.stopPropagation&&e.stopPropagation(),/^c(opy)?:|^paste:/.test(i.url)||/^javascript:/.test(i.url)||/^\[/.test(i.url)||/[:%]P{/.test(i.url)||i.charset&&"utf-8"!=i.charset||/[:%]p{/.test(i.url))1!=e.button&&2!=e.button||(K=!0);else{if(!B)return void(l.stopInput||(l.stopInput=!0,setTimeout(()=>{l.stopInput=!1},1)));c.href=B}l.customInput&&B&&(K=!0),c.dispatchEvent(new Event("actionOver")),K&&(e.preventDefault&&e.preventDefault(),c.click())},q=()=>{let e=Math.max(p.prefConfig.historyLength,20),t=c.dataset.current;if(i.hideNotMatch||i.kwFilter||c.dataset.clone||c.dataset.paste||"0"===f||!e||t||pe.getItem("historySites",t=>{(Te=(Te=t||[]).filter(e=>e&&e!=u)).unshift(u),Te.length>e&&(Te=Te.slice(0,e)),pe.setItem("historySites",Te)}),p.prefConfig.shiftLastUsedType&&!t){let e=c.parentNode;e&&(e.classList.contains("search-jumper-targetAll")||e.classList.contains("search-jumper-targetImg")||e.classList.contains("search-jumper-targetAudio")||e.classList.contains("search-jumper-targetVideo")||e.classList.contains("search-jumper-targetLink")||e.classList.contains("search-jumper-targetPage")||e.classList.contains("search-jumper-needInPage"))||Se==c.dataset.type||(Se=c.dataset.type,pe.setItem("historyType",Se))}p.prefConfig.sortType&&pe.getItem("sortTypeNames",e=>{(Ie=e||{})[c.dataset.type]?Ie[c.dataset.type]=Ie[c.dataset.type]+1:Ie[c.dataset.type]=1,pe.setItem("sortTypeNames",Ie)}),p.prefConfig.sortSite&&pe.getItem("sortSiteNames",e=>{(Ee=e||{})[c.dataset.name]?Ee[c.dataset.name]=Ee[c.dataset.name]+1:Ee[c.dataset.name]=1,pe.setItem("sortSiteNames",Ee)})},G=(t,n)=>{se(n);let i=c;t||(l.appendBar(),l.closeOpenType(),l.con.style.display="",l.setFuncKeyCall(!0),i=window.getSelection().toString()?Re||c:m(document),l.tileInput.parentNode&&l.tileInput.parentNode.removeChild(l.tileInput)),l.tipsPos(i,e("copyOver")),clearTimeout(l.hideTips),l.hideTips=setTimeout(()=>{"1"==l.tips.style.opacity&&(l.tips.style.opacity=0)},1500)};c.addEventListener("mousedown",U,!0),c.addEventListener("mouseup",e=>{e.stopPropagation&&e.stopPropagation()},!0),c.addEventListener("click",n=>{if(n&&n.stopPropagation&&n.stopPropagation(),Re&&Re.focus&&Re.focus(),g&&l.waitForShowTips)return Q(c,0),n&&n.preventDefault&&n.preventDefault(),!1;if(K=!0,!B)return n&&n.preventDefault&&n.preventDefault(),!1;n||(n={});let a=/^(https?|ftp):/.test(B);if(l.batchOpening||s||q(),(1==p.prefConfig.multiline||2==p.prefConfig.multiline)&&I&&Wt.test(c.dataset.url)&&-1!==I.indexOf("\n")&&!/^(c|show)/.test(c.dataset.url)&&(1==p.prefConfig.multiline||confirm(e("multiline")))){let t=I.split("\n");if(t.length>10&&!confirm(e("multilineTooMuch")))return;let i=0,r=c.target;c.target="_blank";let s=async()=>{B=await F(t[i++]),c.href=B,c.click(),i<t.length?setTimeout(()=>{s()},p.prefConfig.multilineGap||1e3):c.target=r};return s(),c.href="",n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!1}if(-1!==B.indexOf("%input{"))return l.showCustomInputWindow(B,e=>{B=e,c.href=e,c.click()}),n.preventDefault&&n.preventDefault(),void(n.stopPropagation&&n.stopPropagation());let o=B.match(/^find(\.addto\((.*?)\))?:(.*)/);if(o){n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation();let e=o[2],t=o[3];return!!t&&(e&&p.prefConfig.inPageRule&&0!==e.indexOf("@")&&(e="@"+e),-1!==t.indexOf("%input{")?l.showCustomInputWindow(t,t=>{e?l.addToHighlightGroup(t,e):(l.searchJumperInPageInput.value=t,l.submitInPageWords(),l.waitForHide(0))}):e?l.addToHighlightGroup(t,e):(l.searchJumperInPageInput.value=t,l.submitInPageWords(),l.waitForHide(0)),!1)}if(/^javascript:/.test(i.url)){n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),t.targetElement=Re,t.keywords=O(),B=B.replace(/^javascript:/,"");try{B=decodeURIComponent(B)}catch(n){}let e=/^[_a-zA-Z0-9]+$/.test(B)&&t[B]||new Pt(B);return e&&e(),!1}if(/^c(opy)?:/.test(i.url))return n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!!B&&(-1!==B.indexOf("%input{")?l.showCustomInputWindow(B,e=>{G(!0,e.replace(/^c(opy)?:/,""))}):G(n.isTrusted,B.replace(/^c(opy)?:/,"")),!1);if(/^paste:/.test(i.url)){let e=!1;if(Re&&/INPUT|TEXTAREA/i.test(Re.nodeName)&&"true"!=Re.getAttribute("aria-readonly"))e=!0;else{let t=Re;for(;t&&(e="true"==t.contentEditable,!e&&"BODY"!=t.nodeName.toUpperCase());)t=t.parentNode}if(e){if(!B)return!1;B=B.replace(/^paste:/,""),-1!==B.indexOf("%input{")?l.showCustomInputWindow(B,e=>{E(Re,e)}):B?E(Re,B):void 0!==navigator.clipboard.readText&&navigator.clipboard.readText().then(e=>{E(Re,e)})}}else{if(/^\[/.test(i.url)){n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation();let e=JSON.parse(i.url);return l.batchOpen(e,{button:2,altKey:$||n.altKey,ctrlKey:W||n.ctrlKey,shiftKey:R||n.shiftKey,metaKey:H||n.metaKey},1===r),!1}if(/[:%]P{/.test(i.url)){if(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!1===B)return!1;let t=t=>{let n=t.match(/[:%]P{(.*)}/),i="";if(n)if(t=t.replace(n[0],""),n=n[1],'"'===n.charAt(0)&&'"'===n.charAt(n.length-1))i=n.substring(1,n.length-1);else{n=new URLSearchParams(n);let e={};n.forEach((t,n)=>{e[n]=t}),i=JSON.stringify(e)}ne({method:"POST",url:t,data:i,onload:e=>{X(e)},onerror:t=>{re(e("postError")+(t.statusText||t.error))},ontimeout:t=>{re(e("postError")+(t.statusText||t.error))}})};return-1!==B.indexOf("%input{")?l.showCustomInputWindow(B,e=>{t(e)}):t(B),!1}if(i.charset&&"utf-8"!=i.charset||/[:%]p{/.test(i.url)){if(!1===B)return!1;let e=i.url.match(/#(j(umpFrom|f)?|from){(.*?)}/),t=t=>(e?(pe.setItem("postUrl",[t,i.charset]),e=e[3],0!==e.indexOf("http")&&(e=t.replace(/(:\/\/.*?\/)[\s\S]*/,"$1"+e)),t=e):(pe.setItem("postUrl",[t,i.charset]),t=t.replace(/(:\/\/.*?)\/[\s\S]*/,"$1").replace(/[:%]p{[\s\S]*/,"")),t);if(-1!==B.indexOf("%input{"))return l.showCustomInputWindow(B,e=>{(e=t(e))&&(c.href=e,"_blank"===c.target?ae(c.href,{active:!0,insert:!0}):location.href=c.href)}),n.preventDefault&&n.preventDefault(),void(n.stopPropagation&&n.stopPropagation());if(B=t(B),!B)return;c.href=B}}if(!R||W||H||$||!n.isTrusted){if(/^(chrome|edge|about|extension|moz-extension)/.test(B))return n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),ae(B,W?{active:!1,insert:!0}:{active:!0,insert:!0,close:"_blank"!==c.getAttribute("target")}),!1;if(($||W||H||R)&&a){if((W||H)&&R)ae(B,{incognito:!0});else if(W||H)ae(B,{active:!1,insert:!0});else if($){if(i.match){let e=i.match.replace(/\\/g,""),t=e.match(/\((www)\|([^\)\|]+)/);for(;t;)B=B.replace(t[1],t[2]),e=e.replace(t[0],""),t=e.match(/\(([^\)\|]+)\|([^\)\|]+)/)}let e=window.screen.availWidth||window.innerWidth||document.documentElement.clientWidth,t=window.screen.availHeight||window.innerHeight||document.documentElement.clientHeight,n=p.prefConfig.popupWidth,r=p.prefConfig.popupHeight,s=p.prefConfig.popupLeft,a=p.prefConfig.popupTop;r?(r=parseFloat(r),r*=t/100):r=Math.max(t/3*2,t-250),n?(n=parseFloat(n),n*=e/100):n=Math.min(e,650),s?(s=parseFloat(s),s=e/100*s-n/2):s=e-n-30,a?(a=parseFloat(a),a=t/100*a-r/2):a=(t-r)/2,l.closePopupWindow(),l.popupWindow=window.open(B+"#searchJumperMin"+(/#p{/.test(i.url)?"Post":""),"_blank",`width=${n}, height=${r}, location=0, resizable=1, status=0, toolbar=0, menubar=0, scrollbars=0, left=${s}, top=${a}`)}else R&&ae(B,{active:!0,insert:!0});return n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!1}return a&&"_blank"===c.getAttribute("target")&&!($||W||H||R)&&0===n.button?(ae(B,{active:!0,insert:!0}),n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),!1):void 0}},!0),c.addEventListener("auxclick",e=>{if(K&&e.preventDefault)return e.preventDefault(),!1},!0),c.addEventListener("contextmenu",e=>{if(K&&e.preventDefault)return e.preventDefault(),!1},!0);let Y=c.dataset.name;b&&(Y+=` (${i.ctrl?"Ctrl + ":""}${i.shift?"Shift + ":""}${i.alt?"Alt + ":""}${i.meta?"Meta + ":""}${b.replace("Key","")})`);let V=!1,_=!1,Z=async(e,t)=>{if(l.tipsPos(e,'<span class="loader"></span><font>Loading...</font>'),_=!1,t)try{let n;t=t.replace(/^showTips:/,""),V=!0;let i=async(t,i)=>{let r=await l.anylizeShowTips(t,c.dataset.name,e,n);V=!1,i||0!=l.tips.style.opacity&&0===l.tips.innerHTML.indexOf('<span class="loader">')?(Array&&Array.isArray&&Array.isArray(r)&&(d=r[1],r=r[0]),r&&("null"!=r&&"No result"!=r&&(r=`<div>${r}</div>`,_=!0),l.tipsPos(e,r,n),q(),setTimeout(()=>{l.tips.style.pointerEvents="all"},100))):_=!0};if(/%input{/.test(t))if(n=this.createShowTipsInput(t,async t=>{l.tipsPos(e,'<span class="loader"></span><font>Loading...</font>'),await i(t,!0)}),/%input{[^},]*}/.test(t)){if(!(t=await this.showCustomInputWindow(t)))return}else t=t.replace(/%input{[^},]+,\s*([^}/]*).*?}/g,"$1");await i(t)}catch(e){X(e)}},Q=async(e,t=1e3)=>{if(e&&1===e.nodeType&&(l.preList&&(l.preList.style.visibility="hidden",l.listArrow.style.cssText=""),d=null,clearTimeout(l.requestShowTipsTimer),l.waitForShowTips=!1,l.tipsPos(e,Y),g)){l.stopInput=!0;let n=await F();l.stopInput=!1,n&&l.lastUrl===n?V?l.tipsPos(e,"<span class='loader'></span><font>Loading...</font>"):Z(e,n):(l.waitForShowTips=!0,l.requestShowTipsTimer=setTimeout(async()=>{n=n||await F(),n&&(l.lastUrl=n,Z(e,n),l.waitForShowTips=!1)},t))}},ee=!1;return c.addEventListener("touchend",e=>{e.stopPropagation&&e.stopPropagation(),g&&(ee=!0,l.waitForShowTips=!0)},!1),c.addEventListener("mouseenter",e=>{if(e.stopPropagation&&e.stopPropagation(),!_||l.lastTips!==c||1!=l.tips.style.opacity){if(l.lastTips=c,g){if(ee)return void(ee=!1);if(P&&!(l.searchJumperInputKeyWords.value||l.tileInput.value||O()))return l.waitForShowTips=!0,void l.tipsPos(c,Y)}Q(c)}},!0),c.addEventListener("mousemove",e=>{(e=>{if(l.funcKeyCall||p.prefConfig.noAni)return;let t=l.con.classList.contains("search-jumper-left")||l.con.classList.contains("search-jumper-right"),n=[],i=c.getBoundingClientRect(),r=t?Math.abs(e.clientY-i.top)/i.height:Math.abs(e.clientX-i.left)/i.width;c.style.setProperty("--scale",1.1+.1),n.push(c);let s=c.previousElementSibling;if(s&&/^A$/i.test(s.nodeName)){s.style.setProperty("--scale",1.1+.1*(1-r)),n.push(s);let e=s.previousElementSibling;e&&/^A$/i.test(e.nodeName)&&(e.style.setProperty("--scale",1+.1*(1-r)),n.push(e))}let a=c.nextElementSibling;if(a&&/^A$/i.test(a.nodeName)){a.style.setProperty("--scale",1.1+.1*r),n.push(a);let e=a.nextElementSibling;e&&/^A$/i.test(e.nodeName)&&(e.style.setProperty("--scale",1+.1*r),n.push(e))}l.dockerScaleBtns.forEach(e=>{-1===n.indexOf(e)&&e.style.setProperty("--scale",1)}),l.dockerScaleBtns=n})(e),l.clingPos(c,l.tips)},!1),c.addEventListener("showTips",e=>{l.waitForHide(0),l.appendBar(),l.closeOpenType(),l.con.style.display="",Q(e.detail||Re,0)},!1),c.addEventListener("mouseleave",()=>{_||(l.tips.style.opacity=0,clearTimeout(l.requestShowTipsTimer))},!1),c.addEventListener("drop",e=>{l.searchBySiteName(u,e)},!1),c.addEventListener("dragover",e=>{e.preventDefault()},!1),c}closePopupWindow(){p.prefConfig.closePopupWhenClick&&this.popupWindow&&(this.popupWindow.close(),this.popupWindow=null)}closeOpenType(){let e=this.bar.querySelector(".search-jumper-type.search-jumper-open>span");if(e)if(this.funcKeyCall=!1,e.onmouseup)e.onmouseup();else{let t=new PointerEvent("mouseup");e.dispatchEvent(t)}}addToHighlightGroup(e,t){let n=p.prefConfig.inPageRule[t];if(n){let t=n.match(/^\/(.*)\/([il]*)$/);n=t?`/${t[1]}|${e}/${t[2]||""}`:`/${n}|${e}/`}else n=`/${e}/`;p.prefConfig.inPageRule[t]=n,pe.setItem("searchData",p),this.refreshPageWords(this.lockWords)}streamUpdate(e){this.streamUpdateCallBack&&this.streamUpdateCallBack(e)}createShowTipsInput(e,t){let n=document.createElement("div");n.className="showTips-inputGroup";let i=e,r=[],s=i.match(/%input{(.*?[^\\])}/);for(;s;){let e=s[1];if(e=/^".*","/.test(e)?e.substr(1,e.length-2).split('","'):e.replace(/\\,/g,"◎SJ").split(",").map(e=>e.replace(/◎SJ/g,",")),1===e.length){e=e[0].replace(/\\\|/g,"◎SJ").split("|").map(e=>e.replace(/◎SJ/g,"|"));let t=document.createElement("div"),i=document.createElement("div");i.className="showTips-input-title",i.innerText=e[0],t.appendChild(i);let s=document.createElement("input");s.type="text",e.length>1&&(s.title=e[1]),t.appendChild(s),n.appendChild(t),r.push(s)}else if(e.length>=2){let t=e[0].replace(/\\}/g,"}");t=/^'.*'\/'/.test(t)?t.substr(1,t.length-2).split("'/'"):t.replace(/\\\//g,"◎SJ").split("/").map(e=>e.replace(/◎SJ/g,"/"));let i=e.slice(1).join(",");i=/^'.*'\/'/.test(i)?i.substr(1,i.length-2).split("'/'"):i.replace(/\\\//g,"◎SJ").split("/").map(e=>e.replace(/◎SJ/g,"/"));let s=t.length===i.length+1,a=document.createElement("div"),o=document.createElement("div");o.className="showTips-input-title",o.innerText=t[0],a.appendChild(o);let l=document.createElement("input");l.type="text",l.value=i[0];let c=document.createElement("div");c.className="select",c.appendChild(l);let p=document.createElement("p");p.innerText="",c.appendChild(p);let d=document.createElement("div");d.className="options",c.appendChild(d);let u=document.createElement("p");u.setAttribute("value",""),u.innerHTML=h("<b>Select option</b>"),d.appendChild(u),u.addEventListener("click",()=>{d.style.visibility="hidden",setTimeout(()=>{d.style.visibility=""},0),l.value="",p.innerText="Select option"});for(let e=0;e<i.length;e++){let n=i[e],r=document.createElement("p");if(r.setAttribute("value",n),s){let n=t[e+1];n=n.replace(/\\\|/g,"◎SJ").split("|").map(e=>e.replace(/◎SJ/g,"|")),r.innerText=n[0],n.length>1&&(r.title=n[1])}else r.innerText=n;r.addEventListener("click",()=>{d.style.visibility="hidden",setTimeout(()=>{d.style.visibility=""},0),l.value=r.getAttribute("value"),p.innerText=""}),d.appendChild(r)}l.addEventListener("change",()=>{p.innerText=""}),c.addEventListener("mouseenter",()=>{c.focus();const e=c.getBoundingClientRect();d.style.top=`${e.bottom}px`,d.style.left=`${e.left}px`,d.style.width=`${e.width}px`}),a.appendChild(c),n.appendChild(a),r.push(c)}i=i.replace(s[0],"◎"),s=i.match(/%input{(.*?[^\\])}/)}if(n.children.length){let e=document.createElement("div");e.className="searchBtn",e.innerHTML=h('<svg width="25" height="25" xmlns="http://www.w3.org/2000/svg" fill="currentcolor" viewBox="0 0 52.966 52.966"><path d="M51.704 51.273L36.844 35.82c3.79-3.8 6.14-9.04 6.14-14.82 0-11.58-9.42-21-21-21s-21 9.42-21 21 9.42 21 21 21c5.082 0 9.747-1.817 13.383-4.832l14.895 15.49c.196.206.458.308.72.308.25 0 .5-.093.694-.28.398-.382.41-1.015.028-1.413zM21.984 40c-10.478 0-19-8.523-19-19s8.522-19 19-19 19 8.523 19 19-8.525 19-19 19z"></path></svg>'),e.addEventListener("click",()=>{(()=>{let e=i;[].forEach.call(r,t=>{let n;n="select"==t.className?t.children[0].value:t.value,e=e.replace("◎",n||"")}),t(e)})()}),n.appendChild(e)}return n}async anylizeShowTips(e,t,n,i){let r,s=this;try{const a=/([^\\]|^)([\+\-*/])([\d\.]+)$/,o=/\|cache\=(\d+)$/,l=/%p(\{+)/,c=/#headers({.*?})/,p=/#stream({(.*?)})?/,d=/.then{(.*?)}/;if(e=e.replace(/^showTips:/,"").replace(/{name}/g,t).trim(),/^https?:/.test(e)){let t=e.split("\n");1==t.length&&(t=e.split(" ")),t=t[0].replace(/【SearchJumperBreak】/g,"\n"),e=e.replace(/【SearchJumperBreak】/g,"\n").replace(t,"").trim().replace(/\\{/g,"showTipsLeftBrace").replace(/\\}/g,"showTipsRightBrace").replace(/{url}/g,"【SEARCHJUMPERURL】");let u=t.match(o);u?(u=parseInt(u[1]),t=t.replace(o,"")):u=7200;let m=Date.now()/1e3,f=be.filter(e=>m<e.time&&(r||e.url!=t||(r=e.data),!0));f.length!=be.length&&(be=f,pe.setItem("tipsStorage",be));let g=[],y=(t,n)=>{let i=e,r=!0;for(;n;){let e=n[1].replace(/\\\|/g,"【searchJumperJsonSplit】").split("|"),s=e[0].replace(/【searchJumperJsonSplit】/g,"|").replace(/\[(\d+)\]/g,".$1").replace(/\[all\]/g,".all").split("."),o=t,l=null;if(s.shift(),s.forEach(e=>{if(l){let t=[];for(let n=0;n<l.length;n++){let i=l[n];i&&(i=Array.isArray(i)&&i.at?i.at(e):i[e]),t.push(i)}l=t}else if(o&&(Array.isArray(o)?"all"===e?l=o:o=o.at?o.at(e):o[e]:o=o[e]),!o)return null}),l&&(o=l.join("")),1!=e.length){let t=e[1],n=t.match(a);if(n){let e=[];for(;n;)t=t.replace(a,"$1"),e.unshift([n[2],n[3]]),n=t.match(a);e.forEach(e=>{let t=parseFloat(e[1]);switch(e[0]){case"+":o+=t;break;case"-":o-=t;break;case"*":o*=t;break;case"/":o/=t}}),o=o.toFixed(2)}else{let e=t.match(/^\/(.*)\/(\w?)$/),n=e?new RegExp(e[1],e[2]):new RegExp(t),i=o.match(n);i&&(o=i[1])}}o?r=!1:o="",g.push(o),i=i.replace(n[0],o),n=i.match(/{(.*?)}/)}return r&&console.log("Error:",t),i=i.replace(/showTipsLeftBrace/g,"{").replace(/showTipsRightBrace/g,"}"),i},b=e.match(/{(.*?)}/);if(r)b&&0===b[1].indexOf("json")&&(e=e.replace(/【SEARCHJUMPERURL】/g,t),r=y(r,b),r=[r,"\n"+g.join(",")]);else{let a,o=t.match(l),m={},f=t;if(o){let e=o[1].length;if(o=t.match(new RegExp(`%p\\{+([\\s\\S]*?)\\}{${e}}`)),o){let e=o[1].replace(/\n/g,"\\n");if(0===e.indexOf("%"))try{e=decodeURIComponent(e)}catch(e){}m.body=e,m.method="POST",f=f.replace(o[0],"")}}let g=t.match(c);if(g){let e=g[1];if(0===e.indexOf("%")||1===e.indexOf("%"))try{e=decodeURIComponent(e)}catch(e){}m.headers=JSON.parse(e),f=f.replace(g[0],"")}let x,C=!1,k=b&&0===b[1].indexOf("json"),j=t.match(p);if(j)m.responseType="stream",m.streamMode=j[2]||"concat",f=f.replace(j[0],""),r=await new Promise(t=>{m.onstream=e=>{let r;if(k){if(r=e.json(),!r)return;r=y(r,b)}else r=e.text;s.tipsPos(n,r,i),s.tips.style.pointerEvents="all",t&&t(r)},x=ce(f,m).then(t=>(e=e.replace(/【SEARCHJUMPERURL】/g,t.finalUrl),k?t.json():t.text)),x.then(e=>{let r=k?e&&y(e,b):e;r&&(s.tipsPos(n,r,i),t&&t(r))})}),r||(r="No result",C=!0);else if(k){let t=[];x=ce(f,m).then(t=>(e=e.replace(/【SEARCHJUMPERURL】/g,t.finalUrl),t.json())),r=await x.then(e=>e?(a=e,y(e,b)):null),r||(r="No result",C=!0),r=[r,"\n"+t.join(",")]}else{let n,i=!1,s=f.match(d),o=[];for(;s;){let e=s[1];o.push(e),f=f.replace(s[0],""),s=f.match(d)}for(x=ce(f,m).then(t=>(-1!=e.indexOf("【SEARCHJUMPERURL】")&&(e=e.replace(/【SEARCHJUMPERURL】/g,t.finalUrl),i=!0),t.text()));o.length;){let e=o.shift(),t=await x.then(t=>{let n=document.implementation.createHTMLDocument("");n.documentElement.innerHTML=h(t);let i=w(e,n);if(!i)return null;let r=n.querySelector("base");return F(i.getAttribute("href"),r?r.href:f)});if(!t)return"No result";x=ce(t).then(e=>e.text())}r=await x.then(t=>{if(!e)return t;let r=document.implementation.createHTMLDocument("");r.documentElement.innerHTML=h(t),n=r.title;let s=e;for(;b;){let e="";if("title"==b[1])e=r.title;else{let t=b[1].split("|"),n=v(t[0],r);if(n&&n.length)if(i=!0,1==t.length)e=n[0].innerText;else{let i=t[1],r=i.match(/\(.*?\)/g);r?[].forEach.call(n,n=>{let s=t[1];r.forEach(e=>{"()"===e?s=s.replace(e,n.innerText):(i=e.match(/\((.*)\)/)[1],s=s.replace(e,n.getAttribute(i)||n[i]))}),e+=s}):e=n[0].getAttribute(i)||n[0][i]}}s=s.replace(b[0],e),b=s.match(/{(.*?)}/)}return i?(s=s.replace(/showTipsLeftBrace/g,"{").replace(/showTipsRightBrace/g,"}"),s):null}),r?this.insertHistoryUrl(t,n):(r="No result",C=!0),r=[r,t],a=r}C||(r=this.calcResult(r),be.push({url:t,data:a,time:Date.now()/1e3+u}),be.length>50&&be.shift(),pe.setItem("tipsStorage",be))}}else if(e=e.replace(/【SearchJumperBreak】/g,"\n"),r=/\breturn\b/.test(e)?await new Pt("fetch","storage","name",'"use strict";'+e)(ce,pe,t):e,r=this.calcResult(r),Re&&Re.href){let e=Re.title||Re.alt||Re.innerText;this.insertHistoryUrl(Re.href,e)}}catch(e){X(e)}return r}calcResult(e){let t="string"==typeof e,n=t?e:e[0];const i=/([\+\-*/])([\d\.]+)/;let r=n.match(/{([\d\.]+)(([\+\-*/][\d\.]+)+)}/);if(r){let e=[],t=r[0],s=parseFloat(r[1]),a=r[2];for(r=a.match(i);r;)a=a.replace(r[0],""),e.push([r[1],r[2]]),r=a.match(i);e.forEach(e=>{let t=parseFloat(e[1]);switch(e[0]){case"+":s+=t;break;case"-":s-=t;break;case"*":s*=t;break;case"/":s/=t}}),s=s.toFixed(2),n=n.replace(t,s)}return t?e=n:e[0]=n,e}insertHistoryUrl(e,n){if(-1===e.indexOf(location.host))return;let i=location.href,r=document.title;t.history.pushState("",n,e),document.title=n,t.history.replaceState("",r,i),document.title=r}checkScroll(e,t){if(this.funcKeyCall||"none"==this.bar.style.display)return;let n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;if(this.bar.scrollWidth>n||this.bar.scrollHeight>i?this.con.classList.contains("search-jumper-scroll")||(this.bar.style.cssText="",this.con.classList.add("search-jumper-scroll"),this.con.style.display=""):this.con.classList.contains("search-jumper-scroll")&&(this.bar.style.cssText="",this.con.classList.remove("search-jumper-scroll")),e)return;let r=this.bar.querySelector(".search-jumper-type.search-jumper-open");r&&("0px"===r.style.width&&(r.style.width="auto"),"0px"===r.style.height&&(r.style.height="auto"),r!=this.bar.firstElementChild&&setTimeout(()=>{r.scrollIntoView(t?{}:{behavior:"smooth"})},0))}reopenType(e){let t=new PointerEvent("mouseup");e.parentNode.classList.contains("search-jumper-open")&&(e.onmouseup?e.onmouseup():e.dispatchEvent(t)),e.onmouseup?e.onmouseup():e.dispatchEvent(t)}showInPage(e,t){var n,i;if(this.contains(Re)||this.inInput&&Ue||!e&&this.funcKeyCall)return;Ue&&Ue.parentNode||(Ue=oe(Ke),Q||this.addToShadow(Ue));let r=J();if(e&&r&&r.length<(p.prefConfig.limitPopupLen||1))return;if(this.con&&this.con.classList.contains("search-jumper-showall"))return;if(p.prefConfig.hidePopup&&(e=!1),Re){if(!(r||Re==m(document)||"searchJumper"==Re.className&&/^MARK$/i.test(Re.nodeName))){let e,t=Re;for(;t&&t.nodeName&&!/^(img|audio|video|a)$/i.test(t.nodeName);){if(t.parentNode){if(/^(img|audio|video|a)$/i.test(t.parentNode.nodeName)){t=t.parentNode;break}if(e=t.parentNode.querySelectorAll("audio,video"),e&&1!==e.length&&(e=t.parentNode.querySelectorAll("img")),e&&1!==e.length&&(e=t.parentNode.querySelectorAll("a")),e&&1===e.length){e[0].scrollHeight&&t.scrollHeight/e[0].scrollHeight<2&&(t=e[0]);break}}t=t.parentNode}t&&(Re=t)}}else Re=m(document);this.appendBar();let s=this;this.hideTimeout&&clearTimeout(this.hideTimeout),n=p.prefConfig.autoDelay||1e3,i=()=>{s.bar.classList.remove("search-jumper-isInPage"),s.bar.classList.remove("search-jumper-isTargetImg"),s.bar.classList.remove("search-jumper-isTargetAudio"),s.bar.classList.remove("search-jumper-isTargetVideo"),s.bar.classList.remove("search-jumper-isTargetLink"),s.bar.classList.remove("search-jumper-isTargetPage"),s.bar.classList.remove("initShow"),s.hideTimeout=null},p.prefConfig.autoHide&&(this.hideTimeout=setTimeout(i,n)),this.bar.classList.remove("search-jumper-isInPage"),this.bar.classList.remove("search-jumper-isTargetImg"),this.bar.classList.remove("search-jumper-isTargetAudio"),this.bar.classList.remove("search-jumper-isTargetVideo"),this.bar.classList.remove("search-jumper-isTargetLink"),this.bar.classList.remove("search-jumper-isTargetPage"),this.bar.classList.remove("initShow"),this.tips.style.opacity=0,this.tips.style.display="none",this.tips.style.transition="none",this.tips.innerHTML=h(""),setTimeout(()=>{this.bar.classList.add("initShow")},10);let a,o,l="",c="";if(r)if(this.bar.classList.add("search-jumper-isInPage"),"none"==this.bar.style.display||e)l="needInPage";else{let e=this.bar.querySelector(".search-jumper-type.search-jumper-open");(!e||e.classList.contains("notmatch")||e.classList.contains("search-jumper-targetPage")||e.classList.contains("search-jumper-targetImg")||e.classList.contains("search-jumper-targetAudio")||e.classList.contains("search-jumper-targetVideo")||e.classList.contains("search-jumper-targetLink"))&&(l="needInPage")}else{switch(1==Re.children.length&&"A"===Re.children[0].nodeName.toUpperCase()&&(Re=Re.children[0]),Re.nodeName.toUpperCase()){case"IMG":this.bar.classList.add("search-jumper-isTargetImg"),l="targetImg";break;case"AUDIO":this.bar.classList.add("search-jumper-isTargetAudio"),l="targetAudio";break;case"VIDEO":this.bar.classList.add("search-jumper-isTargetVideo"),l="targetVideo";break;case"A":this.bar.classList.add("search-jumper-isTargetLink"),l="targetLink"}let e=Re.parentNode;e&&"A"===e.nodeName.toUpperCase()&&(this.bar.classList.add("search-jumper-isTargetLink"),l?c="targetLink":l="targetLink"),l||(this.bar.classList.add("search-jumper-isTargetPage"),l="targetPage"),l||(l="targetAll")}if("none"==this.bar.style.display&&(this.bar.style.display=""),l&&(a=this.bar.querySelector(`.search-jumper-${l}:not(.notmatch)>span`),o=this.bar.querySelectorAll(`.search-jumper-${l}:not(.notmatch)>a>img`)),s.setFuncKeyCall(!1),a&&(!p.prefConfig.disableAutoOpen&&!p.prefConfig.disableTypeOpen||e)){let e=this.bar.querySelectorAll(`.search-jumper-${l}:not(.notmatch)>span:first-child`);[].forEach.call(e,e=>{e!==a&&s.reopenType(e)}),s.reopenType(a),s.insertHistory(a.parentNode),c&&(e=this.bar.querySelectorAll(`.search-jumper-${c}:not(.notmatch)>span:first-child`),[].forEach.call(e,e=>{e!==a&&s.reopenType(e)}),s.reopenType(a))}if(e||!p.prefConfig.disableAutoOpen&&!p.prefConfig.disableTypeOpen||this.closeOpenType(),s.setFuncKeyCall(e),e){o&&[].forEach.call(o,e=>{"none"!=e.parentNode.style.display&&e.dataset.src&&(e.src=e.dataset.src,delete e.dataset.src)}),s.con.classList.remove("search-jumper-scroll"),s.bar.style.cssText="",s.con.style.cssText="";let e=window.innerWidth||document.documentElement.clientWidth,n=document.documentElement.scrollLeft||document.body.scrollLeft,i=window.innerHeight||document.documentElement.clientHeight,r=p.prefConfig.tileOffset||0,a=function(e){return 0===e.type.indexOf("touch")?e.changedTouches?e.changedTouches[0].pageX:0:e.pageX}(t)-s.bar.clientWidth/2-("static"!==getComputedStyle(document.documentElement).position?document.documentElement.offsetLeft:0);a<0?a=5:a+s.bar.clientWidth>e+n&&(a=e+n-s.bar.clientWidth-20);let l=function(e){return 0===e.type.indexOf("touch")?e.changedTouches?e.changedTouches[0].pageY:0:e.pageY}(t);g(t)>i/5?l-=s.bar.clientHeight+20+r:l+=20+r,f(t)<e/2?(s.bar.style.left=a+n+"px",s.bar.style.transformOrigin="0 0"):(s.bar.style.right=e-a-s.bar.clientWidth-15+"px",s.bar.style.transformOrigin="100% 0"),s.bar.style.top=l+"px",s.removeBar(),s.bar.style.opacity=0,setTimeout(()=>{s.appendBar(),setTimeout(()=>{s.bar.style.opacity=1,setTimeout(()=>{let e=document.querySelector("#saladict-saladbowl-root>.saladict-external");if(e){let n=e.shadowRoot.querySelector(".saladbowl");n.style.transform=n.style.transform.replace(/\d+px\)/,t.clientY-15+"px)")}},100)},1)},1)}else s.bar.style.display="",s.initPos()}setFuncKeyCall(e){this.funcKeyCall=e,this.con.classList.contains("search-jumper-showall")||(e?(this.tileInput.value=O(),this.con.classList.add("funcKeyCall"),this.bar.insertBefore(this.tileInput,this.bar.firstChild)):(this.tileInput.value="",this.con.classList.remove("funcKeyCall"),this.tileInput.parentNode&&this.tileInput.parentNode.removeChild(this.tileInput)))}initPos(e,t,n,i){this.preList&&(this.preList.style.visibility="hidden",this.preList.style.opacity=0,this.listArrow.style.cssText=""),void 0===e&&(e=p.prefConfig.position.x),void 0===t&&(t=p.prefConfig.position.y),void 0===n&&(n=p.prefConfig.offset.x),void 0===i&&(i=p.prefConfig.offset.y);let r=this,s=e=>{if(r.bar.style.cssText="",r.con.style.cssText="",r.con.className="search-jumper-searchBarCon "+e,p.prefConfig.resizePage)switch(void 0===r.initBodyStyle?r.initBodyStyle=m(document).style.cssText:m(document).style.cssText=r.initBodyStyle,r.con.classList.add("resizePage"),m(document).style.position="absolute",e){case"search-jumper-left":m(document).style.width=`calc(100vw - ${42*r.scale}px)`,m(document).style.right="0px";break;case"search-jumper-right":m(document).style.width=`calc(100vw - ${42*r.scale}px)`,m(document).style.left="0px";break;case"search-jumper-bottom":m(document).style.width="100%",m(document).style.height=`calc(100vh - ${42*r.scale}px)`,m(document).style.top="0px",m(document).style.overflow="auto";break;default:m(document).style.width="100%",m(document).style.height=`calc(100vh - ${42*r.scale}px)`,m(document).style.bottom="0px",m(document).style.overflow="auto"}else p.prefConfig.autoHideAll&&r.con.classList.add("hideAll");let t=40*r.scale;setTimeout(()=>{let e=r.con.classList.contains("search-jumper-left")||r.con.classList.contains("search-jumper-right");fe.forEach(n=>{if(n.classList.contains("search-jumper-open")){let t=Math.max(n.scrollWidth,n.scrollHeight);t&&(t+="px",e?(n.style.width="",n.style.height=t):(n.style.width=t,n.style.height=""))}else e?(n.style.width="",n.style.height=t+"px"):(n.style.width=t+"px",n.style.height="")})},1)};n<0&&(n=0),i<0&&(i=0),"center"==e&&"top"==t?(s(""),r.bar.style.position="relative"):"left"==e&&"top"==t?n>i?(s(""),r.bar.style.position="fixed",r.bar.style.left=n+"px"):(s("search-jumper-left"),r.bar.style.position="fixed",r.bar.style.top=i+"px"):"right"==e&&"top"==t?n>i?(s(""),r.bar.style.position="fixed",r.bar.style.right=n+"px"):(s("search-jumper-right"),r.bar.style.position="fixed",r.bar.style.top=i+"px"):"center"==e&&"bottom"==t?(s("search-jumper-bottom"),r.bar.style.position="relative"):"left"==e&&"bottom"==t?n>i?(s("search-jumper-bottom"),r.bar.style.position="fixed",r.bar.style.left=n+"px",r.bar.style.bottom="0px",r.bar.style.top="unset"):(s("search-jumper-left"),r.bar.style.position="fixed",r.bar.style.bottom=i+"px"):"right"==e&&"bottom"==t?n>i?(s("search-jumper-bottom"),r.bar.style.position="fixed",r.bar.style.right=n+"px",r.bar.style.bottom="0px",r.bar.style.top="unset"):(s("search-jumper-right"),r.bar.style.position="fixed",r.bar.style.bottom=i+"px"):"left"==e&&"center"==t?(s("search-jumper-left"),r.bar.style.position="relative",r.bar.style.marginTop=i+"px",r.con.style.display="flex",r.con.style.justifyContent="center"):"right"==e&&"center"==t&&(s("search-jumper-right"),r.bar.style.position="absolute",r.bar.style.marginTop=i+"px",r.con.style.display="flex",r.con.style.justifyContent="center",r.con.style.alignItems="flex-end"),p.prefConfig.position.x=e,p.prefConfig.position.y=t,p.prefConfig.offset.x=n,p.prefConfig.offset.y=i,p.prefConfig.disableAutoOpen||p.prefConfig.disableTypeOpen?r.checkScroll(!1,!0):setTimeout(()=>{let e=r.bar.querySelector(".search-jumper-type.search-jumper-open");e&&(e.style.transition="none",e.style.width="auto",e.style.height="auto",setTimeout(()=>{e.style.width=e.scrollWidth+"px",e.style.height=e.scrollHeight+"px",setTimeout(()=>{e.style.transition=""},1),r.checkScroll(!1,!0)},0))},251)}}const Dt=new class{constructor(){this.clickedIndex=0,this.signList=[],this.clickedEles={},this.exact=!0,this.accu=0,this.wheelScrolling=!1}getSelector(e,t=!0){this.exact=t,this.close(),this.toggle(),this.callback=e}init(){if(this.inited)return;this.inited=!0;let e=this;oe("\n                 body.searchJumper-picker,\n                 body.searchJumper-picker *:hover,\n                 body.searchJumper-picker a:hover {\n                   cursor: crosshair !important;\n                 }\n                 .select-rect {\n                   position: fixed;\n                   z-index: 2147483647;\n                   background: none;\n                   border: 1px dashed rgba(120, 170, 210, 0.8);\n                 }\n                 .select-rect>.dot {\n                   width: 10px;\n                   height: 10px;\n                   border: 2px solid #000;\n                   border-radius: 50%;\n                   background-color: white;\n                   position: absolute;\n                 }\n                 .select-rect>.top-left {\n                   top: -5px;\n                   left: -5px;\n                 }\n                 .select-rect>.top-right {\n                   top: -5px;\n                   right: -5px;\n                 }\n                 .select-rect>.bottom-left {\n                   bottom: -5px;\n                   left: -5px;\n                 }\n                 .select-rect>.bottom-right {\n                   bottom: -5px;\n                   right: -5px;\n                 }\n                 .select-rect>.top {\n                   top: -5px;\n                   left: calc(50% - 5px);\n                 }\n                 .select-rect>.right {\n                   top: calc(50% - 5px);\n                   right: -5px;\n                 }\n                 .select-rect>.left {\n                   top: calc(50% - 5px);\n                   left: -5px;\n                 }\n                 .select-rect>.bottom {\n                   bottom: -5px;\n                   left: calc(50% - 5px);\n                 }\n                ");let t,n=t=>{if(!t)return;if(e.callback){if(t){let n=e.geneSelector(t,e.exact);e.callback(n),e.close()}return}let n=e.createSignDiv();e.clickedEles[e.clickedIndex]=t,e.appendSign(n,t,e.clickedIndex),e.clickedIndex++,me.con.classList.add("selectedEle")};this.initSelectRect(),this.mainSignDiv=this.createSignDiv(),this.setImportant(this.mainSignDiv,"pointer-events","none"),this.setImportant(this.mainSignDiv,"background","rgba(120, 170, 210, 0.3)"),this.moveHandler=i=>{if(i.target!==document)if(e.inPicker&&i.preventDefault(),e.rectSelecting)e.mainSignDiv.parentNode&&e.mainSignDiv.parentNode.removeChild(e.mainSignDiv),e.selectRect.parentNode||m(document).appendChild(e.selectRect),e.createSelectRect({x:i.clientX,y:i.clientY});else{if(e.creatingRect)return;{let r=e.getTarget(i.target);e.mainSignDiv.parentNode!==r.parentNode&&r.parentNode.appendChild(e.mainSignDiv),e.adjustSignDiv(e.mainSignDiv,r),(i.ctrlKey||i.metaKey)&&(clearTimeout(t),t=setTimeout(()=>{let t=e.cleanTarget(i.target);n(t)},5))}}},this.leaveHandler=()=>{e.mainSignDiv.parentNode&&e.mainSignDiv.parentNode.removeChild(e.mainSignDiv)},this.clickHandler=t=>{if(e.inPicker&&(t.stopPropagation(),t.preventDefault()),e.creatingRect)return;if(e.rectSelecting)return e.selectRect.parentNode&&e.selectRect.parentNode.removeChild(e.selectRect),e.rectSelecting=!1,void me.bar.classList.remove("rectSelecting");let i=e.getTarget(t.target);n(i)},this.mouseDownHandler=t=>{e.rectSelecting=!0,me.bar.classList.add("rectSelecting"),e.rectInitPos={x:t.clientX,y:t.clientY},t.stopPropagation(),t.preventDefault()},this.mouseUpHandler=t=>{e.rectSelecting=!1,me.bar.classList.remove("rectSelecting"),e.creatingRect||e.selectRect.parentNode&&(e.selectRect.parentNode.removeChild(e.selectRect),e.finishSelectRect(),t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault())},this.wheelHandler=t=>{if(t.preventDefault(),t.stopPropagation(),e.wheelScrolling)return;let n;if(e.wheelScrolling=!0,setTimeout(()=>{e.wheelScrolling=!1},100),"wheel"!==t.type){let e=0;"number"==typeof t.axis?2==t.axis&&(e=t.detail):void 0!==t.wheelDeltaY&&0==t.wheelDeltaY||(e=-t.wheelDelta/40),n=e}else n=t.deltaY;n>0?e.accu--:e.accu++,e.accu<0?e.accu=0:e.accu>8&&(e.accu=8);let i=e.getTarget(t.target);e.mainSignDiv.parentNode!==i.parentNode&&i.parentNode.appendChild(e.mainSignDiv),e.adjustSignDiv(e.mainSignDiv,i)}}initSelectRect(){this.waitToRemoveSigns=[],this.waitToAddSigns=[];let e=document.createElement("div");e.innerHTML=h('\n                  <div class="dot top-left"></div>\n                  <div class="dot top-right"></div>\n                  <div class="dot bottom-left"></div>\n                  <div class="dot bottom-right"></div>\n                  <div class="dot top"></div>\n                  <div class="dot right"></div>\n                  <div class="dot left"></div>\n                  <div class="dot bottom"></div>\n                '),e.className="select-rect",this.selectRect=e}createSelectRect(e){this.rectToPos=e,this.creatingRect||(this.creatingRect=!0,setTimeout(()=>{this.creatingRect=!1,this.selectRect.style.left=Math.min(this.rectToPos.x,this.rectInitPos.x)+"px",this.selectRect.style.top=Math.min(this.rectToPos.y,this.rectInitPos.y)+"px",this.selectRect.style.width=Math.abs(this.rectToPos.x-this.rectInitPos.x)+"px",this.selectRect.style.height=Math.abs(this.rectToPos.y-this.rectInitPos.y)+"px",this.checkRectAndSign(),this.rectSelecting||this.mouseUpHandler()},100))}finishSelectRect(){let e=this;this.waitToRemoveSigns.forEach(t=>{e.removeSign(t)}),this.waitToAddSigns.forEach(e=>{delete e.dataset.recttemp}),this.waitToRemoveSigns=[],this.waitToAddSigns=[],this.signList.length?me.con.classList.add("selectedEle"):me.con.classList.remove("selectedEle")}checkRectAndSign(){if(!this.domInfo)return;let e=this;this.waitToRemoveSigns.forEach(e=>{e.style.opacity=""}),this.waitToRemoveSigns=[],this.signList.forEach(t=>{let n=t[0];if(n.dataset.recttemp)return;let i=n.getBoundingClientRect(),r=e.selectRect.getBoundingClientRect();e.compareRect(i,r)?(n.style.opacity="0",e.waitToRemoveSigns.push(n)):n.style.opacity=""}),this.waitToAddSigns.forEach(t=>{e.removeSign(t)}),this.waitToAddSigns=[],0===this.waitToRemoveSigns.length&&(this.curRectInfo={},this.rectInitPos.x<this.rectToPos.x?(this.curRectInfo.left=this.rectInitPos.x,this.curRectInfo.right=this.rectToPos.x):(this.curRectInfo.left=this.rectToPos.x,this.curRectInfo.right=this.rectInitPos.x),this.rectInitPos.y<this.rectToPos.y?(this.curRectInfo.top=this.rectInitPos.y,this.curRectInfo.bottom=this.rectToPos.y):(this.curRectInfo.top=this.rectToPos.y,this.curRectInfo.bottom=this.rectInitPos.y),this.compareDomWithRect(this.domInfo),this.signDomWithRect(this.domInfo))}compareDomWithRect(e){if(e.children&&e.children.length>0){let t=0;for(let n=0;n<e.children.length;n++){let i=e.children[n];this.compareDomWithRect(i)&&t++}if(t===e.children.length){let t=e.target.getBoundingClientRect();if(t.width&&t.height)return e.sign=!0,!0}}else if(this.compareRect(this.curRectInfo,e.target.getBoundingClientRect()))return e.sign=!0,!0;return e.sign=!1,!1}signDomWithRect(e){if(e.sign){let t=this.createSignDiv();t.dataset.recttemp=1,e.target.parentNode.appendChild(t),this.adjustSignDiv(t,e.target),this.signList.push([t,e.target]),this.waitToAddSigns.push(t)}else if(e.children&&e.children.length>0)for(let t=0;t<e.children.length;t++){let n=e.children[t];this.signDomWithRect(n)}}compareRect(e,t){return t.width&&t.height&&e.left<=t.right&&e.right>=t.left&&e.top<=t.bottom&&e.bottom>=t.top}cleanTarget(e){if(!e||"searchJumperSign"==e.className)return null;if(!(e=this.getTarget(e)))return null;for(let t in this.clickedEles){let n=this.clickedEles[t];try{if(n==e||n.contains(e)||e.contains(n))return null}catch(e){return null}}return e}appendSign(e,t,n){t.dataset&&(t.dataset.signNum=parseInt(t.dataset.signNum||0)+1),e.dataset.target=n,t.parentNode.appendChild(e),this.adjustSignDiv(e,t),this.signList.push([e,t])}removeSign(e){e.parentNode&&e.parentNode.removeChild(e);for(let t=0;t<this.signList.length;t++)if(this.signList[t][0]===e){this.signList.splice(t,1);break}let t=e.dataset.target,n=this.clickedEles[t];if(!n)return;let i=parseInt(n.dataset.signNum||0)-1;n.dataset.signNum=i,i<=0&&delete this.clickedEles[t]}getTarget(e){let t=this.accu;for(;e&&t;){let n=e.parentNode;if(!n)break;e=n,t--}for(;e.parentNode&&(0===e.offsetWidth||0===e.offsetHeight);)e=e.parentNode;return e}close(){this.mainSignDiv&&(this.rectSelecting&&(this.selectRect.parentNode&&this.selectRect.parentNode.removeChild(this.selectRect),this.finishSelectRect(),this.rectSelecting=!1),this.callback=null,this.domInfo=null,this.clearSigns(),this.clickedEles={},this.mainSignDiv.parentNode&&this.mainSignDiv.parentNode.removeChild(this.mainSignDiv),m(document).classList.remove("searchJumper-picker"),me.con.classList.remove("selectedEle"),me.con.removeEventListener("mouseenter",this.leaveHandler,!0),m(document).removeEventListener("mousemove",this.moveHandler,!0),m(document).removeEventListener("click",this.clickHandler,!0),m(document).removeEventListener("mousedown",this.mouseDownHandler,!0),m(document).removeEventListener("mouseup",this.mouseUpHandler,!0),m(document).removeEventListener(R(),this.wheelHandler,{passive:!1,capture:!0}),this.inPicker=!1)}setImportant(e,t,n){e.style.setProperty(t,n,"important")}createSignDiv(){let e=document.createElement("div");return this.setImportant(e,"position","absolute"),this.setImportant(e,"z-index","2147483647"),this.setImportant(e,"background","rgba(120, 170, 210, 0.6)"),this.setImportant(e,"transition","all 0.15s ease-out"),this.setImportant(e,"box-shadow","rgb(0 0 0) 0px 0px 3px 0px"),this.setImportant(e,"cursor","pointer"),e.className="searchJumperSign",e.addEventListener("mouseenter",()=>{this.mainSignDiv.parentNode&&this.mainSignDiv.parentNode.removeChild(this.mainSignDiv)},!0),e.addEventListener("mousedown",t=>{t.stopPropagation(),t.preventDefault(),this.removeSign(e)},!0),e}adjustSignDiv(e,t){this.setImportant(e,"width",t.offsetWidth+"px"),this.setImportant(e,"height",t.offsetHeight+"px");let n=t.offsetLeft,i=t.offsetTop;if(t.offsetParent&&e.offsetParent&&t.offsetParent!==e.offsetParent){let r=e.offsetParent.getBoundingClientRect(),s=t.offsetParent.getBoundingClientRect();n+=s.left-r.left,i+=s.top-r.top}this.setImportant(e,"left",n+"px"),this.setImportant(e,"top",i+"px")}geneSelector(e,t){let n=e.nodeName.toLowerCase();if("html"!==n&&"body"!==n)if(t&&e.id&&/^[a-z\-_][\w\-_]+$/i.test(e.id))n="#"+e.id;else{if(e.className){let t=e.classList.length;n+=[].map.call(e.classList,e=>/^[a-z][\w]+$/i.test(e)||t<3&&/^[a-z\-_][\w\-_]+$/i.test(e)?"."+e:"").join("")}let i=e.parentElement;if(i&&(n=this.geneSelector(i,!!t)+" > "+n,t&&i.children.length>1&&!/^HTML$/i.test(i.nodeName))){let t,r=0,s=0;for(t=0;t<i.children.length&&!(i.children[t].nodeName==e.nodeName&&(s++,i.children[t]==e&&(r=s),r>0&&s>1));t++);n+=1==s?"":`:nth-of-type(${r})`}}return n}copy(){let e="",t="";this.signList.forEach(n=>{t+="\n"+n[1].innerText,e+=n[1].outerHTML}),t=t.trim();const n=new Blob([e],{type:"text/html"}),i=new Blob([t],{type:"text/plain"});try{const e=new ClipboardItem({"text/html":n,"text/plain":i});navigator.clipboard.write([e]).then(()=>{re("Copied successfully!")},e=>{se(t),console.log(e)})}catch(e){se(t)}}openLinks(){if(!window.confirm(e("batchOpenConfirm")))return;let t=[];this.signList.forEach(e=>{let n=e[1];n.href?/^(http|ftp)/i.test(n.href)&&-1===t.indexOf(n.href)&&t.push(n.href):n.parentNode&&n.parentNode.href?/^(http|ftp)/i.test(n.parentNode.href)&&-1===t.indexOf(n.parentNode.href)&&t.push(n.parentNode.href):n.querySelectorAll&&[].forEach.call(n.querySelectorAll("a[href]"),e=>{/^(http|ftp)/i.test(e.href)&&-1===t.indexOf(e.href)&&t.push(e.href)})}),t.forEach(e=>{ae(e,{active:!1,insert:!0})})}getPickerStr(){if(!this.inPicker)return"";let e="";return this.signList.forEach(t=>{e+="\n"+t[1].innerText}),e.trim()}expand(){let e=this;this.clearSigns(),Object.keys(this.clickedEles).forEach(t=>{let n=e.clickedEles[t],i=e.geneSelector(n);n.dataset.signNum=0,[].forEach.call(document.querySelectorAll(i),n=>{let i=e.createSignDiv();m(document).appendChild(i),e.appendSign(i,n,t)})})}collapse(){let e=this;this.clearSigns(),Object.keys(this.clickedEles).forEach(t=>{let n=e.clickedEles[t];n.dataset.signNum=0;let i=e.createSignDiv();m(document).appendChild(i),e.appendSign(i,n,t)})}clearSigns(){this.signList.forEach(e=>{(e=e[0]).parentNode&&e.parentNode.removeChild(e)}),this.signList=[]}processNode(e,t){const n={};if(n.target=e,n.children=[],e.nodeType===Node.ELEMENT_NODE){const t=window.getComputedStyle(e);if("none"===t.display&&"hidden"===t.visibility)return null;if(""===e.innerHTML.trim())return null}else if(e.nodeType!==Node.TEXT_NODE||""===e.textContent.trim())return null;const i=e.childNodes;if(i.length>0){n.target=e,t.children.push(n);for(const e of i)e.nodeType!==Node.ELEMENT_NODE&&e.nodeType!==Node.TEXT_NODE||this.processNode(e,n)}else if(e.nodeType===Node.TEXT_NODE){const n=e.textContent.split("\n"),i=document.createRange();i.selectNodeContents(e);let r=0,s=e.parentNode,a=s.getBoundingClientRect();for(const o of n){if(""===o.trim()){r+=o.length+1;continue}i.setStart(e,r),r+=o.length,i.setEnd(e,r),r++;const n=i.getBoundingClientRect();let l=n.left-a.left,c=n.top-a.top,p=n.width,h=n.height,d={target:{innerText:o,outerHTML:o,parentNode:s,offsetLeft:l+s.offsetLeft,offsetTop:c+s.offsetTop,offsetWidth:p,offsetHeight:h,getBoundingClientRect:()=>{let e=s.getBoundingClientRect();return{left:e.left+l,top:e.top+c,right:e.left+l+p,bottom:e.top+c+h,width:p,height:h}}}};t.children.push(d)}}else e.nodeType===Node.ELEMENT_NODE&&(n.target=e,t.children.push(n));return n}toggle(e){this.init(),this.inPicker?this.close():(this.rectSel=!!e,e?(this.domInfo=this.processNode(m(document),{children:[]}),m(document).addEventListener("mousedown",this.mouseDownHandler,!0),m(document).addEventListener("mouseup",this.mouseUpHandler,!0)):m(document).addEventListener(R(),this.wheelHandler,{passive:!1,capture:!0}),this.accu=0,this.inPicker=!0,m(document).classList.add("searchJumper-picker"),me.con.addEventListener("mouseenter",this.leaveHandler,!0),m(document).addEventListener("mousemove",this.moveHandler,!0),m(document).addEventListener("click",this.clickHandler,!0))}};let zt=!1,Ot=!1,Ht="";const Rt="https://hoothin.github.io/SearchJumper/jump.html",Ft=new class{constructor(){this.inited=!1}init(){if(this.inited)return;this.inited=!0;let t=this;this.openList=[],this.filterCss="\n                    #searchJumperFilter {\n                        width: 100%;\n                        height: 100%;\n                        position: fixed;\n                        top: 0;\n                        left: 0;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        z-index: 100000;\n                        background-color: rgba(255, 255, 255, 0.1);\n                        backdrop-filter: blur(10px);\n                        -webkit-backdrop-filter: blur(5px);\n                        transform: translateZ(0);\n                    }\n                    .searchJumperFrame-body {\n                        width: 350px;\n                        text-align: left;\n                        background-color: #ffffff;\n                        border: 1px solid #afb3b6;\n                        border-radius: 10px;\n                        opacity: 0.95;\n                        filter: alpha(opacity=95);\n                        box-shadow: 5px 5px 20px 0px #000;\n                        color: #6e7070;\n                        transition: all 0.25s ease;\n                        border: 0;\n                        font-size: initial;\n                    }\n                    .searchJumperFrame-title {\n                        background: #458bd1!important;\n                        display: flex!important;\n                        align-items: center!important;\n                        justify-content: center!important;\n                        color: white!important;\n                        font-weight: bold;\n                        font-size: 18px!important;\n                        border-radius: 10px 10px 0 0!important;\n                    }\n                    .searchJumperFrame-title>img {\n                        margin: 5px;\n                        height: 32px;\n                        width: 32px;\n                    }\n                    .searchJumperFrame-buttons {\n                        text-align: center;\n                        margin: 5px;\n                        display: flex;\n                        justify-content: space-evenly;\n                    }\n                    .searchJumperFrame-buttons>button {\n                        width: 32%;\n                        font-size: 16px;\n                        cursor: pointer;\n                        border: 1px solid #1976d2;\n                        border-radius: 4px;\n                        transition: all .3s;\n                        color: #fff;\n                        background-color: #458bd1;\n                        line-height: 25px;\n                        padding: 3px;\n                    }\n                    .searchJumperFrame-buttons>button:hover {\n                        color: #e3f2fd;\n                    }\n                    .searchJumperFrame-body>.sitesCon {\n                        max-height: 70vh;\n                        overflow: auto;\n                        width: 100%;\n                        border-top: 1px solid rgba(0, 0, 0, 0.23);\n                        border-bottom: 1px solid rgba(0, 0, 0, 0.23);\n                        padding: 5px;\n                        user-select: none;\n                        white-space: nowrap;\n                    }\n                    .searchJumperFrame-body>.sitesCon>details>summary>span,\n                    .searchJumperFrame-body>.sitesCon>details>div>span {\n                        line-height: 25px;\n                        overflow: hidden;\n                        text-overflow: ellipsis;\n                        max-width: 180px;\n                        display: inline-block;\n                        vertical-align: middle;\n                    }\n                    .searchJumperFrame-body>.sitesCon>details>summary>button {\n                        display: none;\n                        position: absolute;\n                    }\n                    .searchJumperFrame-body>.sitesCon>details>summary:hover>button {\n                        display: inline-block;\n                    }\n                    .searchJumperFrame-body>.sitesCon input {\n                        margin: 2px 5px;\n                        width: 20px;\n                        height: 20px;\n                        vertical-align: sub;\n                    }\n                    .searchJumperFrame-body>.sitesCon div {\n                        margin-left: 32px;\n                    }\n                    .searchJumperFrame-body>.sitesCon div.exist {\n                        text-decoration:line-through;\n                    }\n                    @media (prefers-color-scheme: dark) {\n                      .searchJumperFrame-body,\n                      .searchJumperFrame-input-title,\n                      .searchJumperFrame-inputs>input,\n                      .searchJumperFrame-inputs>textarea,\n                      .searchJumperFrame-inputs>select,\n                      .searchJumperFrame-body select {\n                        background-color: black;\n                        color: #d5d5d5;\n                      }\n                      .searchJumperFrame-title,\n                      .searchJumperFrame-buttons>button {\n                        background: #245d8f!important;\n                      }\n                    }\n                ",this.filterCssEle=oe(this.filterCss),this.filterFrame=document.createElement("div"),this.filterFrame.id="searchJumperFilter",this.filterFrame.innerHTML=h(`\n                <div class="searchJumperFrame-body">\n                    <a href="${a}" class="searchJumperFrame-title" target="_blank">\n                        <img onerror="this.style.display='none'" width="32px" height="32px" src="${Mt}" />${e("addSearchEngine")}\n                    </a>\n                    <div class="searchJumperFrame-buttons">\n                        <button id="expandAll" type="button">${e("expandAll")}</button>\n                        <button id="collapseAll" type="button">${e("collapseAll")}</button>\n                    </div>\n                    <div class="sitesCon"></div>\n                    <div class="searchJumperFrame-buttons">\n                        <button id="cancel" type="button">${e("siteCancel")}</button>\n                        <button id="selectAll" type="button">${e("selectAll")}</button>\n                        <button id="add" type="button">${e("import")}</button>\n                    </div>\n                </div>\n                `),this.sitesCon=this.filterFrame.querySelector(".sitesCon");let n=this.filterFrame.querySelector("#add"),i=this.filterFrame.querySelector("#selectAll"),r=this.filterFrame.querySelector("#expandAll"),s=this.filterFrame.querySelector("#collapseAll"),o=!1;r.addEventListener("click",()=>{[].forEach.call(this.filterFrame.querySelectorAll("details"),e=>{e.setAttribute("open","open")})}),s.addEventListener("click",()=>{[].forEach.call(this.filterFrame.querySelectorAll("details"),e=>{e.removeAttribute("open")})}),i.addEventListener("click",()=>{o=!o,[].forEach.call(this.filterFrame.querySelectorAll("input[type=checkbox]"),e=>{e.checked=o})}),n.addEventListener("click",()=>{Ge||d(()=>{let n=!1;[].forEach.call(this.filterFrame.querySelectorAll("details"),e=>{let i=e.children[0].children[0],r=t.typeDict[i.title];if(r.type=i.innerText.trim(),r.sites=[],[].forEach.call(e.querySelectorAll('div>[type="checkbox"]'),e=>{if(e.checked){n=!0;let i=t.siteDict[e.parentNode.title],s=e.nextElementSibling;if(!i||!s)return;if("0"===s.value)r.sites.push(i);else{let e=t.searchType(s.value);p.sitesConfig[e].sites.push(i)}}}),r.sites.length){let e=t.searchType(r.type);!1===e?p.sitesConfig.push(r):p.sitesConfig[e].sites=p.sitesConfig[e].sites.concat(r.sites)}}),n&&(p.lastModified=(new Date).getTime(),pe.setItem("searchData",p),re(e("siteAddOver")),me.refreshEngines(),this.close())})}),this.filterFrame.addEventListener("click",e=>{"searchJumperFilter"!=e.target.id&&"cancel"!=e.target.id||this.close()})}searchType(e){for(let t=0;t<p.sitesConfig.length;t++)if(p.sitesConfig[t].type==e)return t;return!1}searchUrl(e){for(let t=0;t<p.sitesConfig.length;t++){let n=p.sitesConfig[t].sites;for(let t=0;t<n.length;t++)if(n[t].url.replace(/^https?/,"")==e.replace(/^https?/,""))return!0}return!1}searchName(e){for(let t=0;t<p.sitesConfig.length;t++){let n=p.sitesConfig[t].sites;for(let t=0;t<n.length;t++)if(n[t].name==e){let t=e+"_1";return this.searchName(t)}}return e}anylizeType(t){let n=this,i=document.createElement("details"),r=document.createElement("summary"),s=document.createElement("span");s.title=t.type,s.innerText=t.type,r.appendChild(s);let a=document.createElement("input");a.type="checkbox",r.appendChild(a);let o=document.createElement("button");o.innerText=e("rename"),o.addEventListener("click",()=>{let t=window.prompt(e("rename"),s.innerText);t&&(s.innerText=t)}),r.appendChild(o),i.appendChild(r);for(let e=0;e<this.openList.length;e++)if(this.openList[e]==t.type){i.setAttribute("open","open");break}let l=[];this.typeDict[t.type]=t,t.sites&&t.sites.forEach(r=>{let s=document.createElement("div"),o=document.createElement("span");if(o.innerText=r.name,r.name=n.searchName(r.name),s.appendChild(o),s.title=r.url,i.appendChild(s),n.searchUrl(r.url))return void s.classList.add("exist");let c=document.createElement("input");c.type="checkbox",c.onclick=()=>{if(c.checked){let e=!0;for(let t=0;t<l.length;t++)if(!l[t].checked){e=!1;break}e&&(a.checked=!0)}else a.checked=!1},s.appendChild(c),s.addEventListener("click",e=>{"SPAN"==e.target.nodeName.toUpperCase()&&c.click()});let h=document.createElement("select"),d=document.createElement("option");d.value=0,d.innerText=e("currentType"),h.appendChild(d);for(let e=0;e<p.sitesConfig.length;e++){let n=p.sitesConfig[e];if(n.type!=t.type){let e=document.createElement("option");e.value=n.type,e.innerText=n.type,h.appendChild(e)}}s.appendChild(h),n.siteDict[r.url]=r,l.push(c)}),0==l.length&&(a.style.display="none",o.style.display="none"),a.addEventListener("click",()=>{l.forEach(e=>{e.checked=a.checked})}),this.sitesCon.appendChild(i)}close(){this.openList=[],[].forEach.call(this.sitesCon.querySelectorAll("details"),e=>{e.hasAttribute("open")&&this.openList.push(e.querySelector("summary").innerText)}),this.filterFrame.parentNode&&this.filterFrame.parentNode.removeChild(this.filterFrame)}open(e){this.init();let t=this;this.siteDict={},this.typeDict={},this.filterCssEle&&this.filterCssEle.parentNode||(this.filterCssEle=oe(this.filterCss)),document.documentElement.appendChild(this.filterFrame),this.sitesCon.innerHTML=h(""),e.forEach(e=>{t.anylizeType(e)})}};if(-1!=Et.indexOf("#searchJumperMin"))if(qe=!0,-1!=Et.indexOf("#searchJumperMinPost"))window.history.replaceState(null,"",Et.replace(/#searchJumperMin(Post)?/,""));else{if(-1!=Et.indexOf("#searchJumperMinMobile"))return Object.defineProperty(Object.getPrototypeOf(navigator),"userAgent",{get:function(){return s}}),void ne({method:"GET",url:location.href,headers:{referer:location.href,"User-Agent":s},onload:function(e){document.open(),document.write(e.response),document.close()},onerror:function(){},ontimeout:function(){}});window.history.replaceState(null,"",location.href.replace(/#searchJumperMin(Mobile)?/,""))}"SearchJumper Multi"!=document.title&&(wt=!1,kt=!1,pe.getItem("postUrl",e=>{if(e&&-1!=e[0].indexOf(location.hostname.replace(/.*\.(\w+\.\w+)/,"$1")))pe.setItem("postUrl",""),L(e[1],e[0],"_self");else{if(document.head&&m(document))_();else{let e=()=>{document.head&&m(document)?_():setTimeout(()=>{e()},10)};e()}document.addEventListener("visibilitychange",Z)}}))}const t="undefined"==typeof unsafeWindow?window:unsafeWindow;if(t.searchJumperInited)return;t.searchJumperInited=!0;const n=navigator&&navigator.clipboard,i=window.top!==window.self;if(i)try{if(0===window.self.innerWidth&&0===window.self.innerHeight){if(await new Promise(e=>{window.addEventListener("load",()=>{setTimeout(()=>{e(window.self.innerWidth<300||window.self.innerHeight<300)},500)})}))return}else if(window.self.innerWidth<300||window.self.innerHeight<300)return}catch(e){return}const r=/^https:\/\/github\.com\/hoothin\/SearchJumper(\/(issue|discussions)|\/?$|#|\?)|^https:\/\/greasyfork\.org\/.*\/scripts\/445274[\-\/].*\/discussions/i,s="Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1",a="https://search.hoothin.com/",o=a+"firstRun";let l=a+"config/",c=!1,p={};if(p.sitesConfig=sitesConfig,p.prefConfig={position:{x:"left",y:"top"},offset:{x:"0",y:"0"},firstRun:!0,openInNewTab:!1,enableInPage:!0,altKey:!1,ctrlKey:!0,shiftKey:!1,metaKey:!1,autoClose:!1,autoDelay:1e3,shortcut:!0,initShow:!1,alwaysShow:!1,customSize:100,tilesZoom:100,tipsZoom:100,typeOpenTime:250,longPressTime:500,noIcons:!1,showSiteLists:!0,alwaysShowSiteLists:!1,cacheSwitch:!1,noAni:!1,quickAddRule:!0,multiline:2,multilineGap:1e3,historyLength:0,dragToSearch:!0,hideDragHistory:!1,sortType:!1,sortSite:!1,autoHide:!1,autoHideAll:!1,showCurrent:!0,shortcutKey:"Backquote",showInSearchEngine:!1,showInSearchJumpPage:!0,limitInPageLen:1,limitPopupLen:1,ignoreWords:["a","in","into","the","to","on","among","between","and","an","of","by","with","about","under","or","at","as"],inPageRule:{},firstFiveWordsColor:[],inPageWordsStyles:[],altToHighlight:!0,defaultPicker:!1,disableInputOnWords:!1,disableTypeOpen:!1,callBarAlt:!1,callBarCtrl:!1,callBarShift:!1,callBarMeta:!1,defaultFindTab:!0,disableAutoOpen:!1,hideOnSearchEngine:!1,minSizeMode:!1,hidePopup:!1,minPopup:0,selectToShow:!1,expandType:!1,rightMouse:!0,shiftLastUsedType:!0,mouseLeaveToHide:!0,currentTypeFirst:!0,switchSitesPreKey:"ArrowLeft",switchSitesNextKey:"ArrowRight",switchSitesCtrl:!0,switchSitesAlt:!1,switchSitesShift:!0,switchSitesMeta:!1},document&&document.documentElement)e();else{let t=()=>{document&&document.documentElement?e():setTimeout(()=>{t()},10)};t()}}();