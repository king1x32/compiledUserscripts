// ==UserScript==
// @name         Quillbot Premium Unlocker
// @namespace    quillbot.taozhiyu.gitee.io
// @version      1.0.0
// @author       longkidkoolstar
// @match        https://quillbot.com/*
// @icon         https://quillbot.com/favicon.png
// @require      https://greasyfork.org/scripts/455943-ajaxhooker/code/ajaxHooker.js?version=1124435
// @run-at       document-start
// @grant        GM_setValue
// @grant        GM_getValue
// @license      none
// @downloadURL https://raw.githubusercontent.com/king1x32/compiledUserscripts/release/release/Quillbot20Premium20Unlocker.user.js
// @updateURL https://raw.githubusercontent.com/king1x32/compiledUserscripts/release/release/Quillbot20Premium20Unlocker.meta.js
// ==/UserScript==
!function(){"use strict";const e={debug:!1,notificationDuration:5e3,theme:{primary:"#4CAF50",text:"#333333",background:"#f9f9f9",shadow:"0 2px 5px rgba(0, 0, 0, 0.1)"},premiumFeatures:["Word Count Limit","Premium Modes","Grammar Checker","Premium Synonyms","Sentence Rephraser"]},t=t=>e.debug&&console.log(`[QuillbotUnlocker] ${t}`),i=t=>e.debug&&console.log(`[QuillbotUnlocker] %c${t}`,"color: green"),o=(t,i)=>e.debug&&console.error(`[QuillbotUnlocker] ${t}`,i),r=t=>{if(document.body){const i=document.createElement("div");i.style.position="fixed",i.style.bottom="20px",i.style.right="20px",i.style.padding="10px 15px",i.style.backgroundColor=e.theme.background,i.style.color=e.theme.text,i.style.border="1px solid #ccc",i.style.borderLeft=`4px solid ${e.theme.primary}`,i.style.borderRadius="4px",i.style.boxShadow=e.theme.shadow,i.style.fontFamily="Arial, sans-serif",i.style.fontSize="14px",i.style.zIndex="10000",i.textContent=t,document.body.appendChild(i),setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},e.notificationDuration)}},s=()=>{const t=document.createElement("div");t.style.position="fixed",t.style.bottom="20px",t.style.right="20px",t.style.padding="15px",t.style.backgroundColor=e.theme.background,t.style.boxShadow=e.theme.shadow,t.style.border="1px solid #ccc",t.style.borderRadius="8px",t.style.zIndex="10000",t.style.fontFamily="Arial, sans-serif",t.style.color=e.theme.text,t.style.width="280px";const i=document.createElement("h3");i.textContent="Quillbot Premium Unlocker",i.style.margin="0 0 10px",i.style.color=e.theme.primary,i.style.fontSize="16px";const o=document.createElement("p");o.textContent="Unlocked features:",o.style.margin="10px 0 5px",o.style.fontWeight="bold";const r=document.createElement("ul");r.style.margin="0 0 15px",r.style.paddingLeft="20px",e.premiumFeatures.forEach(e=>{const t=document.createElement("li");t.textContent=e,t.style.margin="3px 0",r.appendChild(t)});const s=document.createElement("p");s.textContent="Join our Discord community for support and additional resources:",s.style.margin="10px 0 5px",s.style.fontSize="13px";const n=document.createElement("a");n.href="https://discord.gg/JrweGzdjwA",n.textContent="Join Discord",n.style.color="#0366d6",n.style.textDecoration="none",n.target="_blank",n.style.display="inline-block",n.style.marginTop="5px";const l=document.createElement("button");l.textContent="Ã—",l.style.position="absolute",l.style.top="5px",l.style.right="5px",l.style.background="none",l.style.border="none",l.style.cursor="pointer",l.style.fontSize="18px",l.style.color="#666",l.addEventListener("click",()=>{t.parentNode&&document.body.removeChild(t)}),t.appendChild(i),t.appendChild(o),t.appendChild(r),t.appendChild(s),t.appendChild(n),t.appendChild(l),document.body.appendChild(t),setTimeout(()=>{t.parentNode&&document.body.removeChild(t)},15e3)};(()=>{try{ajaxHooker.hook(e=>{e.url.endsWith("get-account-details")&&(t("Intercepting account details request"),e.response=e=>{try{const t=JSON.parse(e.responseText),o="data"in t?t.data:t;if(o.profile.accepted_premium_modes_tnc=!0,o.profile.premium=!0,o.profile.client_type="premium",o.profile.premium_tier="premium_plus",o.limits){const e={limit:25e4,premium_limit:25e4,used:0};o.limits.paraphrase={...o.limits.paraphrase,...e},o.limits.grammar={...o.limits.grammar,...e},o.limits.cowrite={...o.limits.cowrite||{},...e},o.limits.summarizer={...o.limits.summarizer||{},...e}}o.user&&(o.user.subscription={type:"premium_plus",status:"active"}),e.responseText=JSON.stringify("data"in t?(t.data=o,t):o),i("Premium status enabled successfully"),r("Premium features unlocked successfully!")}catch(e){o("Error processing account details response",e),r("Error unlocking premium features")}}),(e.url.includes("/billing/")||e.url.includes("/subscription/")||e.url.includes("/premium-access"))&&(t("Intercepting premium endpoint request"),e.response=e=>{try{e.responseText=JSON.stringify({success:!0,data:{has_premium_access:!0,status:"active",tier:"premium_plus"}}),i("Premium access granted successfully")}catch(e){o("Error processing premium endpoint response",e)}})}),i("API interceptors initialized")}catch(e){o("Failed to initialize API interceptors",e),r("Failed to initialize premium unlocker")}})(),window.addEventListener("load",()=>{setTimeout(()=>{s()},2e3)}),t("Quillbot Premium Unlocker initialized")}();