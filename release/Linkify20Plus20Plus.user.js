// ==UserScript==
// @name Linkify Plus Plus
// @version 12.0.1
// @license BSD-3-Clause
// @author eight04 <eight04@gmail.com>
// @homepageURL https://github.com/eight04/linkify-plus-plus
// @supportURL https://github.com/eight04/linkify-plus-plus/issues
// @namespace eight04.blogspot.com
// @include *
// @exclude https://www.google.*/search*
// @exclude https://www.google.*/webhp*
// @exclude https://music.google.com/*
// @exclude https://mail.google.com/*
// @exclude https://docs.google.com/*
// @exclude https://encrypted.google.com/*
// @exclude https://*101weiqi.com/*
// @exclude https://w3c*.github.io/*
// @exclude https://www.paypal.com/*
// @exclude https://term.ptt.cc/*
// @exclude https://mastodon.social/*
// @grant GM.getValue
// @grant GM.setValue
// @grant GM.deleteValue
// @grant GM_addStyle
// @grant GM_registerMenuCommand
// @grant GM_getValue
// @grant GM_setValue
// @grant GM_deleteValue
// @grant GM_addValueChangeListener
// @grant unsafeWindow
// @compatible firefox Tampermonkey latest
// @compatible chrome Tampermonkey latest
// @icon data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDE2IDE2Ij4gPHBhdGggZmlsbD0iIzRjNGM0ZCIgZD0iTTMuNSAxYS41LjUgMCAxIDAgMCAxSDR2OWgtLjVhLjUuNSAwIDAgMCAwIDFoNy44NTVhLjUuNSAwIDAgMCAuNDc1LS4xODQuNS41IDAgMCAwIC4xMDYtLjM5OFYxMC41YS41LjUgMCAxIDAtMSAwdi41SDZWMmguNWEuNS41IDAgMSAwIDAtMWgtM3oiLz4gPHBhdGggZmlsbD0iIzQ1YTFmZiIgZD0iTTIuNSAxNGExIDEgMCAxIDAgMCAyaDExYTEgMSAwIDEgMCAwLTJoLTExeiIvPiA8L3N2Zz4=
// @downloadURL https://raw.githubusercontent.com/king1x32/compiledUserscripts/release/release/Linkify20Plus20Plus.user.js
// @updateURL https://raw.githubusercontent.com/king1x32/compiledUserscripts/release/release/Linkify20Plus20Plus.meta.js
// ==/UserScript==
/**
 * event-lite.js - Light-weight EventEmitter (less than 1KB when gzipped)
 *
 * @copyright Yusuke Kawasaki
 * @license MIT
 * @constructor
 * @see https://github.com/kawanet/event-lite
 * @see http://kawanet.github.io/event-lite/EventLite.html
 * @example
 * var EventLite = require("event-lite");
 *
 * function MyClass() {...}             // your class
 *
 * EventLite.mixin(MyClass.prototype);  // import event methods
 *
 * var obj = new MyClass();
 * obj.on("foo", function() {...});     // add event listener
 * obj.once("bar", function() {...});   // add one-time event listener
 * obj.emit("foo");                     // dispatch event
 * obj.emit("bar");                     // dispatch another event
 * obj.off("foo");                      // remove event listener
 */
function e(){if(!(this instanceof e))return new e}function t(e){for(var t in V)e[t]=V[t];return e}function n(e,t){var a,r=this;if(arguments.length){if(t){if(a=o(r,e,!0)){if(!(a=a.filter(function(e){return e!==t&&e.originalListener!==t})).length)return n.call(r,e);r[W][e]=a}}else if((a=r[W])&&(delete a[e],!Object.keys(a).length))return n.call(r)}else delete r[W];return r}function o(e,t,n){if(!n||e[W]){var o=e[W]||(e[W]={});return o[t]||(o[t]=[])}}function a(e){return"string"==typeof e}function r(e){return"number"==typeof e}function i(e){return"object"==typeof e?null!==e:s(e)}function s(e){return"function"==typeof e}function c(e,t){if(e)for(const n of H(e))t(e[n],n)}function l(e){return Array.isArray(e)?e.map(l).filter(Boolean).join(" "):i(e)?H(e).filter(t=>e[t]).join(" "):function(e){return!("boolean"==typeof e||null==e)}(e)?""+e:""}function d(e,t,...n){let o;var r;return(a(t)||Array.isArray(t))&&(n.unshift(t),t={}),(t=t||{}).namespaceURI||0!==K[e]||(t={...t,namespaceURI:"http://www.w3.org/2000/svg"}),null==t.children||n.length||({children:n,...t}=t),a(e)?(o=t.namespaceURI?document.createElementNS(t.namespaceURI,e):document.createElement(e),function(e,t){for(const n of H(e))m(n,e[n],t)}(t,o),u(n,o)):s(e)&&(i(e.defaultProps)&&(t={...e.defaultProps,...t}),o=e({...t,children:n})),i(r=t.ref)&&"current"in r?t.ref.current=o:s(t.ref)&&t.ref(o),o}function u(e,t){var n,o;i(o=e)&&"number"==typeof o.length&&"number"!=typeof o.nodeType?function(e,t){for(const n of e)u(n,t)}(e,t):a(e)||r(e)?p(document.createTextNode(e),t):null===e?p(document.createComment(""),t):(n=e)&&"number"==typeof n.nodeType&&p(e,t)}function p(e,t){t instanceof window.HTMLTemplateElement?t.content.appendChild(e):t.appendChild(e)}function f(e){return e.replace(/[A-Z\d]/g,e=>":"+e.toLowerCase())}function m(e,t,n){switch(e){case"xlinkActuate":case"xlinkArcrole":case"xlinkHref":case"xlinkRole":case"xlinkShow":case"xlinkTitle":case"xlinkType":return void g(n,"http://www.w3.org/1999/xlink",f(e),t);case"xmlnsXlink":return void b(n,f(e),t);case"xmlBase":case"xmlLang":case"xmlSpace":return void g(n,"http://www.w3.org/XML/1998/namespace",f(e),t)}switch(e){case"htmlFor":return void b(n,"for",t);case"dataset":return void c(t,(e,t)=>{null!=e&&(n.dataset[t]=e)});case"innerHTML":case"innerText":case"textContent":return void(n[e]=t);case"spellCheck":return void(n.spellcheck=t);case"class":case"className":return void(s(t)?t(n):b(n,"class",l(t)));case"ref":case"namespaceURI":return;case"style":if(i(t))return void c(t,(e,t)=>{r(e)&&0!==U[t]?n.style[t]=e+"px":n.style[t]=e})}if(s(t)){if("o"===e[0]&&"n"===e[1]){const o=e.toLowerCase();null==n[o]?n[o]=t:n.addEventListener(e,t)}}else!0===t?b(n,e,""):!1!==t&&null!=t&&b(n,e,t)}function b(e,t,n){e.setAttribute(t,n)}function g(e,t,n,o){e.setAttributeNS(t,n,o)}function h(e){return function({getMessage:e,DEFAULT:t}){return(n,o)=>{const a=e(n,o);if(a)return a;const r=t[n];return r?o?(Array.isArray(o)||(o=[o]),r.replace(/\$(\d+)/g,(e,t)=>o[t-1])):r:""}}({getMessage:e,DEFAULT:{currentScopeLabel:"Current scope",addScopeLabel:"Add new scope",deleteScopeLabel:"Delete current scope",learnMoreButton:"Learn more",importButton:"Import",exportButton:"Export",addScopePrompt:"Add new scope",deleteScopeConfirm:"Delete scope $1?",importPrompt:"Paste settings",exportPrompt:"Copy settings"}})}function x(e,t){function n(t,n){n.checkValidity()&&("checkbox"!==n.type?"radio"!==n.type?"SELECT"===n.nodeName&&n.multiple?e.set(t,[...n.options].filter(e=>e.selected).map(e=>e.value)):"number"!==n.type&&"range"!==n.type?e.set(t,n.value):e.set(t,Number(n.value)):n.checked&&e.set(t,n.value):e.set(t,n.checked))}function o(e,t){if("INPUT"!==e.nodeName||"radio"!==e.type)if("checkbox"!==e.type){if("SELECT"===e.nodeName&&e.multiple){const n=new Set(t);for(const t of e.options)t.selected=n.has(t.value);return}e.value=t}else e.checked=t;else e.checked=e.value===t}const a=[],r=e=>{for(const n in e)if(t.has(n))for(const a of t.get(n))o(a,e[n])};e.on("change",r),a.push(()=>e.off("change",r));for(const[e,o]of t.entries())for(const t of o){const o=t.hasAttribute("realtime")?"input":"change",r=()=>n(e,t);t.addEventListener(o,r),a.push(()=>t.removeEventListener(o,r))}return r(e.getAll()),()=>{for(const e of a)e()}}function y(e,t){const n=e=>{for(const n in e)if(t.has(n))for(const o of t.get(n))o.disabled=o.dataset.bindToValue?o.dataset.bindToValue!==e[n]:!e[n]};return e.on("change",n),n(e.getAll()),()=>e.off("change",n)}function w({pref:e,controls:t,alert:n=alert,confirm:o=confirm,prompt:a=prompt,getMessage:r=()=>{},getNewScope:i=()=>""}){function s(){const n=e.getCurrentScope();for(const e of t.get("scope-list"))e.value=n}function c(){const n=e.getScopeList();for(const e of t.get("scope-list"))e.innerHTML="",e.append(...n.map(e=>{const t=document.createElement("option");return t.value=e,t.textContent=e,t}))}const l={import:["click",async function(){try{const t=await a(d("importPrompt"));if(null==t)return;const n=JSON.parse(t);return e.import(n)}catch(e){await n(e.message)}}],export:["click",async function(){try{const t=await e.export();await a(d("exportPrompt"),JSON.stringify(t))}catch(e){await n(e.message)}}],"scope-list":["change",function(t){e.setCurrentScope(t.target.value)}],"add-scope":["click",async function(){try{let t=await a(d("addScopePrompt"),i());if(null==t)return;if(t=t.trim(),!t)throw new Error("the value is empty");await e.addScope(t),e.setCurrentScope(t)}catch(e){await n(e.message)}}],"delete-scope":["click",async function(){try{const t=e.getCurrentScope();if(await o(d("deleteScopeConfirm",t)))return e.deleteScope(t)}catch(e){await n(e.message)}}]};for(const e in l)for(const n of t.get(e))n.addEventListener(l[e][0],l[e][1]);e.on("scopeChange",s),e.on("scopeListChange",c),c(),s();const d=h(r);return function(){e.off("scopeChange",s),e.off("scopeListChange",c);for(const e in l)for(const n of t.get(e))n.removeEventListener(l[e][0],l[e][1])}}function v(e){return e.replace(/[[\]\\^-]/g,"\\$&")}function k(e,t,n){var o=e.path.replace(t,n);o!=e.path&&(e.end-=e.path.length-o.length,e.suffix=e.path.slice(o.length)+e.suffix,e.path=o)}function L(e,t){var n,o=0,a=e.path,r=0;if(a.endsWith(t)){for(;(r=a.indexOf(t,r))>=0;)n=o%2?null:r,r++,o++;n&&(e.end-=a.length-n,e.path=a.slice(0,n),e.suffix=a.slice(n)+e.suffix)}}function E(e,t,n){for(var o,a,r=e.path,i=new RegExp("[\\"+t+"\\"+n+"]","g"),s=0;o=i.exec(r);){if(s%2==0){if(a=o.index,o[0]==n)break}else if(o[0]==t)break;s++}(o||s%2!=0)&&(e.end-=e.path.length-a,e.path=r.slice(0,a),e.suffix=r.slice(a)+e.suffix)}function M(e){var t,n;if(!(t=e.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/)))return!1;for(n=1;n<t.length;n++)if(+t[n]>255||t[n].length>1&&"0"==t[n][0])return!1;return!0}function C(e){var t,n=e.match(/\.([^.]+)$/);return!!n&&(t=n[1].toLowerCase(),R.hasOwnProperty(t))}function S(e){let t=0;const n=e.split(".");for(const e of n){if(!e||e.startsWith("-")||e.endsWith("-"))return{index:t,value:e};t+=e.length+1}}function T(e){return e.startContainer==e.endContainer?document.createTextNode(e.toString()):e.cloneContents()}function j(...e){return new Promise((t,n)=>{var o,a=new ee(...e);for(o of(a.on("error",n),a.on("complete",t),Object.keys(a.options)))o.startsWith("on")&&a.on(o.slice(2),a.options[o]);a.start()})}async function N(e,t,n=!0){if(z(e,t.validator)&&(te.add(e),await j({...t,root:e,recursive:!0})),t.includeElement&&n)for(const n of e.querySelectorAll(t.includeElement))await N(n,t,!1)}function z(e,t){return!te.has(e)&&function e(n){if(!n.parentNode)return!1;let o=ne.get(n);return void 0===o&&(o=!!t.isIncluded(n)||!t.isExcluded(n)&&(n.parentNode==document.documentElement||e(n.parentNode)),ne.set(n,o)),o}(e)}function I(){return("loading"!==document.readyState?Promise.resolve():new Promise(e=>{document.addEventListener("DOMContentLoaded",e,{once:!0})})).then(function(){const e=document.querySelector("[data-server-rendered]");if(e)return new Promise(t=>{const n=new MutationObserver(()=>{e.hasAttribute("data-server-rendered")||(t(),n.disconnect())});n.observe(e,{attributes:!0})})})}function $(e){const t=e.target;z(t,re.validator)&&(te.add(t),j({...re,root:t,recursive:!1}))}var O,P,R,q,B,A,G,F,D,_={optionsFuzzyIpLabel:"Match ambiguous IP addresses.",optionsIgnoreMustacheLabel:"Ignore URLs inside mustaches e.g. {{ ... }}.",optionsEmbedImageLabel:"Create an image element if the URL looks like an image file.",optionsEmbedImageExcludeElementLabel:"Exclude following elements. (CSS selector)",optionsUnicodeLabel:"Match unicode characters.",optionsMailLabel:"Match email address.",optionsNewTabLabel:"Open links in new tabs.",optionsStandaloneLabel:"The URL must be surrounded by whitespaces.",optionsLinkifierLabel:"Linkifier",optionsTriggerByPageLoadLabel:"Trigger on page load.",optionsTriggerByNewNodeLabel:"Trigger on dynamically created elements.",optionsTriggerByHoverLabel:"Trigger on mouse over.",optionsTriggerByClickLabel:"Trigger on mouse click.",optionsBoundaryLeftLabel:"Allowed characters between the whitespace and the link. (left side)",optionsBoundaryRightLabel:"Allowed characters between the whitespace and the link. (right side)",optionsExcludeElementLabel:"Do not linkify following elements. (CSS selector)",optionsIncludeElementLabel:"Always linkify following elements. Override above. (CSS selector)",optionsTimeoutLabel:"Max execution time. (ms)",optionsTimeoutHelp:"The script will terminate if it takes too long to convert the entire page.",optionsMaxRunTimeLabel:"Max script run time. (ms)",optionsMaxRunTimeHelp:"If the script takes too long to run, the process would be splitted into small chunks to avoid browser freeze.",optionsUrlMatcherLabel:"URL matcher",optionsCustomRulesLabel:"Custom rules. (RegExp per line)",currentScopeLabel:"Current domain",addScopeLabel:"Add new domain",addScopePrompt:"Add new domain",deleteScopeLabel:"Delete current domain",deleteScopeConfirm:"Delete domain $1?",learnMoreButton:"Learn more",importButton:"Import",importPrompt:"Paste settings",exportButton:"Export",exportPrompt:"Copy settings"},W="listeners",V={on:function(e,t){return o(this,e).push(t),this},once:function(e,t){function a(){n.call(r,e,a),t.apply(this,arguments)}var r=this;return a.originalListener=t,o(r,e).push(a),r},off:n,emit:function(e,t){var n,a,r=this,i=o(r,e,!0);return!!i&&(1===(n=arguments.length)?i.forEach(function(e){e.call(r)}):2===n?i.forEach(function(e){e.call(r,t)}):(a=Array.prototype.slice.call(arguments,1),i.forEach(function(e){e.apply(r,a)})),!!i.length)}};t(e.prototype),e.mixin=t;const H=Object.keys,U={animationIterationCount:0,borderImageOutset:0,borderImageSlice:0,borderImageWidth:0,boxFlex:0,boxFlexGroup:0,boxOrdinalGroup:0,columnCount:0,columns:0,flex:0,flexGrow:0,flexPositive:0,flexShrink:0,flexNegative:0,flexOrder:0,gridArea:0,gridRow:0,gridRowEnd:0,gridRowSpan:0,gridRowStart:0,gridColumn:0,gridColumnEnd:0,gridColumnSpan:0,gridColumnStart:0,fontWeight:0,lineClamp:0,lineHeight:0,opacity:0,order:0,orphans:0,tabSize:0,widows:0,zIndex:0,zoom:0,fillOpacity:0,floodOpacity:0,stopOpacity:0,strokeDasharray:0,strokeDashoffset:0,strokeMiterlimit:0,strokeOpacity:0,strokeWidth:0},J=["Webkit","ms","Moz","O"];H(U).forEach(e=>{J.forEach(t=>{U[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=0})});const K={animate:0,circle:0,clipPath:0,defs:0,desc:0,ellipse:0,feBlend:0,feColorMatrix:0,feComponentTransfer:0,feComposite:0,feConvolveMatrix:0,feDiffuseLighting:0,feDisplacementMap:0,feDistantLight:0,feFlood:0,feFuncA:0,feFuncB:0,feFuncG:0,feFuncR:0,feGaussianBlur:0,feImage:0,feMerge:0,feMergeNode:0,feMorphology:0,feOffset:0,fePointLight:0,feSpecularLighting:0,feSpotLight:0,feTile:0,feTurbulence:0,filter:0,foreignObject:0,g:0,image:0,line:0,linearGradient:0,marker:0,mask:0,metadata:0,path:0,pattern:0,polygon:0,polyline:0,radialGradient:0,rect:0,stop:0,svg:0,switch:0,symbol:0,text:0,textPath:0,tspan:0,use:0,view:0},X=new Set(["import","export","scope-list","add-scope","delete-scope"]);class Y extends Map{constructor(e){super(),this.getDefault=e}get(e){let t=super.get(e);return t||(t=this.getDefault(),super.set(e,t)),t}}O=e=>{function t(e){e&&document.documentElement.matches(e)}return[{type:"section",label:e("optionsUrlMatcherLabel"),children:[{key:"fuzzyIp",type:"checkbox",label:e("optionsFuzzyIpLabel")},{key:"ignoreMustache",type:"checkbox",label:e("optionsIgnoreMustacheLabel")},{key:"unicode",type:"checkbox",label:e("optionsUnicodeLabel")},{key:"mail",type:"checkbox",label:e("optionsMailLabel")},{key:"standalone",type:"checkbox",label:e("optionsStandaloneLabel"),children:[{key:"boundaryLeft",type:"text",label:e("optionsBoundaryLeftLabel")},{key:"boundaryRight",type:"text",label:e("optionsBoundaryRightLabel")}]},{key:"customRules",type:"textarea",label:e("optionsCustomRulesLabel"),learnMore:"https://github.com/eight04/linkify-plus-plus?tab=readme-ov-file#custom-rules"}]},{type:"section",label:e("optionsLinkifierLabel"),children:[{key:"triggerByPageLoad",type:"checkbox",label:e("optionsTriggerByPageLoadLabel")},{key:"triggerByNewNode",type:"checkbox",label:e("optionsTriggerByNewNodeLabel")},{key:"triggerByHover",type:"checkbox",label:e("optionsTriggerByHoverLabel")},{key:"triggerByClick",type:"checkbox",label:e("optionsTriggerByClickLabel")},{key:"embedImage",type:"checkbox",label:e("optionsEmbedImageLabel"),children:[{key:"embedImageExcludeElement",type:"textarea",label:e("optionsEmbedImageExcludeElementLabel"),validate:t}]},{key:"newTab",type:"checkbox",label:e("optionsNewTabLabel")},{key:"excludeElement",type:"textarea",label:e("optionsExcludeElementLabel"),validate:t},{key:"includeElement",type:"textarea",label:e("optionsIncludeElementLabel"),validate:t},{key:"timeout",type:"number",label:e("optionsTimeoutLabel"),help:e("optionsTimeoutHelp")},{key:"maxRunTime",type:"number",label:e("optionsMaxRunTimeLabel"),help:e("optionsMaxRunTimeHelp")}]}]},P="(:\\d+\\b)?",R={aaa:!0,aarp:!0,abb:!0,abbott:!0,abbvie:!0,abc:!0,able:!0,abogado:!0,abudhabi:!0,ac:!0,academy:!0,accountant:!0,accountants:!0,aco:!0,actor:!0,ad:!0,adult:!0,ae:!0,aeg:!0,aero:!0,aetna:!0,af:!0,afl:!0,africa:!0,ag:!0,agency:!0,ai:!0,aig:!0,airbus:!0,airforce:!0,akdn:!0,al:!0,allfinanz:!0,allstate:!0,ally:!0,alsace:!0,alstom:!0,am:!0,amazon:!0,americanexpress:!0,amex:!0,amfam:!0,amica:!0,amsterdam:!0,analytics:!0,android:!0,anz:!0,ao:!0,apartments:!0,app:!0,apple:!0,aq:!0,aquarelle:!0,ar:!0,archi:!0,army:!0,arpa:!0,art:!0,arte:!0,as:!0,asia:!0,associates:!0,at:!0,attorney:!0,au:!0,auction:!0,audi:!0,audio:!0,auspost:!0,auto:!0,autos:!0,aw:!0,aws:!0,ax:!0,axa:!0,az:!0,azure:!0,ba:!0,baby:!0,band:!0,bank:!0,bar:!0,barcelona:!0,barclaycard:!0,barclays:!0,bargains:!0,basketball:!0,bauhaus:!0,bayern:!0,bb:!0,bbc:!0,bbva:!0,bcn:!0,bd:!0,be:!0,beauty:!0,beer:!0,bentley:!0,berlin:!0,best:!0,bet:!0,bf:!0,bg:!0,bh:!0,bi:!0,bible:!0,bid:!0,bike:!0,bing:!0,bingo:!0,bio:!0,biz:!0,bj:!0,black:!0,blackfriday:!0,blog:!0,bloomberg:!0,blue:!0,bm:!0,bmw:!0,bn:!0,bnpparibas:!0,bo:!0,boats:!0,bond:!0,boo:!0,bostik:!0,boston:!0,bot:!0,boutique:!0,box:!0,br:!0,bradesco:!0,bridgestone:!0,broadway:!0,broker:!0,brother:!0,brussels:!0,bs:!0,bt:!0,build:!0,builders:!0,business:!0,buzz:!0,bw:!0,by:!0,bz:!0,bzh:!0,ca:!0,cab:!0,cafe:!0,cam:!0,camera:!0,camp:!0,canon:!0,capetown:!0,capital:!0,car:!0,cards:!0,care:!0,career:!0,careers:!0,cars:!0,casa:!0,case:!0,cash:!0,casino:!0,cat:!0,catering:!0,catholic:!0,cba:!0,cbn:!0,cc:!0,cd:!0,center:!0,ceo:!0,cern:!0,cf:!0,cfa:!0,cfd:!0,cg:!0,ch:!0,chanel:!0,channel:!0,charity:!0,chase:!0,chat:!0,cheap:!0,chintai:!0,christmas:!0,church:!0,ci:!0,cisco:!0,citi:!0,citic:!0,city:!0,ck:!0,cl:!0,claims:!0,cleaning:!0,click:!0,clinic:!0,clothing:!0,cloud:!0,club:!0,clubmed:!0,cm:!0,cn:!0,co:!0,coach:!0,codes:!0,coffee:!0,college:!0,cologne:!0,com:!0,commbank:!0,community:!0,company:!0,compare:!0,computer:!0,condos:!0,construction:!0,consulting:!0,contact:!0,contractors:!0,cooking:!0,cool:!0,coop:!0,corsica:!0,country:!0,coupons:!0,courses:!0,cpa:!0,cr:!0,credit:!0,creditcard:!0,creditunion:!0,cricket:!0,crown:!0,crs:!0,cruises:!0,cu:!0,cuisinella:!0,cv:!0,cw:!0,cx:!0,cy:!0,cymru:!0,cyou:!0,cz:!0,dad:!0,dance:!0,date:!0,dating:!0,day:!0,de:!0,deal:!0,dealer:!0,deals:!0,degree:!0,delivery:!0,dell:!0,deloitte:!0,democrat:!0,dental:!0,dentist:!0,desi:!0,design:!0,dev:!0,dhl:!0,diamonds:!0,diet:!0,digital:!0,direct:!0,directory:!0,discount:!0,discover:!0,diy:!0,dj:!0,dk:!0,dm:!0,do:!0,doctor:!0,dog:!0,domains:!0,download:!0,dubai:!0,dupont:!0,durban:!0,dvag:!0,dz:!0,earth:!0,ec:!0,eco:!0,edeka:!0,edu:!0,education:!0,ee:!0,eg:!0,email:!0,emerck:!0,energy:!0,engineer:!0,engineering:!0,enterprises:!0,equipment:!0,er:!0,ericsson:!0,erni:!0,es:!0,esq:!0,estate:!0,et:!0,eu:!0,eurovision:!0,eus:!0,events:!0,exchange:!0,expert:!0,exposed:!0,express:!0,extraspace:!0,fage:!0,fail:!0,fairwinds:!0,faith:!0,family:!0,fan:!0,fans:!0,farm:!0,fashion:!0,feedback:!0,ferrero:!0,fi:!0,film:!0,finance:!0,financial:!0,firmdale:!0,fish:!0,fishing:!0,fit:!0,fitness:!0,fj:!0,fk:!0,flickr:!0,flights:!0,flir:!0,florist:!0,flowers:!0,fm:!0,fo:!0,foo:!0,food:!0,football:!0,ford:!0,forex:!0,forsale:!0,forum:!0,foundation:!0,fox:!0,fr:!0,fresenius:!0,frl:!0,frogans:!0,fujitsu:!0,fun:!0,fund:!0,furniture:!0,futbol:!0,fyi:!0,ga:!0,gal:!0,gallery:!0,game:!0,games:!0,garden:!0,gay:!0,gd:!0,gdn:!0,ge:!0,gea:!0,gent:!0,genting:!0,gf:!0,gg:!0,gh:!0,gi:!0,gift:!0,gifts:!0,gives:!0,giving:!0,gl:!0,glass:!0,gle:!0,global:!0,globo:!0,gm:!0,gmail:!0,gmbh:!0,gmo:!0,gmx:!0,gn:!0,godaddy:!0,gold:!0,golf:!0,goog:!0,google:!0,gop:!0,gov:!0,gp:!0,gq:!0,gr:!0,grainger:!0,graphics:!0,gratis:!0,green:!0,gripe:!0,group:!0,gs:!0,gt:!0,gu:!0,gucci:!0,guide:!0,guitars:!0,guru:!0,gw:!0,gy:!0,hair:!0,hamburg:!0,haus:!0,health:!0,healthcare:!0,help:!0,helsinki:!0,here:!0,hermes:!0,hiphop:!0,hisamitsu:!0,hitachi:!0,hiv:!0,hk:!0,hm:!0,hn:!0,hockey:!0,holdings:!0,holiday:!0,homes:!0,honda:!0,horse:!0,hospital:!0,host:!0,hosting:!0,hotmail:!0,house:!0,how:!0,hr:!0,hsbc:!0,ht:!0,hu:!0,hyatt:!0,hyundai:!0,ice:!0,icu:!0,id:!0,ie:!0,ieee:!0,ifm:!0,ikano:!0,il:!0,im:!0,imamat:!0,immo:!0,immobilien:!0,in:!0,inc:!0,industries:!0,info:!0,ing:!0,ink:!0,institute:!0,insurance:!0,insure:!0,int:!0,international:!0,investments:!0,io:!0,ipiranga:!0,iq:!0,ir:!0,irish:!0,is:!0,ismaili:!0,ist:!0,istanbul:!0,it:!0,itau:!0,itv:!0,jaguar:!0,java:!0,jcb:!0,je:!0,jetzt:!0,jewelry:!0,jio:!0,jll:!0,jm:!0,jmp:!0,jnj:!0,jo:!0,jobs:!0,joburg:!0,jp:!0,jpmorgan:!0,jprs:!0,juegos:!0,kaufen:!0,ke:!0,kfh:!0,kg:!0,kh:!0,ki:!0,kia:!0,kids:!0,kim:!0,kitchen:!0,kiwi:!0,km:!0,kn:!0,koeln:!0,komatsu:!0,kp:!0,kpmg:!0,kpn:!0,kr:!0,krd:!0,kred:!0,kw:!0,ky:!0,kyoto:!0,kz:!0,la:!0,lamborghini:!0,lancaster:!0,land:!0,landrover:!0,lanxess:!0,lat:!0,latrobe:!0,law:!0,lawyer:!0,lb:!0,lc:!0,lease:!0,leclerc:!0,legal:!0,lexus:!0,lgbt:!0,li:!0,lidl:!0,life:!0,lifestyle:!0,lighting:!0,lilly:!0,limited:!0,limo:!0,lincoln:!0,link:!0,live:!0,living:!0,lk:!0,llc:!0,loan:!0,loans:!0,locker:!0,locus:!0,lol:!0,london:!0,lotto:!0,love:!0,lr:!0,ls:!0,lt:!0,ltd:!0,ltda:!0,lu:!0,lundbeck:!0,luxe:!0,luxury:!0,lv:!0,ly:!0,ma:!0,madrid:!0,maif:!0,maison:!0,makeup:!0,man:!0,management:!0,mango:!0,market:!0,marketing:!0,markets:!0,marriott:!0,mattel:!0,mba:!0,mc:!0,md:!0,me:!0,med:!0,media:!0,meet:!0,melbourne:!0,meme:!0,memorial:!0,men:!0,menu:!0,mg:!0,mh:!0,miami:!0,microsoft:!0,mil:!0,mini:!0,mit:!0,mk:!0,ml:!0,mlb:!0,mm:!0,mma:!0,mn:!0,mo:!0,mobi:!0,moda:!0,moe:!0,moi:!0,mom:!0,monash:!0,money:!0,monster:!0,mortgage:!0,moscow:!0,motorcycles:!0,mov:!0,movie:!0,mp:!0,mq:!0,mr:!0,ms:!0,mt:!0,mtn:!0,mtr:!0,mu:!0,museum:!0,music:!0,mv:!0,mw:!0,mx:!0,my:!0,mz:!0,na:!0,nab:!0,nagoya:!0,name:!0,navy:!0,nc:!0,ne:!0,nec:!0,net:!0,netbank:!0,network:!0,neustar:!0,new:!0,news:!0,next:!0,nexus:!0,nf:!0,ng:!0,ngo:!0,nhk:!0,ni:!0,nico:!0,nike:!0,ninja:!0,nissan:!0,nl:!0,no:!0,nokia:!0,now:!0,nowruz:!0,np:!0,nr:!0,nra:!0,nrw:!0,ntt:!0,nu:!0,nyc:!0,nz:!0,observer:!0,office:!0,okinawa:!0,om:!0,omega:!0,one:!0,ong:!0,onl:!0,online:!0,ooo:!0,oracle:!0,orange:!0,org:!0,organic:!0,osaka:!0,otsuka:!0,ovh:!0,pa:!0,page:!0,panasonic:!0,paris:!0,partners:!0,parts:!0,party:!0,pe:!0,pet:!0,pf:!0,pfizer:!0,pg:!0,ph:!0,pharmacy:!0,phd:!0,philips:!0,photo:!0,photography:!0,photos:!0,physio:!0,pics:!0,pictet:!0,pictures:!0,ping:!0,pink:!0,pioneer:!0,pizza:!0,pk:!0,pl:!0,place:!0,play:!0,plumbing:!0,plus:!0,pm:!0,pn:!0,pohl:!0,poker:!0,politie:!0,porn:!0,post:!0,pr:!0,praxi:!0,press:!0,prime:!0,pro:!0,productions:!0,prof:!0,promo:!0,properties:!0,property:!0,protection:!0,pru:!0,prudential:!0,ps:!0,pt:!0,pub:!0,pw:!0,pwc:!0,py:!0,qa:!0,qpon:!0,quebec:!0,quest:!0,racing:!0,radio:!0,re:!0,realestate:!0,realtor:!0,realty:!0,recipes:!0,red:!0,redstone:!0,rehab:!0,reise:!0,reisen:!0,reit:!0,ren:!0,rent:!0,rentals:!0,repair:!0,report:!0,republican:!0,rest:!0,restaurant:!0,review:!0,reviews:!0,rexroth:!0,rich:!0,ricoh:!0,rio:!0,rip:!0,ro:!0,rocks:!0,rodeo:!0,rogers:!0,rs:!0,rsvp:!0,ru:!0,rugby:!0,ruhr:!0,run:!0,rw:!0,ryukyu:!0,sa:!0,saarland:!0,sale:!0,salon:!0,samsung:!0,sandvik:!0,sandvikcoromant:!0,sanofi:!0,sap:!0,sarl:!0,saxo:!0,sb:!0,sbi:!0,sbs:!0,sc:!0,scb:!0,schaeffler:!0,schmidt:!0,school:!0,schule:!0,schwarz:!0,science:!0,scot:!0,sd:!0,se:!0,seat:!0,security:!0,select:!0,sener:!0,services:!0,seven:!0,sew:!0,sex:!0,sexy:!0,sfr:!0,sg:!0,sh:!0,sharp:!0,shell:!0,shiksha:!0,shoes:!0,shop:!0,shopping:!0,show:!0,si:!0,singles:!0,site:!0,sk:!0,ski:!0,skin:!0,sky:!0,skype:!0,sl:!0,sm:!0,smart:!0,sn:!0,sncf:!0,so:!0,soccer:!0,social:!0,softbank:!0,software:!0,sohu:!0,solar:!0,solutions:!0,sony:!0,soy:!0,spa:!0,space:!0,sport:!0,sr:!0,srl:!0,ss:!0,st:!0,stada:!0,statebank:!0,statefarm:!0,stc:!0,stockholm:!0,storage:!0,store:!0,stream:!0,studio:!0,study:!0,style:!0,su:!0,sucks:!0,supplies:!0,supply:!0,support:!0,surf:!0,surgery:!0,suzuki:!0,sv:!0,swatch:!0,swiss:!0,sx:!0,sy:!0,sydney:!0,systems:!0,sz:!0,taipei:!0,target:!0,tatamotors:!0,tatar:!0,tattoo:!0,tax:!0,taxi:!0,tc:!0,td:!0,team:!0,tech:!0,technology:!0,tel:!0,temasek:!0,tennis:!0,teva:!0,tf:!0,tg:!0,th:!0,theater:!0,theatre:!0,tickets:!0,tienda:!0,tips:!0,tires:!0,tirol:!0,tj:!0,tk:!0,tl:!0,tm:!0,tn:!0,to:!0,today:!0,tokyo:!0,tools:!0,top:!0,toray:!0,toshiba:!0,total:!0,tours:!0,town:!0,toyota:!0,toys:!0,tr:!0,trade:!0,trading:!0,training:!0,travel:!0,travelers:!0,trust:!0,tt:!0,tube:!0,tui:!0,tv:!0,tvs:!0,tw:!0,tz:!0,ua:!0,ug:!0,uk:!0,unicom:!0,university:!0,uno:!0,uol:!0,us:!0,uy:!0,uz:!0,va:!0,vacations:!0,vana:!0,vanguard:!0,vc:!0,ve:!0,vegas:!0,ventures:!0,versicherung:!0,vet:!0,vg:!0,vi:!0,viajes:!0,video:!0,vig:!0,villas:!0,vin:!0,vip:!0,vision:!0,vivo:!0,vlaanderen:!0,vn:!0,vodka:!0,vote:!0,voting:!0,voto:!0,voyage:!0,vu:!0,wales:!0,walter:!0,wang:!0,watch:!0,watches:!0,webcam:!0,weber:!0,website:!0,wed:!0,wedding:!0,weir:!0,wf:!0,whoswho:!0,wien:!0,wiki:!0,williamhill:!0,win:!0,windows:!0,wine:!0,wme:!0,woodside:!0,work:!0,works:!0,world:!0,ws:!0,wtf:!0,xbox:!0,xin:!0,"xn--1ck2e1b":!0,"xn--1qqw23a":!0,"xn--2scrj9c":!0,"xn--3bst00m":!0,"xn--3ds443g":!0,"xn--3e0b707e":!0,"xn--3hcrj9c":!0,"xn--45br5cyl":!0,"xn--45brj9c":!0,"xn--45q11c":!0,"xn--4dbrk0ce":!0,"xn--4gbrim":!0,"xn--54b7fta0cc":!0,"xn--55qx5d":!0,"xn--5tzm5g":!0,"xn--6frz82g":!0,"xn--6qq986b3xl":!0,"xn--80adxhks":!0,"xn--80ao21a":!0,"xn--80asehdb":!0,"xn--80aswg":!0,"xn--8y0a063a":!0,"xn--90a3ac":!0,"xn--90ae":!0,"xn--90ais":!0,"xn--9dbq2a":!0,"xn--bck1b9a5dre4c":!0,"xn--c1avg":!0,"xn--cck2b3b":!0,"xn--clchc0ea0b2g2a9gcd":!0,"xn--czr694b":!0,"xn--czrs0t":!0,"xn--czru2d":!0,"xn--d1acj3b":!0,"xn--d1alf":!0,"xn--e1a4c":!0,"xn--fct429k":!0,"xn--fiq228c5hs":!0,"xn--fiq64b":!0,"xn--fiqs8s":!0,"xn--fiqz9s":!0,"xn--fjq720a":!0,"xn--fpcrj9c3d":!0,"xn--fzc2c9e2c":!0,"xn--g2xx48c":!0,"xn--gckr3f0f":!0,"xn--gecrj9c":!0,"xn--h2breg3eve":!0,"xn--h2brj9c":!0,"xn--h2brj9c8c":!0,"xn--hxt814e":!0,"xn--i1b6b1a6a2e":!0,"xn--imr513n":!0,"xn--io0a7i":!0,"xn--j1amh":!0,"xn--j6w193g":!0,"xn--jvr189m":!0,"xn--kcrx77d1x4a":!0,"xn--kprw13d":!0,"xn--kpry57d":!0,"xn--kput3i":!0,"xn--l1acc":!0,"xn--lgbbat1ad8j":!0,"xn--mgb9awbf":!0,"xn--mgba3a4f16a":!0,"xn--mgbaam7a8h":!0,"xn--mgbab2bd":!0,"xn--mgbah1a3hjkrd":!0,"xn--mgbai9azgqp6j":!0,"xn--mgbayh7gpa":!0,"xn--mgbbh1a":!0,"xn--mgbc0a9azcg":!0,"xn--mgbca7dzdo":!0,"xn--mgbcpq6gpa1a":!0,"xn--mgberp4a5d4ar":!0,"xn--mgbgu82a":!0,"xn--mgbpl2fh":!0,"xn--mgbtx2b":!0,"xn--mix891f":!0,"xn--mk1bu44c":!0,"xn--ngbc5azd":!0,"xn--ngbe9e0a":!0,"xn--node":!0,"xn--nqv7f":!0,"xn--nyqy26a":!0,"xn--o3cw4h":!0,"xn--ogbpf8fl":!0,"xn--otu796d":!0,"xn--p1acf":!0,"xn--p1ai":!0,"xn--pgbs0dh":!0,"xn--q7ce6a":!0,"xn--q9jyb4c":!0,"xn--qxa6a":!0,"xn--qxam":!0,"xn--rhqv96g":!0,"xn--rovu88b":!0,"xn--rvc1e0am3e":!0,"xn--s9brj9c":!0,"xn--ses554g":!0,"xn--t60b56a":!0,"xn--tckwe":!0,"xn--unup4y":!0,"xn--vermgensberatung-pwb":!0,"xn--vhquv":!0,"xn--vuq861b":!0,"xn--wgbh1c":!0,"xn--wgbl6a":!0,"xn--xhq521b":!0,"xn--xkc2al3hye2a":!0,"xn--xkc2dl3a5ee0h":!0,"xn--y9a3aq":!0,"xn--yfro4i67o":!0,"xn--ygbi2ammx":!0,"xn--zfr164b":!0,xxx:!0,xyz:!0,yachts:!0,yahoo:!0,yandex:!0,ye:!0,yodobashi:!0,yoga:!0,yokohama:!0,youtube:!0,yt:!0,za:!0,zappos:!0,zara:!0,zip:!0,zm:!0,zone:!0,zuerich:!0,zw:!0,"セール":!0,"佛山":!0,"ಭಾರತ":!0,"集团":!0,"在线":!0,"한국":!0,"ଭାରତ":!0,"ভাৰত":!0,"ভারত":!0,"八卦":!0,"ישראל":!0,"موقع":!0,"বাংলা":!0,"公司":!0,"网站":!0,"移动":!0,"我爱你":!0,"москва":!0,"қаз":!0,"онлайн":!0,"сайт":!0,"联通":!0,"срб":!0,"бг":!0,"бел":!0,"קום":!0,"ファッション":!0,"орг":!0,"ストア":!0,"சிங்கப்பூர்":!0,"商标":!0,"商店":!0,"商城":!0,"дети":!0,"мкд":!0,"ею":!0,"家電":!0,"中文网":!0,"中信":!0,"中国":!0,"中國":!0,"娱乐":!0,"భారత్":!0,"ලංකා":!0,"购物":!0,"クラウド":!0,"ભારત":!0,"भारतम्":!0,"भारत":!0,"भारोत":!0,"网店":!0,"संगठन":!0,"餐厅":!0,"网络":!0,"укр":!0,"香港":!0,"食品":!0,"飞利浦":!0,"台湾":!0,"台灣":!0,"手机":!0,"мон":!0,"الجزائر":!0,"عمان":!0,"ایران":!0,"امارات":!0,"بازار":!0,"موريتانيا":!0,"پاکستان":!0,"الاردن":!0,"بارت":!0,"المغرب":!0,"ابوظبي":!0,"البحرين":!0,"السعودية":!0,"ڀارت":!0,"سودان":!0,"عراق":!0,"澳門":!0,"닷컴":!0,"شبكة":!0,"بيتك":!0,"გე":!0,"机构":!0,"健康":!0,"ไทย":!0,"سورية":!0,"招聘":!0,"рус":!0,"рф":!0,"تونس":!0,"ລາວ":!0,"みんな":!0,"ευ":!0,"ελ":!0,"世界":!0,"書籍":!0,"ഭാരതം":!0,"ਭਾਰਤ":!0,"网址":!0,"닷넷":!0,"コム":!0,"游戏":!0,"vermögensberatung":!0,"企业":!0,"信息":!0,"مصر":!0,"قطر":!0,"广东":!0,"இலங்கை":!0,"இந்தியா":!0,"հայ":!0,"新加坡":!0,"فلسطين":!0,"政务":!0,onion:!0};class Z{constructor(e={}){this.options=e,this.regex=function({unicode:e=!1,customRules:t=[],standalone:n=!1,boundaryLeft:o,boundaryRight:a}){var r,i,s,c="([a-z][-a-z*]+://)?(?:([\\w:.+-]+)@)?";return c+=e?"([a-z0-9-.\\u00A0-\\uFFFF]+\\.[a-z0-9-セール佛山ಭಾರತ集团在线한국ଭାରତভাৰতর八卦ישראלموقعবংল公司网站移动我爱你москвақзнлйт联通рбгеקוםファッションストアசிங்கபூர商标店城дию家電中文信国國娱乐భారత్ලංකා购物クラウドભારતभारतम्ोसंगठन餐厅络у香港食品飞利浦台湾灣手机الجزئرنیتبيپکسدغظحةڀ澳門닷컴شكგე构健康ไทย招聘фລາວみんなευλ世界書籍ഭാരതംਭਾਰਤ址넷コム游戏ö企业息صط广东இலைநதயாհայ新加坡ف政务]{1,24})"+P+"([/?#]\\S*)?":"([a-z0-9-.]+\\.[a-z0-9-]{1,24})"+P+"([/?#][\\w-.~!$&*+;=:@%/?#(),'\\[\\]]*)?",c=t.length?"(?:("+t.join("|")+")|"+c+")":"()"+c,n?(r=o?"((?:^|\\s)["+v(o)+"]*?)":"(^|\\s)",i=a?"(["+v(a)+"]*(?:$|\\s))":"($|\\s)",s="[^\\s"+v(a)+"]"):(r="(^|\\b|_)",i="()"),c=r+c+i,{url:new RegExp(c,"igm"),invalidSuffix:s&&new RegExp(s),mustache:/\{\{[\s\S]+?\}\}/g}}(e)}*match(e){var t,n,o,a,r,i,s,{fuzzyIp:c=!0,ignoreMustache:l=!1,mail:d=!0}=this.options,{url:u,invalidSuffix:p,mustache:f}=this.regex;for(f.lastIndex=0,u.lastIndex=0,l&&(t=f.exec(e))&&(n={start:t.index,end:f.lastIndex});o=u.exec(e);){const l={start:0,end:0,text:"",url:"",prefix:o[1],custom:o[2],protocol:o[3],auth:o[4]||"",domain:o[5],port:o[6]||"",path:o[7]||"",suffix:o[8]};if(l.custom?(l.start=o.index,l.end=u.lastIndex,l.text=l.url=o[0]):(l.start=o.index+l.prefix.length,l.end=u.lastIndex-l.suffix.length),n&&n.end<=l.start&&((t=f.exec(e))?(n.start=t.index,n.end=f.lastIndex):n=null),!(n&&l.start<n.end&&l.end>=n.start)){if(!l.custom){if(l.path&&(k(l,/\[\/?(b|i|u|url|img|quote|code|size|color)\].*/i,""),E(l,"(",")"),E(l,"[","]"),E(l,"{","}"),L(l,"'"),L(l,'"'),k(l,/(^|[^-_])[.,?]+$/,"$1")),p&&p.test(l.suffix)){/\s$/.test(l.suffix)&&u.lastIndex--;continue}if(!c&&M(l.domain)&&!l.protocol&&!l.auth&&!l.path)continue;if(!l.protocol&&l.auth&&(a=l.auth.match(/^mailto:(.+)/))&&(l.protocol="mailto:",l.auth=a[1]),l.protocol&&l.protocol.match(/^(hxxp|h\*\*p|ttp)/)&&(l.protocol="http://"),l.protocol||((r=l.domain.match(/^(ftp|irc)/))?l.protocol=r[0]+"://":l.domain.match(/^(www|web)/)?l.protocol="http://":l.auth&&l.auth.indexOf(":")<0&&!l.path?l.protocol="mailto:":l.protocol="http://"),!d&&"mailto:"===l.protocol)continue;if(!M(l.domain)){if(/^(http|https|mailto)/.test(l.protocol)&&!C(l.domain))continue;const e=S(l.domain);if(e){u.lastIndex=o.index+e.index+1;continue}}l.url=l.protocol+(l.auth&&l.auth+"@")+l.domain+l.port+l.path,l.text=e.slice(l.start,l.end)}s=f.lastIndex,i=u.lastIndex,yield l,u.lastIndex=i,f.lastIndex=s}}}}q={a:!0,noscript:!0,option:!0,script:!0,style:!0,textarea:!0,svg:!0,canvas:!0,button:!0,select:!0,template:!0,meter:!0,progress:!0,math:!0,time:!0};class Q{constructor(e,t,n=0){this.container=e,this.offset=t,this.i=n}add(e){var t=this.container,n=this.offset;for(this.i+=e,t.childNodes.length&&(t=t.childNodes[n],n=0);t;){if(3==t.nodeType){if(t.LEN||(t.LEN=t.nodeValue.length),n+e<=t.LEN)return this.container=t,void(this.offset=n+e);e=n+e-t.LEN,n=0}t=t.nextSibling}}moveTo(e){this.add(e-this.i)}}B={maxRunTime:100,timeout:1e4,newTab:!0,noOpener:!0,embedImage:!0,recursive:!0};class ee extends e{constructor(e,t={}){super(),e instanceof Node||(e=(t=e).root),this.root=e,this.options=Object.assign({},B,t),this.aborted=!1}start(){var e=Date.now,t=e(),n=this.generateChunks(),o=()=>{if(this.aborted)this.emit("error",new Error("Aborted"));else{var a,r=e();do{if(n.next().done)return void this.emit("complete",e()-t)}while((a=e())-r<this.options.maxRunTime);a-t>this.options.timeout?this.emit("error",new Error(`max execution time exceeded: ${a-t}, on ${this.root}`)):setTimeout(o)}};setTimeout(o)}abort(){this.aborted=!0}*generateRanges(){var e,t,n,o,a,r,{validator:i,recursive:s}=this.options;if(e={acceptNode:function(e){return i&&!i(e)||q[e.localName]?NodeFilter.FILTER_REJECT:"wbr"==e.localName||3==e.nodeType?NodeFilter.FILTER_ACCEPT:s?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_REJECT}},o=n=(t=document.createTreeWalker(this.root,NodeFilter.SHOW_TEXT+NodeFilter.SHOW_ELEMENT,e)).nextNode(),n){for((r=document.createRange()).setStartBefore(n);a=t.nextNode();)o.nextSibling!=a?(r.setEndAfter(o),yield r,o=n=a,r.setStartBefore(n)):o=a;r.setEndAfter(o),yield r}}*generateChunks(){var e,t,n,o,a,r,i,s,{matcher:c}=this.options;for(e of this.generateRanges()){for(r of(t=null,n=null,o=e.toString(),a=null,c.match(o)))t||(t=document.createDocumentFragment(),n=new Q(e.startContainer,e.startOffset),a=e.cloneRange()),n.moveTo(r.start),a.setEnd(n.container,n.offset),t.appendChild(T(a)),a.collapse(),n.moveTo(r.end),a.setEnd(n.container,n.offset),i=T(a),s=this.buildLink(r,i),a.collapse(),t.appendChild(s),this.emit("link",{link:s,range:e,result:r,content:i});n&&(n.moveTo(o.length),a.setEnd(n.container,n.offset),t.appendChild(T(a)),e.deleteContents(),e.insertNode(t)),yield}}buildLink(e,t){var n,o,{newTab:a,embedImage:r,noOpener:i}=this.options;return(n=document.createElement("a")).href=e.url,n.title="Linkify Plus Plus",n.className="linkifyplus",a&&(n.target="_blank"),i&&(n.rel="noopener"),r&&/^[^?#]+\.(?:jpg|jpeg|png|apng|gif|svg|webp)(?:$|[?#])/i.test(e.url)?((o=new Image).src=e.url,o.alt=e.text):o=t,n.appendChild(o),n}}const te=new WeakSet,ne=new WeakMap;let oe;A={key:"triggerByPageLoad",enable:async e=>{await I(),await N(document.body,e)},disable:()=>{}};const ae=[["click",function(e){const t=e.target;z(t,oe.validator)&&(te.add(t),j({...oe,root:t,recursive:!1}))},{passive:!0}]];let re;G={key:"triggerByClick",enable:function(e){oe=e;for(const[e,t,n]of ae)document.addEventListener(e,t,n)},disable:function(){for(const[e,t,n]of ae)document.removeEventListener(e,t,n)}};const ie=[["mousemove",$,{passive:!0,once:!0}],["mouseover",$,{passive:!0}]];let se,ce=0;F={key:"triggerByNewNode",enable:async function(e){await I(),se=new MutationObserver(function(t){var n,o,a=t[t.length-1].addedNodes;if(a.length>=2)for(n=0;n<2;n++)if("linkifyplus"==a[n].className)return;for(o of t)for(const t of o.addedNodes)if(1===t.nodeType&&!te.has(t)){if(ce>=100)throw new Error("Too many processes");ce++,N(t,e).finally(()=>{ce--})}}),se.observe(document.body,{childList:!0,subtree:!0})},disable:async function(){await I(),se&&se.disconnect()}},D=[A,G,{key:"triggerByHover",enable:function(e){re=e;for(const[e,t,n]of ie)document.addEventListener(e,t,n)},disable:function(){for(const[e,t,n]of ie)document.removeEventListener(e,t,n)}},F],async function(){if(document.contentType&&!["text/plain","text/html","application/xhtml+xml"].includes(document.contentType))return;const t=await(async()=>{const t=(e,t)=>t?(Array.isArray(t)||(t=[t]),_[e].replace(/\$\d/g,e=>{const n=Number(e.slice(1));return t[n-1]})):_[e],n=function({default:t,separator:n,css:o="",...a}){function r(){if(l)return;let e;l=!0;const t=document.createElement("div");t.className="webext-pref-modal",t.onclick=()=>{t.classList.remove("webext-pref-modal-open"),t.addEventListener("transitionend",()=>{e&&e(),t.remove(),l=!1})};const n=document.createElement("style");n.textContent=`body{overflow:hidden}.webext-pref-modal{position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.5);overflow:auto;z-index:999999;opacity:0;transition:opacity .2s linear;display:flex}.webext-pref-modal-open{opacity:1}.webext-pref-modal::after,.webext-pref-modal::before{content:"";display:block;height:30px;visibility:hidden}.webext-pref-iframe-wrap{margin:auto}.webext-pref-iframe{margin:30px 0;display:inline-block;width:100%;max-width:100%;background:#fff;border-width:0;box-shadow:0 0 30px #000;transform:translateY(-20px);transition:transform .2s linear}.webext-pref-modal-open .webext-pref-iframe{transform:none}\n      body {\n        padding-right: ${window.innerWidth-document.documentElement.offsetWidth}px;\n      }\n    `;const r=document.createElement("iframe");r.className="webext-pref-iframe",r.srcdoc='\n      <html>\n        <head>\n          <style class="dialog-style"></style>\n        </head>\n        <body>\n          <div class="dialog-body"></div>\n        </body>\n      </html>\n    ';const c=document.createElement("div");c.className="webext-pref-iframe-wrap",c.append(r),t.append(n,c),document.body.appendChild(t),r.onload=()=>{r.onload=null,r.contentDocument.querySelector(".dialog-style").textContent="body{display:inline-block;font-size:16px;font-family:sans-serif;white-space:nowrap;overflow:hidden;margin:0;color:#3d3d3d;line-height:1}input[type=number],input[type=text],select,textarea{display:block;width:100%;box-sizing:border-box;height:2em;font:inherit;padding:0 .3em;border:1px solid #9e9e9e;cursor:pointer}select[multiple],textarea{height:6em}input[type=number]:hover,input[type=text]:hover,select:hover,textarea:hover{border-color:#d5d5d5}input[type=number]:focus,input[type=text]:focus,select:focus,textarea:focus{cursor:auto;border-color:#3a93ee}textarea{line-height:1.5}input[type=checkbox],input[type=radio]{display:inline-block;width:1em;height:1em;font:inherit;margin:0}button{box-sizing:border-box;height:2em;font:inherit;border:1px solid #9e9e9e;cursor:pointer;background:0 0}button:hover{border-color:#d5d5d5}button:focus{border-color:#3a93ee}.dialog-body{margin:2em}.webext-pref-toolbar{display:flex;align-items:center;margin-bottom:1em}.dialog-title{font-size:1.34em;margin:0 2em 0 0;flex-grow:1}.webext-pref-toolbar button{font-size:.7em;margin-left:.5em}.webext-pref-nav{display:flex;margin-bottom:1em}.webext-pref-nav select{text-align:center;text-align-last:center}.webext-pref-nav button{width:2em}.webext-pref-number,.webext-pref-radiogroup,.webext-pref-select,.webext-pref-text,.webext-pref-textarea{margin:1em 0}.webext-pref-body>:first-child{margin-top:0}.webext-pref-body>:last-child{margin-bottom:0}.webext-pref-number>input,.webext-pref-select>select,.webext-pref-text>input,.webext-pref-textarea>textarea{margin:.3em 0}.webext-pref-checkbox,.webext-pref-radio{margin:.5em 0;padding-left:1.5em}.webext-pref-checkbox>input,.webext-pref-radio>input{margin-left:-1.5em;margin-right:.5em;vertical-align:middle}.webext-pref-checkbox>label,.webext-pref-radio>label{cursor:pointer;vertical-align:middle}.webext-pref-checkbox>label:hover,.webext-pref-radio>label:hover{color:#707070}.webext-pref-checkbox-children,.webext-pref-radio-children{margin:.7em 0 0;padding:0;border-width:0}.webext-pref-checkbox-children[disabled],.webext-pref-radio-children[disabled]{opacity:.5}.webext-pref-checkbox-children>:first-child,.webext-pref-radio-children>:first-child{margin-top:0}.webext-pref-checkbox-children>:last-child,.webext-pref-radio-children>:last-child{margin-bottom:0}.webext-pref-checkbox-children>:last-child>:last-child,.webext-pref-radio-children>:last-child>:last-child{margin-bottom:0}.webext-pref-help{color:#969696}.responsive{white-space:normal}.responsive .dialog-body{margin:1em}.responsive .webext-pref-toolbar{display:block}.responsive .dialog-title{margin:0 0 1em 0}.responsive .webext-pref-toolbar button{font-size:1em}.responsive .webext-pref-nav{display:block}"+o;const n=r.contentDocument.querySelector(".dialog-body");n.append(function({body:e,getMessage:t=()=>{},toolbar:n=!0,navbar:o=!0,keyPrefix:a="pref-",controlPrefix:r="webext-pref-"}){function i(e){return"section"===e.type?function(e){const t=`h${e.hLevel}`;return e.hLevel++,d("div",{class:[r+e.type,e.className]},d(t,{class:r+"header"},e.label),e.help&&d(s,{content:e.help}),e.children&&e.children.map(t=>i(u(e,t))))}(e):"checkbox"===e.type?l(e):"radiogroup"===e.type?function(e){return d("div",{class:[`${r}${e.type}`,"browser-style",e.className]},d("div",{class:r+"radio-title"},e.label),e.learnMore&&d(c,{url:e.learnMore}),e.help&&d(s,{content:e.help}),e.children.map(t=>(t.parentKey=e.key,l(u(e,t)))))}(e):function(e){const t=a+e.key;let n;const o=e.validate?t=>{try{e.validate(t.target.value),t.target.setCustomValidity("")}catch(e){t.target.setCustomValidity(e.message||String(e))}}:null;return n="select"===e.type?d("select",{multiple:e.multiple,class:"browser-style",id:t,onChange:o},Object.entries(e.options).map(([e,t])=>d("option",{value:e},t))):"textarea"===e.type?d("textarea",{rows:"8",class:"browser-style",id:t,onChange:o}):d("input",{type:e.type,id:t,onChange:o}),d("div",{class:[`${r}${e.type}`,"browser-style",e.className]},d("label",{htmlFor:t},e.label),e.learnMore&&d(c,{url:e.learnMore}),n,e.help&&d(s,{content:e.help}))}(e)}function s({content:e}){return d("p",{class:r+"help"},e)}function c({url:e}){return d("a",{href:e,class:r+"learn-more",target:"_blank",rel:"noopener noreferrer"},f("learnMoreButton"))}function l(e){const t=e.parentKey?`${a}${e.parentKey}-${e.value}`:a+e.key;return d("div",{class:[`${r}${e.type}`,"browser-style",e.className]},d("input",{type:e.type,id:t,name:e.parentKey?a+e.parentKey:null,value:e.value}),d("label",{htmlFor:t},e.label),e.learnMore&&d(c,{url:e.learnMore}),e.help&&d(s,{content:e.help}),e.children&&d("fieldset",{class:r+"checkbox-children",dataset:{bindTo:e.parentKey||e.key,bindToValue:e.value}},e.children.map(t=>i(u(e,t)))))}function u(e,t){return t.hLevel=e.hLevel,t}const p=document.createDocumentFragment(),f=h(t);return n&&p.append(d("div",{class:r+"toolbar"},d("button",{type:"button",class:[r+"import","browser-style"]},f("importButton")),d("button",{type:"button",class:[r+"export","browser-style"]},f("exportButton")))),o&&p.append(d("div",{class:r+"nav"},d("select",{class:[r+"scope-list","browser-style"],title:f("currentScopeLabel")}),d("button",{type:"button",class:[r+"delete-scope","browser-style"],title:f("deleteScopeLabel")},"×"),d("button",{type:"button",class:[r+"add-scope","browser-style"],title:f("addScopeLabel")},"+"))),p.append(d("div",{class:r+"body"},e.map(e=>(e.hLevel||(e.hLevel=3),i(e))))),p}(a)),e=function({pref:e,root:t,elements:n=t.querySelectorAll("input, textarea, select, fieldset, button"),keyPrefix:o="pref-",controlPrefix:a="webext-pref-",alert:r,confirm:i,prompt:s,getMessage:c,getNewScope:l}){function d(e,t){return t?e.startsWith(t)?e.slice(t.length):"":e}function u(e){for(const t of e){const e=d(t,a);if(X.has(e))return e}}const p=new Y(()=>[]),f=new Y(()=>[]),m=new Y(()=>[]);for(const t of n){const n=t.id&&d(t.id,o);if(n&&e.has(n)){p.get(n).push(t);continue}if("INPUT"===t.nodeName&&"radio"===t.type){const n=t.name&&d(t.name,o);if(n&&e.has(n)){p.get(n).push(t);continue}}if("FIELDSET"===t.nodeName&&t.dataset.bindTo){f.get(t.dataset.bindTo).push(t);continue}const a=u(t.classList);a&&m.get(a).push(t)}const b=[x(e,p),y(e,f),w({pref:e,controls:m,alert:r,confirm:i,prompt:s,getMessage:c,getNewScope:l})];return()=>{for(const e of b)e()}}({pref:s,root:n,...a});const c=document.createElement("h2");c.className="dialog-title",c.textContent=i(),r.contentDocument.querySelector(".webext-pref-toolbar").prepend(c),r.contentDocument.body.offsetWidth>t.offsetWidth&&r.contentDocument.body.classList.add("responsive"),r.style=`\n        width: ${r.contentDocument.body.offsetWidth}px;\n        height: ${r.contentDocument.body.scrollHeight}px;\n      `,t.classList.add("webext-pref-modal-open")}}function i(){return"object"==typeof GM_info?GM_info.script.name:GM.info.script.name}const s=function(t,n="/"){function o(e,o=!1){if(e.scopeList&&(s=e.scopeList,c.emit("scopeListChange",s),!s.includes(i)))return a("global");const r=new Set;for(const[o,a]of Object.entries(e)){const[e,s]=o.startsWith(`global${n}`)?["global",o.slice(6+n.length)]:o.startsWith(`${i}${n}`)?[i,o.slice(i.length+n.length)]:[null,null];e&&null!=t[s]&&("global"===e&&(r.add(s),l[s]=a),e===i&&(r.add(s),u[s]=a))}o&&Object.keys(t).forEach(e=>r.add(e));const d={};let f=!1;for(const e of r){const n=null!=u[e]?u[e]:null!=l[e]?l[e]:t[e];p[e]!==n&&(d[e]=n,p[e]=n,f=!0)}f&&c.emit("change",d)}function a(e){return i===e?Promise.resolve(!0):s.includes(e)?r.getMany(Object.keys(t).map(t=>`${e}${n}${t}`)).then(t=>(i=e,u={},c.emit("scopeChange",i),o(t,!0),!0)):Promise.resolve(!1)}let r,i="global",s=["global"];const c=new e,l={};let d,u={},p=Object.assign({},t);return Object.assign(c,{connect:function(e){return r=e,d=r.getMany(Object.keys(t).map(e=>`global${n}${e}`).concat(["scopeList"])).then(o),r.on("change",o),d},disconnect:function(){r.off("change",o),r=null},get:function(e){return p[e]},getAll:function(){return Object.assign({},p)},set:function(e,t){return r.setMany({[`${i}${n}${e}`]:t})},getCurrentScope:function(){return i},setCurrentScope:a,addScope:function(e){return s.includes(e)?Promise.reject(new Error(`${e} already exists`)):e.includes(n)?Promise.reject(new Error(`invalid word: ${n}`)):r.setMany({scopeList:s.concat([e])})},deleteScope:function(e){return"global"===e?Promise.reject(new Error("cannot delete global")):Promise.all([r.setMany({scopeList:s.filter(t=>t!=e)}),r.deleteMany(Object.keys(t).map(t=>`${e}${n}${t}`))])},getScopeList:function(){return s},import:function(e){const o=e.scopeList||s.slice(),a=new Set(o);if(!a.has("global"))throw new Error("invalid scopeList");const i={scopeList:o};for(const[o,r]of Object.entries(e.scopes))if(a.has(o))for(const[e,a]of Object.entries(r))null!=t[e]&&(i[`${o}${n}${e}`]=a);return r.setMany(i)},export:function(){const e=[];for(const o of s)e.push(...Object.keys(t).map(e=>`${o}${n}${e}`));return e.push("scopeList"),r.getMany(e).then(e=>{const o=e.scopeList||s.slice(),a=new Set(o),r={scopeList:o,scopes:{}};for(const[o,i]of Object.entries(e)){const e=o.indexOf(n);if(e<0)continue;const s=o.slice(0,e),c=o.slice(e+n.length);a.has(s)&&null!=t[c]&&(r.scopes[s]||(r.scopes[s]={}),r.scopes[s][c]=i)}return r})},has:function(e){return p.hasOwnProperty(e)}})}(t,n),c=s.connect(function(){function t(e){return(...t)=>{try{return Promise.resolve(e(...t))}catch(e){return Promise.reject(e)}}}const n="function"==typeof GM_setValue?t(GM_setValue):GM.setValue.bind(GM),o="function"==typeof GM_getValue?t(GM_getValue):GM.getValue.bind(GM),a="function"==typeof GM_deleteValue?t(GM_deleteValue):GM.deleteValue.bind(GM),r=new e;return"function"==typeof GM_addValueChangeListener&&GM_addValueChangeListener("webext-pref-message",(e,t,n)=>{const o=JSON.parse(n);for(const e of Object.keys(o))"object"==typeof o[e]&&o[e].$undefined&&(o[e]=void 0);r.emit("change",o)}),Object.assign(r,{getMany:function(e){return Promise.all(e.map(e=>o(`webext-pref/${e}`).then(t=>[e,"string"==typeof t?JSON.parse(t):t]))).then(e=>{const t={};for(const[n,o]of e)t[n]=o;return t})},setMany:function(e){return Promise.all(Object.entries(e).map(([e,t])=>n(`webext-pref/${e}`,JSON.stringify(t)))).then(()=>{if("function"==typeof GM_addValueChangeListener)return n("webext-pref-message",JSON.stringify(e));r.emit("change",e)})},deleteMany:function(e){return Promise.all(e.map(e=>a(`webext-pref/${e}`))).then(()=>{if("function"==typeof GM_addValueChangeListener){const t={};for(const n of e)t[n]={$undefined:!0};return n("webext-pref-message",JSON.stringify(t))}const t={};for(const n of e)t[n]=void 0;r.emit("change",t)})}})}());let l=!1;const u="function"==typeof GM_registerMenuCommand?GM_registerMenuCommand:"undefined"!=typeof GM&&GM&&GM.registerMenuCommand?GM.registerMenuCommand.bind(GM):void 0;return u&&u(`${i()} - Configure`,r),Object.assign(s,{ready:()=>c,openDialog:r})}({default:{fuzzyIp:!0,embedImage:!0,embedImageExcludeElement:".hljs, .highlight, .brush\\:",ignoreMustache:!1,unicode:!1,mail:!0,newTab:!1,standalone:!1,boundaryLeft:"{[(\"'",boundaryRight:"'\")]},.;?!",excludeElement:".highlight, .editbox, .brush\\:, .bdsug, .spreadsheetinfo",includeElement:"",timeout:1e4,triggerByPageLoad:!1,triggerByNewNode:!1,triggerByHover:!0,triggerByClick:!window.matchMedia("(hover)").matches,maxRunTime:100,customRules:""},body:O(t),getMessage:t,getNewScope:()=>location.hostname});return await n.ready(),await n.setCurrentScope(location.hostname),n})(),n=function(e){function t(e){var t;Object.assign(o,e),o.validator=function({includeElement:e,excludeElement:t}){const n=function(n){if(te.has(n))return!1;if(n.isContentEditable)return!1;if(n.matches){if(e&&n.matches(e))return!0;if(t&&n.matches(t))return!1}return!0};return n.isIncluded=t=>e&&t.matches(e),n.isExcluded=e=>!!q[e.localName]||t&&e.matches(t),n}(o),"string"==typeof o.customRules&&(o.customRules=(t=(t=o.customRules).trim())?t.split(/\s*\n\s*/g):[]),o.matcher=new Z(o),o.onlink=o.embedImageExcludeElement?n:null}function n({link:e,range:t,content:n}){if("img"===e.childNodes[0].localName&&o.embedImageExcludeElement){var a=t.startContainer;a.closest||(a=a.parentNode),a.closest(o.embedImageExcludeElement)&&(e.innerHTML="",e.appendChild(n))}}const o={};return e.on("change",t),t(e.getAll()),o}(t);for(const e of D)t.get(e.key)&&e.enable(n);t.on("change",e=>{for(const t of D)!0===e[t.key]&&t.enable(n),!1===e[t.key]&&t.disable()})}();